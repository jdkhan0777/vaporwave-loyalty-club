var QE=t=>{throw TypeError(t)};var tg=(t,e,n)=>e.has(t)||QE("Cannot "+n);var J=(t,e,n)=>(tg(t,e,"read from private field"),n?n.call(t):e.get(t)),Je=(t,e,n)=>e.has(t)?QE("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),De=(t,e,n,r)=>(tg(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),on=(t,e,n)=>(tg(t,e,"access private method"),n);var oh=(t,e,n,r)=>({set _(i){De(t,e,i,n)},get _(){return J(t,e,r)}});function J_(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function p0(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Z_={exports:{}},Np={},X_={exports:{}},Fe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wu=Symbol.for("react.element"),aD=Symbol.for("react.portal"),lD=Symbol.for("react.fragment"),cD=Symbol.for("react.strict_mode"),uD=Symbol.for("react.profiler"),dD=Symbol.for("react.provider"),hD=Symbol.for("react.context"),fD=Symbol.for("react.forward_ref"),pD=Symbol.for("react.suspense"),mD=Symbol.for("react.memo"),gD=Symbol.for("react.lazy"),KE=Symbol.iterator;function yD(t){return t===null||typeof t!="object"?null:(t=KE&&t[KE]||t["@@iterator"],typeof t=="function"?t:null)}var ex={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},tx=Object.assign,nx={};function Ul(t,e,n){this.props=t,this.context=e,this.refs=nx,this.updater=n||ex}Ul.prototype.isReactComponent={};Ul.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ul.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function rx(){}rx.prototype=Ul.prototype;function m0(t,e,n){this.props=t,this.context=e,this.refs=nx,this.updater=n||ex}var g0=m0.prototype=new rx;g0.constructor=m0;tx(g0,Ul.prototype);g0.isPureReactComponent=!0;var HE=Array.isArray,ix=Object.prototype.hasOwnProperty,y0={current:null},sx={key:!0,ref:!0,__self:!0,__source:!0};function ox(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)ix.call(e,r)&&!sx.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Wu,type:t,key:s,ref:o,props:i,_owner:y0.current}}function vD(t,e){return{$$typeof:Wu,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function v0(t){return typeof t=="object"&&t!==null&&t.$$typeof===Wu}function wD(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var JE=/\/+/g;function ng(t,e){return typeof t=="object"&&t!==null&&t.key!=null?wD(""+t.key):e.toString(36)}function $h(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Wu:case aD:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+ng(o,0):r,HE(i)?(n="",t!=null&&(n=t.replace(JE,"$&/")+"/"),$h(i,e,n,"",function(c){return c})):i!=null&&(v0(i)&&(i=vD(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(JE,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",HE(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+ng(s,a);o+=$h(s,e,n,l,i)}else if(l=yD(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+ng(s,a++),o+=$h(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function ah(t,e,n){if(t==null)return t;var r=[],i=0;return $h(t,r,"","",function(s){return e.call(n,s,i++)}),r}function ED(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Sn={current:null},zh={transition:null},CD={ReactCurrentDispatcher:Sn,ReactCurrentBatchConfig:zh,ReactCurrentOwner:y0};function ax(){throw Error("act(...) is not supported in production builds of React.")}Fe.Children={map:ah,forEach:function(t,e,n){ah(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return ah(t,function(){e++}),e},toArray:function(t){return ah(t,function(e){return e})||[]},only:function(t){if(!v0(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Fe.Component=Ul;Fe.Fragment=lD;Fe.Profiler=uD;Fe.PureComponent=m0;Fe.StrictMode=cD;Fe.Suspense=pD;Fe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=CD;Fe.act=ax;Fe.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=tx({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=y0.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)ix.call(e,l)&&!sx.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Wu,type:t.type,key:i,ref:s,props:r,_owner:o}};Fe.createContext=function(t){return t={$$typeof:hD,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:dD,_context:t},t.Consumer=t};Fe.createElement=ox;Fe.createFactory=function(t){var e=ox.bind(null,t);return e.type=t,e};Fe.createRef=function(){return{current:null}};Fe.forwardRef=function(t){return{$$typeof:fD,render:t}};Fe.isValidElement=v0;Fe.lazy=function(t){return{$$typeof:gD,_payload:{_status:-1,_result:t},_init:ED}};Fe.memo=function(t,e){return{$$typeof:mD,type:t,compare:e===void 0?null:e}};Fe.startTransition=function(t){var e=zh.transition;zh.transition={};try{t()}finally{zh.transition=e}};Fe.unstable_act=ax;Fe.useCallback=function(t,e){return Sn.current.useCallback(t,e)};Fe.useContext=function(t){return Sn.current.useContext(t)};Fe.useDebugValue=function(){};Fe.useDeferredValue=function(t){return Sn.current.useDeferredValue(t)};Fe.useEffect=function(t,e){return Sn.current.useEffect(t,e)};Fe.useId=function(){return Sn.current.useId()};Fe.useImperativeHandle=function(t,e,n){return Sn.current.useImperativeHandle(t,e,n)};Fe.useInsertionEffect=function(t,e){return Sn.current.useInsertionEffect(t,e)};Fe.useLayoutEffect=function(t,e){return Sn.current.useLayoutEffect(t,e)};Fe.useMemo=function(t,e){return Sn.current.useMemo(t,e)};Fe.useReducer=function(t,e,n){return Sn.current.useReducer(t,e,n)};Fe.useRef=function(t){return Sn.current.useRef(t)};Fe.useState=function(t){return Sn.current.useState(t)};Fe.useSyncExternalStore=function(t,e,n){return Sn.current.useSyncExternalStore(t,e,n)};Fe.useTransition=function(){return Sn.current.useTransition()};Fe.version="18.3.1";X_.exports=Fe;var v=X_.exports;const Y=p0(v),lx=J_({__proto__:null,default:Y},[v]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TD=v,_D=Symbol.for("react.element"),xD=Symbol.for("react.fragment"),AD=Object.prototype.hasOwnProperty,ID=TD.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,bD={key:!0,ref:!0,__self:!0,__source:!0};function cx(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)AD.call(e,r)&&!bD.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:_D,type:t,key:s,ref:o,props:i,_owner:ID.current}}Np.Fragment=xD;Np.jsx=cx;Np.jsxs=cx;Z_.exports=Np;var p=Z_.exports,ux={exports:{}},nr={},dx={exports:{}},hx={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(G,Z){var ae=G.length;G.push(Z);e:for(;0<ae;){var se=ae-1>>>1,ue=G[se];if(0<i(ue,Z))G[se]=Z,G[ae]=ue,ae=se;else break e}}function n(G){return G.length===0?null:G[0]}function r(G){if(G.length===0)return null;var Z=G[0],ae=G.pop();if(ae!==Z){G[0]=ae;e:for(var se=0,ue=G.length,he=ue>>>1;se<he;){var ke=2*(se+1)-1,Me=G[ke],Te=ke+1,ne=G[Te];if(0>i(Me,ae))Te<ue&&0>i(ne,Me)?(G[se]=ne,G[Te]=ae,se=Te):(G[se]=Me,G[ke]=ae,se=ke);else if(Te<ue&&0>i(ne,ae))G[se]=ne,G[Te]=ae,se=Te;else break e}}return Z}function i(G,Z){var ae=G.sortIndex-Z.sortIndex;return ae!==0?ae:G.id-Z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],d=1,f=null,h=3,g=!1,T=!1,y=!1,I=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function A(G){for(var Z=n(c);Z!==null;){if(Z.callback===null)r(c);else if(Z.startTime<=G)r(c),Z.sortIndex=Z.expirationTime,e(l,Z);else break;Z=n(c)}}function R(G){if(y=!1,A(G),!T)if(n(l)!==null)T=!0,ee(O);else{var Z=n(c);Z!==null&&pe(R,Z.startTime-G)}}function O(G,Z){T=!1,y&&(y=!1,C(b),b=-1),g=!0;var ae=h;try{for(A(Z),f=n(l);f!==null&&(!(f.expirationTime>Z)||G&&!V());){var se=f.callback;if(typeof se=="function"){f.callback=null,h=f.priorityLevel;var ue=se(f.expirationTime<=Z);Z=t.unstable_now(),typeof ue=="function"?f.callback=ue:f===n(l)&&r(l),A(Z)}else r(l);f=n(l)}if(f!==null)var he=!0;else{var ke=n(c);ke!==null&&pe(R,ke.startTime-Z),he=!1}return he}finally{f=null,h=ae,g=!1}}var B=!1,S=null,b=-1,k=5,D=-1;function V(){return!(t.unstable_now()-D<k)}function F(){if(S!==null){var G=t.unstable_now();D=G;var Z=!0;try{Z=S(!0,G)}finally{Z?M():(B=!1,S=null)}}else B=!1}var M;if(typeof w=="function")M=function(){w(F)};else if(typeof MessageChannel<"u"){var te=new MessageChannel,re=te.port2;te.port1.onmessage=F,M=function(){re.postMessage(null)}}else M=function(){I(F,0)};function ee(G){S=G,B||(B=!0,M())}function pe(G,Z){b=I(function(){G(t.unstable_now())},Z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(G){G.callback=null},t.unstable_continueExecution=function(){T||g||(T=!0,ee(O))},t.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<G?Math.floor(1e3/G):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(G){switch(h){case 1:case 2:case 3:var Z=3;break;default:Z=h}var ae=h;h=Z;try{return G()}finally{h=ae}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(G,Z){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var ae=h;h=G;try{return Z()}finally{h=ae}},t.unstable_scheduleCallback=function(G,Z,ae){var se=t.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?se+ae:se):ae=se,G){case 1:var ue=-1;break;case 2:ue=250;break;case 5:ue=1073741823;break;case 4:ue=1e4;break;default:ue=5e3}return ue=ae+ue,G={id:d++,callback:Z,priorityLevel:G,startTime:ae,expirationTime:ue,sortIndex:-1},ae>se?(G.sortIndex=ae,e(c,G),n(l)===null&&G===n(c)&&(y?(C(b),b=-1):y=!0,pe(R,ae-se))):(G.sortIndex=ue,e(l,G),T||g||(T=!0,ee(O))),G},t.unstable_shouldYield=V,t.unstable_wrapCallback=function(G){var Z=h;return function(){var ae=h;h=Z;try{return G.apply(this,arguments)}finally{h=ae}}}})(hx);dx.exports=hx;var SD=dx.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RD=v,tr=SD;function ie(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var fx=new Set,lu={};function ra(t,e){Cl(t,e),Cl(t+"Capture",e)}function Cl(t,e){for(lu[t]=e,t=0;t<e.length;t++)fx.add(e[t])}var Mi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ly=Object.prototype.hasOwnProperty,PD=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ZE={},XE={};function kD(t){return ly.call(XE,t)?!0:ly.call(ZE,t)?!1:PD.test(t)?XE[t]=!0:(ZE[t]=!0,!1)}function ND(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function DD(t,e,n,r){if(e===null||typeof e>"u"||ND(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Rn(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var en={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){en[t]=new Rn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];en[e]=new Rn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){en[t]=new Rn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){en[t]=new Rn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){en[t]=new Rn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){en[t]=new Rn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){en[t]=new Rn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){en[t]=new Rn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){en[t]=new Rn(t,5,!1,t.toLowerCase(),null,!1,!1)});var w0=/[\-:]([a-z])/g;function E0(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(w0,E0);en[e]=new Rn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(w0,E0);en[e]=new Rn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(w0,E0);en[e]=new Rn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){en[t]=new Rn(t,1,!1,t.toLowerCase(),null,!1,!1)});en.xlinkHref=new Rn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){en[t]=new Rn(t,1,!1,t.toLowerCase(),null,!0,!0)});function C0(t,e,n,r){var i=en.hasOwnProperty(e)?en[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(DD(e,n,i,r)&&(n=null),r||i===null?kD(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var $i=RD.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,lh=Symbol.for("react.element"),Fa=Symbol.for("react.portal"),Ba=Symbol.for("react.fragment"),T0=Symbol.for("react.strict_mode"),cy=Symbol.for("react.profiler"),px=Symbol.for("react.provider"),mx=Symbol.for("react.context"),_0=Symbol.for("react.forward_ref"),uy=Symbol.for("react.suspense"),dy=Symbol.for("react.suspense_list"),x0=Symbol.for("react.memo"),cs=Symbol.for("react.lazy"),gx=Symbol.for("react.offscreen"),e1=Symbol.iterator;function wc(t){return t===null||typeof t!="object"?null:(t=e1&&t[e1]||t["@@iterator"],typeof t=="function"?t:null)}var Et=Object.assign,rg;function Rc(t){if(rg===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);rg=e&&e[1]||""}return`
`+rg+t}var ig=!1;function sg(t,e){if(!t||ig)return"";ig=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{ig=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Rc(t):""}function MD(t){switch(t.tag){case 5:return Rc(t.type);case 16:return Rc("Lazy");case 13:return Rc("Suspense");case 19:return Rc("SuspenseList");case 0:case 2:case 15:return t=sg(t.type,!1),t;case 11:return t=sg(t.type.render,!1),t;case 1:return t=sg(t.type,!0),t;default:return""}}function hy(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ba:return"Fragment";case Fa:return"Portal";case cy:return"Profiler";case T0:return"StrictMode";case uy:return"Suspense";case dy:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case mx:return(t.displayName||"Context")+".Consumer";case px:return(t._context.displayName||"Context")+".Provider";case _0:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case x0:return e=t.displayName||null,e!==null?e:hy(t.type)||"Memo";case cs:e=t._payload,t=t._init;try{return hy(t(e))}catch{}}return null}function OD(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return hy(e);case 8:return e===T0?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function $s(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function yx(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function LD(t){var e=yx(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ch(t){t._valueTracker||(t._valueTracker=LD(t))}function vx(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=yx(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function bf(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function fy(t,e){var n=e.checked;return Et({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function t1(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=$s(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function wx(t,e){e=e.checked,e!=null&&C0(t,"checked",e,!1)}function py(t,e){wx(t,e);var n=$s(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?my(t,e.type,n):e.hasOwnProperty("defaultValue")&&my(t,e.type,$s(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function n1(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function my(t,e,n){(e!=="number"||bf(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Pc=Array.isArray;function Za(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+$s(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function gy(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ie(91));return Et({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function r1(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(ie(92));if(Pc(n)){if(1<n.length)throw Error(ie(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:$s(n)}}function Ex(t,e){var n=$s(e.value),r=$s(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function i1(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Cx(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function yy(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Cx(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var uh,Tx=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(uh=uh||document.createElement("div"),uh.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=uh.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function cu(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Gc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},VD=["Webkit","ms","Moz","O"];Object.keys(Gc).forEach(function(t){VD.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Gc[e]=Gc[t]})});function _x(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Gc.hasOwnProperty(t)&&Gc[t]?(""+e).trim():e+"px"}function xx(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=_x(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var FD=Et({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function vy(t,e){if(e){if(FD[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ie(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ie(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ie(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ie(62))}}function wy(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ey=null;function A0(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Cy=null,Xa=null,el=null;function s1(t){if(t=Ku(t)){if(typeof Cy!="function")throw Error(ie(280));var e=t.stateNode;e&&(e=Vp(e),Cy(t.stateNode,t.type,e))}}function Ax(t){Xa?el?el.push(t):el=[t]:Xa=t}function Ix(){if(Xa){var t=Xa,e=el;if(el=Xa=null,s1(t),e)for(t=0;t<e.length;t++)s1(e[t])}}function bx(t,e){return t(e)}function Sx(){}var og=!1;function Rx(t,e,n){if(og)return t(e,n);og=!0;try{return bx(t,e,n)}finally{og=!1,(Xa!==null||el!==null)&&(Sx(),Ix())}}function uu(t,e){var n=t.stateNode;if(n===null)return null;var r=Vp(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(ie(231,e,typeof n));return n}var Ty=!1;if(Mi)try{var Ec={};Object.defineProperty(Ec,"passive",{get:function(){Ty=!0}}),window.addEventListener("test",Ec,Ec),window.removeEventListener("test",Ec,Ec)}catch{Ty=!1}function BD(t,e,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var $c=!1,Sf=null,Rf=!1,_y=null,jD={onError:function(t){$c=!0,Sf=t}};function UD(t,e,n,r,i,s,o,a,l){$c=!1,Sf=null,BD.apply(jD,arguments)}function qD(t,e,n,r,i,s,o,a,l){if(UD.apply(this,arguments),$c){if($c){var c=Sf;$c=!1,Sf=null}else throw Error(ie(198));Rf||(Rf=!0,_y=c)}}function ia(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Px(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function o1(t){if(ia(t)!==t)throw Error(ie(188))}function GD(t){var e=t.alternate;if(!e){if(e=ia(t),e===null)throw Error(ie(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return o1(i),t;if(s===r)return o1(i),e;s=s.sibling}throw Error(ie(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(ie(189))}}if(n.alternate!==r)throw Error(ie(190))}if(n.tag!==3)throw Error(ie(188));return n.stateNode.current===n?t:e}function kx(t){return t=GD(t),t!==null?Nx(t):null}function Nx(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Nx(t);if(e!==null)return e;t=t.sibling}return null}var Dx=tr.unstable_scheduleCallback,a1=tr.unstable_cancelCallback,$D=tr.unstable_shouldYield,zD=tr.unstable_requestPaint,St=tr.unstable_now,WD=tr.unstable_getCurrentPriorityLevel,I0=tr.unstable_ImmediatePriority,Mx=tr.unstable_UserBlockingPriority,Pf=tr.unstable_NormalPriority,YD=tr.unstable_LowPriority,Ox=tr.unstable_IdlePriority,Dp=null,Jr=null;function QD(t){if(Jr&&typeof Jr.onCommitFiberRoot=="function")try{Jr.onCommitFiberRoot(Dp,t,void 0,(t.current.flags&128)===128)}catch{}}var Dr=Math.clz32?Math.clz32:JD,KD=Math.log,HD=Math.LN2;function JD(t){return t>>>=0,t===0?32:31-(KD(t)/HD|0)|0}var dh=64,hh=4194304;function kc(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function kf(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=kc(a):(s&=o,s!==0&&(r=kc(s)))}else o=n&~i,o!==0?r=kc(o):s!==0&&(r=kc(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Dr(e),i=1<<n,r|=t[n],e&=~i;return r}function ZD(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function XD(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Dr(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=ZD(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function xy(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Lx(){var t=dh;return dh<<=1,!(dh&4194240)&&(dh=64),t}function ag(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Yu(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Dr(e),t[e]=n}function eM(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Dr(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function b0(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Dr(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var et=0;function Vx(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Fx,S0,Bx,jx,Ux,Ay=!1,fh=[],Ss=null,Rs=null,Ps=null,du=new Map,hu=new Map,hs=[],tM="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function l1(t,e){switch(t){case"focusin":case"focusout":Ss=null;break;case"dragenter":case"dragleave":Rs=null;break;case"mouseover":case"mouseout":Ps=null;break;case"pointerover":case"pointerout":du.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":hu.delete(e.pointerId)}}function Cc(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Ku(e),e!==null&&S0(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function nM(t,e,n,r,i){switch(e){case"focusin":return Ss=Cc(Ss,t,e,n,r,i),!0;case"dragenter":return Rs=Cc(Rs,t,e,n,r,i),!0;case"mouseover":return Ps=Cc(Ps,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return du.set(s,Cc(du.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,hu.set(s,Cc(hu.get(s)||null,t,e,n,r,i)),!0}return!1}function qx(t){var e=Po(t.target);if(e!==null){var n=ia(e);if(n!==null){if(e=n.tag,e===13){if(e=Px(n),e!==null){t.blockedOn=e,Ux(t.priority,function(){Bx(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Wh(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Iy(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Ey=r,n.target.dispatchEvent(r),Ey=null}else return e=Ku(n),e!==null&&S0(e),t.blockedOn=n,!1;e.shift()}return!0}function c1(t,e,n){Wh(t)&&n.delete(e)}function rM(){Ay=!1,Ss!==null&&Wh(Ss)&&(Ss=null),Rs!==null&&Wh(Rs)&&(Rs=null),Ps!==null&&Wh(Ps)&&(Ps=null),du.forEach(c1),hu.forEach(c1)}function Tc(t,e){t.blockedOn===e&&(t.blockedOn=null,Ay||(Ay=!0,tr.unstable_scheduleCallback(tr.unstable_NormalPriority,rM)))}function fu(t){function e(i){return Tc(i,t)}if(0<fh.length){Tc(fh[0],t);for(var n=1;n<fh.length;n++){var r=fh[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Ss!==null&&Tc(Ss,t),Rs!==null&&Tc(Rs,t),Ps!==null&&Tc(Ps,t),du.forEach(e),hu.forEach(e),n=0;n<hs.length;n++)r=hs[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<hs.length&&(n=hs[0],n.blockedOn===null);)qx(n),n.blockedOn===null&&hs.shift()}var tl=$i.ReactCurrentBatchConfig,Nf=!0;function iM(t,e,n,r){var i=et,s=tl.transition;tl.transition=null;try{et=1,R0(t,e,n,r)}finally{et=i,tl.transition=s}}function sM(t,e,n,r){var i=et,s=tl.transition;tl.transition=null;try{et=4,R0(t,e,n,r)}finally{et=i,tl.transition=s}}function R0(t,e,n,r){if(Nf){var i=Iy(t,e,n,r);if(i===null)yg(t,e,r,Df,n),l1(t,r);else if(nM(i,t,e,n,r))r.stopPropagation();else if(l1(t,r),e&4&&-1<tM.indexOf(t)){for(;i!==null;){var s=Ku(i);if(s!==null&&Fx(s),s=Iy(t,e,n,r),s===null&&yg(t,e,r,Df,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else yg(t,e,r,null,n)}}var Df=null;function Iy(t,e,n,r){if(Df=null,t=A0(r),t=Po(t),t!==null)if(e=ia(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Px(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Df=t,null}function Gx(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(WD()){case I0:return 1;case Mx:return 4;case Pf:case YD:return 16;case Ox:return 536870912;default:return 16}default:return 16}}var _s=null,P0=null,Yh=null;function $x(){if(Yh)return Yh;var t,e=P0,n=e.length,r,i="value"in _s?_s.value:_s.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Yh=i.slice(t,1<r?1-r:void 0)}function Qh(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ph(){return!0}function u1(){return!1}function rr(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?ph:u1,this.isPropagationStopped=u1,this}return Et(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ph)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ph)},persist:function(){},isPersistent:ph}),e}var ql={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},k0=rr(ql),Qu=Et({},ql,{view:0,detail:0}),oM=rr(Qu),lg,cg,_c,Mp=Et({},Qu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:N0,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==_c&&(_c&&t.type==="mousemove"?(lg=t.screenX-_c.screenX,cg=t.screenY-_c.screenY):cg=lg=0,_c=t),lg)},movementY:function(t){return"movementY"in t?t.movementY:cg}}),d1=rr(Mp),aM=Et({},Mp,{dataTransfer:0}),lM=rr(aM),cM=Et({},Qu,{relatedTarget:0}),ug=rr(cM),uM=Et({},ql,{animationName:0,elapsedTime:0,pseudoElement:0}),dM=rr(uM),hM=Et({},ql,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),fM=rr(hM),pM=Et({},ql,{data:0}),h1=rr(pM),mM={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gM={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yM={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vM(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=yM[t])?!!e[t]:!1}function N0(){return vM}var wM=Et({},Qu,{key:function(t){if(t.key){var e=mM[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Qh(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?gM[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:N0,charCode:function(t){return t.type==="keypress"?Qh(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Qh(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),EM=rr(wM),CM=Et({},Mp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),f1=rr(CM),TM=Et({},Qu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:N0}),_M=rr(TM),xM=Et({},ql,{propertyName:0,elapsedTime:0,pseudoElement:0}),AM=rr(xM),IM=Et({},Mp,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),bM=rr(IM),SM=[9,13,27,32],D0=Mi&&"CompositionEvent"in window,zc=null;Mi&&"documentMode"in document&&(zc=document.documentMode);var RM=Mi&&"TextEvent"in window&&!zc,zx=Mi&&(!D0||zc&&8<zc&&11>=zc),p1=" ",m1=!1;function Wx(t,e){switch(t){case"keyup":return SM.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Yx(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ja=!1;function PM(t,e){switch(t){case"compositionend":return Yx(e);case"keypress":return e.which!==32?null:(m1=!0,p1);case"textInput":return t=e.data,t===p1&&m1?null:t;default:return null}}function kM(t,e){if(ja)return t==="compositionend"||!D0&&Wx(t,e)?(t=$x(),Yh=P0=_s=null,ja=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return zx&&e.locale!=="ko"?null:e.data;default:return null}}var NM={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function g1(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!NM[t.type]:e==="textarea"}function Qx(t,e,n,r){Ax(r),e=Mf(e,"onChange"),0<e.length&&(n=new k0("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Wc=null,pu=null;function DM(t){sA(t,0)}function Op(t){var e=Ga(t);if(vx(e))return t}function MM(t,e){if(t==="change")return e}var Kx=!1;if(Mi){var dg;if(Mi){var hg="oninput"in document;if(!hg){var y1=document.createElement("div");y1.setAttribute("oninput","return;"),hg=typeof y1.oninput=="function"}dg=hg}else dg=!1;Kx=dg&&(!document.documentMode||9<document.documentMode)}function v1(){Wc&&(Wc.detachEvent("onpropertychange",Hx),pu=Wc=null)}function Hx(t){if(t.propertyName==="value"&&Op(pu)){var e=[];Qx(e,pu,t,A0(t)),Rx(DM,e)}}function OM(t,e,n){t==="focusin"?(v1(),Wc=e,pu=n,Wc.attachEvent("onpropertychange",Hx)):t==="focusout"&&v1()}function LM(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Op(pu)}function VM(t,e){if(t==="click")return Op(e)}function FM(t,e){if(t==="input"||t==="change")return Op(e)}function BM(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Or=typeof Object.is=="function"?Object.is:BM;function mu(t,e){if(Or(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!ly.call(e,i)||!Or(t[i],e[i]))return!1}return!0}function w1(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function E1(t,e){var n=w1(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=w1(n)}}function Jx(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Jx(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Zx(){for(var t=window,e=bf();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=bf(t.document)}return e}function M0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function jM(t){var e=Zx(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Jx(n.ownerDocument.documentElement,n)){if(r!==null&&M0(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=E1(n,s);var o=E1(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var UM=Mi&&"documentMode"in document&&11>=document.documentMode,Ua=null,by=null,Yc=null,Sy=!1;function C1(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Sy||Ua==null||Ua!==bf(r)||(r=Ua,"selectionStart"in r&&M0(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Yc&&mu(Yc,r)||(Yc=r,r=Mf(by,"onSelect"),0<r.length&&(e=new k0("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ua)))}function mh(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var qa={animationend:mh("Animation","AnimationEnd"),animationiteration:mh("Animation","AnimationIteration"),animationstart:mh("Animation","AnimationStart"),transitionend:mh("Transition","TransitionEnd")},fg={},Xx={};Mi&&(Xx=document.createElement("div").style,"AnimationEvent"in window||(delete qa.animationend.animation,delete qa.animationiteration.animation,delete qa.animationstart.animation),"TransitionEvent"in window||delete qa.transitionend.transition);function Lp(t){if(fg[t])return fg[t];if(!qa[t])return t;var e=qa[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Xx)return fg[t]=e[n];return t}var eA=Lp("animationend"),tA=Lp("animationiteration"),nA=Lp("animationstart"),rA=Lp("transitionend"),iA=new Map,T1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function io(t,e){iA.set(t,e),ra(e,[t])}for(var pg=0;pg<T1.length;pg++){var mg=T1[pg],qM=mg.toLowerCase(),GM=mg[0].toUpperCase()+mg.slice(1);io(qM,"on"+GM)}io(eA,"onAnimationEnd");io(tA,"onAnimationIteration");io(nA,"onAnimationStart");io("dblclick","onDoubleClick");io("focusin","onFocus");io("focusout","onBlur");io(rA,"onTransitionEnd");Cl("onMouseEnter",["mouseout","mouseover"]);Cl("onMouseLeave",["mouseout","mouseover"]);Cl("onPointerEnter",["pointerout","pointerover"]);Cl("onPointerLeave",["pointerout","pointerover"]);ra("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ra("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ra("onBeforeInput",["compositionend","keypress","textInput","paste"]);ra("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ra("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ra("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Nc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$M=new Set("cancel close invalid load scroll toggle".split(" ").concat(Nc));function _1(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,qD(r,e,void 0,t),t.currentTarget=null}function sA(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;_1(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;_1(i,a,c),s=l}}}if(Rf)throw t=_y,Rf=!1,_y=null,t}function ct(t,e){var n=e[Dy];n===void 0&&(n=e[Dy]=new Set);var r=t+"__bubble";n.has(r)||(oA(e,t,2,!1),n.add(r))}function gg(t,e,n){var r=0;e&&(r|=4),oA(n,t,r,e)}var gh="_reactListening"+Math.random().toString(36).slice(2);function gu(t){if(!t[gh]){t[gh]=!0,fx.forEach(function(n){n!=="selectionchange"&&($M.has(n)||gg(n,!1,t),gg(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[gh]||(e[gh]=!0,gg("selectionchange",!1,e))}}function oA(t,e,n,r){switch(Gx(e)){case 1:var i=iM;break;case 4:i=sM;break;default:i=R0}n=i.bind(null,e,n,t),i=void 0,!Ty||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function yg(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Po(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}Rx(function(){var c=s,d=A0(n),f=[];e:{var h=iA.get(t);if(h!==void 0){var g=k0,T=t;switch(t){case"keypress":if(Qh(n)===0)break e;case"keydown":case"keyup":g=EM;break;case"focusin":T="focus",g=ug;break;case"focusout":T="blur",g=ug;break;case"beforeblur":case"afterblur":g=ug;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=d1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=lM;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=_M;break;case eA:case tA:case nA:g=dM;break;case rA:g=AM;break;case"scroll":g=oM;break;case"wheel":g=bM;break;case"copy":case"cut":case"paste":g=fM;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=f1}var y=(e&4)!==0,I=!y&&t==="scroll",C=y?h!==null?h+"Capture":null:h;y=[];for(var w=c,A;w!==null;){A=w;var R=A.stateNode;if(A.tag===5&&R!==null&&(A=R,C!==null&&(R=uu(w,C),R!=null&&y.push(yu(w,R,A)))),I)break;w=w.return}0<y.length&&(h=new g(h,T,null,n,d),f.push({event:h,listeners:y}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",h&&n!==Ey&&(T=n.relatedTarget||n.fromElement)&&(Po(T)||T[Oi]))break e;if((g||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,g?(T=n.relatedTarget||n.toElement,g=c,T=T?Po(T):null,T!==null&&(I=ia(T),T!==I||T.tag!==5&&T.tag!==6)&&(T=null)):(g=null,T=c),g!==T)){if(y=d1,R="onMouseLeave",C="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(y=f1,R="onPointerLeave",C="onPointerEnter",w="pointer"),I=g==null?h:Ga(g),A=T==null?h:Ga(T),h=new y(R,w+"leave",g,n,d),h.target=I,h.relatedTarget=A,R=null,Po(d)===c&&(y=new y(C,w+"enter",T,n,d),y.target=A,y.relatedTarget=I,R=y),I=R,g&&T)t:{for(y=g,C=T,w=0,A=y;A;A=Pa(A))w++;for(A=0,R=C;R;R=Pa(R))A++;for(;0<w-A;)y=Pa(y),w--;for(;0<A-w;)C=Pa(C),A--;for(;w--;){if(y===C||C!==null&&y===C.alternate)break t;y=Pa(y),C=Pa(C)}y=null}else y=null;g!==null&&x1(f,h,g,y,!1),T!==null&&I!==null&&x1(f,I,T,y,!0)}}e:{if(h=c?Ga(c):window,g=h.nodeName&&h.nodeName.toLowerCase(),g==="select"||g==="input"&&h.type==="file")var O=MM;else if(g1(h))if(Kx)O=FM;else{O=LM;var B=OM}else(g=h.nodeName)&&g.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(O=VM);if(O&&(O=O(t,c))){Qx(f,O,n,d);break e}B&&B(t,h,c),t==="focusout"&&(B=h._wrapperState)&&B.controlled&&h.type==="number"&&my(h,"number",h.value)}switch(B=c?Ga(c):window,t){case"focusin":(g1(B)||B.contentEditable==="true")&&(Ua=B,by=c,Yc=null);break;case"focusout":Yc=by=Ua=null;break;case"mousedown":Sy=!0;break;case"contextmenu":case"mouseup":case"dragend":Sy=!1,C1(f,n,d);break;case"selectionchange":if(UM)break;case"keydown":case"keyup":C1(f,n,d)}var S;if(D0)e:{switch(t){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else ja?Wx(t,n)&&(b="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(b="onCompositionStart");b&&(zx&&n.locale!=="ko"&&(ja||b!=="onCompositionStart"?b==="onCompositionEnd"&&ja&&(S=$x()):(_s=d,P0="value"in _s?_s.value:_s.textContent,ja=!0)),B=Mf(c,b),0<B.length&&(b=new h1(b,t,null,n,d),f.push({event:b,listeners:B}),S?b.data=S:(S=Yx(n),S!==null&&(b.data=S)))),(S=RM?PM(t,n):kM(t,n))&&(c=Mf(c,"onBeforeInput"),0<c.length&&(d=new h1("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:c}),d.data=S))}sA(f,e)})}function yu(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Mf(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=uu(t,n),s!=null&&r.unshift(yu(t,s,i)),s=uu(t,e),s!=null&&r.push(yu(t,s,i))),t=t.return}return r}function Pa(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function x1(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=uu(n,s),l!=null&&o.unshift(yu(n,l,a))):i||(l=uu(n,s),l!=null&&o.push(yu(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var zM=/\r\n?/g,WM=/\u0000|\uFFFD/g;function A1(t){return(typeof t=="string"?t:""+t).replace(zM,`
`).replace(WM,"")}function yh(t,e,n){if(e=A1(e),A1(t)!==e&&n)throw Error(ie(425))}function Of(){}var Ry=null,Py=null;function ky(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Ny=typeof setTimeout=="function"?setTimeout:void 0,YM=typeof clearTimeout=="function"?clearTimeout:void 0,I1=typeof Promise=="function"?Promise:void 0,QM=typeof queueMicrotask=="function"?queueMicrotask:typeof I1<"u"?function(t){return I1.resolve(null).then(t).catch(KM)}:Ny;function KM(t){setTimeout(function(){throw t})}function vg(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),fu(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);fu(e)}function ks(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function b1(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Gl=Math.random().toString(36).slice(2),Kr="__reactFiber$"+Gl,vu="__reactProps$"+Gl,Oi="__reactContainer$"+Gl,Dy="__reactEvents$"+Gl,HM="__reactListeners$"+Gl,JM="__reactHandles$"+Gl;function Po(t){var e=t[Kr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Oi]||n[Kr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=b1(t);t!==null;){if(n=t[Kr])return n;t=b1(t)}return e}t=n,n=t.parentNode}return null}function Ku(t){return t=t[Kr]||t[Oi],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ga(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ie(33))}function Vp(t){return t[vu]||null}var My=[],$a=-1;function so(t){return{current:t}}function ut(t){0>$a||(t.current=My[$a],My[$a]=null,$a--)}function st(t,e){$a++,My[$a]=t.current,t.current=e}var zs={},pn=so(zs),On=so(!1),qo=zs;function Tl(t,e){var n=t.type.contextTypes;if(!n)return zs;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Ln(t){return t=t.childContextTypes,t!=null}function Lf(){ut(On),ut(pn)}function S1(t,e,n){if(pn.current!==zs)throw Error(ie(168));st(pn,e),st(On,n)}function aA(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(ie(108,OD(t)||"Unknown",i));return Et({},n,r)}function Vf(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||zs,qo=pn.current,st(pn,t),st(On,On.current),!0}function R1(t,e,n){var r=t.stateNode;if(!r)throw Error(ie(169));n?(t=aA(t,e,qo),r.__reactInternalMemoizedMergedChildContext=t,ut(On),ut(pn),st(pn,t)):ut(On),st(On,n)}var Ii=null,Fp=!1,wg=!1;function lA(t){Ii===null?Ii=[t]:Ii.push(t)}function ZM(t){Fp=!0,lA(t)}function oo(){if(!wg&&Ii!==null){wg=!0;var t=0,e=et;try{var n=Ii;for(et=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Ii=null,Fp=!1}catch(i){throw Ii!==null&&(Ii=Ii.slice(t+1)),Dx(I0,oo),i}finally{et=e,wg=!1}}return null}var za=[],Wa=0,Ff=null,Bf=0,ur=[],dr=0,Go=null,bi=1,Si="";function bo(t,e){za[Wa++]=Bf,za[Wa++]=Ff,Ff=t,Bf=e}function cA(t,e,n){ur[dr++]=bi,ur[dr++]=Si,ur[dr++]=Go,Go=t;var r=bi;t=Si;var i=32-Dr(r)-1;r&=~(1<<i),n+=1;var s=32-Dr(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,bi=1<<32-Dr(e)+i|n<<i|r,Si=s+t}else bi=1<<s|n<<i|r,Si=t}function O0(t){t.return!==null&&(bo(t,1),cA(t,1,0))}function L0(t){for(;t===Ff;)Ff=za[--Wa],za[Wa]=null,Bf=za[--Wa],za[Wa]=null;for(;t===Go;)Go=ur[--dr],ur[dr]=null,Si=ur[--dr],ur[dr]=null,bi=ur[--dr],ur[dr]=null}var Jn=null,Kn=null,gt=!1,kr=null;function uA(t,e){var n=fr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function P1(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Jn=t,Kn=ks(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Jn=t,Kn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Go!==null?{id:bi,overflow:Si}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=fr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Jn=t,Kn=null,!0):!1;default:return!1}}function Oy(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Ly(t){if(gt){var e=Kn;if(e){var n=e;if(!P1(t,e)){if(Oy(t))throw Error(ie(418));e=ks(n.nextSibling);var r=Jn;e&&P1(t,e)?uA(r,n):(t.flags=t.flags&-4097|2,gt=!1,Jn=t)}}else{if(Oy(t))throw Error(ie(418));t.flags=t.flags&-4097|2,gt=!1,Jn=t}}}function k1(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Jn=t}function vh(t){if(t!==Jn)return!1;if(!gt)return k1(t),gt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!ky(t.type,t.memoizedProps)),e&&(e=Kn)){if(Oy(t))throw dA(),Error(ie(418));for(;e;)uA(t,e),e=ks(e.nextSibling)}if(k1(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ie(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Kn=ks(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Kn=null}}else Kn=Jn?ks(t.stateNode.nextSibling):null;return!0}function dA(){for(var t=Kn;t;)t=ks(t.nextSibling)}function _l(){Kn=Jn=null,gt=!1}function V0(t){kr===null?kr=[t]:kr.push(t)}var XM=$i.ReactCurrentBatchConfig;function xc(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ie(309));var r=n.stateNode}if(!r)throw Error(ie(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(ie(284));if(!n._owner)throw Error(ie(290,t))}return t}function wh(t,e){throw t=Object.prototype.toString.call(e),Error(ie(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function N1(t){var e=t._init;return e(t._payload)}function hA(t){function e(C,w){if(t){var A=C.deletions;A===null?(C.deletions=[w],C.flags|=16):A.push(w)}}function n(C,w){if(!t)return null;for(;w!==null;)e(C,w),w=w.sibling;return null}function r(C,w){for(C=new Map;w!==null;)w.key!==null?C.set(w.key,w):C.set(w.index,w),w=w.sibling;return C}function i(C,w){return C=Os(C,w),C.index=0,C.sibling=null,C}function s(C,w,A){return C.index=A,t?(A=C.alternate,A!==null?(A=A.index,A<w?(C.flags|=2,w):A):(C.flags|=2,w)):(C.flags|=1048576,w)}function o(C){return t&&C.alternate===null&&(C.flags|=2),C}function a(C,w,A,R){return w===null||w.tag!==6?(w=Ig(A,C.mode,R),w.return=C,w):(w=i(w,A),w.return=C,w)}function l(C,w,A,R){var O=A.type;return O===Ba?d(C,w,A.props.children,R,A.key):w!==null&&(w.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===cs&&N1(O)===w.type)?(R=i(w,A.props),R.ref=xc(C,w,A),R.return=C,R):(R=tf(A.type,A.key,A.props,null,C.mode,R),R.ref=xc(C,w,A),R.return=C,R)}function c(C,w,A,R){return w===null||w.tag!==4||w.stateNode.containerInfo!==A.containerInfo||w.stateNode.implementation!==A.implementation?(w=bg(A,C.mode,R),w.return=C,w):(w=i(w,A.children||[]),w.return=C,w)}function d(C,w,A,R,O){return w===null||w.tag!==7?(w=Bo(A,C.mode,R,O),w.return=C,w):(w=i(w,A),w.return=C,w)}function f(C,w,A){if(typeof w=="string"&&w!==""||typeof w=="number")return w=Ig(""+w,C.mode,A),w.return=C,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case lh:return A=tf(w.type,w.key,w.props,null,C.mode,A),A.ref=xc(C,null,w),A.return=C,A;case Fa:return w=bg(w,C.mode,A),w.return=C,w;case cs:var R=w._init;return f(C,R(w._payload),A)}if(Pc(w)||wc(w))return w=Bo(w,C.mode,A,null),w.return=C,w;wh(C,w)}return null}function h(C,w,A,R){var O=w!==null?w.key:null;if(typeof A=="string"&&A!==""||typeof A=="number")return O!==null?null:a(C,w,""+A,R);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case lh:return A.key===O?l(C,w,A,R):null;case Fa:return A.key===O?c(C,w,A,R):null;case cs:return O=A._init,h(C,w,O(A._payload),R)}if(Pc(A)||wc(A))return O!==null?null:d(C,w,A,R,null);wh(C,A)}return null}function g(C,w,A,R,O){if(typeof R=="string"&&R!==""||typeof R=="number")return C=C.get(A)||null,a(w,C,""+R,O);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case lh:return C=C.get(R.key===null?A:R.key)||null,l(w,C,R,O);case Fa:return C=C.get(R.key===null?A:R.key)||null,c(w,C,R,O);case cs:var B=R._init;return g(C,w,A,B(R._payload),O)}if(Pc(R)||wc(R))return C=C.get(A)||null,d(w,C,R,O,null);wh(w,R)}return null}function T(C,w,A,R){for(var O=null,B=null,S=w,b=w=0,k=null;S!==null&&b<A.length;b++){S.index>b?(k=S,S=null):k=S.sibling;var D=h(C,S,A[b],R);if(D===null){S===null&&(S=k);break}t&&S&&D.alternate===null&&e(C,S),w=s(D,w,b),B===null?O=D:B.sibling=D,B=D,S=k}if(b===A.length)return n(C,S),gt&&bo(C,b),O;if(S===null){for(;b<A.length;b++)S=f(C,A[b],R),S!==null&&(w=s(S,w,b),B===null?O=S:B.sibling=S,B=S);return gt&&bo(C,b),O}for(S=r(C,S);b<A.length;b++)k=g(S,C,b,A[b],R),k!==null&&(t&&k.alternate!==null&&S.delete(k.key===null?b:k.key),w=s(k,w,b),B===null?O=k:B.sibling=k,B=k);return t&&S.forEach(function(V){return e(C,V)}),gt&&bo(C,b),O}function y(C,w,A,R){var O=wc(A);if(typeof O!="function")throw Error(ie(150));if(A=O.call(A),A==null)throw Error(ie(151));for(var B=O=null,S=w,b=w=0,k=null,D=A.next();S!==null&&!D.done;b++,D=A.next()){S.index>b?(k=S,S=null):k=S.sibling;var V=h(C,S,D.value,R);if(V===null){S===null&&(S=k);break}t&&S&&V.alternate===null&&e(C,S),w=s(V,w,b),B===null?O=V:B.sibling=V,B=V,S=k}if(D.done)return n(C,S),gt&&bo(C,b),O;if(S===null){for(;!D.done;b++,D=A.next())D=f(C,D.value,R),D!==null&&(w=s(D,w,b),B===null?O=D:B.sibling=D,B=D);return gt&&bo(C,b),O}for(S=r(C,S);!D.done;b++,D=A.next())D=g(S,C,b,D.value,R),D!==null&&(t&&D.alternate!==null&&S.delete(D.key===null?b:D.key),w=s(D,w,b),B===null?O=D:B.sibling=D,B=D);return t&&S.forEach(function(F){return e(C,F)}),gt&&bo(C,b),O}function I(C,w,A,R){if(typeof A=="object"&&A!==null&&A.type===Ba&&A.key===null&&(A=A.props.children),typeof A=="object"&&A!==null){switch(A.$$typeof){case lh:e:{for(var O=A.key,B=w;B!==null;){if(B.key===O){if(O=A.type,O===Ba){if(B.tag===7){n(C,B.sibling),w=i(B,A.props.children),w.return=C,C=w;break e}}else if(B.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===cs&&N1(O)===B.type){n(C,B.sibling),w=i(B,A.props),w.ref=xc(C,B,A),w.return=C,C=w;break e}n(C,B);break}else e(C,B);B=B.sibling}A.type===Ba?(w=Bo(A.props.children,C.mode,R,A.key),w.return=C,C=w):(R=tf(A.type,A.key,A.props,null,C.mode,R),R.ref=xc(C,w,A),R.return=C,C=R)}return o(C);case Fa:e:{for(B=A.key;w!==null;){if(w.key===B)if(w.tag===4&&w.stateNode.containerInfo===A.containerInfo&&w.stateNode.implementation===A.implementation){n(C,w.sibling),w=i(w,A.children||[]),w.return=C,C=w;break e}else{n(C,w);break}else e(C,w);w=w.sibling}w=bg(A,C.mode,R),w.return=C,C=w}return o(C);case cs:return B=A._init,I(C,w,B(A._payload),R)}if(Pc(A))return T(C,w,A,R);if(wc(A))return y(C,w,A,R);wh(C,A)}return typeof A=="string"&&A!==""||typeof A=="number"?(A=""+A,w!==null&&w.tag===6?(n(C,w.sibling),w=i(w,A),w.return=C,C=w):(n(C,w),w=Ig(A,C.mode,R),w.return=C,C=w),o(C)):n(C,w)}return I}var xl=hA(!0),fA=hA(!1),jf=so(null),Uf=null,Ya=null,F0=null;function B0(){F0=Ya=Uf=null}function j0(t){var e=jf.current;ut(jf),t._currentValue=e}function Vy(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function nl(t,e){Uf=t,F0=Ya=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Mn=!0),t.firstContext=null)}function mr(t){var e=t._currentValue;if(F0!==t)if(t={context:t,memoizedValue:e,next:null},Ya===null){if(Uf===null)throw Error(ie(308));Ya=t,Uf.dependencies={lanes:0,firstContext:t}}else Ya=Ya.next=t;return e}var ko=null;function U0(t){ko===null?ko=[t]:ko.push(t)}function pA(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,U0(e)):(n.next=i.next,i.next=n),e.interleaved=n,Li(t,r)}function Li(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var us=!1;function q0(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function mA(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ni(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ns(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ye&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Li(t,n)}return i=r.interleaved,i===null?(e.next=e,U0(r)):(e.next=i.next,i.next=e),r.interleaved=e,Li(t,n)}function Kh(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,b0(t,n)}}function D1(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function qf(t,e,n,r){var i=t.updateQueue;us=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(s!==null){var f=i.baseState;o=0,d=c=l=null,a=s;do{var h=a.lane,g=a.eventTime;if((r&h)===h){d!==null&&(d=d.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var T=t,y=a;switch(h=e,g=n,y.tag){case 1:if(T=y.payload,typeof T=="function"){f=T.call(g,f,h);break e}f=T;break e;case 3:T.flags=T.flags&-65537|128;case 0:if(T=y.payload,h=typeof T=="function"?T.call(g,f,h):T,h==null)break e;f=Et({},f,h);break e;case 2:us=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else g={eventTime:g,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=g,l=f):d=d.next=g,o|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(d===null&&(l=f),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);zo|=o,t.lanes=o,t.memoizedState=f}}function M1(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(ie(191,i));i.call(r)}}}var Hu={},Zr=so(Hu),wu=so(Hu),Eu=so(Hu);function No(t){if(t===Hu)throw Error(ie(174));return t}function G0(t,e){switch(st(Eu,e),st(wu,t),st(Zr,Hu),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:yy(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=yy(e,t)}ut(Zr),st(Zr,e)}function Al(){ut(Zr),ut(wu),ut(Eu)}function gA(t){No(Eu.current);var e=No(Zr.current),n=yy(e,t.type);e!==n&&(st(wu,t),st(Zr,n))}function $0(t){wu.current===t&&(ut(Zr),ut(wu))}var yt=so(0);function Gf(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Eg=[];function z0(){for(var t=0;t<Eg.length;t++)Eg[t]._workInProgressVersionPrimary=null;Eg.length=0}var Hh=$i.ReactCurrentDispatcher,Cg=$i.ReactCurrentBatchConfig,$o=0,wt=null,Ft=null,Wt=null,$f=!1,Qc=!1,Cu=0,e4=0;function an(){throw Error(ie(321))}function W0(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Or(t[n],e[n]))return!1;return!0}function Y0(t,e,n,r,i,s){if($o=s,wt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Hh.current=t===null||t.memoizedState===null?i4:s4,t=n(r,i),Qc){s=0;do{if(Qc=!1,Cu=0,25<=s)throw Error(ie(301));s+=1,Wt=Ft=null,e.updateQueue=null,Hh.current=o4,t=n(r,i)}while(Qc)}if(Hh.current=zf,e=Ft!==null&&Ft.next!==null,$o=0,Wt=Ft=wt=null,$f=!1,e)throw Error(ie(300));return t}function Q0(){var t=Cu!==0;return Cu=0,t}function $r(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Wt===null?wt.memoizedState=Wt=t:Wt=Wt.next=t,Wt}function gr(){if(Ft===null){var t=wt.alternate;t=t!==null?t.memoizedState:null}else t=Ft.next;var e=Wt===null?wt.memoizedState:Wt.next;if(e!==null)Wt=e,Ft=t;else{if(t===null)throw Error(ie(310));Ft=t,t={memoizedState:Ft.memoizedState,baseState:Ft.baseState,baseQueue:Ft.baseQueue,queue:Ft.queue,next:null},Wt===null?wt.memoizedState=Wt=t:Wt=Wt.next=t}return Wt}function Tu(t,e){return typeof e=="function"?e(t):e}function Tg(t){var e=gr(),n=e.queue;if(n===null)throw Error(ie(311));n.lastRenderedReducer=t;var r=Ft,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var d=c.lane;if(($o&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=f,o=r):l=l.next=f,wt.lanes|=d,zo|=d}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,Or(r,e.memoizedState)||(Mn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,wt.lanes|=s,zo|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function _g(t){var e=gr(),n=e.queue;if(n===null)throw Error(ie(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Or(s,e.memoizedState)||(Mn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function yA(){}function vA(t,e){var n=wt,r=gr(),i=e(),s=!Or(r.memoizedState,i);if(s&&(r.memoizedState=i,Mn=!0),r=r.queue,K0(CA.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Wt!==null&&Wt.memoizedState.tag&1){if(n.flags|=2048,_u(9,EA.bind(null,n,r,i,e),void 0,null),Qt===null)throw Error(ie(349));$o&30||wA(n,e,i)}return i}function wA(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=wt.updateQueue,e===null?(e={lastEffect:null,stores:null},wt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function EA(t,e,n,r){e.value=n,e.getSnapshot=r,TA(e)&&_A(t)}function CA(t,e,n){return n(function(){TA(e)&&_A(t)})}function TA(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Or(t,n)}catch{return!0}}function _A(t){var e=Li(t,1);e!==null&&Mr(e,t,1,-1)}function O1(t){var e=$r();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Tu,lastRenderedState:t},e.queue=t,t=t.dispatch=r4.bind(null,wt,t),[e.memoizedState,t]}function _u(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=wt.updateQueue,e===null?(e={lastEffect:null,stores:null},wt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function xA(){return gr().memoizedState}function Jh(t,e,n,r){var i=$r();wt.flags|=t,i.memoizedState=_u(1|e,n,void 0,r===void 0?null:r)}function Bp(t,e,n,r){var i=gr();r=r===void 0?null:r;var s=void 0;if(Ft!==null){var o=Ft.memoizedState;if(s=o.destroy,r!==null&&W0(r,o.deps)){i.memoizedState=_u(e,n,s,r);return}}wt.flags|=t,i.memoizedState=_u(1|e,n,s,r)}function L1(t,e){return Jh(8390656,8,t,e)}function K0(t,e){return Bp(2048,8,t,e)}function AA(t,e){return Bp(4,2,t,e)}function IA(t,e){return Bp(4,4,t,e)}function bA(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function SA(t,e,n){return n=n!=null?n.concat([t]):null,Bp(4,4,bA.bind(null,e,t),n)}function H0(){}function RA(t,e){var n=gr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&W0(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function PA(t,e){var n=gr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&W0(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function kA(t,e,n){return $o&21?(Or(n,e)||(n=Lx(),wt.lanes|=n,zo|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Mn=!0),t.memoizedState=n)}function t4(t,e){var n=et;et=n!==0&&4>n?n:4,t(!0);var r=Cg.transition;Cg.transition={};try{t(!1),e()}finally{et=n,Cg.transition=r}}function NA(){return gr().memoizedState}function n4(t,e,n){var r=Ms(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},DA(t))MA(e,n);else if(n=pA(t,e,n,r),n!==null){var i=bn();Mr(n,t,r,i),OA(n,e,r)}}function r4(t,e,n){var r=Ms(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(DA(t))MA(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Or(a,o)){var l=e.interleaved;l===null?(i.next=i,U0(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=pA(t,e,i,r),n!==null&&(i=bn(),Mr(n,t,r,i),OA(n,e,r))}}function DA(t){var e=t.alternate;return t===wt||e!==null&&e===wt}function MA(t,e){Qc=$f=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function OA(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,b0(t,n)}}var zf={readContext:mr,useCallback:an,useContext:an,useEffect:an,useImperativeHandle:an,useInsertionEffect:an,useLayoutEffect:an,useMemo:an,useReducer:an,useRef:an,useState:an,useDebugValue:an,useDeferredValue:an,useTransition:an,useMutableSource:an,useSyncExternalStore:an,useId:an,unstable_isNewReconciler:!1},i4={readContext:mr,useCallback:function(t,e){return $r().memoizedState=[t,e===void 0?null:e],t},useContext:mr,useEffect:L1,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Jh(4194308,4,bA.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Jh(4194308,4,t,e)},useInsertionEffect:function(t,e){return Jh(4,2,t,e)},useMemo:function(t,e){var n=$r();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=$r();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=n4.bind(null,wt,t),[r.memoizedState,t]},useRef:function(t){var e=$r();return t={current:t},e.memoizedState=t},useState:O1,useDebugValue:H0,useDeferredValue:function(t){return $r().memoizedState=t},useTransition:function(){var t=O1(!1),e=t[0];return t=t4.bind(null,t[1]),$r().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=wt,i=$r();if(gt){if(n===void 0)throw Error(ie(407));n=n()}else{if(n=e(),Qt===null)throw Error(ie(349));$o&30||wA(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,L1(CA.bind(null,r,s,t),[t]),r.flags|=2048,_u(9,EA.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=$r(),e=Qt.identifierPrefix;if(gt){var n=Si,r=bi;n=(r&~(1<<32-Dr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Cu++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=e4++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},s4={readContext:mr,useCallback:RA,useContext:mr,useEffect:K0,useImperativeHandle:SA,useInsertionEffect:AA,useLayoutEffect:IA,useMemo:PA,useReducer:Tg,useRef:xA,useState:function(){return Tg(Tu)},useDebugValue:H0,useDeferredValue:function(t){var e=gr();return kA(e,Ft.memoizedState,t)},useTransition:function(){var t=Tg(Tu)[0],e=gr().memoizedState;return[t,e]},useMutableSource:yA,useSyncExternalStore:vA,useId:NA,unstable_isNewReconciler:!1},o4={readContext:mr,useCallback:RA,useContext:mr,useEffect:K0,useImperativeHandle:SA,useInsertionEffect:AA,useLayoutEffect:IA,useMemo:PA,useReducer:_g,useRef:xA,useState:function(){return _g(Tu)},useDebugValue:H0,useDeferredValue:function(t){var e=gr();return Ft===null?e.memoizedState=t:kA(e,Ft.memoizedState,t)},useTransition:function(){var t=_g(Tu)[0],e=gr().memoizedState;return[t,e]},useMutableSource:yA,useSyncExternalStore:vA,useId:NA,unstable_isNewReconciler:!1};function br(t,e){if(t&&t.defaultProps){e=Et({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Fy(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Et({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var jp={isMounted:function(t){return(t=t._reactInternals)?ia(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=bn(),i=Ms(t),s=Ni(r,i);s.payload=e,n!=null&&(s.callback=n),e=Ns(t,s,i),e!==null&&(Mr(e,t,i,r),Kh(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=bn(),i=Ms(t),s=Ni(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Ns(t,s,i),e!==null&&(Mr(e,t,i,r),Kh(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=bn(),r=Ms(t),i=Ni(n,r);i.tag=2,e!=null&&(i.callback=e),e=Ns(t,i,r),e!==null&&(Mr(e,t,r,n),Kh(e,t,r))}};function V1(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!mu(n,r)||!mu(i,s):!0}function LA(t,e,n){var r=!1,i=zs,s=e.contextType;return typeof s=="object"&&s!==null?s=mr(s):(i=Ln(e)?qo:pn.current,r=e.contextTypes,s=(r=r!=null)?Tl(t,i):zs),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=jp,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function F1(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&jp.enqueueReplaceState(e,e.state,null)}function By(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},q0(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=mr(s):(s=Ln(e)?qo:pn.current,i.context=Tl(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Fy(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&jp.enqueueReplaceState(i,i.state,null),qf(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Il(t,e){try{var n="",r=e;do n+=MD(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function xg(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function jy(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var a4=typeof WeakMap=="function"?WeakMap:Map;function VA(t,e,n){n=Ni(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Yf||(Yf=!0,Hy=r),jy(t,e)},n}function FA(t,e,n){n=Ni(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){jy(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){jy(t,e),typeof r!="function"&&(Ds===null?Ds=new Set([this]):Ds.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function B1(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new a4;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=C4.bind(null,t,e,n),e.then(t,t))}function j1(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function U1(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Ni(-1,1),e.tag=2,Ns(n,e,1))),n.lanes|=1),t)}var l4=$i.ReactCurrentOwner,Mn=!1;function _n(t,e,n,r){e.child=t===null?fA(e,null,n,r):xl(e,t.child,n,r)}function q1(t,e,n,r,i){n=n.render;var s=e.ref;return nl(e,i),r=Y0(t,e,n,r,s,i),n=Q0(),t!==null&&!Mn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Vi(t,e,i)):(gt&&n&&O0(e),e.flags|=1,_n(t,e,r,i),e.child)}function G1(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!iw(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,BA(t,e,s,r,i)):(t=tf(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:mu,n(o,r)&&t.ref===e.ref)return Vi(t,e,i)}return e.flags|=1,t=Os(s,r),t.ref=e.ref,t.return=e,e.child=t}function BA(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(mu(s,r)&&t.ref===e.ref)if(Mn=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Mn=!0);else return e.lanes=t.lanes,Vi(t,e,i)}return Uy(t,e,n,r,i)}function jA(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},st(Ka,Wn),Wn|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,st(Ka,Wn),Wn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,st(Ka,Wn),Wn|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,st(Ka,Wn),Wn|=r;return _n(t,e,i,n),e.child}function UA(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Uy(t,e,n,r,i){var s=Ln(n)?qo:pn.current;return s=Tl(e,s),nl(e,i),n=Y0(t,e,n,r,s,i),r=Q0(),t!==null&&!Mn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Vi(t,e,i)):(gt&&r&&O0(e),e.flags|=1,_n(t,e,n,i),e.child)}function $1(t,e,n,r,i){if(Ln(n)){var s=!0;Vf(e)}else s=!1;if(nl(e,i),e.stateNode===null)Zh(t,e),LA(e,n,r),By(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=mr(c):(c=Ln(n)?qo:pn.current,c=Tl(e,c));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&F1(e,o,r,c),us=!1;var h=e.memoizedState;o.state=h,qf(e,r,o,i),l=e.memoizedState,a!==r||h!==l||On.current||us?(typeof d=="function"&&(Fy(e,n,d,r),l=e.memoizedState),(a=us||V1(e,n,a,r,h,l,c))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,mA(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:br(e.type,a),o.props=c,f=e.pendingProps,h=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=mr(l):(l=Ln(n)?qo:pn.current,l=Tl(e,l));var g=n.getDerivedStateFromProps;(d=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||h!==l)&&F1(e,o,r,l),us=!1,h=e.memoizedState,o.state=h,qf(e,r,o,i);var T=e.memoizedState;a!==f||h!==T||On.current||us?(typeof g=="function"&&(Fy(e,n,g,r),T=e.memoizedState),(c=us||V1(e,n,c,r,h,T,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,T,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,T,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=T),o.props=r,o.state=T,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return qy(t,e,n,r,s,i)}function qy(t,e,n,r,i,s){UA(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&R1(e,n,!1),Vi(t,e,s);r=e.stateNode,l4.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=xl(e,t.child,null,s),e.child=xl(e,null,a,s)):_n(t,e,a,s),e.memoizedState=r.state,i&&R1(e,n,!0),e.child}function qA(t){var e=t.stateNode;e.pendingContext?S1(t,e.pendingContext,e.pendingContext!==e.context):e.context&&S1(t,e.context,!1),G0(t,e.containerInfo)}function z1(t,e,n,r,i){return _l(),V0(i),e.flags|=256,_n(t,e,n,r),e.child}var Gy={dehydrated:null,treeContext:null,retryLane:0};function $y(t){return{baseLanes:t,cachePool:null,transitions:null}}function GA(t,e,n){var r=e.pendingProps,i=yt.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),st(yt,i&1),t===null)return Ly(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Gp(o,r,0,null),t=Bo(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=$y(n),e.memoizedState=Gy,t):J0(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return c4(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Os(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Os(a,s):(s=Bo(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?$y(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Gy,r}return s=t.child,t=s.sibling,r=Os(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function J0(t,e){return e=Gp({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Eh(t,e,n,r){return r!==null&&V0(r),xl(e,t.child,null,n),t=J0(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function c4(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=xg(Error(ie(422))),Eh(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Gp({mode:"visible",children:r.children},i,0,null),s=Bo(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&xl(e,t.child,null,o),e.child.memoizedState=$y(o),e.memoizedState=Gy,s);if(!(e.mode&1))return Eh(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(ie(419)),r=xg(s,r,void 0),Eh(t,e,o,r)}if(a=(o&t.childLanes)!==0,Mn||a){if(r=Qt,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Li(t,i),Mr(r,t,i,-1))}return rw(),r=xg(Error(ie(421))),Eh(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=T4.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Kn=ks(i.nextSibling),Jn=e,gt=!0,kr=null,t!==null&&(ur[dr++]=bi,ur[dr++]=Si,ur[dr++]=Go,bi=t.id,Si=t.overflow,Go=e),e=J0(e,r.children),e.flags|=4096,e)}function W1(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Vy(t.return,e,n)}function Ag(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function $A(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(_n(t,e,r.children,n),r=yt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&W1(t,n,e);else if(t.tag===19)W1(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(st(yt,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Gf(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Ag(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Gf(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Ag(e,!0,n,null,s);break;case"together":Ag(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Zh(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Vi(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),zo|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(ie(153));if(e.child!==null){for(t=e.child,n=Os(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Os(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function u4(t,e,n){switch(e.tag){case 3:qA(e),_l();break;case 5:gA(e);break;case 1:Ln(e.type)&&Vf(e);break;case 4:G0(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;st(jf,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(st(yt,yt.current&1),e.flags|=128,null):n&e.child.childLanes?GA(t,e,n):(st(yt,yt.current&1),t=Vi(t,e,n),t!==null?t.sibling:null);st(yt,yt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return $A(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),st(yt,yt.current),r)break;return null;case 22:case 23:return e.lanes=0,jA(t,e,n)}return Vi(t,e,n)}var zA,zy,WA,YA;zA=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};zy=function(){};WA=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,No(Zr.current);var s=null;switch(n){case"input":i=fy(t,i),r=fy(t,r),s=[];break;case"select":i=Et({},i,{value:void 0}),r=Et({},r,{value:void 0}),s=[];break;case"textarea":i=gy(t,i),r=gy(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Of)}vy(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(lu.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(lu.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&ct("scroll",t),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};YA=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ac(t,e){if(!gt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function ln(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function d4(t,e,n){var r=e.pendingProps;switch(L0(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ln(e),null;case 1:return Ln(e.type)&&Lf(),ln(e),null;case 3:return r=e.stateNode,Al(),ut(On),ut(pn),z0(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(vh(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,kr!==null&&(Xy(kr),kr=null))),zy(t,e),ln(e),null;case 5:$0(e);var i=No(Eu.current);if(n=e.type,t!==null&&e.stateNode!=null)WA(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(ie(166));return ln(e),null}if(t=No(Zr.current),vh(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Kr]=e,r[vu]=s,t=(e.mode&1)!==0,n){case"dialog":ct("cancel",r),ct("close",r);break;case"iframe":case"object":case"embed":ct("load",r);break;case"video":case"audio":for(i=0;i<Nc.length;i++)ct(Nc[i],r);break;case"source":ct("error",r);break;case"img":case"image":case"link":ct("error",r),ct("load",r);break;case"details":ct("toggle",r);break;case"input":t1(r,s),ct("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},ct("invalid",r);break;case"textarea":r1(r,s),ct("invalid",r)}vy(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&yh(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&yh(r.textContent,a,t),i=["children",""+a]):lu.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&ct("scroll",r)}switch(n){case"input":ch(r),n1(r,s,!0);break;case"textarea":ch(r),i1(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Of)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Cx(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Kr]=e,t[vu]=r,zA(t,e,!1,!1),e.stateNode=t;e:{switch(o=wy(n,r),n){case"dialog":ct("cancel",t),ct("close",t),i=r;break;case"iframe":case"object":case"embed":ct("load",t),i=r;break;case"video":case"audio":for(i=0;i<Nc.length;i++)ct(Nc[i],t);i=r;break;case"source":ct("error",t),i=r;break;case"img":case"image":case"link":ct("error",t),ct("load",t),i=r;break;case"details":ct("toggle",t),i=r;break;case"input":t1(t,r),i=fy(t,r),ct("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Et({},r,{value:void 0}),ct("invalid",t);break;case"textarea":r1(t,r),i=gy(t,r),ct("invalid",t);break;default:i=r}vy(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?xx(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Tx(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&cu(t,l):typeof l=="number"&&cu(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(lu.hasOwnProperty(s)?l!=null&&s==="onScroll"&&ct("scroll",t):l!=null&&C0(t,s,l,o))}switch(n){case"input":ch(t),n1(t,r,!1);break;case"textarea":ch(t),i1(t);break;case"option":r.value!=null&&t.setAttribute("value",""+$s(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Za(t,!!r.multiple,s,!1):r.defaultValue!=null&&Za(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Of)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ln(e),null;case 6:if(t&&e.stateNode!=null)YA(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(ie(166));if(n=No(Eu.current),No(Zr.current),vh(e)){if(r=e.stateNode,n=e.memoizedProps,r[Kr]=e,(s=r.nodeValue!==n)&&(t=Jn,t!==null))switch(t.tag){case 3:yh(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&yh(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Kr]=e,e.stateNode=r}return ln(e),null;case 13:if(ut(yt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(gt&&Kn!==null&&e.mode&1&&!(e.flags&128))dA(),_l(),e.flags|=98560,s=!1;else if(s=vh(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(ie(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(ie(317));s[Kr]=e}else _l(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ln(e),s=!1}else kr!==null&&(Xy(kr),kr=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||yt.current&1?Bt===0&&(Bt=3):rw())),e.updateQueue!==null&&(e.flags|=4),ln(e),null);case 4:return Al(),zy(t,e),t===null&&gu(e.stateNode.containerInfo),ln(e),null;case 10:return j0(e.type._context),ln(e),null;case 17:return Ln(e.type)&&Lf(),ln(e),null;case 19:if(ut(yt),s=e.memoizedState,s===null)return ln(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Ac(s,!1);else{if(Bt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Gf(t),o!==null){for(e.flags|=128,Ac(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return st(yt,yt.current&1|2),e.child}t=t.sibling}s.tail!==null&&St()>bl&&(e.flags|=128,r=!0,Ac(s,!1),e.lanes=4194304)}else{if(!r)if(t=Gf(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ac(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!gt)return ln(e),null}else 2*St()-s.renderingStartTime>bl&&n!==1073741824&&(e.flags|=128,r=!0,Ac(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=St(),e.sibling=null,n=yt.current,st(yt,r?n&1|2:n&1),e):(ln(e),null);case 22:case 23:return nw(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Wn&1073741824&&(ln(e),e.subtreeFlags&6&&(e.flags|=8192)):ln(e),null;case 24:return null;case 25:return null}throw Error(ie(156,e.tag))}function h4(t,e){switch(L0(e),e.tag){case 1:return Ln(e.type)&&Lf(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Al(),ut(On),ut(pn),z0(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return $0(e),null;case 13:if(ut(yt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ie(340));_l()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ut(yt),null;case 4:return Al(),null;case 10:return j0(e.type._context),null;case 22:case 23:return nw(),null;case 24:return null;default:return null}}var Ch=!1,hn=!1,f4=typeof WeakSet=="function"?WeakSet:Set,me=null;function Qa(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){xt(t,e,r)}else n.current=null}function Wy(t,e,n){try{n()}catch(r){xt(t,e,r)}}var Y1=!1;function p4(t,e){if(Ry=Nf,t=Zx(),M0(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,d=0,f=t,h=null;t:for(;;){for(var g;f!==n||i!==0&&f.nodeType!==3||(a=o+i),f!==s||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(g=f.firstChild)!==null;)h=f,f=g;for(;;){if(f===t)break t;if(h===n&&++c===i&&(a=o),h===s&&++d===r&&(l=o),(g=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=g}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Py={focusedElem:t,selectionRange:n},Nf=!1,me=e;me!==null;)if(e=me,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,me=t;else for(;me!==null;){e=me;try{var T=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(T!==null){var y=T.memoizedProps,I=T.memoizedState,C=e.stateNode,w=C.getSnapshotBeforeUpdate(e.elementType===e.type?y:br(e.type,y),I);C.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var A=e.stateNode.containerInfo;A.nodeType===1?A.textContent="":A.nodeType===9&&A.documentElement&&A.removeChild(A.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ie(163))}}catch(R){xt(e,e.return,R)}if(t=e.sibling,t!==null){t.return=e.return,me=t;break}me=e.return}return T=Y1,Y1=!1,T}function Kc(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Wy(e,n,s)}i=i.next}while(i!==r)}}function Up(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Yy(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function QA(t){var e=t.alternate;e!==null&&(t.alternate=null,QA(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Kr],delete e[vu],delete e[Dy],delete e[HM],delete e[JM])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function KA(t){return t.tag===5||t.tag===3||t.tag===4}function Q1(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||KA(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Qy(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Of));else if(r!==4&&(t=t.child,t!==null))for(Qy(t,e,n),t=t.sibling;t!==null;)Qy(t,e,n),t=t.sibling}function Ky(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Ky(t,e,n),t=t.sibling;t!==null;)Ky(t,e,n),t=t.sibling}var Ht=null,Pr=!1;function ns(t,e,n){for(n=n.child;n!==null;)HA(t,e,n),n=n.sibling}function HA(t,e,n){if(Jr&&typeof Jr.onCommitFiberUnmount=="function")try{Jr.onCommitFiberUnmount(Dp,n)}catch{}switch(n.tag){case 5:hn||Qa(n,e);case 6:var r=Ht,i=Pr;Ht=null,ns(t,e,n),Ht=r,Pr=i,Ht!==null&&(Pr?(t=Ht,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Ht.removeChild(n.stateNode));break;case 18:Ht!==null&&(Pr?(t=Ht,n=n.stateNode,t.nodeType===8?vg(t.parentNode,n):t.nodeType===1&&vg(t,n),fu(t)):vg(Ht,n.stateNode));break;case 4:r=Ht,i=Pr,Ht=n.stateNode.containerInfo,Pr=!0,ns(t,e,n),Ht=r,Pr=i;break;case 0:case 11:case 14:case 15:if(!hn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Wy(n,e,o),i=i.next}while(i!==r)}ns(t,e,n);break;case 1:if(!hn&&(Qa(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){xt(n,e,a)}ns(t,e,n);break;case 21:ns(t,e,n);break;case 22:n.mode&1?(hn=(r=hn)||n.memoizedState!==null,ns(t,e,n),hn=r):ns(t,e,n);break;default:ns(t,e,n)}}function K1(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new f4),e.forEach(function(r){var i=_4.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Ar(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Ht=a.stateNode,Pr=!1;break e;case 3:Ht=a.stateNode.containerInfo,Pr=!0;break e;case 4:Ht=a.stateNode.containerInfo,Pr=!0;break e}a=a.return}if(Ht===null)throw Error(ie(160));HA(s,o,i),Ht=null,Pr=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){xt(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)JA(e,t),e=e.sibling}function JA(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ar(e,t),qr(t),r&4){try{Kc(3,t,t.return),Up(3,t)}catch(y){xt(t,t.return,y)}try{Kc(5,t,t.return)}catch(y){xt(t,t.return,y)}}break;case 1:Ar(e,t),qr(t),r&512&&n!==null&&Qa(n,n.return);break;case 5:if(Ar(e,t),qr(t),r&512&&n!==null&&Qa(n,n.return),t.flags&32){var i=t.stateNode;try{cu(i,"")}catch(y){xt(t,t.return,y)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&wx(i,s),wy(a,o);var c=wy(a,s);for(o=0;o<l.length;o+=2){var d=l[o],f=l[o+1];d==="style"?xx(i,f):d==="dangerouslySetInnerHTML"?Tx(i,f):d==="children"?cu(i,f):C0(i,d,f,c)}switch(a){case"input":py(i,s);break;case"textarea":Ex(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var g=s.value;g!=null?Za(i,!!s.multiple,g,!1):h!==!!s.multiple&&(s.defaultValue!=null?Za(i,!!s.multiple,s.defaultValue,!0):Za(i,!!s.multiple,s.multiple?[]:"",!1))}i[vu]=s}catch(y){xt(t,t.return,y)}}break;case 6:if(Ar(e,t),qr(t),r&4){if(t.stateNode===null)throw Error(ie(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(y){xt(t,t.return,y)}}break;case 3:if(Ar(e,t),qr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{fu(e.containerInfo)}catch(y){xt(t,t.return,y)}break;case 4:Ar(e,t),qr(t);break;case 13:Ar(e,t),qr(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(ew=St())),r&4&&K1(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(hn=(c=hn)||d,Ar(e,t),hn=c):Ar(e,t),qr(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(me=t,d=t.child;d!==null;){for(f=me=d;me!==null;){switch(h=me,g=h.child,h.tag){case 0:case 11:case 14:case 15:Kc(4,h,h.return);break;case 1:Qa(h,h.return);var T=h.stateNode;if(typeof T.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,T.props=e.memoizedProps,T.state=e.memoizedState,T.componentWillUnmount()}catch(y){xt(r,n,y)}}break;case 5:Qa(h,h.return);break;case 22:if(h.memoizedState!==null){J1(f);continue}}g!==null?(g.return=h,me=g):J1(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=_x("display",o))}catch(y){xt(t,t.return,y)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(y){xt(t,t.return,y)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Ar(e,t),qr(t),r&4&&K1(t);break;case 21:break;default:Ar(e,t),qr(t)}}function qr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(KA(n)){var r=n;break e}n=n.return}throw Error(ie(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(cu(i,""),r.flags&=-33);var s=Q1(t);Ky(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Q1(t);Qy(t,a,o);break;default:throw Error(ie(161))}}catch(l){xt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function m4(t,e,n){me=t,ZA(t)}function ZA(t,e,n){for(var r=(t.mode&1)!==0;me!==null;){var i=me,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Ch;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||hn;a=Ch;var c=hn;if(Ch=o,(hn=l)&&!c)for(me=i;me!==null;)o=me,l=o.child,o.tag===22&&o.memoizedState!==null?Z1(i):l!==null?(l.return=o,me=l):Z1(i);for(;s!==null;)me=s,ZA(s),s=s.sibling;me=i,Ch=a,hn=c}H1(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,me=s):H1(t)}}function H1(t){for(;me!==null;){var e=me;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:hn||Up(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!hn)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:br(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&M1(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}M1(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&fu(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ie(163))}hn||e.flags&512&&Yy(e)}catch(h){xt(e,e.return,h)}}if(e===t){me=null;break}if(n=e.sibling,n!==null){n.return=e.return,me=n;break}me=e.return}}function J1(t){for(;me!==null;){var e=me;if(e===t){me=null;break}var n=e.sibling;if(n!==null){n.return=e.return,me=n;break}me=e.return}}function Z1(t){for(;me!==null;){var e=me;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Up(4,e)}catch(l){xt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){xt(e,i,l)}}var s=e.return;try{Yy(e)}catch(l){xt(e,s,l)}break;case 5:var o=e.return;try{Yy(e)}catch(l){xt(e,o,l)}}}catch(l){xt(e,e.return,l)}if(e===t){me=null;break}var a=e.sibling;if(a!==null){a.return=e.return,me=a;break}me=e.return}}var g4=Math.ceil,Wf=$i.ReactCurrentDispatcher,Z0=$i.ReactCurrentOwner,pr=$i.ReactCurrentBatchConfig,Ye=0,Qt=null,Nt=null,Xt=0,Wn=0,Ka=so(0),Bt=0,xu=null,zo=0,qp=0,X0=0,Hc=null,Dn=null,ew=0,bl=1/0,Ai=null,Yf=!1,Hy=null,Ds=null,Th=!1,xs=null,Qf=0,Jc=0,Jy=null,Xh=-1,ef=0;function bn(){return Ye&6?St():Xh!==-1?Xh:Xh=St()}function Ms(t){return t.mode&1?Ye&2&&Xt!==0?Xt&-Xt:XM.transition!==null?(ef===0&&(ef=Lx()),ef):(t=et,t!==0||(t=window.event,t=t===void 0?16:Gx(t.type)),t):1}function Mr(t,e,n,r){if(50<Jc)throw Jc=0,Jy=null,Error(ie(185));Yu(t,n,r),(!(Ye&2)||t!==Qt)&&(t===Qt&&(!(Ye&2)&&(qp|=n),Bt===4&&fs(t,Xt)),Vn(t,r),n===1&&Ye===0&&!(e.mode&1)&&(bl=St()+500,Fp&&oo()))}function Vn(t,e){var n=t.callbackNode;XD(t,e);var r=kf(t,t===Qt?Xt:0);if(r===0)n!==null&&a1(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&a1(n),e===1)t.tag===0?ZM(X1.bind(null,t)):lA(X1.bind(null,t)),QM(function(){!(Ye&6)&&oo()}),n=null;else{switch(Vx(r)){case 1:n=I0;break;case 4:n=Mx;break;case 16:n=Pf;break;case 536870912:n=Ox;break;default:n=Pf}n=oI(n,XA.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function XA(t,e){if(Xh=-1,ef=0,Ye&6)throw Error(ie(327));var n=t.callbackNode;if(rl()&&t.callbackNode!==n)return null;var r=kf(t,t===Qt?Xt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Kf(t,r);else{e=r;var i=Ye;Ye|=2;var s=tI();(Qt!==t||Xt!==e)&&(Ai=null,bl=St()+500,Fo(t,e));do try{w4();break}catch(a){eI(t,a)}while(!0);B0(),Wf.current=s,Ye=i,Nt!==null?e=0:(Qt=null,Xt=0,e=Bt)}if(e!==0){if(e===2&&(i=xy(t),i!==0&&(r=i,e=Zy(t,i))),e===1)throw n=xu,Fo(t,0),fs(t,r),Vn(t,St()),n;if(e===6)fs(t,r);else{if(i=t.current.alternate,!(r&30)&&!y4(i)&&(e=Kf(t,r),e===2&&(s=xy(t),s!==0&&(r=s,e=Zy(t,s))),e===1))throw n=xu,Fo(t,0),fs(t,r),Vn(t,St()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(ie(345));case 2:So(t,Dn,Ai);break;case 3:if(fs(t,r),(r&130023424)===r&&(e=ew+500-St(),10<e)){if(kf(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){bn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Ny(So.bind(null,t,Dn,Ai),e);break}So(t,Dn,Ai);break;case 4:if(fs(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Dr(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=St()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*g4(r/1960))-r,10<r){t.timeoutHandle=Ny(So.bind(null,t,Dn,Ai),r);break}So(t,Dn,Ai);break;case 5:So(t,Dn,Ai);break;default:throw Error(ie(329))}}}return Vn(t,St()),t.callbackNode===n?XA.bind(null,t):null}function Zy(t,e){var n=Hc;return t.current.memoizedState.isDehydrated&&(Fo(t,e).flags|=256),t=Kf(t,e),t!==2&&(e=Dn,Dn=n,e!==null&&Xy(e)),t}function Xy(t){Dn===null?Dn=t:Dn.push.apply(Dn,t)}function y4(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Or(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function fs(t,e){for(e&=~X0,e&=~qp,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Dr(e),r=1<<n;t[n]=-1,e&=~r}}function X1(t){if(Ye&6)throw Error(ie(327));rl();var e=kf(t,0);if(!(e&1))return Vn(t,St()),null;var n=Kf(t,e);if(t.tag!==0&&n===2){var r=xy(t);r!==0&&(e=r,n=Zy(t,r))}if(n===1)throw n=xu,Fo(t,0),fs(t,e),Vn(t,St()),n;if(n===6)throw Error(ie(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,So(t,Dn,Ai),Vn(t,St()),null}function tw(t,e){var n=Ye;Ye|=1;try{return t(e)}finally{Ye=n,Ye===0&&(bl=St()+500,Fp&&oo())}}function Wo(t){xs!==null&&xs.tag===0&&!(Ye&6)&&rl();var e=Ye;Ye|=1;var n=pr.transition,r=et;try{if(pr.transition=null,et=1,t)return t()}finally{et=r,pr.transition=n,Ye=e,!(Ye&6)&&oo()}}function nw(){Wn=Ka.current,ut(Ka)}function Fo(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,YM(n)),Nt!==null)for(n=Nt.return;n!==null;){var r=n;switch(L0(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Lf();break;case 3:Al(),ut(On),ut(pn),z0();break;case 5:$0(r);break;case 4:Al();break;case 13:ut(yt);break;case 19:ut(yt);break;case 10:j0(r.type._context);break;case 22:case 23:nw()}n=n.return}if(Qt=t,Nt=t=Os(t.current,null),Xt=Wn=e,Bt=0,xu=null,X0=qp=zo=0,Dn=Hc=null,ko!==null){for(e=0;e<ko.length;e++)if(n=ko[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}ko=null}return t}function eI(t,e){do{var n=Nt;try{if(B0(),Hh.current=zf,$f){for(var r=wt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}$f=!1}if($o=0,Wt=Ft=wt=null,Qc=!1,Cu=0,Z0.current=null,n===null||n.return===null){Bt=1,xu=e,Nt=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=Xt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=a,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var g=j1(o);if(g!==null){g.flags&=-257,U1(g,o,a,s,e),g.mode&1&&B1(s,c,e),e=g,l=c;var T=e.updateQueue;if(T===null){var y=new Set;y.add(l),e.updateQueue=y}else T.add(l);break e}else{if(!(e&1)){B1(s,c,e),rw();break e}l=Error(ie(426))}}else if(gt&&a.mode&1){var I=j1(o);if(I!==null){!(I.flags&65536)&&(I.flags|=256),U1(I,o,a,s,e),V0(Il(l,a));break e}}s=l=Il(l,a),Bt!==4&&(Bt=2),Hc===null?Hc=[s]:Hc.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var C=VA(s,l,e);D1(s,C);break e;case 1:a=l;var w=s.type,A=s.stateNode;if(!(s.flags&128)&&(typeof w.getDerivedStateFromError=="function"||A!==null&&typeof A.componentDidCatch=="function"&&(Ds===null||!Ds.has(A)))){s.flags|=65536,e&=-e,s.lanes|=e;var R=FA(s,a,e);D1(s,R);break e}}s=s.return}while(s!==null)}rI(n)}catch(O){e=O,Nt===n&&n!==null&&(Nt=n=n.return);continue}break}while(!0)}function tI(){var t=Wf.current;return Wf.current=zf,t===null?zf:t}function rw(){(Bt===0||Bt===3||Bt===2)&&(Bt=4),Qt===null||!(zo&268435455)&&!(qp&268435455)||fs(Qt,Xt)}function Kf(t,e){var n=Ye;Ye|=2;var r=tI();(Qt!==t||Xt!==e)&&(Ai=null,Fo(t,e));do try{v4();break}catch(i){eI(t,i)}while(!0);if(B0(),Ye=n,Wf.current=r,Nt!==null)throw Error(ie(261));return Qt=null,Xt=0,Bt}function v4(){for(;Nt!==null;)nI(Nt)}function w4(){for(;Nt!==null&&!$D();)nI(Nt)}function nI(t){var e=sI(t.alternate,t,Wn);t.memoizedProps=t.pendingProps,e===null?rI(t):Nt=e,Z0.current=null}function rI(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=h4(n,e),n!==null){n.flags&=32767,Nt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Bt=6,Nt=null;return}}else if(n=d4(n,e,Wn),n!==null){Nt=n;return}if(e=e.sibling,e!==null){Nt=e;return}Nt=e=t}while(e!==null);Bt===0&&(Bt=5)}function So(t,e,n){var r=et,i=pr.transition;try{pr.transition=null,et=1,E4(t,e,n,r)}finally{pr.transition=i,et=r}return null}function E4(t,e,n,r){do rl();while(xs!==null);if(Ye&6)throw Error(ie(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(ie(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(eM(t,s),t===Qt&&(Nt=Qt=null,Xt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Th||(Th=!0,oI(Pf,function(){return rl(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=pr.transition,pr.transition=null;var o=et;et=1;var a=Ye;Ye|=4,Z0.current=null,p4(t,n),JA(n,t),jM(Py),Nf=!!Ry,Py=Ry=null,t.current=n,m4(n),zD(),Ye=a,et=o,pr.transition=s}else t.current=n;if(Th&&(Th=!1,xs=t,Qf=i),s=t.pendingLanes,s===0&&(Ds=null),QD(n.stateNode),Vn(t,St()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Yf)throw Yf=!1,t=Hy,Hy=null,t;return Qf&1&&t.tag!==0&&rl(),s=t.pendingLanes,s&1?t===Jy?Jc++:(Jc=0,Jy=t):Jc=0,oo(),null}function rl(){if(xs!==null){var t=Vx(Qf),e=pr.transition,n=et;try{if(pr.transition=null,et=16>t?16:t,xs===null)var r=!1;else{if(t=xs,xs=null,Qf=0,Ye&6)throw Error(ie(331));var i=Ye;for(Ye|=4,me=t.current;me!==null;){var s=me,o=s.child;if(me.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(me=c;me!==null;){var d=me;switch(d.tag){case 0:case 11:case 15:Kc(8,d,s)}var f=d.child;if(f!==null)f.return=d,me=f;else for(;me!==null;){d=me;var h=d.sibling,g=d.return;if(QA(d),d===c){me=null;break}if(h!==null){h.return=g,me=h;break}me=g}}}var T=s.alternate;if(T!==null){var y=T.child;if(y!==null){T.child=null;do{var I=y.sibling;y.sibling=null,y=I}while(y!==null)}}me=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,me=o;else e:for(;me!==null;){if(s=me,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Kc(9,s,s.return)}var C=s.sibling;if(C!==null){C.return=s.return,me=C;break e}me=s.return}}var w=t.current;for(me=w;me!==null;){o=me;var A=o.child;if(o.subtreeFlags&2064&&A!==null)A.return=o,me=A;else e:for(o=w;me!==null;){if(a=me,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Up(9,a)}}catch(O){xt(a,a.return,O)}if(a===o){me=null;break e}var R=a.sibling;if(R!==null){R.return=a.return,me=R;break e}me=a.return}}if(Ye=i,oo(),Jr&&typeof Jr.onPostCommitFiberRoot=="function")try{Jr.onPostCommitFiberRoot(Dp,t)}catch{}r=!0}return r}finally{et=n,pr.transition=e}}return!1}function eC(t,e,n){e=Il(n,e),e=VA(t,e,1),t=Ns(t,e,1),e=bn(),t!==null&&(Yu(t,1,e),Vn(t,e))}function xt(t,e,n){if(t.tag===3)eC(t,t,n);else for(;e!==null;){if(e.tag===3){eC(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ds===null||!Ds.has(r))){t=Il(n,t),t=FA(e,t,1),e=Ns(e,t,1),t=bn(),e!==null&&(Yu(e,1,t),Vn(e,t));break}}e=e.return}}function C4(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=bn(),t.pingedLanes|=t.suspendedLanes&n,Qt===t&&(Xt&n)===n&&(Bt===4||Bt===3&&(Xt&130023424)===Xt&&500>St()-ew?Fo(t,0):X0|=n),Vn(t,e)}function iI(t,e){e===0&&(t.mode&1?(e=hh,hh<<=1,!(hh&130023424)&&(hh=4194304)):e=1);var n=bn();t=Li(t,e),t!==null&&(Yu(t,e,n),Vn(t,n))}function T4(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),iI(t,n)}function _4(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(ie(314))}r!==null&&r.delete(e),iI(t,n)}var sI;sI=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||On.current)Mn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Mn=!1,u4(t,e,n);Mn=!!(t.flags&131072)}else Mn=!1,gt&&e.flags&1048576&&cA(e,Bf,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Zh(t,e),t=e.pendingProps;var i=Tl(e,pn.current);nl(e,n),i=Y0(null,e,r,t,i,n);var s=Q0();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ln(r)?(s=!0,Vf(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,q0(e),i.updater=jp,e.stateNode=i,i._reactInternals=e,By(e,r,t,n),e=qy(null,e,r,!0,s,n)):(e.tag=0,gt&&s&&O0(e),_n(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Zh(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=A4(r),t=br(r,t),i){case 0:e=Uy(null,e,r,t,n);break e;case 1:e=$1(null,e,r,t,n);break e;case 11:e=q1(null,e,r,t,n);break e;case 14:e=G1(null,e,r,br(r.type,t),n);break e}throw Error(ie(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:br(r,i),Uy(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:br(r,i),$1(t,e,r,i,n);case 3:e:{if(qA(e),t===null)throw Error(ie(387));r=e.pendingProps,s=e.memoizedState,i=s.element,mA(t,e),qf(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Il(Error(ie(423)),e),e=z1(t,e,r,n,i);break e}else if(r!==i){i=Il(Error(ie(424)),e),e=z1(t,e,r,n,i);break e}else for(Kn=ks(e.stateNode.containerInfo.firstChild),Jn=e,gt=!0,kr=null,n=fA(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(_l(),r===i){e=Vi(t,e,n);break e}_n(t,e,r,n)}e=e.child}return e;case 5:return gA(e),t===null&&Ly(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,ky(r,i)?o=null:s!==null&&ky(r,s)&&(e.flags|=32),UA(t,e),_n(t,e,o,n),e.child;case 6:return t===null&&Ly(e),null;case 13:return GA(t,e,n);case 4:return G0(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=xl(e,null,r,n):_n(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:br(r,i),q1(t,e,r,i,n);case 7:return _n(t,e,e.pendingProps,n),e.child;case 8:return _n(t,e,e.pendingProps.children,n),e.child;case 12:return _n(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,st(jf,r._currentValue),r._currentValue=o,s!==null)if(Or(s.value,o)){if(s.children===i.children&&!On.current){e=Vi(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Ni(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Vy(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(ie(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Vy(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}_n(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,nl(e,n),i=mr(i),r=r(i),e.flags|=1,_n(t,e,r,n),e.child;case 14:return r=e.type,i=br(r,e.pendingProps),i=br(r.type,i),G1(t,e,r,i,n);case 15:return BA(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:br(r,i),Zh(t,e),e.tag=1,Ln(r)?(t=!0,Vf(e)):t=!1,nl(e,n),LA(e,r,i),By(e,r,i,n),qy(null,e,r,!0,t,n);case 19:return $A(t,e,n);case 22:return jA(t,e,n)}throw Error(ie(156,e.tag))};function oI(t,e){return Dx(t,e)}function x4(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fr(t,e,n,r){return new x4(t,e,n,r)}function iw(t){return t=t.prototype,!(!t||!t.isReactComponent)}function A4(t){if(typeof t=="function")return iw(t)?1:0;if(t!=null){if(t=t.$$typeof,t===_0)return 11;if(t===x0)return 14}return 2}function Os(t,e){var n=t.alternate;return n===null?(n=fr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function tf(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")iw(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Ba:return Bo(n.children,i,s,e);case T0:o=8,i|=8;break;case cy:return t=fr(12,n,e,i|2),t.elementType=cy,t.lanes=s,t;case uy:return t=fr(13,n,e,i),t.elementType=uy,t.lanes=s,t;case dy:return t=fr(19,n,e,i),t.elementType=dy,t.lanes=s,t;case gx:return Gp(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case px:o=10;break e;case mx:o=9;break e;case _0:o=11;break e;case x0:o=14;break e;case cs:o=16,r=null;break e}throw Error(ie(130,t==null?t:typeof t,""))}return e=fr(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Bo(t,e,n,r){return t=fr(7,t,r,e),t.lanes=n,t}function Gp(t,e,n,r){return t=fr(22,t,r,e),t.elementType=gx,t.lanes=n,t.stateNode={isHidden:!1},t}function Ig(t,e,n){return t=fr(6,t,null,e),t.lanes=n,t}function bg(t,e,n){return e=fr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function I4(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ag(0),this.expirationTimes=ag(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ag(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function sw(t,e,n,r,i,s,o,a,l){return t=new I4(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=fr(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},q0(s),t}function b4(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Fa,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function aI(t){if(!t)return zs;t=t._reactInternals;e:{if(ia(t)!==t||t.tag!==1)throw Error(ie(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ln(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ie(171))}if(t.tag===1){var n=t.type;if(Ln(n))return aA(t,n,e)}return e}function lI(t,e,n,r,i,s,o,a,l){return t=sw(n,r,!0,t,i,s,o,a,l),t.context=aI(null),n=t.current,r=bn(),i=Ms(n),s=Ni(r,i),s.callback=e??null,Ns(n,s,i),t.current.lanes=i,Yu(t,i,r),Vn(t,r),t}function $p(t,e,n,r){var i=e.current,s=bn(),o=Ms(i);return n=aI(n),e.context===null?e.context=n:e.pendingContext=n,e=Ni(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ns(i,e,o),t!==null&&(Mr(t,i,o,s),Kh(t,i,o)),o}function Hf(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function tC(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function ow(t,e){tC(t,e),(t=t.alternate)&&tC(t,e)}function S4(){return null}var cI=typeof reportError=="function"?reportError:function(t){console.error(t)};function aw(t){this._internalRoot=t}zp.prototype.render=aw.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ie(409));$p(t,e,null,null)};zp.prototype.unmount=aw.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Wo(function(){$p(null,t,null,null)}),e[Oi]=null}};function zp(t){this._internalRoot=t}zp.prototype.unstable_scheduleHydration=function(t){if(t){var e=jx();t={blockedOn:null,target:t,priority:e};for(var n=0;n<hs.length&&e!==0&&e<hs[n].priority;n++);hs.splice(n,0,t),n===0&&qx(t)}};function lw(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Wp(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function nC(){}function R4(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=Hf(o);s.call(c)}}var o=lI(e,r,t,0,null,!1,!1,"",nC);return t._reactRootContainer=o,t[Oi]=o.current,gu(t.nodeType===8?t.parentNode:t),Wo(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=Hf(l);a.call(c)}}var l=sw(t,0,!1,null,null,!1,!1,"",nC);return t._reactRootContainer=l,t[Oi]=l.current,gu(t.nodeType===8?t.parentNode:t),Wo(function(){$p(e,l,n,r)}),l}function Yp(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Hf(o);a.call(l)}}$p(e,o,t,i)}else o=R4(n,e,t,i,r);return Hf(o)}Fx=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=kc(e.pendingLanes);n!==0&&(b0(e,n|1),Vn(e,St()),!(Ye&6)&&(bl=St()+500,oo()))}break;case 13:Wo(function(){var r=Li(t,1);if(r!==null){var i=bn();Mr(r,t,1,i)}}),ow(t,1)}};S0=function(t){if(t.tag===13){var e=Li(t,134217728);if(e!==null){var n=bn();Mr(e,t,134217728,n)}ow(t,134217728)}};Bx=function(t){if(t.tag===13){var e=Ms(t),n=Li(t,e);if(n!==null){var r=bn();Mr(n,t,e,r)}ow(t,e)}};jx=function(){return et};Ux=function(t,e){var n=et;try{return et=t,e()}finally{et=n}};Cy=function(t,e,n){switch(e){case"input":if(py(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Vp(r);if(!i)throw Error(ie(90));vx(r),py(r,i)}}}break;case"textarea":Ex(t,n);break;case"select":e=n.value,e!=null&&Za(t,!!n.multiple,e,!1)}};bx=tw;Sx=Wo;var P4={usingClientEntryPoint:!1,Events:[Ku,Ga,Vp,Ax,Ix,tw]},Ic={findFiberByHostInstance:Po,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},k4={bundleType:Ic.bundleType,version:Ic.version,rendererPackageName:Ic.rendererPackageName,rendererConfig:Ic.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:$i.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=kx(t),t===null?null:t.stateNode},findFiberByHostInstance:Ic.findFiberByHostInstance||S4,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _h=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_h.isDisabled&&_h.supportsFiber)try{Dp=_h.inject(k4),Jr=_h}catch{}}nr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=P4;nr.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!lw(e))throw Error(ie(200));return b4(t,e,null,n)};nr.createRoot=function(t,e){if(!lw(t))throw Error(ie(299));var n=!1,r="",i=cI;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=sw(t,1,!1,null,null,n,!1,r,i),t[Oi]=e.current,gu(t.nodeType===8?t.parentNode:t),new aw(e)};nr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ie(188)):(t=Object.keys(t).join(","),Error(ie(268,t)));return t=kx(e),t=t===null?null:t.stateNode,t};nr.flushSync=function(t){return Wo(t)};nr.hydrate=function(t,e,n){if(!Wp(e))throw Error(ie(200));return Yp(null,t,e,!0,n)};nr.hydrateRoot=function(t,e,n){if(!lw(t))throw Error(ie(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=cI;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=lI(e,null,t,1,n??null,i,!1,s,o),t[Oi]=e.current,gu(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new zp(e)};nr.render=function(t,e,n){if(!Wp(e))throw Error(ie(200));return Yp(null,t,e,!1,n)};nr.unmountComponentAtNode=function(t){if(!Wp(t))throw Error(ie(40));return t._reactRootContainer?(Wo(function(){Yp(null,null,t,!1,function(){t._reactRootContainer=null,t[Oi]=null})}),!0):!1};nr.unstable_batchedUpdates=tw;nr.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Wp(n))throw Error(ie(200));if(t==null||t._reactInternals===void 0)throw Error(ie(38));return Yp(t,e,n,!1,r)};nr.version="18.3.1-next-f1338f8080-20240426";function uI(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(uI)}catch(t){console.error(t)}}uI(),ux.exports=nr;var sa=ux.exports;const dI=p0(sa);var hI,rC=sa;hI=rC.createRoot,rC.hydrateRoot;const N4=1,D4=1e6;let Sg=0;function M4(){return Sg=(Sg+1)%Number.MAX_SAFE_INTEGER,Sg.toString()}const Rg=new Map,iC=t=>{if(Rg.has(t))return;const e=setTimeout(()=>{Rg.delete(t),Zc({type:"REMOVE_TOAST",toastId:t})},D4);Rg.set(t,e)},O4=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,N4)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?iC(n):t.toasts.forEach(r=>{iC(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},nf=[];let rf={toasts:[]};function Zc(t){rf=O4(rf,t),nf.forEach(e=>{e(rf)})}function At({...t}){const e=M4(),n=i=>Zc({type:"UPDATE_TOAST",toast:{...i,id:e}}),r=()=>Zc({type:"DISMISS_TOAST",toastId:e});return Zc({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:i=>{i||r()}}}),{id:e,dismiss:r,update:n}}function L4(){const[t,e]=v.useState(rf);return v.useEffect(()=>(nf.push(e),()=>{const n=nf.indexOf(e);n>-1&&nf.splice(n,1)}),[t]),{...t,toast:At,dismiss:n=>Zc({type:"DISMISS_TOAST",toastId:n})}}function Ie(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function V4(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function fI(...t){return e=>t.forEach(n=>V4(n,e))}function ot(...t){return v.useCallback(fI(...t),t)}function F4(t,e=[]){let n=[];function r(s,o){const a=v.createContext(o),l=n.length;n=[...n,o];function c(f){const{scope:h,children:g,...T}=f,y=(h==null?void 0:h[t][l])||a,I=v.useMemo(()=>T,Object.values(T));return p.jsx(y.Provider,{value:I,children:g})}function d(f,h){const g=(h==null?void 0:h[t][l])||a,T=v.useContext(g);if(T)return T;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${s}\``)}return c.displayName=s+"Provider",[c,d]}const i=()=>{const s=n.map(o=>v.createContext(o));return function(a){const l=(a==null?void 0:a[t])||s;return v.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return i.scopeName=t,[r,B4(i,...e)]}function B4(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const f=l(s)[`__scope${c}`];return{...a,...f}},{});return v.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var Yo=v.forwardRef((t,e)=>{const{children:n,...r}=t,i=v.Children.toArray(n),s=i.find(j4);if(s){const o=s.props.children,a=i.map(l=>l===s?v.Children.count(o)>1?v.Children.only(null):v.isValidElement(o)?o.props.children:null:l);return p.jsx(ev,{...r,ref:e,children:v.isValidElement(o)?v.cloneElement(o,void 0,a):null})}return p.jsx(ev,{...r,ref:e,children:n})});Yo.displayName="Slot";var ev=v.forwardRef((t,e)=>{const{children:n,...r}=t;if(v.isValidElement(n)){const i=q4(n);return v.cloneElement(n,{...U4(r,n.props),ref:e?fI(e,i):i})}return v.Children.count(n)>1?v.Children.only(null):null});ev.displayName="SlotClone";var pI=({children:t})=>p.jsx(p.Fragment,{children:t});function j4(t){return v.isValidElement(t)&&t.type===pI}function U4(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...a)=>{s(...a),i(...a)}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}function q4(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function cw(t){const e=t+"CollectionProvider",[n,r]=F4(e),[i,s]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=g=>{const{scope:T,children:y}=g,I=Y.useRef(null),C=Y.useRef(new Map).current;return p.jsx(i,{scope:T,itemMap:C,collectionRef:I,children:y})};o.displayName=e;const a=t+"CollectionSlot",l=Y.forwardRef((g,T)=>{const{scope:y,children:I}=g,C=s(a,y),w=ot(T,C.collectionRef);return p.jsx(Yo,{ref:w,children:I})});l.displayName=a;const c=t+"CollectionItemSlot",d="data-radix-collection-item",f=Y.forwardRef((g,T)=>{const{scope:y,children:I,...C}=g,w=Y.useRef(null),A=ot(T,w),R=s(c,y);return Y.useEffect(()=>(R.itemMap.set(w,{ref:w,...C}),()=>void R.itemMap.delete(w))),p.jsx(Yo,{[d]:"",ref:A,children:I})});f.displayName=c;function h(g){const T=s(t+"CollectionConsumer",g);return Y.useCallback(()=>{const I=T.collectionRef.current;if(!I)return[];const C=Array.from(I.querySelectorAll(`[${d}]`));return Array.from(T.itemMap.values()).sort((R,O)=>C.indexOf(R.ref.current)-C.indexOf(O.ref.current))},[T.collectionRef,T.itemMap])}return[{Provider:o,Slot:l,ItemSlot:f},h,r]}function G4(t,e){const n=v.createContext(e),r=s=>{const{children:o,...a}=s,l=v.useMemo(()=>a,Object.values(a));return p.jsx(n.Provider,{value:l,children:o})};r.displayName=t+"Provider";function i(s){const o=v.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${s}\` must be used within \`${t}\``)}return[r,i]}function Ju(t,e=[]){let n=[];function r(s,o){const a=v.createContext(o),l=n.length;n=[...n,o];const c=f=>{var C;const{scope:h,children:g,...T}=f,y=((C=h==null?void 0:h[t])==null?void 0:C[l])||a,I=v.useMemo(()=>T,Object.values(T));return p.jsx(y.Provider,{value:I,children:g})};c.displayName=s+"Provider";function d(f,h){var y;const g=((y=h==null?void 0:h[t])==null?void 0:y[l])||a,T=v.useContext(g);if(T)return T;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${s}\``)}return[c,d]}const i=()=>{const s=n.map(o=>v.createContext(o));return function(a){const l=(a==null?void 0:a[t])||s;return v.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return i.scopeName=t,[r,$4(i,...e)]}function $4(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const f=l(s)[`__scope${c}`];return{...a,...f}},{});return v.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var z4=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Le=z4.reduce((t,e)=>{const n=v.forwardRef((r,i)=>{const{asChild:s,...o}=r,a=s?Yo:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),p.jsx(a,{...o,ref:i})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function mI(t,e){t&&sa.flushSync(()=>t.dispatchEvent(e))}function Fn(t){const e=v.useRef(t);return v.useEffect(()=>{e.current=t}),v.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function W4(t,e=globalThis==null?void 0:globalThis.document){const n=Fn(t);v.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var Y4="DismissableLayer",tv="dismissableLayer.update",Q4="dismissableLayer.pointerDownOutside",K4="dismissableLayer.focusOutside",sC,gI=v.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Zu=v.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,onDismiss:a,...l}=t,c=v.useContext(gI),[d,f]=v.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=v.useState({}),T=ot(e,S=>f(S)),y=Array.from(c.layers),[I]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),C=y.indexOf(I),w=d?y.indexOf(d):-1,A=c.layersWithOutsidePointerEventsDisabled.size>0,R=w>=C,O=J4(S=>{const b=S.target,k=[...c.branches].some(D=>D.contains(b));!R||k||(i==null||i(S),o==null||o(S),S.defaultPrevented||a==null||a())},h),B=Z4(S=>{const b=S.target;[...c.branches].some(D=>D.contains(b))||(s==null||s(S),o==null||o(S),S.defaultPrevented||a==null||a())},h);return W4(S=>{w===c.layers.size-1&&(r==null||r(S),!S.defaultPrevented&&a&&(S.preventDefault(),a()))},h),v.useEffect(()=>{if(d)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(sC=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(d)),c.layers.add(d),oC(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=sC)}},[d,h,n,c]),v.useEffect(()=>()=>{d&&(c.layers.delete(d),c.layersWithOutsidePointerEventsDisabled.delete(d),oC())},[d,c]),v.useEffect(()=>{const S=()=>g({});return document.addEventListener(tv,S),()=>document.removeEventListener(tv,S)},[]),p.jsx(Le.div,{...l,ref:T,style:{pointerEvents:A?R?"auto":"none":void 0,...t.style},onFocusCapture:Ie(t.onFocusCapture,B.onFocusCapture),onBlurCapture:Ie(t.onBlurCapture,B.onBlurCapture),onPointerDownCapture:Ie(t.onPointerDownCapture,O.onPointerDownCapture)})});Zu.displayName=Y4;var H4="DismissableLayerBranch",yI=v.forwardRef((t,e)=>{const n=v.useContext(gI),r=v.useRef(null),i=ot(e,r);return v.useEffect(()=>{const s=r.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),p.jsx(Le.div,{...t,ref:i})});yI.displayName=H4;function J4(t,e=globalThis==null?void 0:globalThis.document){const n=Fn(t),r=v.useRef(!1),i=v.useRef(()=>{});return v.useEffect(()=>{const s=a=>{if(a.target&&!r.current){let l=function(){vI(Q4,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=l,e.addEventListener("click",i.current,{once:!0})):l()}else e.removeEventListener("click",i.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function Z4(t,e=globalThis==null?void 0:globalThis.document){const n=Fn(t),r=v.useRef(!1);return v.useEffect(()=>{const i=s=>{s.target&&!r.current&&vI(K4,n,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function oC(){const t=new CustomEvent(tv);document.dispatchEvent(t)}function vI(t,e,n,{discrete:r}){const i=n.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?mI(i,s):i.dispatchEvent(s)}var X4=Zu,eO=yI,mn=globalThis!=null&&globalThis.document?v.useLayoutEffect:()=>{},tO="Portal",Qp=v.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[i,s]=v.useState(!1);mn(()=>s(!0),[]);const o=n||i&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?dI.createPortal(p.jsx(Le.div,{...r,ref:e}),o):null});Qp.displayName=tO;function nO(t,e){return v.useReducer((n,r)=>e[n][r]??n,t)}var oa=t=>{const{present:e,children:n}=t,r=rO(e),i=typeof n=="function"?n({present:r.isPresent}):v.Children.only(n),s=ot(r.ref,iO(i));return typeof n=="function"||r.isPresent?v.cloneElement(i,{ref:s}):null};oa.displayName="Presence";function rO(t){const[e,n]=v.useState(),r=v.useRef({}),i=v.useRef(t),s=v.useRef("none"),o=t?"mounted":"unmounted",[a,l]=nO(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return v.useEffect(()=>{const c=xh(r.current);s.current=a==="mounted"?c:"none"},[a]),mn(()=>{const c=r.current,d=i.current;if(d!==t){const h=s.current,g=xh(c);t?l("MOUNT"):g==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(d&&h!==g?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,l]),mn(()=>{if(e){let c;const d=e.ownerDocument.defaultView??window,f=g=>{const y=xh(r.current).includes(g.animationName);if(g.target===e&&y&&(l("ANIMATION_END"),!i.current)){const I=e.style.animationFillMode;e.style.animationFillMode="forwards",c=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=I)})}},h=g=>{g.target===e&&(s.current=xh(r.current))};return e.addEventListener("animationstart",h),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{d.clearTimeout(c),e.removeEventListener("animationstart",h),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:v.useCallback(c=>{c&&(r.current=getComputedStyle(c)),n(c)},[])}}function xh(t){return(t==null?void 0:t.animationName)||"none"}function iO(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Sl({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,i]=sO({defaultProp:e,onChange:n}),s=t!==void 0,o=s?t:r,a=Fn(n),l=v.useCallback(c=>{if(s){const f=typeof c=="function"?c(t):c;f!==t&&a(f)}else i(c)},[s,t,i,a]);return[o,l]}function sO({defaultProp:t,onChange:e}){const n=v.useState(t),[r]=n,i=v.useRef(r),s=Fn(e);return v.useEffect(()=>{i.current!==r&&(s(r),i.current=r)},[r,i,s]),n}var oO="VisuallyHidden",Xu=v.forwardRef((t,e)=>p.jsx(Le.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));Xu.displayName=oO;var aO=Xu,uw="ToastProvider",[dw,lO,cO]=cw("Toast"),[wI,bz]=Ju("Toast",[cO]),[uO,Kp]=wI(uw),EI=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:s=50,children:o}=t,[a,l]=v.useState(null),[c,d]=v.useState(0),f=v.useRef(!1),h=v.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${uw}\`. Expected non-empty \`string\`.`),p.jsx(dw.Provider,{scope:e,children:p.jsx(uO,{scope:e,label:n,duration:r,swipeDirection:i,swipeThreshold:s,toastCount:c,viewport:a,onViewportChange:l,onToastAdd:v.useCallback(()=>d(g=>g+1),[]),onToastRemove:v.useCallback(()=>d(g=>g-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:h,children:o})})};EI.displayName=uw;var CI="ToastViewport",dO=["F8"],nv="toast.viewportPause",rv="toast.viewportResume",TI=v.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=dO,label:i="Notifications ({hotkey})",...s}=t,o=Kp(CI,n),a=lO(n),l=v.useRef(null),c=v.useRef(null),d=v.useRef(null),f=v.useRef(null),h=ot(e,f,o.onViewportChange),g=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),T=o.toastCount>0;v.useEffect(()=>{const I=C=>{var A;r.length!==0&&r.every(R=>C[R]||C.code===R)&&((A=f.current)==null||A.focus())};return document.addEventListener("keydown",I),()=>document.removeEventListener("keydown",I)},[r]),v.useEffect(()=>{const I=l.current,C=f.current;if(T&&I&&C){const w=()=>{if(!o.isClosePausedRef.current){const B=new CustomEvent(nv);C.dispatchEvent(B),o.isClosePausedRef.current=!0}},A=()=>{if(o.isClosePausedRef.current){const B=new CustomEvent(rv);C.dispatchEvent(B),o.isClosePausedRef.current=!1}},R=B=>{!I.contains(B.relatedTarget)&&A()},O=()=>{I.contains(document.activeElement)||A()};return I.addEventListener("focusin",w),I.addEventListener("focusout",R),I.addEventListener("pointermove",w),I.addEventListener("pointerleave",O),window.addEventListener("blur",w),window.addEventListener("focus",A),()=>{I.removeEventListener("focusin",w),I.removeEventListener("focusout",R),I.removeEventListener("pointermove",w),I.removeEventListener("pointerleave",O),window.removeEventListener("blur",w),window.removeEventListener("focus",A)}}},[T,o.isClosePausedRef]);const y=v.useCallback(({tabbingDirection:I})=>{const w=a().map(A=>{const R=A.ref.current,O=[R,...xO(R)];return I==="forwards"?O:O.reverse()});return(I==="forwards"?w.reverse():w).flat()},[a]);return v.useEffect(()=>{const I=f.current;if(I){const C=w=>{var O,B,S;const A=w.altKey||w.ctrlKey||w.metaKey;if(w.key==="Tab"&&!A){const b=document.activeElement,k=w.shiftKey;if(w.target===I&&k){(O=c.current)==null||O.focus();return}const F=y({tabbingDirection:k?"backwards":"forwards"}),M=F.findIndex(te=>te===b);Pg(F.slice(M+1))?w.preventDefault():k?(B=c.current)==null||B.focus():(S=d.current)==null||S.focus()}};return I.addEventListener("keydown",C),()=>I.removeEventListener("keydown",C)}},[a,y]),p.jsxs(eO,{ref:l,role:"region","aria-label":i.replace("{hotkey}",g),tabIndex:-1,style:{pointerEvents:T?void 0:"none"},children:[T&&p.jsx(iv,{ref:c,onFocusFromOutsideViewport:()=>{const I=y({tabbingDirection:"forwards"});Pg(I)}}),p.jsx(dw.Slot,{scope:n,children:p.jsx(Le.ol,{tabIndex:-1,...s,ref:h})}),T&&p.jsx(iv,{ref:d,onFocusFromOutsideViewport:()=>{const I=y({tabbingDirection:"backwards"});Pg(I)}})]})});TI.displayName=CI;var _I="ToastFocusProxy",iv=v.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...i}=t,s=Kp(_I,n);return p.jsx(Xu,{"aria-hidden":!0,tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:o=>{var c;const a=o.relatedTarget;!((c=s.viewport)!=null&&c.contains(a))&&r()}})});iv.displayName=_I;var Hp="Toast",hO="toast.swipeStart",fO="toast.swipeMove",pO="toast.swipeCancel",mO="toast.swipeEnd",xI=v.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:i,onOpenChange:s,...o}=t,[a=!0,l]=Sl({prop:r,defaultProp:i,onChange:s});return p.jsx(oa,{present:n||a,children:p.jsx(vO,{open:a,...o,ref:e,onClose:()=>l(!1),onPause:Fn(t.onPause),onResume:Fn(t.onResume),onSwipeStart:Ie(t.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Ie(t.onSwipeMove,c=>{const{x:d,y:f}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:Ie(t.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Ie(t.onSwipeEnd,c=>{const{x:d,y:f}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),l(!1)})})})});xI.displayName=Hp;var[gO,yO]=wI(Hp,{onClose(){}}),vO=v.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:i,open:s,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:c,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:h,onSwipeEnd:g,...T}=t,y=Kp(Hp,n),[I,C]=v.useState(null),w=ot(e,te=>C(te)),A=v.useRef(null),R=v.useRef(null),O=i||y.duration,B=v.useRef(0),S=v.useRef(O),b=v.useRef(0),{onToastAdd:k,onToastRemove:D}=y,V=Fn(()=>{var re;(I==null?void 0:I.contains(document.activeElement))&&((re=y.viewport)==null||re.focus()),o()}),F=v.useCallback(te=>{!te||te===1/0||(window.clearTimeout(b.current),B.current=new Date().getTime(),b.current=window.setTimeout(V,te))},[V]);v.useEffect(()=>{const te=y.viewport;if(te){const re=()=>{F(S.current),c==null||c()},ee=()=>{const pe=new Date().getTime()-B.current;S.current=S.current-pe,window.clearTimeout(b.current),l==null||l()};return te.addEventListener(nv,ee),te.addEventListener(rv,re),()=>{te.removeEventListener(nv,ee),te.removeEventListener(rv,re)}}},[y.viewport,O,l,c,F]),v.useEffect(()=>{s&&!y.isClosePausedRef.current&&F(O)},[s,O,y.isClosePausedRef,F]),v.useEffect(()=>(k(),()=>D()),[k,D]);const M=v.useMemo(()=>I?kI(I):null,[I]);return y.viewport?p.jsxs(p.Fragment,{children:[M&&p.jsx(wO,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:M}),p.jsx(gO,{scope:n,onClose:V,children:sa.createPortal(p.jsx(dw.ItemSlot,{scope:n,children:p.jsx(X4,{asChild:!0,onEscapeKeyDown:Ie(a,()=>{y.isFocusedToastEscapeKeyDownRef.current||V(),y.isFocusedToastEscapeKeyDownRef.current=!1}),children:p.jsx(Le.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":y.swipeDirection,...T,ref:w,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:Ie(t.onKeyDown,te=>{te.key==="Escape"&&(a==null||a(te.nativeEvent),te.nativeEvent.defaultPrevented||(y.isFocusedToastEscapeKeyDownRef.current=!0,V()))}),onPointerDown:Ie(t.onPointerDown,te=>{te.button===0&&(A.current={x:te.clientX,y:te.clientY})}),onPointerMove:Ie(t.onPointerMove,te=>{if(!A.current)return;const re=te.clientX-A.current.x,ee=te.clientY-A.current.y,pe=!!R.current,G=["left","right"].includes(y.swipeDirection),Z=["left","up"].includes(y.swipeDirection)?Math.min:Math.max,ae=G?Z(0,re):0,se=G?0:Z(0,ee),ue=te.pointerType==="touch"?10:2,he={x:ae,y:se},ke={originalEvent:te,delta:he};pe?(R.current=he,Ah(fO,f,ke,{discrete:!1})):aC(he,y.swipeDirection,ue)?(R.current=he,Ah(hO,d,ke,{discrete:!1}),te.target.setPointerCapture(te.pointerId)):(Math.abs(re)>ue||Math.abs(ee)>ue)&&(A.current=null)}),onPointerUp:Ie(t.onPointerUp,te=>{const re=R.current,ee=te.target;if(ee.hasPointerCapture(te.pointerId)&&ee.releasePointerCapture(te.pointerId),R.current=null,A.current=null,re){const pe=te.currentTarget,G={originalEvent:te,delta:re};aC(re,y.swipeDirection,y.swipeThreshold)?Ah(mO,g,G,{discrete:!0}):Ah(pO,h,G,{discrete:!0}),pe.addEventListener("click",Z=>Z.preventDefault(),{once:!0})}})})})}),y.viewport)})]}):null}),wO=t=>{const{__scopeToast:e,children:n,...r}=t,i=Kp(Hp,e),[s,o]=v.useState(!1),[a,l]=v.useState(!1);return TO(()=>o(!0)),v.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:p.jsx(Qp,{asChild:!0,children:p.jsx(Xu,{...r,children:s&&p.jsxs(p.Fragment,{children:[i.label," ",n]})})})},EO="ToastTitle",AI=v.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return p.jsx(Le.div,{...r,ref:e})});AI.displayName=EO;var CO="ToastDescription",II=v.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return p.jsx(Le.div,{...r,ref:e})});II.displayName=CO;var bI="ToastAction",SI=v.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?p.jsx(PI,{altText:n,asChild:!0,children:p.jsx(hw,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${bI}\`. Expected non-empty \`string\`.`),null)});SI.displayName=bI;var RI="ToastClose",hw=v.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,i=yO(RI,n);return p.jsx(PI,{asChild:!0,children:p.jsx(Le.button,{type:"button",...r,ref:e,onClick:Ie(t.onClick,i.onClose)})})});hw.displayName=RI;var PI=v.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...i}=t;return p.jsx(Le.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:e})});function kI(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),_O(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",s=r.dataset.radixToastAnnounceExclude==="";if(!i)if(s){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...kI(r))}}),e}function Ah(t,e,n,{discrete:r}){const i=n.originalEvent.currentTarget,s=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?mI(i,s):i.dispatchEvent(s)}var aC=(t,e,n=0)=>{const r=Math.abs(t.x),i=Math.abs(t.y),s=r>i;return e==="left"||e==="right"?s&&r>n:!s&&i>n};function TO(t=()=>{}){const e=Fn(t);mn(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function _O(t){return t.nodeType===t.ELEMENT_NODE}function xO(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Pg(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var AO=EI,NI=TI,DI=xI,MI=AI,OI=II,LI=SI,VI=hw;function FI(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=FI(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function BI(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=FI(t))&&(r&&(r+=" "),r+=e);return r}const lC=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,cC=BI,fw=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return cC(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:s}=e,o=Object.keys(i).map(c=>{const d=n==null?void 0:n[c],f=s==null?void 0:s[c];if(d===null)return null;const h=lC(d)||lC(f);return i[c][h]}),a=n&&Object.entries(n).reduce((c,d)=>{let[f,h]=d;return h===void 0||(c[f]=h),c},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,d)=>{let{class:f,className:h,...g}=d;return Object.entries(g).every(T=>{let[y,I]=T;return Array.isArray(I)?I.includes({...s,...a}[y]):{...s,...a}[y]===I})?[...c,f,h]:c},[]);return cC(t,o,l,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IO=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),jI=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var bO={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SO=v.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:o,...a},l)=>v.createElement("svg",{ref:l,...bO,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:jI("lucide",i),...a},[...o.map(([c,d])=>v.createElement(c,d)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bn=(t,e)=>{const n=v.forwardRef(({className:r,...i},s)=>v.createElement(SO,{ref:s,iconNode:e,className:jI(`lucide-${IO(t)}`,r),...i}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $l=Bn("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RO=Bn("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UI=Bn("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PO=Bn("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sv=Bn("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jf=Bn("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kO=Bn("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NO=Bn("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DO=Bn("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qI=Bn("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uC=Bn("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dC=Bn("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ov=Bn("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pw=Bn("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),mw="-",MO=t=>{const e=LO(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(mw);return a[0]===""&&a.length!==1&&a.shift(),GI(a,e)||OO(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},GI=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?GI(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const s=t.join(mw);return(o=e.validators.find(({validator:a})=>a(s)))==null?void 0:o.classGroupId},hC=/^\[(.+)\]$/,OO=t=>{if(hC.test(t)){const e=hC.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},LO=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return FO(Object.entries(t.classGroups),n).forEach(([s,o])=>{av(o,r,s,e)}),r},av=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const s=i===""?e:fC(e,i);s.classGroupId=n;return}if(typeof i=="function"){if(VO(i)){av(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([s,o])=>{av(o,fC(e,s),n,r)})})},fC=(t,e)=>{let n=t;return e.split(mw).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},VO=t=>t.isThemeGetter,FO=(t,e)=>e?t.map(([n,r])=>{const i=r.map(s=>typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([o,a])=>[e+o,a])):s);return[n,i]}):t,BO=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(s,o)=>{n.set(s,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(s){let o=n.get(s);if(o!==void 0)return o;if((o=r.get(s))!==void 0)return i(s,o),o},set(s,o){n.has(s)?n.set(s,o):i(s,o)}}},$I="!",jO=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,i=e[0],s=e.length,o=a=>{const l=[];let c=0,d=0,f;for(let I=0;I<a.length;I++){let C=a[I];if(c===0){if(C===i&&(r||a.slice(I,I+s)===e)){l.push(a.slice(d,I)),d=I+s;continue}if(C==="/"){f=I;continue}}C==="["?c++:C==="]"&&c--}const h=l.length===0?a:a.substring(d),g=h.startsWith($I),T=g?h.substring(1):h,y=f&&f>d?f-d:void 0;return{modifiers:l,hasImportantModifier:g,baseClassName:T,maybePostfixModifierPosition:y}};return n?a=>n({className:a,parseClassName:o}):o},UO=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},qO=t=>({cache:BO(t.cacheSize),parseClassName:jO(t),...MO(t)}),GO=/\s+/,$O=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=e,s=[],o=t.trim().split(GO);let a="";for(let l=o.length-1;l>=0;l-=1){const c=o[l],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:g}=n(c);let T=!!g,y=r(T?h.substring(0,g):h);if(!y){if(!T){a=c+(a.length>0?" "+a:a);continue}if(y=r(h),!y){a=c+(a.length>0?" "+a:a);continue}T=!1}const I=UO(d).join(":"),C=f?I+$I:I,w=C+y;if(s.includes(w))continue;s.push(w);const A=i(y,T);for(let R=0;R<A.length;++R){const O=A[R];s.push(C+O)}a=c+(a.length>0?" "+a:a)}return a};function zO(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=zI(e))&&(r&&(r+=" "),r+=n);return r}const zI=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=zI(t[r]))&&(n&&(n+=" "),n+=e);return n};function WO(t,...e){let n,r,i,s=o;function o(l){const c=e.reduce((d,f)=>f(d),t());return n=qO(c),r=n.cache.get,i=n.cache.set,s=a,a(l)}function a(l){const c=r(l);if(c)return c;const d=$O(l,n);return i(l,d),d}return function(){return s(zO.apply(null,arguments))}}const lt=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},WI=/^\[(?:([a-z-]+):)?(.+)\]$/i,YO=/^\d+\/\d+$/,QO=new Set(["px","full","screen"]),KO=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,HO=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,JO=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,ZO=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,XO=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ti=t=>il(t)||QO.has(t)||YO.test(t),rs=t=>zl(t,"length",aL),il=t=>!!t&&!Number.isNaN(Number(t)),kg=t=>zl(t,"number",il),bc=t=>!!t&&Number.isInteger(Number(t)),eL=t=>t.endsWith("%")&&il(t.slice(0,-1)),Ne=t=>WI.test(t),is=t=>KO.test(t),tL=new Set(["length","size","percentage"]),nL=t=>zl(t,tL,YI),rL=t=>zl(t,"position",YI),iL=new Set(["image","url"]),sL=t=>zl(t,iL,cL),oL=t=>zl(t,"",lL),Sc=()=>!0,zl=(t,e,n)=>{const r=WI.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},aL=t=>HO.test(t)&&!JO.test(t),YI=()=>!1,lL=t=>ZO.test(t),cL=t=>XO.test(t),uL=()=>{const t=lt("colors"),e=lt("spacing"),n=lt("blur"),r=lt("brightness"),i=lt("borderColor"),s=lt("borderRadius"),o=lt("borderSpacing"),a=lt("borderWidth"),l=lt("contrast"),c=lt("grayscale"),d=lt("hueRotate"),f=lt("invert"),h=lt("gap"),g=lt("gradientColorStops"),T=lt("gradientColorStopPositions"),y=lt("inset"),I=lt("margin"),C=lt("opacity"),w=lt("padding"),A=lt("saturate"),R=lt("scale"),O=lt("sepia"),B=lt("skew"),S=lt("space"),b=lt("translate"),k=()=>["auto","contain","none"],D=()=>["auto","hidden","clip","visible","scroll"],V=()=>["auto",Ne,e],F=()=>[Ne,e],M=()=>["",Ti,rs],te=()=>["auto",il,Ne],re=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],ee=()=>["solid","dashed","dotted","double","none"],pe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],G=()=>["start","end","center","between","around","evenly","stretch"],Z=()=>["","0",Ne],ae=()=>["auto","avoid","all","avoid-page","page","left","right","column"],se=()=>[il,Ne];return{cacheSize:500,separator:":",theme:{colors:[Sc],spacing:[Ti,rs],blur:["none","",is,Ne],brightness:se(),borderColor:[t],borderRadius:["none","","full",is,Ne],borderSpacing:F(),borderWidth:M(),contrast:se(),grayscale:Z(),hueRotate:se(),invert:Z(),gap:F(),gradientColorStops:[t],gradientColorStopPositions:[eL,rs],inset:V(),margin:V(),opacity:se(),padding:F(),saturate:se(),scale:se(),sepia:Z(),skew:se(),space:F(),translate:F()},classGroups:{aspect:[{aspect:["auto","square","video",Ne]}],container:["container"],columns:[{columns:[is]}],"break-after":[{"break-after":ae()}],"break-before":[{"break-before":ae()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...re(),Ne]}],overflow:[{overflow:D()}],"overflow-x":[{"overflow-x":D()}],"overflow-y":[{"overflow-y":D()}],overscroll:[{overscroll:k()}],"overscroll-x":[{"overscroll-x":k()}],"overscroll-y":[{"overscroll-y":k()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[y]}],"inset-x":[{"inset-x":[y]}],"inset-y":[{"inset-y":[y]}],start:[{start:[y]}],end:[{end:[y]}],top:[{top:[y]}],right:[{right:[y]}],bottom:[{bottom:[y]}],left:[{left:[y]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",bc,Ne]}],basis:[{basis:V()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ne]}],grow:[{grow:Z()}],shrink:[{shrink:Z()}],order:[{order:["first","last","none",bc,Ne]}],"grid-cols":[{"grid-cols":[Sc]}],"col-start-end":[{col:["auto",{span:["full",bc,Ne]},Ne]}],"col-start":[{"col-start":te()}],"col-end":[{"col-end":te()}],"grid-rows":[{"grid-rows":[Sc]}],"row-start-end":[{row:["auto",{span:[bc,Ne]},Ne]}],"row-start":[{"row-start":te()}],"row-end":[{"row-end":te()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ne]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ne]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...G()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...G(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...G(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[w]}],px:[{px:[w]}],py:[{py:[w]}],ps:[{ps:[w]}],pe:[{pe:[w]}],pt:[{pt:[w]}],pr:[{pr:[w]}],pb:[{pb:[w]}],pl:[{pl:[w]}],m:[{m:[I]}],mx:[{mx:[I]}],my:[{my:[I]}],ms:[{ms:[I]}],me:[{me:[I]}],mt:[{mt:[I]}],mr:[{mr:[I]}],mb:[{mb:[I]}],ml:[{ml:[I]}],"space-x":[{"space-x":[S]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[S]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ne,e]}],"min-w":[{"min-w":[Ne,e,"min","max","fit"]}],"max-w":[{"max-w":[Ne,e,"none","full","min","max","fit","prose",{screen:[is]},is]}],h:[{h:[Ne,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ne,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ne,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ne,e,"auto","min","max","fit"]}],"font-size":[{text:["base",is,rs]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",kg]}],"font-family":[{font:[Sc]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ne]}],"line-clamp":[{"line-clamp":["none",il,kg]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Ti,Ne]}],"list-image":[{"list-image":["none",Ne]}],"list-style-type":[{list:["none","disc","decimal",Ne]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[C]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[C]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ee(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Ti,rs]}],"underline-offset":[{"underline-offset":["auto",Ti,Ne]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:F()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ne]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ne]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[C]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...re(),rL]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",nL]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},sL]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[T]}],"gradient-via-pos":[{via:[T]}],"gradient-to-pos":[{to:[T]}],"gradient-from":[{from:[g]}],"gradient-via":[{via:[g]}],"gradient-to":[{to:[g]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[C]}],"border-style":[{border:[...ee(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[C]}],"divide-style":[{divide:ee()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...ee()]}],"outline-offset":[{"outline-offset":[Ti,Ne]}],"outline-w":[{outline:[Ti,rs]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:M()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[C]}],"ring-offset-w":[{"ring-offset":[Ti,rs]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",is,oL]}],"shadow-color":[{shadow:[Sc]}],opacity:[{opacity:[C]}],"mix-blend":[{"mix-blend":[...pe(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":pe()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",is,Ne]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[A]}],sepia:[{sepia:[O]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[C]}],"backdrop-saturate":[{"backdrop-saturate":[A]}],"backdrop-sepia":[{"backdrop-sepia":[O]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ne]}],duration:[{duration:se()}],ease:[{ease:["linear","in","out","in-out",Ne]}],delay:[{delay:se()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ne]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[R]}],"scale-x":[{"scale-x":[R]}],"scale-y":[{"scale-y":[R]}],rotate:[{rotate:[bc,Ne]}],"translate-x":[{"translate-x":[b]}],"translate-y":[{"translate-y":[b]}],"skew-x":[{"skew-x":[B]}],"skew-y":[{"skew-y":[B]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ne]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ne]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":F()}],"scroll-mx":[{"scroll-mx":F()}],"scroll-my":[{"scroll-my":F()}],"scroll-ms":[{"scroll-ms":F()}],"scroll-me":[{"scroll-me":F()}],"scroll-mt":[{"scroll-mt":F()}],"scroll-mr":[{"scroll-mr":F()}],"scroll-mb":[{"scroll-mb":F()}],"scroll-ml":[{"scroll-ml":F()}],"scroll-p":[{"scroll-p":F()}],"scroll-px":[{"scroll-px":F()}],"scroll-py":[{"scroll-py":F()}],"scroll-ps":[{"scroll-ps":F()}],"scroll-pe":[{"scroll-pe":F()}],"scroll-pt":[{"scroll-pt":F()}],"scroll-pr":[{"scroll-pr":F()}],"scroll-pb":[{"scroll-pb":F()}],"scroll-pl":[{"scroll-pl":F()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ne]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Ti,rs,kg]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},dL=WO(uL),hL=()=>{};var pC={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QI=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},fL=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},KI={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,d=s>>2,f=(s&3)<<4|a>>4;let h=(a&15)<<2|c>>6,g=c&63;l||(g=64,o||(h=64)),r.push(n[d],n[f],n[h],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(QI(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):fL(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||c==null||f==null)throw new pL;const h=s<<2|a>>4;if(r.push(h),c!==64){const g=a<<4&240|c>>2;if(r.push(g),f!==64){const T=c<<6&192|f;r.push(T)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class pL extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const mL=function(t){const e=QI(t);return KI.encodeByteArray(e,!0)},Zf=function(t){return mL(t).replace(/\./g,"")},HI=function(t){try{return KI.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gL(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yL=()=>gL().__FIREBASE_DEFAULTS__,vL=()=>{if(typeof process>"u"||typeof pC>"u")return;const t=pC.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},wL=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&HI(t[1]);return e&&JSON.parse(e)},Jp=()=>{try{return hL()||yL()||vL()||wL()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},JI=t=>{var e,n;return(n=(e=Jp())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},EL=t=>{const e=JI(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},ZI=()=>{var t;return(t=Jp())===null||t===void 0?void 0:t.config},XI=t=>{var e;return(e=Jp())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CL{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wl(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function eb(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TL(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Zf(JSON.stringify(n)),Zf(JSON.stringify(o)),""].join(".")}const Xc={};function _L(){const t={prod:[],emulator:[]};for(const e of Object.keys(Xc))Xc[e]?t.emulator.push(e):t.prod.push(e);return t}function xL(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let mC=!1;function tb(t,e){if(typeof window>"u"||typeof document>"u"||!Wl(window.location.host)||Xc[t]===e||Xc[t]||mC)return;Xc[t]=e;function n(h){return`__firebase__banner__${h}`}const r="__firebase__banner",s=_L().prod.length>0;function o(){const h=document.getElementById(r);h&&h.remove()}function a(h){h.style.display="flex",h.style.background="#7faaf0",h.style.position="fixed",h.style.bottom="5px",h.style.left="5px",h.style.padding=".5em",h.style.borderRadius="5px",h.style.alignItems="center"}function l(h,g){h.setAttribute("width","24"),h.setAttribute("id",g),h.setAttribute("height","24"),h.setAttribute("viewBox","0 0 24 24"),h.setAttribute("fill","none"),h.style.marginLeft="-6px"}function c(){const h=document.createElement("span");return h.style.cursor="pointer",h.style.marginLeft="16px",h.style.fontSize="24px",h.innerHTML=" &times;",h.onclick=()=>{mC=!0,o()},h}function d(h,g){h.setAttribute("id",g),h.innerText="Learn more",h.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",h.setAttribute("target","__blank"),h.style.paddingLeft="5px",h.style.textDecoration="underline"}function f(){const h=xL(r),g=n("text"),T=document.getElementById(g)||document.createElement("span"),y=n("learnmore"),I=document.getElementById(y)||document.createElement("a"),C=n("preprendIcon"),w=document.getElementById(C)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(h.created){const A=h.element;a(A),d(I,y);const R=c();l(w,C),A.append(w,T,I,R),document.body.appendChild(A)}s?(T.innerText="Preview backend disconnected.",w.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(w.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,T.innerText="Preview backend running in this workspace."),T.setAttribute("id",g)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function AL(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(gn())}function IL(){var t;const e=(t=Jp())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function bL(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function SL(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function RL(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function PL(){const t=gn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function kL(){return!IL()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function NL(){try{return typeof indexedDB=="object"}catch{return!1}}function DL(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ML="FirebaseError";class zi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=ML,Object.setPrototypeOf(this,zi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ed.prototype.create)}}class ed{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?OL(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new zi(i,a,r)}}function OL(t,e){return t.replace(LL,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const LL=/\{\$([^}]+)}/g;function VL(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Qo(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(gC(s)&&gC(o)){if(!Qo(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function gC(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function td(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Dc(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Mc(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function FL(t,e){const n=new BL(t,e);return n.subscribe.bind(n)}class BL{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");jL(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Ng),i.error===void 0&&(i.error=Ng),i.complete===void 0&&(i.complete=Ng);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function jL(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Ng(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function It(t){return t&&t._delegate?t._delegate:t}class Ko{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ro="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let UL=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new CL;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(GL(e))try{this.getOrInitializeService({instanceIdentifier:Ro})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Ro){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ro){return this.instances.has(e)}getOptions(e=Ro){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:qL(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ro){return this.component?this.component.multipleInstances?e:Ro:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function qL(t){return t===Ro?void 0:t}function GL(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $L{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new UL(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var je;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(je||(je={}));const zL={debug:je.DEBUG,verbose:je.VERBOSE,info:je.INFO,warn:je.WARN,error:je.ERROR,silent:je.SILENT},WL=je.INFO,YL={[je.DEBUG]:"log",[je.VERBOSE]:"log",[je.INFO]:"info",[je.WARN]:"warn",[je.ERROR]:"error"},QL=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=YL[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class gw{constructor(e){this.name=e,this._logLevel=WL,this._logHandler=QL,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in je))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?zL[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,je.DEBUG,...e),this._logHandler(this,je.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,je.VERBOSE,...e),this._logHandler(this,je.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,je.INFO,...e),this._logHandler(this,je.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,je.WARN,...e),this._logHandler(this,je.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,je.ERROR,...e),this._logHandler(this,je.ERROR,...e)}}const KL=(t,e)=>e.some(n=>t instanceof n);let yC,vC;function HL(){return yC||(yC=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function JL(){return vC||(vC=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const nb=new WeakMap,lv=new WeakMap,rb=new WeakMap,Dg=new WeakMap,yw=new WeakMap;function ZL(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Ls(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&nb.set(n,t)}).catch(()=>{}),yw.set(e,t),e}function XL(t){if(lv.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});lv.set(t,e)}let cv={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return lv.get(t);if(e==="objectStoreNames")return t.objectStoreNames||rb.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ls(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function eV(t){cv=t(cv)}function tV(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Mg(this),e,...n);return rb.set(r,e.sort?e.sort():[e]),Ls(r)}:JL().includes(t)?function(...e){return t.apply(Mg(this),e),Ls(nb.get(this))}:function(...e){return Ls(t.apply(Mg(this),e))}}function nV(t){return typeof t=="function"?tV(t):(t instanceof IDBTransaction&&XL(t),KL(t,HL())?new Proxy(t,cv):t)}function Ls(t){if(t instanceof IDBRequest)return ZL(t);if(Dg.has(t))return Dg.get(t);const e=nV(t);return e!==t&&(Dg.set(t,e),yw.set(e,t)),e}const Mg=t=>yw.get(t);function rV(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Ls(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Ls(o.result),l.oldVersion,l.newVersion,Ls(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const iV=["get","getKey","getAll","getAllKeys","count"],sV=["put","add","delete","clear"],Og=new Map;function wC(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Og.get(e))return Og.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=sV.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||iV.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&l.done]))[0]};return Og.set(e,s),s}eV(t=>({...t,get:(e,n,r)=>wC(e,n)||t.get(e,n,r),has:(e,n)=>!!wC(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oV{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(aV(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function aV(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const uv="@firebase/app",EC="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fi=new gw("@firebase/app"),lV="@firebase/app-compat",cV="@firebase/analytics-compat",uV="@firebase/analytics",dV="@firebase/app-check-compat",hV="@firebase/app-check",fV="@firebase/auth",pV="@firebase/auth-compat",mV="@firebase/database",gV="@firebase/data-connect",yV="@firebase/database-compat",vV="@firebase/functions",wV="@firebase/functions-compat",EV="@firebase/installations",CV="@firebase/installations-compat",TV="@firebase/messaging",_V="@firebase/messaging-compat",xV="@firebase/performance",AV="@firebase/performance-compat",IV="@firebase/remote-config",bV="@firebase/remote-config-compat",SV="@firebase/storage",RV="@firebase/storage-compat",PV="@firebase/firestore",kV="@firebase/ai",NV="@firebase/firestore-compat",DV="firebase",MV="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dv="[DEFAULT]",OV={[uv]:"fire-core",[lV]:"fire-core-compat",[uV]:"fire-analytics",[cV]:"fire-analytics-compat",[hV]:"fire-app-check",[dV]:"fire-app-check-compat",[fV]:"fire-auth",[pV]:"fire-auth-compat",[mV]:"fire-rtdb",[gV]:"fire-data-connect",[yV]:"fire-rtdb-compat",[vV]:"fire-fn",[wV]:"fire-fn-compat",[EV]:"fire-iid",[CV]:"fire-iid-compat",[TV]:"fire-fcm",[_V]:"fire-fcm-compat",[xV]:"fire-perf",[AV]:"fire-perf-compat",[IV]:"fire-rc",[bV]:"fire-rc-compat",[SV]:"fire-gcs",[RV]:"fire-gcs-compat",[PV]:"fire-fst",[NV]:"fire-fst-compat",[kV]:"fire-vertex","fire-js":"fire-js",[DV]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Au=new Map,LV=new Map,hv=new Map;function CC(t,e){try{t.container.addComponent(e)}catch(n){Fi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Rl(t){const e=t.name;if(hv.has(e))return Fi.debug(`There were multiple attempts to register component ${e}.`),!1;hv.set(e,t);for(const n of Au.values())CC(n,t);for(const n of LV.values())CC(n,t);return!0}function vw(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function hr(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VV={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Vs=new ed("app","Firebase",VV);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FV{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ko("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Vs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yl=MV;function ib(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:dv,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw Vs.create("bad-app-name",{appName:String(i)});if(n||(n=ZI()),!n)throw Vs.create("no-options");const s=Au.get(i);if(s){if(Qo(n,s.options)&&Qo(r,s.config))return s;throw Vs.create("duplicate-app",{appName:i})}const o=new $L(i);for(const l of hv.values())o.addComponent(l);const a=new FV(n,r,o);return Au.set(i,a),a}function ww(t=dv){const e=Au.get(t);if(!e&&t===dv&&ZI())return ib();if(!e)throw Vs.create("no-app",{appName:t});return e}function BV(){return Array.from(Au.values())}function Fs(t,e,n){var r;let i=(r=OV[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Fi.warn(a.join(" "));return}Rl(new Ko(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jV="firebase-heartbeat-database",UV=1,Iu="firebase-heartbeat-store";let Lg=null;function sb(){return Lg||(Lg=rV(jV,UV,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Iu)}catch(n){console.warn(n)}}}}).catch(t=>{throw Vs.create("idb-open",{originalErrorMessage:t.message})})),Lg}async function qV(t){try{const n=(await sb()).transaction(Iu),r=await n.objectStore(Iu).get(ob(t));return await n.done,r}catch(e){if(e instanceof zi)Fi.warn(e.message);else{const n=Vs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Fi.warn(n.message)}}}async function TC(t,e){try{const r=(await sb()).transaction(Iu,"readwrite");await r.objectStore(Iu).put(e,ob(t)),await r.done}catch(n){if(n instanceof zi)Fi.warn(n.message);else{const r=Vs.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Fi.warn(r.message)}}}function ob(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GV=1024,$V=30;class zV{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new YV(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=_C();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>$V){const o=QV(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Fi.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=_C(),{heartbeatsToSend:r,unsentEntries:i}=WV(this._heartbeatsCache.heartbeats),s=Zf(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Fi.warn(n),""}}}function _C(){return new Date().toISOString().substring(0,10)}function WV(t,e=GV){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),xC(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),xC(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class YV{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return NL()?DL().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await qV(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return TC(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return TC(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function xC(t){return Zf(JSON.stringify({version:2,heartbeats:t})).length}function QV(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KV(t){Rl(new Ko("platform-logger",e=>new oV(e),"PRIVATE")),Rl(new Ko("heartbeat",e=>new zV(e),"PRIVATE")),Fs(uv,EC,t),Fs(uv,EC,"esm2017"),Fs("fire-js","")}KV("");var HV="firebase",JV="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Fs(HV,JV,"app");var AC=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Bs,ab;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,b){function k(){}k.prototype=b.prototype,S.D=b.prototype,S.prototype=new k,S.prototype.constructor=S,S.C=function(D,V,F){for(var M=Array(arguments.length-2),te=2;te<arguments.length;te++)M[te-2]=arguments[te];return b.prototype[V].apply(D,M)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(S,b,k){k||(k=0);var D=Array(16);if(typeof b=="string")for(var V=0;16>V;++V)D[V]=b.charCodeAt(k++)|b.charCodeAt(k++)<<8|b.charCodeAt(k++)<<16|b.charCodeAt(k++)<<24;else for(V=0;16>V;++V)D[V]=b[k++]|b[k++]<<8|b[k++]<<16|b[k++]<<24;b=S.g[0],k=S.g[1],V=S.g[2];var F=S.g[3],M=b+(F^k&(V^F))+D[0]+3614090360&4294967295;b=k+(M<<7&4294967295|M>>>25),M=F+(V^b&(k^V))+D[1]+3905402710&4294967295,F=b+(M<<12&4294967295|M>>>20),M=V+(k^F&(b^k))+D[2]+606105819&4294967295,V=F+(M<<17&4294967295|M>>>15),M=k+(b^V&(F^b))+D[3]+3250441966&4294967295,k=V+(M<<22&4294967295|M>>>10),M=b+(F^k&(V^F))+D[4]+4118548399&4294967295,b=k+(M<<7&4294967295|M>>>25),M=F+(V^b&(k^V))+D[5]+1200080426&4294967295,F=b+(M<<12&4294967295|M>>>20),M=V+(k^F&(b^k))+D[6]+2821735955&4294967295,V=F+(M<<17&4294967295|M>>>15),M=k+(b^V&(F^b))+D[7]+4249261313&4294967295,k=V+(M<<22&4294967295|M>>>10),M=b+(F^k&(V^F))+D[8]+1770035416&4294967295,b=k+(M<<7&4294967295|M>>>25),M=F+(V^b&(k^V))+D[9]+2336552879&4294967295,F=b+(M<<12&4294967295|M>>>20),M=V+(k^F&(b^k))+D[10]+4294925233&4294967295,V=F+(M<<17&4294967295|M>>>15),M=k+(b^V&(F^b))+D[11]+2304563134&4294967295,k=V+(M<<22&4294967295|M>>>10),M=b+(F^k&(V^F))+D[12]+1804603682&4294967295,b=k+(M<<7&4294967295|M>>>25),M=F+(V^b&(k^V))+D[13]+4254626195&4294967295,F=b+(M<<12&4294967295|M>>>20),M=V+(k^F&(b^k))+D[14]+2792965006&4294967295,V=F+(M<<17&4294967295|M>>>15),M=k+(b^V&(F^b))+D[15]+1236535329&4294967295,k=V+(M<<22&4294967295|M>>>10),M=b+(V^F&(k^V))+D[1]+4129170786&4294967295,b=k+(M<<5&4294967295|M>>>27),M=F+(k^V&(b^k))+D[6]+3225465664&4294967295,F=b+(M<<9&4294967295|M>>>23),M=V+(b^k&(F^b))+D[11]+643717713&4294967295,V=F+(M<<14&4294967295|M>>>18),M=k+(F^b&(V^F))+D[0]+3921069994&4294967295,k=V+(M<<20&4294967295|M>>>12),M=b+(V^F&(k^V))+D[5]+3593408605&4294967295,b=k+(M<<5&4294967295|M>>>27),M=F+(k^V&(b^k))+D[10]+38016083&4294967295,F=b+(M<<9&4294967295|M>>>23),M=V+(b^k&(F^b))+D[15]+3634488961&4294967295,V=F+(M<<14&4294967295|M>>>18),M=k+(F^b&(V^F))+D[4]+3889429448&4294967295,k=V+(M<<20&4294967295|M>>>12),M=b+(V^F&(k^V))+D[9]+568446438&4294967295,b=k+(M<<5&4294967295|M>>>27),M=F+(k^V&(b^k))+D[14]+3275163606&4294967295,F=b+(M<<9&4294967295|M>>>23),M=V+(b^k&(F^b))+D[3]+4107603335&4294967295,V=F+(M<<14&4294967295|M>>>18),M=k+(F^b&(V^F))+D[8]+1163531501&4294967295,k=V+(M<<20&4294967295|M>>>12),M=b+(V^F&(k^V))+D[13]+2850285829&4294967295,b=k+(M<<5&4294967295|M>>>27),M=F+(k^V&(b^k))+D[2]+4243563512&4294967295,F=b+(M<<9&4294967295|M>>>23),M=V+(b^k&(F^b))+D[7]+1735328473&4294967295,V=F+(M<<14&4294967295|M>>>18),M=k+(F^b&(V^F))+D[12]+2368359562&4294967295,k=V+(M<<20&4294967295|M>>>12),M=b+(k^V^F)+D[5]+4294588738&4294967295,b=k+(M<<4&4294967295|M>>>28),M=F+(b^k^V)+D[8]+2272392833&4294967295,F=b+(M<<11&4294967295|M>>>21),M=V+(F^b^k)+D[11]+1839030562&4294967295,V=F+(M<<16&4294967295|M>>>16),M=k+(V^F^b)+D[14]+4259657740&4294967295,k=V+(M<<23&4294967295|M>>>9),M=b+(k^V^F)+D[1]+2763975236&4294967295,b=k+(M<<4&4294967295|M>>>28),M=F+(b^k^V)+D[4]+1272893353&4294967295,F=b+(M<<11&4294967295|M>>>21),M=V+(F^b^k)+D[7]+4139469664&4294967295,V=F+(M<<16&4294967295|M>>>16),M=k+(V^F^b)+D[10]+3200236656&4294967295,k=V+(M<<23&4294967295|M>>>9),M=b+(k^V^F)+D[13]+681279174&4294967295,b=k+(M<<4&4294967295|M>>>28),M=F+(b^k^V)+D[0]+3936430074&4294967295,F=b+(M<<11&4294967295|M>>>21),M=V+(F^b^k)+D[3]+3572445317&4294967295,V=F+(M<<16&4294967295|M>>>16),M=k+(V^F^b)+D[6]+76029189&4294967295,k=V+(M<<23&4294967295|M>>>9),M=b+(k^V^F)+D[9]+3654602809&4294967295,b=k+(M<<4&4294967295|M>>>28),M=F+(b^k^V)+D[12]+3873151461&4294967295,F=b+(M<<11&4294967295|M>>>21),M=V+(F^b^k)+D[15]+530742520&4294967295,V=F+(M<<16&4294967295|M>>>16),M=k+(V^F^b)+D[2]+3299628645&4294967295,k=V+(M<<23&4294967295|M>>>9),M=b+(V^(k|~F))+D[0]+4096336452&4294967295,b=k+(M<<6&4294967295|M>>>26),M=F+(k^(b|~V))+D[7]+1126891415&4294967295,F=b+(M<<10&4294967295|M>>>22),M=V+(b^(F|~k))+D[14]+2878612391&4294967295,V=F+(M<<15&4294967295|M>>>17),M=k+(F^(V|~b))+D[5]+4237533241&4294967295,k=V+(M<<21&4294967295|M>>>11),M=b+(V^(k|~F))+D[12]+1700485571&4294967295,b=k+(M<<6&4294967295|M>>>26),M=F+(k^(b|~V))+D[3]+2399980690&4294967295,F=b+(M<<10&4294967295|M>>>22),M=V+(b^(F|~k))+D[10]+4293915773&4294967295,V=F+(M<<15&4294967295|M>>>17),M=k+(F^(V|~b))+D[1]+2240044497&4294967295,k=V+(M<<21&4294967295|M>>>11),M=b+(V^(k|~F))+D[8]+1873313359&4294967295,b=k+(M<<6&4294967295|M>>>26),M=F+(k^(b|~V))+D[15]+4264355552&4294967295,F=b+(M<<10&4294967295|M>>>22),M=V+(b^(F|~k))+D[6]+2734768916&4294967295,V=F+(M<<15&4294967295|M>>>17),M=k+(F^(V|~b))+D[13]+1309151649&4294967295,k=V+(M<<21&4294967295|M>>>11),M=b+(V^(k|~F))+D[4]+4149444226&4294967295,b=k+(M<<6&4294967295|M>>>26),M=F+(k^(b|~V))+D[11]+3174756917&4294967295,F=b+(M<<10&4294967295|M>>>22),M=V+(b^(F|~k))+D[2]+718787259&4294967295,V=F+(M<<15&4294967295|M>>>17),M=k+(F^(V|~b))+D[9]+3951481745&4294967295,S.g[0]=S.g[0]+b&4294967295,S.g[1]=S.g[1]+(V+(M<<21&4294967295|M>>>11))&4294967295,S.g[2]=S.g[2]+V&4294967295,S.g[3]=S.g[3]+F&4294967295}r.prototype.u=function(S,b){b===void 0&&(b=S.length);for(var k=b-this.blockSize,D=this.B,V=this.h,F=0;F<b;){if(V==0)for(;F<=k;)i(this,S,F),F+=this.blockSize;if(typeof S=="string"){for(;F<b;)if(D[V++]=S.charCodeAt(F++),V==this.blockSize){i(this,D),V=0;break}}else for(;F<b;)if(D[V++]=S[F++],V==this.blockSize){i(this,D),V=0;break}}this.h=V,this.o+=b},r.prototype.v=function(){var S=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);S[0]=128;for(var b=1;b<S.length-8;++b)S[b]=0;var k=8*this.o;for(b=S.length-8;b<S.length;++b)S[b]=k&255,k/=256;for(this.u(S),S=Array(16),b=k=0;4>b;++b)for(var D=0;32>D;D+=8)S[k++]=this.g[b]>>>D&255;return S};function s(S,b){var k=a;return Object.prototype.hasOwnProperty.call(k,S)?k[S]:k[S]=b(S)}function o(S,b){this.h=b;for(var k=[],D=!0,V=S.length-1;0<=V;V--){var F=S[V]|0;D&&F==b||(k[V]=F,D=!1)}this.g=k}var a={};function l(S){return-128<=S&&128>S?s(S,function(b){return new o([b|0],0>b?-1:0)}):new o([S|0],0>S?-1:0)}function c(S){if(isNaN(S)||!isFinite(S))return f;if(0>S)return I(c(-S));for(var b=[],k=1,D=0;S>=k;D++)b[D]=S/k|0,k*=4294967296;return new o(b,0)}function d(S,b){if(S.length==0)throw Error("number format error: empty string");if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(S.charAt(0)=="-")return I(d(S.substring(1),b));if(0<=S.indexOf("-"))throw Error('number format error: interior "-" character');for(var k=c(Math.pow(b,8)),D=f,V=0;V<S.length;V+=8){var F=Math.min(8,S.length-V),M=parseInt(S.substring(V,V+F),b);8>F?(F=c(Math.pow(b,F)),D=D.j(F).add(c(M))):(D=D.j(k),D=D.add(c(M)))}return D}var f=l(0),h=l(1),g=l(16777216);t=o.prototype,t.m=function(){if(y(this))return-I(this).m();for(var S=0,b=1,k=0;k<this.g.length;k++){var D=this.i(k);S+=(0<=D?D:4294967296+D)*b,b*=4294967296}return S},t.toString=function(S){if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(T(this))return"0";if(y(this))return"-"+I(this).toString(S);for(var b=c(Math.pow(S,6)),k=this,D="";;){var V=R(k,b).g;k=C(k,V.j(b));var F=((0<k.g.length?k.g[0]:k.h)>>>0).toString(S);if(k=V,T(k))return F+D;for(;6>F.length;)F="0"+F;D=F+D}},t.i=function(S){return 0>S?0:S<this.g.length?this.g[S]:this.h};function T(S){if(S.h!=0)return!1;for(var b=0;b<S.g.length;b++)if(S.g[b]!=0)return!1;return!0}function y(S){return S.h==-1}t.l=function(S){return S=C(this,S),y(S)?-1:T(S)?0:1};function I(S){for(var b=S.g.length,k=[],D=0;D<b;D++)k[D]=~S.g[D];return new o(k,~S.h).add(h)}t.abs=function(){return y(this)?I(this):this},t.add=function(S){for(var b=Math.max(this.g.length,S.g.length),k=[],D=0,V=0;V<=b;V++){var F=D+(this.i(V)&65535)+(S.i(V)&65535),M=(F>>>16)+(this.i(V)>>>16)+(S.i(V)>>>16);D=M>>>16,F&=65535,M&=65535,k[V]=M<<16|F}return new o(k,k[k.length-1]&-2147483648?-1:0)};function C(S,b){return S.add(I(b))}t.j=function(S){if(T(this)||T(S))return f;if(y(this))return y(S)?I(this).j(I(S)):I(I(this).j(S));if(y(S))return I(this.j(I(S)));if(0>this.l(g)&&0>S.l(g))return c(this.m()*S.m());for(var b=this.g.length+S.g.length,k=[],D=0;D<2*b;D++)k[D]=0;for(D=0;D<this.g.length;D++)for(var V=0;V<S.g.length;V++){var F=this.i(D)>>>16,M=this.i(D)&65535,te=S.i(V)>>>16,re=S.i(V)&65535;k[2*D+2*V]+=M*re,w(k,2*D+2*V),k[2*D+2*V+1]+=F*re,w(k,2*D+2*V+1),k[2*D+2*V+1]+=M*te,w(k,2*D+2*V+1),k[2*D+2*V+2]+=F*te,w(k,2*D+2*V+2)}for(D=0;D<b;D++)k[D]=k[2*D+1]<<16|k[2*D];for(D=b;D<2*b;D++)k[D]=0;return new o(k,0)};function w(S,b){for(;(S[b]&65535)!=S[b];)S[b+1]+=S[b]>>>16,S[b]&=65535,b++}function A(S,b){this.g=S,this.h=b}function R(S,b){if(T(b))throw Error("division by zero");if(T(S))return new A(f,f);if(y(S))return b=R(I(S),b),new A(I(b.g),I(b.h));if(y(b))return b=R(S,I(b)),new A(I(b.g),b.h);if(30<S.g.length){if(y(S)||y(b))throw Error("slowDivide_ only works with positive integers.");for(var k=h,D=b;0>=D.l(S);)k=O(k),D=O(D);var V=B(k,1),F=B(D,1);for(D=B(D,2),k=B(k,2);!T(D);){var M=F.add(D);0>=M.l(S)&&(V=V.add(k),F=M),D=B(D,1),k=B(k,1)}return b=C(S,V.j(b)),new A(V,b)}for(V=f;0<=S.l(b);){for(k=Math.max(1,Math.floor(S.m()/b.m())),D=Math.ceil(Math.log(k)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),F=c(k),M=F.j(b);y(M)||0<M.l(S);)k-=D,F=c(k),M=F.j(b);T(F)&&(F=h),V=V.add(F),S=C(S,M)}return new A(V,S)}t.A=function(S){return R(this,S).h},t.and=function(S){for(var b=Math.max(this.g.length,S.g.length),k=[],D=0;D<b;D++)k[D]=this.i(D)&S.i(D);return new o(k,this.h&S.h)},t.or=function(S){for(var b=Math.max(this.g.length,S.g.length),k=[],D=0;D<b;D++)k[D]=this.i(D)|S.i(D);return new o(k,this.h|S.h)},t.xor=function(S){for(var b=Math.max(this.g.length,S.g.length),k=[],D=0;D<b;D++)k[D]=this.i(D)^S.i(D);return new o(k,this.h^S.h)};function O(S){for(var b=S.g.length+1,k=[],D=0;D<b;D++)k[D]=S.i(D)<<1|S.i(D-1)>>>31;return new o(k,S.h)}function B(S,b){var k=b>>5;b%=32;for(var D=S.g.length-k,V=[],F=0;F<D;F++)V[F]=0<b?S.i(F+k)>>>b|S.i(F+k+1)<<32-b:S.i(F+k);return new o(V,S.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,ab=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=d,Bs=o}).apply(typeof AC<"u"?AC:typeof self<"u"?self:typeof window<"u"?window:{});var Ih=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var lb,Oc,cb,sf,fv,ub,db,hb;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,x){return u==Array.prototype||u==Object.prototype||(u[m]=x.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ih=="object"&&Ih];for(var m=0;m<u.length;++m){var x=u[m];if(x&&x.Math==Math)return x}throw Error("Cannot find global object")}var r=n(this);function i(u,m){if(m)e:{var x=r;u=u.split(".");for(var N=0;N<u.length-1;N++){var q=u[N];if(!(q in x))break e;x=x[q]}u=u[u.length-1],N=x[u],m=m(N),m!=N&&m!=null&&e(x,u,{configurable:!0,writable:!0,value:m})}}function s(u,m){u instanceof String&&(u+="");var x=0,N=!1,q={next:function(){if(!N&&x<u.length){var W=x++;return{value:m(W,u[W]),done:!1}}return N=!0,{done:!0,value:void 0}}};return q[Symbol.iterator]=function(){return q},q}i("Array.prototype.values",function(u){return u||function(){return s(this,function(m,x){return x})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function c(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function d(u,m,x){return u.call.apply(u.bind,arguments)}function f(u,m,x){if(!u)throw Error();if(2<arguments.length){var N=Array.prototype.slice.call(arguments,2);return function(){var q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(q,N),u.apply(m,q)}}return function(){return u.apply(m,arguments)}}function h(u,m,x){return h=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:f,h.apply(null,arguments)}function g(u,m){var x=Array.prototype.slice.call(arguments,1);return function(){var N=x.slice();return N.push.apply(N,arguments),u.apply(this,N)}}function T(u,m){function x(){}x.prototype=m.prototype,u.aa=m.prototype,u.prototype=new x,u.prototype.constructor=u,u.Qb=function(N,q,W){for(var K=Array(arguments.length-2),Xe=2;Xe<arguments.length;Xe++)K[Xe-2]=arguments[Xe];return m.prototype[q].apply(N,K)}}function y(u){const m=u.length;if(0<m){const x=Array(m);for(let N=0;N<m;N++)x[N]=u[N];return x}return[]}function I(u,m){for(let x=1;x<arguments.length;x++){const N=arguments[x];if(l(N)){const q=u.length||0,W=N.length||0;u.length=q+W;for(let K=0;K<W;K++)u[q+K]=N[K]}else u.push(N)}}class C{constructor(m,x){this.i=m,this.j=x,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function w(u){return/^[\s\xa0]*$/.test(u)}function A(){var u=a.navigator;return u&&(u=u.userAgent)?u:""}function R(u){return R[" "](u),u}R[" "]=function(){};var O=A().indexOf("Gecko")!=-1&&!(A().toLowerCase().indexOf("webkit")!=-1&&A().indexOf("Edge")==-1)&&!(A().indexOf("Trident")!=-1||A().indexOf("MSIE")!=-1)&&A().indexOf("Edge")==-1;function B(u,m,x){for(const N in u)m.call(x,u[N],N,u)}function S(u,m){for(const x in u)m.call(void 0,u[x],x,u)}function b(u){const m={};for(const x in u)m[x]=u[x];return m}const k="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(u,m){let x,N;for(let q=1;q<arguments.length;q++){N=arguments[q];for(x in N)u[x]=N[x];for(let W=0;W<k.length;W++)x=k[W],Object.prototype.hasOwnProperty.call(N,x)&&(u[x]=N[x])}}function V(u){var m=1;u=u.split(":");const x=[];for(;0<m&&u.length;)x.push(u.shift()),m--;return u.length&&x.push(u.join(":")),x}function F(u){a.setTimeout(()=>{throw u},0)}function M(){var u=Z;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class te{constructor(){this.h=this.g=null}add(m,x){const N=re.get();N.set(m,x),this.h?this.h.next=N:this.g=N,this.h=N}}var re=new C(()=>new ee,u=>u.reset());class ee{constructor(){this.next=this.g=this.h=null}set(m,x){this.h=m,this.g=x,this.next=null}reset(){this.next=this.g=this.h=null}}let pe,G=!1,Z=new te,ae=()=>{const u=a.Promise.resolve(void 0);pe=()=>{u.then(se)}};var se=()=>{for(var u;u=M();){try{u.h.call(u.g)}catch(x){F(x)}var m=re;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}G=!1};function ue(){this.s=this.s,this.C=this.C}ue.prototype.s=!1,ue.prototype.ma=function(){this.s||(this.s=!0,this.N())},ue.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function he(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}he.prototype.h=function(){this.defaultPrevented=!0};var ke=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const x=()=>{};a.addEventListener("test",x,m),a.removeEventListener("test",x,m)}catch{}return u}();function Me(u,m){if(he.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var x=this.type=u.type,N=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(O){e:{try{R(m.nodeName);var q=!0;break e}catch{}q=!1}q||(m=null)}}else x=="mouseover"?m=u.fromElement:x=="mouseout"&&(m=u.toElement);this.relatedTarget=m,N?(this.clientX=N.clientX!==void 0?N.clientX:N.pageX,this.clientY=N.clientY!==void 0?N.clientY:N.pageY,this.screenX=N.screenX||0,this.screenY=N.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:Te[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Me.aa.h.call(this)}}T(Me,he);var Te={2:"touch",3:"pen",4:"mouse"};Me.prototype.h=function(){Me.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var ne="closure_listenable_"+(1e6*Math.random()|0),ge=0;function be(u,m,x,N,q){this.listener=u,this.proxy=null,this.src=m,this.type=x,this.capture=!!N,this.ha=q,this.key=++ge,this.da=this.fa=!1}function we(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function xe(u){this.src=u,this.g={},this.h=0}xe.prototype.add=function(u,m,x,N,q){var W=u.toString();u=this.g[W],u||(u=this.g[W]=[],this.h++);var K=de(u,m,N,q);return-1<K?(m=u[K],x||(m.fa=!1)):(m=new be(m,this.src,W,!!N,q),m.fa=x,u.push(m)),m};function Ee(u,m){var x=m.type;if(x in u.g){var N=u.g[x],q=Array.prototype.indexOf.call(N,m,void 0),W;(W=0<=q)&&Array.prototype.splice.call(N,q,1),W&&(we(m),u.g[x].length==0&&(delete u.g[x],u.h--))}}function de(u,m,x,N){for(var q=0;q<u.length;++q){var W=u[q];if(!W.da&&W.listener==m&&W.capture==!!x&&W.ha==N)return q}return-1}var ye="closure_lm_"+(1e6*Math.random()|0),dt={};function rt(u,m,x,N,q){if(Array.isArray(m)){for(var W=0;W<m.length;W++)rt(u,m[W],x,N,q);return null}return x=go(x),u&&u[ne]?u.K(m,x,c(N)?!!N.capture:!!N,q):Rt(u,m,x,!1,N,q)}function Rt(u,m,x,N,q,W){if(!m)throw Error("Invalid event type");var K=c(q)?!!q.capture:!!q,Xe=sr(u);if(Xe||(u[ye]=Xe=new xe(u)),x=Xe.add(m,x,N,K,W),x.proxy)return x;if(N=He(),x.proxy=N,N.src=u,N.listener=x,u.addEventListener)ke||(q=K),q===void 0&&(q=!1),u.addEventListener(m.toString(),N,q);else if(u.attachEvent)u.attachEvent(yr(m.toString()),N);else if(u.addListener&&u.removeListener)u.addListener(N);else throw Error("addEventListener and attachEvent are unavailable.");return x}function He(){function u(x){return m.call(u.src,u.listener,x)}const m=ui;return u}function ht(u,m,x,N,q){if(Array.isArray(m))for(var W=0;W<m.length;W++)ht(u,m[W],x,N,q);else N=c(N)?!!N.capture:!!N,x=go(x),u&&u[ne]?(u=u.i,m=String(m).toString(),m in u.g&&(W=u.g[m],x=de(W,x,N,q),-1<x&&(we(W[x]),Array.prototype.splice.call(W,x,1),W.length==0&&(delete u.g[m],u.h--)))):u&&(u=sr(u))&&(m=u.g[m.toString()],u=-1,m&&(u=de(m,x,N,q)),(x=-1<u?m[u]:null)&&nn(x))}function nn(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[ne])Ee(m.i,u);else{var x=u.type,N=u.proxy;m.removeEventListener?m.removeEventListener(x,N,u.capture):m.detachEvent?m.detachEvent(yr(x),N):m.addListener&&m.removeListener&&m.removeListener(N),(x=sr(m))?(Ee(x,u),x.h==0&&(x.src=null,m[ye]=null)):we(u)}}}function yr(u){return u in dt?dt[u]:dt[u]="on"+u}function ui(u,m){if(u.da)u=!0;else{m=new Me(m,this);var x=u.listener,N=u.ha||u.src;u.fa&&nn(u),u=x.call(N,m)}return u}function sr(u){return u=u[ye],u instanceof xe?u:null}var di="__closure_events_fn_"+(1e9*Math.random()>>>0);function go(u){return typeof u=="function"?u:(u[di]||(u[di]=function(m){return u.handleEvent(m)}),u[di])}function Tt(){ue.call(this),this.i=new xe(this),this.M=this,this.F=null}T(Tt,ue),Tt.prototype[ne]=!0,Tt.prototype.removeEventListener=function(u,m,x,N){ht(this,u,m,x,N)};function ft(u,m){var x,N=u.F;if(N)for(x=[];N;N=N.F)x.push(N);if(u=u.M,N=m.type||m,typeof m=="string")m=new he(m,u);else if(m instanceof he)m.target=m.target||u;else{var q=m;m=new he(N,u),D(m,q)}if(q=!0,x)for(var W=x.length-1;0<=W;W--){var K=m.g=x[W];q=hi(K,N,!0,m)&&q}if(K=m.g=u,q=hi(K,N,!0,m)&&q,q=hi(K,N,!1,m)&&q,x)for(W=0;W<x.length;W++)K=m.g=x[W],q=hi(K,N,!1,m)&&q}Tt.prototype.N=function(){if(Tt.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var x=u.g[m],N=0;N<x.length;N++)we(x[N]);delete u.g[m],u.h--}}this.F=null},Tt.prototype.K=function(u,m,x,N){return this.i.add(String(u),m,!1,x,N)},Tt.prototype.L=function(u,m,x,N){return this.i.add(String(u),m,!0,x,N)};function hi(u,m,x,N){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var q=!0,W=0;W<m.length;++W){var K=m[W];if(K&&!K.da&&K.capture==x){var Xe=K.listener,Lt=K.ha||K.src;K.fa&&Ee(u.i,K),q=Xe.call(Lt,N)!==!1&&q}}return q&&!N.defaultPrevented}function vr(u,m,x){if(typeof u=="function")x&&(u=h(u,x));else if(u&&typeof u.handleEvent=="function")u=h(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:a.setTimeout(u,m||0)}function yo(u){u.g=vr(()=>{u.g=null,u.i&&(u.i=!1,yo(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Wi extends ue{constructor(m,x){super(),this.m=m,this.l=x,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:yo(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function or(u){ue.call(this),this.h=u,this.g={}}T(or,ue);var wr=[];function Er(u){B(u.g,function(m,x){this.g.hasOwnProperty(x)&&nn(m)},u),u.g={}}or.prototype.N=function(){or.aa.N.call(this),Er(this)},or.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var yn=a.JSON.stringify,vn=a.JSON.parse,oc=class{stringify(u){return a.JSON.stringify(u,void 0)}parse(u){return a.JSON.parse(u,void 0)}};function Ae(){}Ae.prototype.h=null;function Be(u){return u.h||(u.h=u.i())}function Qe(){}var Ut={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function rn(){he.call(this,"d")}T(rn,he);function Cr(){he.call(this,"c")}T(Cr,he);var at={},Yi=null;function qe(){return Yi=Yi||new Tt}at.La="serverreachability";function Td(u){he.call(this,at.La,u)}T(Td,he);function sn(u){const m=qe();ft(m,new Td(m))}at.STAT_EVENT="statevent";function ar(u,m){he.call(this,at.STAT_EVENT,u),this.stat=m}T(ar,he);function Kt(u){const m=qe();ft(m,new ar(m,u))}at.Ma="timingevent";function _d(u,m){he.call(this,at.Ma,u),this.size=m}T(_d,he);function fi(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){u()},m)}function pi(){this.g=!0}pi.prototype.xa=function(){this.g=!1};function xd(u,m,x,N,q,W){u.info(function(){if(u.g)if(W)for(var K="",Xe=W.split("&"),Lt=0;Lt<Xe.length;Lt++){var Ge=Xe[Lt].split("=");if(1<Ge.length){var qt=Ge[0];Ge=Ge[1];var Gt=qt.split("_");K=2<=Gt.length&&Gt[1]=="type"?K+(qt+"="+Ge+"&"):K+(qt+"=redacted&")}}else K=null;else K=W;return"XMLHTTP REQ ("+N+") [attempt "+q+"]: "+m+`
`+x+`
`+K})}function jm(u,m,x,N,q,W,K){u.info(function(){return"XMLHTTP RESP ("+N+") [ attempt "+q+"]: "+m+`
`+x+`
`+W+" "+K})}function mi(u,m,x,N){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Um(u,x)+(N?" "+N:"")})}function vo(u,m){u.info(function(){return"TIMEOUT: "+m})}pi.prototype.info=function(){};function Um(u,m){if(!u.g)return m;if(!m)return null;try{var x=JSON.parse(m);if(x){for(u=0;u<x.length;u++)if(Array.isArray(x[u])){var N=x[u];if(!(2>N.length)){var q=N[1];if(Array.isArray(q)&&!(1>q.length)){var W=q[0];if(W!="noop"&&W!="stop"&&W!="close")for(var K=1;K<q.length;K++)q[K]=""}}}}return yn(x)}catch{return m}}var gi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},fa={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},pa;function wo(){}T(wo,Ae),wo.prototype.g=function(){return new XMLHttpRequest},wo.prototype.i=function(){return{}},pa=new wo;function Tr(u,m,x,N){this.j=u,this.i=m,this.l=x,this.R=N||1,this.U=new or(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ad}function Ad(){this.i=null,this.g="",this.h=!1}var Id={},ac={};function lc(u,m,x){u.L=1,u.v=Ca(Un(m)),u.m=x,u.P=!0,ma(u,null)}function ma(u,m){u.F=Date.now(),ga(u),u.A=Un(u.v);var x=u.A,N=u.R;Array.isArray(N)||(N=[String(N)]),Ld(x.i,"t",N),u.C=0,x=u.j.J,u.h=new Ad,u.g=Xd(u.j,x?m:null,!u.m),0<u.O&&(u.M=new Wi(h(u.Y,u,u.g),u.O)),m=u.U,x=u.g,N=u.ca;var q="readystatechange";Array.isArray(q)||(q&&(wr[0]=q.toString()),q=wr);for(var W=0;W<q.length;W++){var K=rt(x,q[W],N||m.handleEvent,!1,m.h||m);if(!K)break;m.g[K.key]=K}m=u.H?b(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),sn(),xd(u.i,u.u,u.A,u.l,u.R,u.m)}Tr.prototype.ca=function(u){u=u.target;const m=this.M;m&&xr(u)==3?m.j():this.Y(u)},Tr.prototype.Y=function(u){try{if(u==this.g)e:{const Gt=xr(this.g);var m=this.g.Ba();const ts=this.g.Z();if(!(3>Gt)&&(Gt!=3||this.g&&(this.h.h||this.g.oa()||$d(this.g)))){this.J||Gt!=4||m==7||(m==8||0>=ts?sn(3):sn(2)),uc(this);var x=this.g.Z();this.X=x;t:if(bd(this)){var N=$d(this.g);u="";var q=N.length,W=xr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){yi(this),Eo(this);var K="";break t}this.h.i=new a.TextDecoder}for(m=0;m<q;m++)this.h.h=!0,u+=this.h.i.decode(N[m],{stream:!(W&&m==q-1)});N.length=0,this.h.g+=u,this.C=0,K=this.h.g}else K=this.g.oa();if(this.o=x==200,jm(this.i,this.u,this.A,this.l,this.R,Gt,x),this.o){if(this.T&&!this.K){t:{if(this.g){var Xe,Lt=this.g;if((Xe=Lt.g?Lt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(Xe)){var Ge=Xe;break t}}Ge=null}if(x=Ge)mi(this.i,this.l,x,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Qi(this,x);else{this.o=!1,this.s=3,Kt(12),yi(this),Eo(this);break e}}if(this.P){x=!0;let qn;for(;!this.J&&this.C<K.length;)if(qn=qm(this,K),qn==ac){Gt==4&&(this.s=4,Kt(14),x=!1),mi(this.i,this.l,null,"[Incomplete Response]");break}else if(qn==Id){this.s=4,Kt(15),mi(this.i,this.l,K,"[Invalid Chunk]"),x=!1;break}else mi(this.i,this.l,qn,null),Qi(this,qn);if(bd(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Gt!=4||K.length!=0||this.h.h||(this.s=1,Kt(16),x=!1),this.o=this.o&&x,!x)mi(this.i,this.l,K,"[Invalid Chunked Response]"),yi(this),Eo(this);else if(0<K.length&&!this.W){this.W=!0;var qt=this.j;qt.g==this&&qt.ba&&!qt.M&&(qt.j.info("Great, no buffering proxy detected. Bytes received: "+K.length),yc(qt),qt.M=!0,Kt(11))}}else mi(this.i,this.l,K,null),Qi(this,K);Gt==4&&yi(this),this.o&&!this.J&&(Gt==4?Jd(this.j,this):(this.o=!1,ga(this)))}else Zm(this.g),x==400&&0<K.indexOf("Unknown SID")?(this.s=3,Kt(12)):(this.s=0,Kt(13)),yi(this),Eo(this)}}}catch{}finally{}};function bd(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function qm(u,m){var x=u.C,N=m.indexOf(`
`,x);return N==-1?ac:(x=Number(m.substring(x,N)),isNaN(x)?Id:(N+=1,N+x>m.length?ac:(m=m.slice(N,N+x),u.C=N+x,m)))}Tr.prototype.cancel=function(){this.J=!0,yi(this)};function ga(u){u.S=Date.now()+u.I,cc(u,u.I)}function cc(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=fi(h(u.ba,u),m)}function uc(u){u.B&&(a.clearTimeout(u.B),u.B=null)}Tr.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(vo(this.i,this.A),this.L!=2&&(sn(),Kt(17)),yi(this),this.s=2,Eo(this)):cc(this,this.S-u)};function Eo(u){u.j.G==0||u.J||Jd(u.j,u)}function yi(u){uc(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,Er(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function Qi(u,m){try{var x=u.j;if(x.G!=0&&(x.g==u||ya(x.h,u))){if(!u.K&&ya(x.h,u)&&x.G==3){try{var N=x.Da.g.parse(m)}catch{N=null}if(Array.isArray(N)&&N.length==3){var q=N;if(q[0]==0){e:if(!x.u){if(x.g)if(x.g.F+3e3<u.F)Ia(x),Ao(x);else break e;gc(x),Kt(18)}}else x.za=q[1],0<x.za-x.T&&37500>q[2]&&x.F&&x.v==0&&!x.C&&(x.C=fi(h(x.Za,x),6e3));if(1>=dc(x.h)&&x.ca){try{x.ca()}catch{}x.ca=void 0}}else Ei(x,11)}else if((u.K||x.g==u)&&Ia(x),!w(m))for(q=x.Da.g.parse(m),m=0;m<q.length;m++){let Ge=q[m];if(x.T=Ge[0],Ge=Ge[1],x.G==2)if(Ge[0]=="c"){x.K=Ge[1],x.ia=Ge[2];const qt=Ge[3];qt!=null&&(x.la=qt,x.j.info("VER="+x.la));const Gt=Ge[4];Gt!=null&&(x.Aa=Gt,x.j.info("SVER="+x.Aa));const ts=Ge[5];ts!=null&&typeof ts=="number"&&0<ts&&(N=1.5*ts,x.L=N,x.j.info("backChannelRequestTimeoutMs_="+N)),N=x;const qn=u.g;if(qn){const Ra=qn.g?qn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ra){var W=N.h;W.g||Ra.indexOf("spdy")==-1&&Ra.indexOf("quic")==-1&&Ra.indexOf("h2")==-1||(W.j=W.l,W.g=new Set,W.h&&(va(W,W.h),W.h=null))}if(N.D){const vc=qn.g?qn.g.getResponseHeader("X-HTTP-Session-Id"):null;vc&&(N.ya=vc,tt(N.I,N.D,vc))}}x.G=3,x.l&&x.l.ua(),x.ba&&(x.R=Date.now()-u.F,x.j.info("Handshake RTT: "+x.R+"ms")),N=x;var K=u;if(N.qa=Zd(N,N.J?N.ia:null,N.W),K.K){Ve(N.h,K);var Xe=K,Lt=N.L;Lt&&(Xe.I=Lt),Xe.B&&(uc(Xe),ga(Xe)),N.g=K}else Kd(N);0<x.i.length&&Aa(x)}else Ge[0]!="stop"&&Ge[0]!="close"||Ei(x,7);else x.G==3&&(Ge[0]=="stop"||Ge[0]=="close"?Ge[0]=="stop"?Ei(x,7):mc(x):Ge[0]!="noop"&&x.l&&x.l.ta(Ge),x.v=0)}}sn(4)}catch{}}var Gm=class{constructor(u,m){this.g=u,this.map=m}};function Sd(u){this.l=u||10,a.PerformanceNavigationTiming?(u=a.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Co(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function dc(u){return u.h?1:u.g?u.g.size:0}function ya(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function va(u,m){u.g?u.g.add(m):u.h=m}function Ve(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Sd.prototype.cancel=function(){if(this.i=Rd(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Rd(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const x of u.g.values())m=m.concat(x.D);return m}return y(u.i)}function $m(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(l(u)){for(var m=[],x=u.length,N=0;N<x;N++)m.push(u[N]);return m}m=[],x=0;for(N in u)m[x++]=u[N];return m}function jn(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(l(u)||typeof u=="string"){var m=[];u=u.length;for(var x=0;x<u;x++)m.push(x);return m}m=[],x=0;for(const N in u)m[x++]=N;return m}}}function Pd(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(l(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var x=jn(u),N=$m(u),q=N.length,W=0;W<q;W++)m.call(void 0,N[W],x&&x[W],u)}var hc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function wa(u,m){if(u){u=u.split("&");for(var x=0;x<u.length;x++){var N=u[x].indexOf("="),q=null;if(0<=N){var W=u[x].substring(0,N);q=u[x].substring(N+1)}else W=u[x];m(W,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function vi(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof vi){this.h=u.h,Ea(this,u.j),this.o=u.o,this.g=u.g,Ki(this,u.s),this.l=u.l;var m=u.i,x=new To;x.i=m.i,m.g&&(x.g=new Map(m.g),x.h=m.h),kd(this,x),this.m=u.m}else u&&(m=String(u).match(hc))?(this.h=!1,Ea(this,m[1]||"",!0),this.o=wi(m[2]||""),this.g=wi(m[3]||"",!0),Ki(this,m[4]),this.l=wi(m[5]||"",!0),kd(this,m[6]||"",!0),this.m=wi(m[7]||"")):(this.h=!1,this.i=new To(null,this.h))}vi.prototype.toString=function(){var u=[],m=this.j;m&&u.push(wn(m,Nd,!0),":");var x=this.g;return(x||m=="file")&&(u.push("//"),(m=this.o)&&u.push(wn(m,Nd,!0),"@"),u.push(encodeURIComponent(String(x)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),x=this.s,x!=null&&u.push(":",String(x))),(x=this.l)&&(this.g&&x.charAt(0)!="/"&&u.push("/"),u.push(wn(x,x.charAt(0)=="/"?_r:zm,!0))),(x=this.i.toString())&&u.push("?",x),(x=this.m)&&u.push("#",wn(x,Wm)),u.join("")};function Un(u){return new vi(u)}function Ea(u,m,x){u.j=x?wi(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Ki(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function kd(u,m,x){m instanceof To?(u.i=m,Ym(u.i,u.h)):(x||(m=wn(m,Dd)),u.i=new To(m,u.h))}function tt(u,m,x){u.i.set(m,x)}function Ca(u){return tt(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function wi(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function wn(u,m,x){return typeof u=="string"?(u=encodeURI(u).replace(m,fc),x&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function fc(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Nd=/[#\/\?@]/g,zm=/[#\?:]/g,_r=/[#\?]/g,Dd=/[#\?@]/g,Wm=/#/g;function To(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function Ur(u){u.g||(u.g=new Map,u.h=0,u.i&&wa(u.i,function(m,x){u.add(decodeURIComponent(m.replace(/\+/g," ")),x)}))}t=To.prototype,t.add=function(u,m){Ur(this),this.i=null,u=Hi(this,u);var x=this.g.get(u);return x||this.g.set(u,x=[]),x.push(m),this.h+=1,this};function Md(u,m){Ur(u),m=Hi(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Od(u,m){return Ur(u),m=Hi(u,m),u.g.has(m)}t.forEach=function(u,m){Ur(this),this.g.forEach(function(x,N){x.forEach(function(q){u.call(m,q,N,this)},this)},this)},t.na=function(){Ur(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),x=[];for(let N=0;N<m.length;N++){const q=u[N];for(let W=0;W<q.length;W++)x.push(m[N])}return x},t.V=function(u){Ur(this);let m=[];if(typeof u=="string")Od(this,u)&&(m=m.concat(this.g.get(Hi(this,u))));else{u=Array.from(this.g.values());for(let x=0;x<u.length;x++)m=m.concat(u[x])}return m},t.set=function(u,m){return Ur(this),this.i=null,u=Hi(this,u),Od(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},t.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function Ld(u,m,x){Md(u,m),0<x.length&&(u.i=null,u.g.set(Hi(u,m),y(x)),u.h+=x.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var x=0;x<m.length;x++){var N=m[x];const W=encodeURIComponent(String(N)),K=this.V(N);for(N=0;N<K.length;N++){var q=W;K[N]!==""&&(q+="="+encodeURIComponent(String(K[N]))),u.push(q)}}return this.i=u.join("&")};function Hi(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Ym(u,m){m&&!u.j&&(Ur(u),u.i=null,u.g.forEach(function(x,N){var q=N.toLowerCase();N!=q&&(Md(this,N),Ld(this,q,x))},u)),u.j=m}function Qm(u,m){const x=new pi;if(a.Image){const N=new Image;N.onload=g(En,x,"TestLoadImage: loaded",!0,m,N),N.onerror=g(En,x,"TestLoadImage: error",!1,m,N),N.onabort=g(En,x,"TestLoadImage: abort",!1,m,N),N.ontimeout=g(En,x,"TestLoadImage: timeout",!1,m,N),a.setTimeout(function(){N.ontimeout&&N.ontimeout()},1e4),N.src=u}else m(!1)}function Km(u,m){const x=new pi,N=new AbortController,q=setTimeout(()=>{N.abort(),En(x,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:N.signal}).then(W=>{clearTimeout(q),W.ok?En(x,"TestPingServer: ok",!0,m):En(x,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(q),En(x,"TestPingServer: error",!1,m)})}function En(u,m,x,N,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),N(x)}catch{}}function Vd(){this.g=new oc}function Fd(u,m,x){const N=x||"";try{Pd(u,function(q,W){let K=q;c(q)&&(K=yn(q)),m.push(N+W+"="+encodeURIComponent(K))})}catch(q){throw m.push(N+"type="+encodeURIComponent("_badmap")),q}}function _o(u){this.l=u.Ub||null,this.j=u.eb||!1}T(_o,Ae),_o.prototype.g=function(){return new Ta(this.l,this.j)},_o.prototype.i=function(u){return function(){return u}}({});function Ta(u,m){Tt.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}T(Ta,Tt),t=Ta.prototype,t.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,xo(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||a).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ji(this)),this.readyState=0},t.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,xo(this)),this.g&&(this.readyState=3,xo(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Bd(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Bd(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}t.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Ji(this):xo(this),this.readyState==3&&Bd(this)}},t.Ra=function(u){this.g&&(this.response=this.responseText=u,Ji(this))},t.Qa=function(u){this.g&&(this.response=u,Ji(this))},t.ga=function(){this.g&&Ji(this)};function Ji(u){u.readyState=4,u.l=null,u.j=null,u.v=null,xo(u)}t.setRequestHeader=function(u,m){this.u.append(u,m)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var x=m.next();!x.done;)x=x.value,u.push(x[0]+": "+x[1]),x=m.next();return u.join(`\r
`)};function xo(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Ta.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function jd(u){let m="";return B(u,function(x,N){m+=N,m+=":",m+=x,m+=`\r
`}),m}function pc(u,m,x){e:{for(N in x){var N=!1;break e}N=!0}N||(x=jd(x),typeof u=="string"?x!=null&&encodeURIComponent(String(x)):tt(u,m,x))}function pt(u){Tt.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}T(pt,Tt);var Hm=/^https?$/i,Jm=["POST","PUT"];t=pt.prototype,t.Ha=function(u){this.J=u},t.ea=function(u,m,x,N){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():pa.g(),this.v=this.o?Be(this.o):Be(pa),this.g.onreadystatechange=h(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(W){Ud(this,W);return}if(u=x||"",x=new Map(this.headers),N)if(Object.getPrototypeOf(N)===Object.prototype)for(var q in N)x.set(q,N[q]);else if(typeof N.keys=="function"&&typeof N.get=="function")for(const W of N.keys())x.set(W,N.get(W));else throw Error("Unknown input type for opt_headers: "+String(N));N=Array.from(x.keys()).find(W=>W.toLowerCase()=="content-type"),q=a.FormData&&u instanceof a.FormData,!(0<=Array.prototype.indexOf.call(Jm,m,void 0))||N||q||x.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[W,K]of x)this.g.setRequestHeader(W,K);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{xa(this),this.u=!0,this.g.send(u),this.u=!1}catch(W){Ud(this,W)}};function Ud(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,qd(u),_a(u)}function qd(u){u.A||(u.A=!0,ft(u,"complete"),ft(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,ft(this,"complete"),ft(this,"abort"),_a(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),_a(this,!0)),pt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Gd(this):this.bb())},t.bb=function(){Gd(this)};function Gd(u){if(u.h&&typeof o<"u"&&(!u.v[1]||xr(u)!=4||u.Z()!=2)){if(u.u&&xr(u)==4)vr(u.Ea,0,u);else if(ft(u,"readystatechange"),xr(u)==4){u.h=!1;try{const K=u.Z();e:switch(K){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var x;if(!(x=m)){var N;if(N=K===0){var q=String(u.D).match(hc)[1]||null;!q&&a.self&&a.self.location&&(q=a.self.location.protocol.slice(0,-1)),N=!Hm.test(q?q.toLowerCase():"")}x=N}if(x)ft(u,"complete"),ft(u,"success");else{u.m=6;try{var W=2<xr(u)?u.g.statusText:""}catch{W=""}u.l=W+" ["+u.Z()+"]",qd(u)}}finally{_a(u)}}}}function _a(u,m){if(u.g){xa(u);const x=u.g,N=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||ft(u,"ready");try{x.onreadystatechange=N}catch{}}}function xa(u){u.I&&(a.clearTimeout(u.I),u.I=null)}t.isActive=function(){return!!this.g};function xr(u){return u.g?u.g.readyState:0}t.Z=function(){try{return 2<xr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),vn(m)}};function $d(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Zm(u){const m={};u=(u.g&&2<=xr(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let N=0;N<u.length;N++){if(w(u[N]))continue;var x=V(u[N]);const q=x[0];if(x=x[1],typeof x!="string")continue;x=x.trim();const W=m[q]||[];m[q]=W,W.push(x)}S(m,function(N){return N.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Zi(u,m,x){return x&&x.internalChannelParams&&x.internalChannelParams[u]||m}function zd(u){this.Aa=0,this.i=[],this.j=new pi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Zi("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Zi("baseRetryDelayMs",5e3,u),this.cb=Zi("retryDelaySeedMs",1e4,u),this.Wa=Zi("forwardChannelMaxRetries",2,u),this.wa=Zi("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Sd(u&&u.concurrentRequestLimit),this.Da=new Vd,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=zd.prototype,t.la=8,t.G=1,t.connect=function(u,m,x,N){Kt(0),this.W=u,this.H=m||{},x&&N!==void 0&&(this.H.OSID=x,this.H.OAID=N),this.F=this.X,this.I=Zd(this,null,this.W),Aa(this)};function mc(u){if(Wd(u),u.G==3){var m=u.U++,x=Un(u.I);if(tt(x,"SID",u.K),tt(x,"RID",m),tt(x,"TYPE","terminate"),Io(u,x),m=new Tr(u,u.j,m),m.L=2,m.v=Ca(Un(x)),x=!1,a.navigator&&a.navigator.sendBeacon)try{x=a.navigator.sendBeacon(m.v.toString(),"")}catch{}!x&&a.Image&&(new Image().src=m.v,x=!0),x||(m.g=Xd(m.j,null),m.g.ea(m.v)),m.F=Date.now(),ga(m)}Xi(u)}function Ao(u){u.g&&(yc(u),u.g.cancel(),u.g=null)}function Wd(u){Ao(u),u.u&&(a.clearTimeout(u.u),u.u=null),Ia(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&a.clearTimeout(u.s),u.s=null)}function Aa(u){if(!Co(u.h)&&!u.s){u.s=!0;var m=u.Ga;pe||ae(),G||(pe(),G=!0),Z.add(m,u),u.B=0}}function Xm(u,m){return dc(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=fi(h(u.Ga,u,m),ba(u,u.B)),u.B++,!0)}t.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const q=new Tr(this,this.j,u);let W=this.o;if(this.S&&(W?(W=b(W),D(W,this.S)):W=this.S),this.m!==null||this.O||(q.H=W,W=null),this.P)e:{for(var m=0,x=0;x<this.i.length;x++){t:{var N=this.i[x];if("__data__"in N.map&&(N=N.map.__data__,typeof N=="string")){N=N.length;break t}N=void 0}if(N===void 0)break;if(m+=N,4096<m){m=x;break e}if(m===4096||x===this.i.length-1){m=x+1;break e}}m=1e3}else m=1e3;m=Qd(this,q,m),x=Un(this.I),tt(x,"RID",u),tt(x,"CVER",22),this.D&&tt(x,"X-HTTP-Session-Id",this.D),Io(this,x),W&&(this.O?m="headers="+encodeURIComponent(String(jd(W)))+"&"+m:this.m&&pc(x,this.m,W)),va(this.h,q),this.Ua&&tt(x,"TYPE","init"),this.P?(tt(x,"$req",m),tt(x,"SID","null"),q.T=!0,lc(q,x,null)):lc(q,x,m),this.G=2}}else this.G==3&&(u?Yd(this,u):this.i.length==0||Co(this.h)||Yd(this))};function Yd(u,m){var x;m?x=m.l:x=u.U++;const N=Un(u.I);tt(N,"SID",u.K),tt(N,"RID",x),tt(N,"AID",u.T),Io(u,N),u.m&&u.o&&pc(N,u.m,u.o),x=new Tr(u,u.j,x,u.B+1),u.m===null&&(x.H=u.o),m&&(u.i=m.D.concat(u.i)),m=Qd(u,x,1e3),x.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),va(u.h,x),lc(x,N,m)}function Io(u,m){u.H&&B(u.H,function(x,N){tt(m,N,x)}),u.l&&Pd({},function(x,N){tt(m,N,x)})}function Qd(u,m,x){x=Math.min(u.i.length,x);var N=u.l?h(u.l.Na,u.l,u):null;e:{var q=u.i;let W=-1;for(;;){const K=["count="+x];W==-1?0<x?(W=q[0].g,K.push("ofs="+W)):W=0:K.push("ofs="+W);let Xe=!0;for(let Lt=0;Lt<x;Lt++){let Ge=q[Lt].g;const qt=q[Lt].map;if(Ge-=W,0>Ge)W=Math.max(0,q[Lt].g-100),Xe=!1;else try{Fd(qt,K,"req"+Ge+"_")}catch{N&&N(qt)}}if(Xe){N=K.join("&");break e}}}return u=u.i.splice(0,x),m.D=u,N}function Kd(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;pe||ae(),G||(pe(),G=!0),Z.add(m,u),u.v=0}}function gc(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=fi(h(u.Fa,u),ba(u,u.v)),u.v++,!0)}t.Fa=function(){if(this.u=null,Hd(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=fi(h(this.ab,this),u)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Kt(10),Ao(this),Hd(this))};function yc(u){u.A!=null&&(a.clearTimeout(u.A),u.A=null)}function Hd(u){u.g=new Tr(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=Un(u.qa);tt(m,"RID","rpc"),tt(m,"SID",u.K),tt(m,"AID",u.T),tt(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&tt(m,"TO",u.ja),tt(m,"TYPE","xmlhttp"),Io(u,m),u.m&&u.o&&pc(m,u.m,u.o),u.L&&(u.g.I=u.L);var x=u.g;u=u.ia,x.L=1,x.v=Ca(Un(m)),x.m=null,x.P=!0,ma(x,u)}t.Za=function(){this.C!=null&&(this.C=null,Ao(this),gc(this),Kt(19))};function Ia(u){u.C!=null&&(a.clearTimeout(u.C),u.C=null)}function Jd(u,m){var x=null;if(u.g==m){Ia(u),yc(u),u.g=null;var N=2}else if(ya(u.h,m))x=m.D,Ve(u.h,m),N=1;else return;if(u.G!=0){if(m.o)if(N==1){x=m.m?m.m.length:0,m=Date.now()-m.F;var q=u.B;N=qe(),ft(N,new _d(N,x)),Aa(u)}else Kd(u);else if(q=m.s,q==3||q==0&&0<m.X||!(N==1&&Xm(u,m)||N==2&&gc(u)))switch(x&&0<x.length&&(m=u.h,m.i=m.i.concat(x)),q){case 1:Ei(u,5);break;case 4:Ei(u,10);break;case 3:Ei(u,6);break;default:Ei(u,2)}}}function ba(u,m){let x=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(x*=2),x*m}function Ei(u,m){if(u.j.info("Error code "+m),m==2){var x=h(u.fb,u),N=u.Xa;const q=!N;N=new vi(N||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Ea(N,"https"),Ca(N),q?Qm(N.toString(),x):Km(N.toString(),x)}else Kt(2);u.G=0,u.l&&u.l.sa(m),Xi(u),Wd(u)}t.fb=function(u){u?(this.j.info("Successfully pinged google.com"),Kt(2)):(this.j.info("Failed to ping google.com"),Kt(1))};function Xi(u){if(u.G=0,u.ka=[],u.l){const m=Rd(u.h);(m.length!=0||u.i.length!=0)&&(I(u.ka,m),I(u.ka,u.i),u.h.i.length=0,y(u.i),u.i.length=0),u.l.ra()}}function Zd(u,m,x){var N=x instanceof vi?Un(x):new vi(x);if(N.g!="")m&&(N.g=m+"."+N.g),Ki(N,N.s);else{var q=a.location;N=q.protocol,m=m?m+"."+q.hostname:q.hostname,q=+q.port;var W=new vi(null);N&&Ea(W,N),m&&(W.g=m),q&&Ki(W,q),x&&(W.l=x),N=W}return x=u.D,m=u.ya,x&&m&&tt(N,x,m),tt(N,"VER",u.la),Io(u,N),N}function Xd(u,m,x){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new pt(new _o({eb:x})):new pt(u.pa),m.Ha(u.J),m}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function eh(){}t=eh.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Sa(){}Sa.prototype.g=function(u,m){return new Cn(u,m)};function Cn(u,m){Tt.call(this),this.g=new zd(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!w(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!w(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new es(this)}T(Cn,Tt),Cn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Cn.prototype.close=function(){mc(this.g)},Cn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var x={};x.__data__=u,u=x}else this.u&&(x={},x.__data__=yn(u),u=x);m.i.push(new Gm(m.Ya++,u)),m.G==3&&Aa(m)},Cn.prototype.N=function(){this.g.l=null,delete this.j,mc(this.g),delete this.g,Cn.aa.N.call(this)};function th(u){rn.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const x in m){u=x;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}T(th,rn);function nh(){Cr.call(this),this.status=1}T(nh,Cr);function es(u){this.g=u}T(es,eh),es.prototype.ua=function(){ft(this.g,"a")},es.prototype.ta=function(u){ft(this.g,new th(u))},es.prototype.sa=function(u){ft(this.g,new nh)},es.prototype.ra=function(){ft(this.g,"b")},Sa.prototype.createWebChannel=Sa.prototype.g,Cn.prototype.send=Cn.prototype.o,Cn.prototype.open=Cn.prototype.m,Cn.prototype.close=Cn.prototype.close,hb=function(){return new Sa},db=function(){return qe()},ub=at,fv={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},gi.NO_ERROR=0,gi.TIMEOUT=8,gi.HTTP_ERROR=6,sf=gi,fa.COMPLETE="complete",cb=fa,Qe.EventType=Ut,Ut.OPEN="a",Ut.CLOSE="b",Ut.ERROR="c",Ut.MESSAGE="d",Tt.prototype.listen=Tt.prototype.K,Oc=Qe,pt.prototype.listenOnce=pt.prototype.L,pt.prototype.getLastError=pt.prototype.Ka,pt.prototype.getLastErrorCode=pt.prototype.Ba,pt.prototype.getStatus=pt.prototype.Z,pt.prototype.getResponseJson=pt.prototype.Oa,pt.prototype.getResponseText=pt.prototype.oa,pt.prototype.send=pt.prototype.ea,pt.prototype.setWithCredentials=pt.prototype.Ha,lb=pt}).apply(typeof Ih<"u"?Ih:typeof self<"u"?self:typeof window<"u"?window:{});const IC="@firebase/firestore",bC="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}dn.UNAUTHENTICATED=new dn(null),dn.GOOGLE_CREDENTIALS=new dn("google-credentials-uid"),dn.FIRST_PARTY=new dn("first-party-uid"),dn.MOCK_USER=new dn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ql="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ho=new gw("@firebase/firestore");function Ma(){return Ho.logLevel}function fe(t,...e){if(Ho.logLevel<=je.DEBUG){const n=e.map(Ew);Ho.debug(`Firestore (${Ql}): ${t}`,...n)}}function Bi(t,...e){if(Ho.logLevel<=je.ERROR){const n=e.map(Ew);Ho.error(`Firestore (${Ql}): ${t}`,...n)}}function Ws(t,...e){if(Ho.logLevel<=je.WARN){const n=e.map(Ew);Ho.warn(`Firestore (${Ql}): ${t}`,...n)}}function Ew(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ce(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,fb(t,r,n)}function fb(t,e,n){let r=`FIRESTORE (${Ql}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Bi(r),new Error(r)}function ze(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||fb(e,i,r)}function Pe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class le extends zi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pb{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class ZV{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(dn.UNAUTHENTICATED))}shutdown(){}}class XV{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class eF{constructor(e){this.t=e,this.currentUser=dn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ze(this.o===void 0,42304);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new Xr;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Xr,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Xr)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ze(typeof r.accessToken=="string",31837,{l:r}),new pb(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ze(e===null||typeof e=="string",2055,{h:e}),new dn(e)}}class tF{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=dn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class nF{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new tF(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(dn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class SC{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class rF{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,hr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){ze(this.o===void 0,3512);const r=s=>{s.error!=null&&fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.m;return this.m=s.token,fe("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new SC(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ze(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new SC(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iF(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mb(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cw{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=iF(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}}function Oe(t,e){return t<e?-1:t>e?1:0}function pv(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),i=e.codePointAt(n);if(r!==i){if(r<128&&i<128)return Oe(r,i);{const s=mb(),o=sF(s.encode(RC(t,n)),s.encode(RC(e,n)));return o!==0?o:Oe(r,i)}}n+=r>65535?2:1}return Oe(t.length,e.length)}function RC(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function sF(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return Oe(t[n],e[n]);return Oe(t.length,e.length)}function Pl(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PC="__name__";class zr{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ce(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Ce(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return zr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof zr?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=zr.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return Oe(e.length,n.length)}static compareSegments(e,n){const r=zr.isNumericId(e),i=zr.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?zr.extractNumericId(e).compare(zr.extractNumericId(n)):pv(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Bs.fromString(e.substring(4,e.length-2))}}class nt extends zr{construct(e,n,r){return new nt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new le(Q.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new nt(n)}static emptyPath(){return new nt([])}}const oF=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Zt extends zr{construct(e,n,r){return new Zt(e,n,r)}static isValidIdentifier(e){return oF.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Zt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===PC}static keyField(){return new Zt([PC])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new le(Q.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new le(Q.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new le(Q.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new le(Q.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Zt(n)}static emptyPath(){return new Zt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{constructor(e){this.path=e}static fromPath(e){return new ve(nt.fromString(e))}static fromName(e){return new ve(nt.fromString(e).popFirst(5))}static empty(){return new ve(nt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&nt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return nt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ve(new nt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gb(t,e,n){if(!n)throw new le(Q.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function aF(t,e,n,r){if(e===!0&&r===!0)throw new le(Q.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function kC(t){if(!ve.isDocumentKey(t))throw new le(Q.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function NC(t){if(ve.isDocumentKey(t))throw new le(Q.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function yb(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Zp(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ce(12329,{type:typeof t})}function Zn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new le(Q.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Zp(t);throw new le(Q.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mt(t,e){const n={typeString:t};return e&&(n.value=e),n}function nd(t,e){if(!yb(t))throw new le(Q.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,s="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(i&&typeof o!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(s!==void 0&&o!==s.value){n=`Expected '${r}' field to equal '${s.value}'`;break}}if(n)throw new le(Q.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DC=-62135596800,MC=1e6;class Ze{static now(){return Ze.fromMillis(Date.now())}static fromDate(e){return Ze.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*MC);return new Ze(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new le(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new le(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<DC)throw new le(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new le(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/MC}_compareTo(e){return this.seconds===e.seconds?Oe(this.nanoseconds,e.nanoseconds):Oe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ze._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(nd(e,Ze._jsonSchema))return new Ze(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-DC;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ze._jsonSchemaVersion="firestore/timestamp/1.0",Ze._jsonSchema={type:Mt("string",Ze._jsonSchemaVersion),seconds:Mt("number"),nanoseconds:Mt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{static fromTimestamp(e){return new Se(e)}static min(){return new Se(new Ze(0,0))}static max(){return new Se(new Ze(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bu=-1;function lF(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Se.fromTimestamp(r===1e9?new Ze(n+1,0):new Ze(n,r));return new Ys(i,ve.empty(),e)}function cF(t){return new Ys(t.readTime,t.key,bu)}class Ys{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ys(Se.min(),ve.empty(),bu)}static max(){return new Ys(Se.max(),ve.empty(),bu)}}function uF(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ve.comparator(t.documentKey,e.documentKey),n!==0?n:Oe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dF="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class hF{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kl(t){if(t.code!==Q.FAILED_PRECONDITION||t.message!==dF)throw t;fe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ce(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new H((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof H?n:H.resolve(n)}catch(n){return H.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):H.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):H.reject(n)}static resolve(e){return new H((n,r)=>{n(e)})}static reject(e){return new H((n,r)=>{r(e)})}static waitFor(e){return new H((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=H.resolve(!1);for(const r of e)n=n.next(i=>i?H.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new H((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const c=l;n(e[c]).next(d=>{o[c]=d,++a,a===s&&r(o)},d=>i(d))}})}static doWhile(e,n){return new H((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function fF(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Hl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xp{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this._e(r),this.ae=r=>n.writeSequenceNumber(r))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}Xp.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tw=-1;function rd(t){return t==null}function Xf(t){return t===0&&1/t==-1/0}function pF(t){return typeof t=="number"&&Number.isInteger(t)&&!Xf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vb="";function mF(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=OC(e)),e=gF(t.get(n),e);return OC(e)}function gF(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case vb:n+="";break;default:n+=s}}return n}function OC(t){return t+vb+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LC(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ao(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function wb(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(e,n){this.comparator=e,this.root=n||Jt.EMPTY}insert(e,n){return new Ct(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Jt.BLACK,null,null))}remove(e){return new Ct(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Jt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new bh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new bh(this.root,e,this.comparator,!1)}getReverseIterator(){return new bh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new bh(this.root,e,this.comparator,!0)}}class bh{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Jt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Jt.RED,this.left=i??Jt.EMPTY,this.right=s??Jt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Jt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Jt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Jt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Jt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Jt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ce(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ce(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ce(27949);return e+(this.isRed()?0:1)}}Jt.EMPTY=null,Jt.RED=!0,Jt.BLACK=!1;Jt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ce(57766)}get value(){throw Ce(16141)}get color(){throw Ce(16727)}get left(){throw Ce(29726)}get right(){throw Ce(36894)}copy(e,n,r,i,s){return this}insert(e,n,r){return new Jt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(e){this.comparator=e,this.data=new Ct(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new VC(this.data.getIterator())}getIteratorFrom(e){return new VC(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof jt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new jt(this.comparator);return n.data=e,n}}class VC{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn{constructor(e){this.fields=e,e.sort(Zt.comparator)}static empty(){return new Hn([])}unionWith(e){let n=new jt(Zt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Hn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Pl(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Eb("Invalid base64 string: "+s):s}}(e);return new tn(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new tn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Oe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}tn.EMPTY_BYTE_STRING=new tn("");const yF=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Qs(t){if(ze(!!t,39018),typeof t=="string"){let e=0;const n=yF.exec(t);if(ze(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:bt(t.seconds),nanos:bt(t.nanos)}}function bt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ks(t){return typeof t=="string"?tn.fromBase64String(t):tn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cb="server_timestamp",Tb="__type__",_b="__previous_value__",xb="__local_write_time__";function _w(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[Tb])===null||n===void 0?void 0:n.stringValue)===Cb}function em(t){const e=t.mapValue.fields[_b];return _w(e)?em(e):e}function Su(t){const e=Qs(t.mapValue.fields[xb].timestampValue);return new Ze(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vF{constructor(e,n,r,i,s,o,a,l,c,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c,this.isUsingEmulator=d}}const ep="(default)";class Ru{constructor(e,n){this.projectId=e,this.database=n||ep}static empty(){return new Ru("","")}get isDefaultDatabase(){return this.database===ep}isEqual(e){return e instanceof Ru&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ab="__type__",Ib="__max__",Sh={mapValue:{fields:{__type__:{stringValue:Ib}}}},bb="__vector__",tp="value";function Hs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?_w(t)?4:EF(t)?9007199254740991:wF(t)?10:11:Ce(28295,{value:t})}function si(t,e){if(t===e)return!0;const n=Hs(t);if(n!==Hs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Su(t).isEqual(Su(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Qs(i.timestampValue),a=Qs(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Ks(i.bytesValue).isEqual(Ks(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return bt(i.geoPointValue.latitude)===bt(s.geoPointValue.latitude)&&bt(i.geoPointValue.longitude)===bt(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return bt(i.integerValue)===bt(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=bt(i.doubleValue),a=bt(s.doubleValue);return o===a?Xf(o)===Xf(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Pl(t.arrayValue.values||[],e.arrayValue.values||[],si);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(LC(o)!==LC(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!si(o[l],a[l])))return!1;return!0}(t,e);default:return Ce(52216,{left:t})}}function Pu(t,e){return(t.values||[]).find(n=>si(n,e))!==void 0}function kl(t,e){if(t===e)return 0;const n=Hs(t),r=Hs(e);if(n!==r)return Oe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Oe(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=bt(s.integerValue||s.doubleValue),l=bt(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return FC(t.timestampValue,e.timestampValue);case 4:return FC(Su(t),Su(e));case 5:return pv(t.stringValue,e.stringValue);case 6:return function(s,o){const a=Ks(s),l=Ks(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const d=Oe(a[c],l[c]);if(d!==0)return d}return Oe(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=Oe(bt(s.latitude),bt(o.latitude));return a!==0?a:Oe(bt(s.longitude),bt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return BC(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,l,c,d;const f=s.fields||{},h=o.fields||{},g=(a=f[tp])===null||a===void 0?void 0:a.arrayValue,T=(l=h[tp])===null||l===void 0?void 0:l.arrayValue,y=Oe(((c=g==null?void 0:g.values)===null||c===void 0?void 0:c.length)||0,((d=T==null?void 0:T.values)===null||d===void 0?void 0:d.length)||0);return y!==0?y:BC(g,T)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===Sh.mapValue&&o===Sh.mapValue)return 0;if(s===Sh.mapValue)return 1;if(o===Sh.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),c=o.fields||{},d=Object.keys(c);l.sort(),d.sort();for(let f=0;f<l.length&&f<d.length;++f){const h=pv(l[f],d[f]);if(h!==0)return h;const g=kl(a[l[f]],c[d[f]]);if(g!==0)return g}return Oe(l.length,d.length)}(t.mapValue,e.mapValue);default:throw Ce(23264,{le:n})}}function FC(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Oe(t,e);const n=Qs(t),r=Qs(e),i=Oe(n.seconds,r.seconds);return i!==0?i:Oe(n.nanos,r.nanos)}function BC(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=kl(n[i],r[i]);if(s)return s}return Oe(n.length,r.length)}function Nl(t){return mv(t)}function mv(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Qs(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ks(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ve.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=mv(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${mv(n.fields[o])}`;return i+"}"}(t.mapValue):Ce(61005,{value:t})}function of(t){switch(Hs(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=em(t);return e?16+of(e):16;case 5:return 2*t.stringValue.length;case 6:return Ks(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+of(s),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return ao(r.fields,(s,o)=>{i+=s.length+of(o)}),i}(t.mapValue);default:throw Ce(13486,{value:t})}}function jC(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function gv(t){return!!t&&"integerValue"in t}function xw(t){return!!t&&"arrayValue"in t}function UC(t){return!!t&&"nullValue"in t}function qC(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function af(t){return!!t&&"mapValue"in t}function wF(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[Ab])===null||n===void 0?void 0:n.stringValue)===bb}function eu(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ao(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=eu(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=eu(t.arrayValue.values[n]);return e}return Object.assign({},t)}function EF(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===Ib}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(e){this.value=e}static empty(){return new An({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!af(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=eu(n)}setAll(e){let n=Zt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=eu(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());af(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return si(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];af(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){ao(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new An(eu(this.value))}}function Sb(t){const e=[];return ao(t.fields,(n,r)=>{const i=new Zt([n]);if(af(r)){const s=Sb(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Hn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Yt(e,0,Se.min(),Se.min(),Se.min(),An.empty(),0)}static newFoundDocument(e,n,r,i){return new Yt(e,1,n,Se.min(),r,i,0)}static newNoDocument(e,n){return new Yt(e,2,n,Se.min(),Se.min(),An.empty(),0)}static newUnknownDocument(e,n){return new Yt(e,3,n,Se.min(),Se.min(),An.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=An.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=An.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Yt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Yt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class np{constructor(e,n){this.position=e,this.inclusive=n}}function GC(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=ve.comparator(ve.fromName(o.referenceValue),n.key):r=kl(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function $C(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!si(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ku{constructor(e,n="asc"){this.field=e,this.dir=n}}function CF(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rb{}class Dt extends Rb{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new _F(e,n,r):n==="array-contains"?new IF(e,r):n==="in"?new bF(e,r):n==="not-in"?new SF(e,r):n==="array-contains-any"?new RF(e,r):new Dt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new xF(e,r):new AF(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(kl(n,this.value)):n!==null&&Hs(this.value)===Hs(n)&&this.matchesComparison(kl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ce(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Lr extends Rb{constructor(e,n){super(),this.filters=e,this.op=n,this.he=null}static create(e,n){return new Lr(e,n)}matches(e){return Pb(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function Pb(t){return t.op==="and"}function kb(t){return TF(t)&&Pb(t)}function TF(t){for(const e of t.filters)if(e instanceof Lr)return!1;return!0}function yv(t){if(t instanceof Dt)return t.field.canonicalString()+t.op.toString()+Nl(t.value);if(kb(t))return t.filters.map(e=>yv(e)).join(",");{const e=t.filters.map(n=>yv(n)).join(",");return`${t.op}(${e})`}}function Nb(t,e){return t instanceof Dt?function(r,i){return i instanceof Dt&&r.op===i.op&&r.field.isEqual(i.field)&&si(r.value,i.value)}(t,e):t instanceof Lr?function(r,i){return i instanceof Lr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&Nb(o,i.filters[a]),!0):!1}(t,e):void Ce(19439)}function Db(t){return t instanceof Dt?function(n){return`${n.field.canonicalString()} ${n.op} ${Nl(n.value)}`}(t):t instanceof Lr?function(n){return n.op.toString()+" {"+n.getFilters().map(Db).join(" ,")+"}"}(t):"Filter"}class _F extends Dt{constructor(e,n,r){super(e,n,r),this.key=ve.fromName(r.referenceValue)}matches(e){const n=ve.comparator(e.key,this.key);return this.matchesComparison(n)}}class xF extends Dt{constructor(e,n){super(e,"in",n),this.keys=Mb("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class AF extends Dt{constructor(e,n){super(e,"not-in",n),this.keys=Mb("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Mb(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ve.fromName(r.referenceValue))}class IF extends Dt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return xw(n)&&Pu(n.arrayValue,this.value)}}class bF extends Dt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Pu(this.value.arrayValue,n)}}class SF extends Dt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Pu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Pu(this.value.arrayValue,n)}}class RF extends Dt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!xw(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Pu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PF{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.Pe=null}}function zC(t,e=null,n=[],r=[],i=null,s=null,o=null){return new PF(t,e,n,r,i,s,o)}function Aw(t){const e=Pe(t);if(e.Pe===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>yv(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),rd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Nl(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Nl(r)).join(",")),e.Pe=n}return e.Pe}function Iw(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!CF(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Nb(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!$C(t.startAt,e.startAt)&&$C(t.endAt,e.endAt)}function vv(t){return ve.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jl{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function kF(t,e,n,r,i,s,o,a){return new Jl(t,e,n,r,i,s,o,a)}function tm(t){return new Jl(t)}function WC(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Ob(t){return t.collectionGroup!==null}function tu(t){const e=Pe(t);if(e.Te===null){e.Te=[];const n=new Set;for(const s of e.explicitOrderBy)e.Te.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new jt(Zt.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.Te.push(new ku(s,r))}),n.has(Zt.keyField().canonicalString())||e.Te.push(new ku(Zt.keyField(),r))}return e.Te}function ei(t){const e=Pe(t);return e.Ie||(e.Ie=NF(e,tu(t))),e.Ie}function NF(t,e){if(t.limitType==="F")return zC(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new ku(i.field,s)});const n=t.endAt?new np(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new np(t.startAt.position,t.startAt.inclusive):null;return zC(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function wv(t,e){const n=t.filters.concat([e]);return new Jl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Ev(t,e,n){return new Jl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function nm(t,e){return Iw(ei(t),ei(e))&&t.limitType===e.limitType}function Lb(t){return`${Aw(ei(t))}|lt:${t.limitType}`}function Oa(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>Db(i)).join(", ")}]`),rd(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Nl(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Nl(i)).join(",")),`Target(${r})`}(ei(t))}; limitType=${t.limitType})`}function rm(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):ve.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of tu(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const c=GC(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,tu(r),i)||r.endAt&&!function(o,a,l){const c=GC(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,tu(r),i))}(t,e)}function DF(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Vb(t){return(e,n)=>{let r=!1;for(const i of tu(t)){const s=MF(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function MF(t,e,n){const r=t.field.isKeyField()?ve.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),c=a.data.field(s);return l!==null&&c!==null?kl(l,c):Ce(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ce(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ao(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return wb(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OF=new Ct(ve.comparator);function ji(){return OF}const Fb=new Ct(ve.comparator);function Lc(...t){let e=Fb;for(const n of t)e=e.insert(n.key,n);return e}function Bb(t){let e=Fb;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Do(){return nu()}function jb(){return nu()}function nu(){return new aa(t=>t.toString(),(t,e)=>t.isEqual(e))}const LF=new Ct(ve.comparator),VF=new jt(ve.comparator);function Ue(...t){let e=VF;for(const n of t)e=e.add(n);return e}const FF=new jt(Oe);function BF(){return FF}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bw(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Xf(e)?"-0":e}}function Ub(t){return{integerValue:""+t}}function qb(t,e){return pF(e)?Ub(e):bw(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class im{constructor(){this._=void 0}}function jF(t,e,n){return t instanceof rp?function(i,s){const o={fields:{[Tb]:{stringValue:Cb},[xb]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&_w(s)&&(s=em(s)),s&&(o.fields[_b]=s),{mapValue:o}}(n,e):t instanceof Nu?$b(t,e):t instanceof Du?zb(t,e):function(i,s){const o=Gb(i,s),a=YC(o)+YC(i.Ee);return gv(o)&&gv(i.Ee)?Ub(a):bw(i.serializer,a)}(t,e)}function UF(t,e,n){return t instanceof Nu?$b(t,e):t instanceof Du?zb(t,e):n}function Gb(t,e){return t instanceof Mu?function(r){return gv(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class rp extends im{}class Nu extends im{constructor(e){super(),this.elements=e}}function $b(t,e){const n=Wb(e);for(const r of t.elements)n.some(i=>si(i,r))||n.push(r);return{arrayValue:{values:n}}}class Du extends im{constructor(e){super(),this.elements=e}}function zb(t,e){let n=Wb(e);for(const r of t.elements)n=n.filter(i=>!si(i,r));return{arrayValue:{values:n}}}class Mu extends im{constructor(e,n){super(),this.serializer=e,this.Ee=n}}function YC(t){return bt(t.integerValue||t.doubleValue)}function Wb(t){return xw(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qF{constructor(e,n){this.field=e,this.transform=n}}function GF(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Nu&&i instanceof Nu||r instanceof Du&&i instanceof Du?Pl(r.elements,i.elements,si):r instanceof Mu&&i instanceof Mu?si(r.Ee,i.Ee):r instanceof rp&&i instanceof rp}(t.transform,e.transform)}class $F{constructor(e,n){this.version=e,this.transformResults=n}}class In{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new In}static exists(e){return new In(void 0,e)}static updateTime(e){return new In(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function lf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}let sm=class{};function Yb(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Sw(t.key,In.none()):new id(t.key,t.data,In.none());{const n=t.data,r=An.empty();let i=new jt(Zt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new lo(t.key,r,new Hn(i.toArray()),In.none())}}function zF(t,e,n){t instanceof id?function(i,s,o){const a=i.value.clone(),l=KC(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof lo?function(i,s,o){if(!lf(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=KC(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(Qb(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function ru(t,e,n,r){return t instanceof id?function(s,o,a,l){if(!lf(s.precondition,o))return a;const c=s.value.clone(),d=HC(s.fieldTransforms,l,o);return c.setAll(d),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof lo?function(s,o,a,l){if(!lf(s.precondition,o))return a;const c=HC(s.fieldTransforms,l,o),d=o.data;return d.setAll(Qb(s)),d.setAll(c),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(s,o,a){return lf(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function WF(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=Gb(r.transform,i||null);s!=null&&(n===null&&(n=An.empty()),n.set(r.field,s))}return n||null}function QC(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Pl(r,i,(s,o)=>GF(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class id extends sm{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class lo extends sm{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function Qb(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function KC(t,e,n){const r=new Map;ze(t.length===n.length,32656,{Ae:n.length,Re:t.length});for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,UF(o,a,n[i]))}return r}function HC(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,jF(s,o,e))}return r}class Sw extends sm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Kb extends sm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YF{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&zF(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=ru(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=ru(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=jb();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=Yb(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(Se.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ue())}isEqual(e){return this.batchId===e.batchId&&Pl(this.mutations,e.mutations,(n,r)=>QC(n,r))&&Pl(this.baseMutations,e.baseMutations,(n,r)=>QC(n,r))}}class Rw{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){ze(e.mutations.length===r.length,58842,{Ve:e.mutations.length,me:r.length});let i=function(){return LF}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new Rw(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let QF=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KF{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kt,$e;function Hb(t){switch(t){case Q.OK:return Ce(64938);case Q.CANCELLED:case Q.UNKNOWN:case Q.DEADLINE_EXCEEDED:case Q.RESOURCE_EXHAUSTED:case Q.INTERNAL:case Q.UNAVAILABLE:case Q.UNAUTHENTICATED:return!1;case Q.INVALID_ARGUMENT:case Q.NOT_FOUND:case Q.ALREADY_EXISTS:case Q.PERMISSION_DENIED:case Q.FAILED_PRECONDITION:case Q.ABORTED:case Q.OUT_OF_RANGE:case Q.UNIMPLEMENTED:case Q.DATA_LOSS:return!0;default:return Ce(15467,{code:t})}}function Jb(t){if(t===void 0)return Bi("GRPC error has no .code"),Q.UNKNOWN;switch(t){case kt.OK:return Q.OK;case kt.CANCELLED:return Q.CANCELLED;case kt.UNKNOWN:return Q.UNKNOWN;case kt.DEADLINE_EXCEEDED:return Q.DEADLINE_EXCEEDED;case kt.RESOURCE_EXHAUSTED:return Q.RESOURCE_EXHAUSTED;case kt.INTERNAL:return Q.INTERNAL;case kt.UNAVAILABLE:return Q.UNAVAILABLE;case kt.UNAUTHENTICATED:return Q.UNAUTHENTICATED;case kt.INVALID_ARGUMENT:return Q.INVALID_ARGUMENT;case kt.NOT_FOUND:return Q.NOT_FOUND;case kt.ALREADY_EXISTS:return Q.ALREADY_EXISTS;case kt.PERMISSION_DENIED:return Q.PERMISSION_DENIED;case kt.FAILED_PRECONDITION:return Q.FAILED_PRECONDITION;case kt.ABORTED:return Q.ABORTED;case kt.OUT_OF_RANGE:return Q.OUT_OF_RANGE;case kt.UNIMPLEMENTED:return Q.UNIMPLEMENTED;case kt.DATA_LOSS:return Q.DATA_LOSS;default:return Ce(39323,{code:t})}}($e=kt||(kt={}))[$e.OK=0]="OK",$e[$e.CANCELLED=1]="CANCELLED",$e[$e.UNKNOWN=2]="UNKNOWN",$e[$e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",$e[$e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",$e[$e.NOT_FOUND=5]="NOT_FOUND",$e[$e.ALREADY_EXISTS=6]="ALREADY_EXISTS",$e[$e.PERMISSION_DENIED=7]="PERMISSION_DENIED",$e[$e.UNAUTHENTICATED=16]="UNAUTHENTICATED",$e[$e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",$e[$e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",$e[$e.ABORTED=10]="ABORTED",$e[$e.OUT_OF_RANGE=11]="OUT_OF_RANGE",$e[$e.UNIMPLEMENTED=12]="UNIMPLEMENTED",$e[$e.INTERNAL=13]="INTERNAL",$e[$e.UNAVAILABLE=14]="UNAVAILABLE",$e[$e.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HF=new Bs([4294967295,4294967295],0);function JC(t){const e=mb().encode(t),n=new ab;return n.update(e),new Uint8Array(n.digest())}function ZC(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Bs([n,r],0),new Bs([i,s],0)]}class Pw{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Vc(`Invalid padding: ${n}`);if(r<0)throw new Vc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Vc(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Vc(`Invalid padding when bitmap length is 0: ${n}`);this.fe=8*e.length-n,this.ge=Bs.fromNumber(this.fe)}pe(e,n,r){let i=e.add(n.multiply(Bs.fromNumber(r)));return i.compare(HF)===1&&(i=new Bs([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const n=JC(e),[r,i]=ZC(n);for(let s=0;s<this.hashCount;s++){const o=this.pe(r,i,s);if(!this.ye(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new Pw(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.fe===0)return;const n=JC(e),[r,i]=ZC(n);for(let s=0;s<this.hashCount;s++){const o=this.pe(r,i,s);this.we(o)}}we(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Vc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class om{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,sd.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new om(Se.min(),i,new Ct(Oe),ji(),Ue())}}class sd{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new sd(r,n,Ue(),Ue(),Ue())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cf{constructor(e,n,r,i){this.Se=e,this.removedTargetIds=n,this.key=r,this.be=i}}class Zb{constructor(e,n){this.targetId=e,this.De=n}}class Xb{constructor(e,n,r=tn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class XC{constructor(){this.ve=0,this.Ce=eT(),this.Fe=tn.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=Ue(),n=Ue(),r=Ue();return this.Ce.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Ce(38017,{changeType:s})}}),new sd(this.Fe,this.Me,e,n,r)}ke(){this.xe=!1,this.Ce=eT()}qe(e,n){this.xe=!0,this.Ce=this.Ce.insert(e,n)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,ze(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class JF{constructor(e){this.We=e,this.Ge=new Map,this.ze=ji(),this.je=Rh(),this.Je=Rh(),this.He=new Ct(Oe)}Ye(e){for(const n of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(n,e.be):this.Xe(n,e.key,e.be);for(const n of e.removedTargetIds)this.Xe(n,e.key,e.be)}et(e){this.forEachTarget(e,n=>{const r=this.tt(n);switch(e.state){case 0:this.nt(n)&&r.Be(e.resumeToken);break;case 1:r.Ue(),r.Oe||r.ke(),r.Be(e.resumeToken);break;case 2:r.Ue(),r.Oe||this.removeTarget(n);break;case 3:this.nt(n)&&(r.Ke(),r.Be(e.resumeToken));break;case 4:this.nt(n)&&(this.rt(n),r.Be(e.resumeToken));break;default:Ce(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Ge.forEach((r,i)=>{this.nt(i)&&n(i)})}it(e){const n=e.targetId,r=e.De.count,i=this.st(n);if(i){const s=i.target;if(vv(s))if(r===0){const o=new ve(s.path);this.Xe(n,o,Yt.newNoDocument(o,Se.min()))}else ze(r===1,20013,{expectedCount:r});else{const o=this.ot(n);if(o!==r){const a=this._t(e),l=a?this.ut(a,e,o):1;if(l!==0){this.rt(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(n,c)}}}}}_t(e){const n=e.De.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=Ks(r).toUint8Array()}catch(l){if(l instanceof Eb)return Ws("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new Pw(o,i,s)}catch(l){return Ws(l instanceof Vc?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.fe===0?null:a}ut(e,n,r){return n.De.count===r-this.ht(e,n.targetId)?0:2}ht(e,n){const r=this.We.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.We.lt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Xe(n,s,null),i++)}),i}Pt(e){const n=new Map;this.Ge.forEach((s,o)=>{const a=this.st(o);if(a){if(s.current&&vv(a.target)){const l=new ve(a.target.path);this.Tt(l).has(o)||this.It(o,l)||this.Xe(o,l,Yt.newNoDocument(l,e))}s.Ne&&(n.set(o,s.Le()),s.ke())}});let r=Ue();this.Je.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.st(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ze.forEach((s,o)=>o.setReadTime(e));const i=new om(e,n,this.He,this.ze,r);return this.ze=ji(),this.je=Rh(),this.Je=Rh(),this.He=new Ct(Oe),i}Ze(e,n){if(!this.nt(e))return;const r=this.It(e,n.key)?2:0;this.tt(e).qe(n.key,r),this.ze=this.ze.insert(n.key,n),this.je=this.je.insert(n.key,this.Tt(n.key).add(e)),this.Je=this.Je.insert(n.key,this.dt(n.key).add(e))}Xe(e,n,r){if(!this.nt(e))return;const i=this.tt(e);this.It(e,n)?i.qe(n,1):i.Qe(n),this.Je=this.Je.insert(n,this.dt(n).delete(e)),this.Je=this.Je.insert(n,this.dt(n).add(e)),r&&(this.ze=this.ze.insert(n,r))}removeTarget(e){this.Ge.delete(e)}ot(e){const n=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let n=this.Ge.get(e);return n||(n=new XC,this.Ge.set(e,n)),n}dt(e){let n=this.Je.get(e);return n||(n=new jt(Oe),this.Je=this.Je.insert(e,n)),n}Tt(e){let n=this.je.get(e);return n||(n=new jt(Oe),this.je=this.je.insert(e,n)),n}nt(e){const n=this.st(e)!==null;return n||fe("WatchChangeAggregator","Detected inactive target",e),n}st(e){const n=this.Ge.get(e);return n&&n.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new XC),this.We.getRemoteKeysForTarget(e).forEach(n=>{this.Xe(e,n,null)})}It(e,n){return this.We.getRemoteKeysForTarget(e).has(n)}}function Rh(){return new Ct(ve.comparator)}function eT(){return new Ct(ve.comparator)}const ZF={asc:"ASCENDING",desc:"DESCENDING"},XF={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},eB={and:"AND",or:"OR"};class tB{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Cv(t,e){return t.useProto3Json||rd(e)?e:{value:e}}function ip(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function eS(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function nB(t,e){return ip(t,e.toTimestamp())}function Xn(t){return ze(!!t,49232),Se.fromTimestamp(function(n){const r=Qs(n);return new Ze(r.seconds,r.nanos)}(t))}function kw(t,e){return Tv(t,e).canonicalString()}function Tv(t,e){const n=function(i){return new nt(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function tS(t){const e=nt.fromString(t);return ze(aS(e),10190,{key:e.toString()}),e}function sp(t,e){return kw(t.databaseId,e.path)}function iu(t,e){const n=tS(e);if(n.get(1)!==t.databaseId.projectId)throw new le(Q.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new le(Q.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ve(rS(n))}function nS(t,e){return kw(t.databaseId,e)}function rB(t){const e=tS(t);return e.length===4?nt.emptyPath():rS(e)}function _v(t){return new nt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function rS(t){return ze(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function tT(t,e,n){return{name:sp(t,e),fields:n.value.mapValue.fields}}function iB(t,e){return"found"in e?function(r,i){ze(!!i.found,43571),i.found.name,i.found.updateTime;const s=iu(r,i.found.name),o=Xn(i.found.updateTime),a=i.found.createTime?Xn(i.found.createTime):Se.min(),l=new An({mapValue:{fields:i.found.fields}});return Yt.newFoundDocument(s,o,a,l)}(t,e):"missing"in e?function(r,i){ze(!!i.missing,3894),ze(!!i.readTime,22933);const s=iu(r,i.missing),o=Xn(i.readTime);return Yt.newNoDocument(s,o)}(t,e):Ce(7234,{result:e})}function sB(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:Ce(39313,{state:c})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(c,d){return c.useProto3Json?(ze(d===void 0||typeof d=="string",58123),tn.fromBase64String(d||"")):(ze(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),tn.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const d=c.code===void 0?Q.UNKNOWN:Jb(c.code);return new le(d,c.message||"")}(o);n=new Xb(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=iu(t,r.document.name),s=Xn(r.document.updateTime),o=r.document.createTime?Xn(r.document.createTime):Se.min(),a=new An({mapValue:{fields:r.document.fields}}),l=Yt.newFoundDocument(i,s,o,a),c=r.targetIds||[],d=r.removedTargetIds||[];n=new cf(c,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=iu(t,r.document),s=r.readTime?Xn(r.readTime):Se.min(),o=Yt.newNoDocument(i,s),a=r.removedTargetIds||[];n=new cf([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=iu(t,r.document),s=r.removedTargetIds||[];n=new cf([],s,i,null)}else{if(!("filter"in e))return Ce(11601,{At:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new KF(i,s),a=r.targetId;n=new Zb(a,o)}}return n}function iS(t,e){let n;if(e instanceof id)n={update:tT(t,e.key,e.value)};else if(e instanceof Sw)n={delete:sp(t,e.key)};else if(e instanceof lo)n={update:tT(t,e.key,e.data),updateMask:pB(e.fieldMask)};else{if(!(e instanceof Kb))return Ce(16599,{Rt:e.type});n={verify:sp(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof rp)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Nu)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Du)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Mu)return{fieldPath:o.field.canonicalString(),increment:a.Ee};throw Ce(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:nB(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Ce(27497)}(t,e.precondition)),n}function oB(t,e){return t&&t.length>0?(ze(e!==void 0,14353),t.map(n=>function(i,s){let o=i.updateTime?Xn(i.updateTime):Xn(s);return o.isEqual(Se.min())&&(o=Xn(s)),new $F(o,i.transformResults||[])}(n,e))):[]}function aB(t,e){return{documents:[nS(t,e.path)]}}function lB(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=nS(t,i);const s=function(c){if(c.length!==0)return oS(Lr.create(c,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(c){if(c.length!==0)return c.map(d=>function(h){return{field:La(h.field),direction:dB(h.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Cv(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{Vt:n,parent:i}}function cB(t){let e=rB(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){ze(r===1,65062);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let s=[];n.where&&(s=function(f){const h=sS(f);return h instanceof Lr&&kb(h)?h.getFilters():[h]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(h=>function(T){return new ku(Va(T.field),function(I){switch(I){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(T.direction))}(h))}(n.orderBy));let a=null;n.limit&&(a=function(f){let h;return h=typeof f=="object"?f.value:f,rd(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(f){const h=!!f.before,g=f.values||[];return new np(g,h)}(n.startAt));let c=null;return n.endAt&&(c=function(f){const h=!f.before,g=f.values||[];return new np(g,h)}(n.endAt)),kF(e,i,o,s,a,"F",l,c)}function uB(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ce(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function sS(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Va(n.unaryFilter.field);return Dt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Va(n.unaryFilter.field);return Dt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Va(n.unaryFilter.field);return Dt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Va(n.unaryFilter.field);return Dt.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ce(61313);default:return Ce(60726)}}(t):t.fieldFilter!==void 0?function(n){return Dt.create(Va(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ce(58110);default:return Ce(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Lr.create(n.compositeFilter.filters.map(r=>sS(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ce(1026)}}(n.compositeFilter.op))}(t):Ce(30097,{filter:t})}function dB(t){return ZF[t]}function hB(t){return XF[t]}function fB(t){return eB[t]}function La(t){return{fieldPath:t.canonicalString()}}function Va(t){return Zt.fromServerFormat(t.fieldPath)}function oS(t){return t instanceof Dt?function(n){if(n.op==="=="){if(qC(n.value))return{unaryFilter:{field:La(n.field),op:"IS_NAN"}};if(UC(n.value))return{unaryFilter:{field:La(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(qC(n.value))return{unaryFilter:{field:La(n.field),op:"IS_NOT_NAN"}};if(UC(n.value))return{unaryFilter:{field:La(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:La(n.field),op:hB(n.op),value:n.value}}}(t):t instanceof Lr?function(n){const r=n.getFilters().map(i=>oS(i));return r.length===1?r[0]:{compositeFilter:{op:fB(n.op),filters:r}}}(t):Ce(54877,{filter:t})}function pB(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function aS(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As{constructor(e,n,r,i,s=Se.min(),o=Se.min(),a=tn.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new As(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new As(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new As(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new As(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mB{constructor(e){this.gt=e}}function gB(t){const e=cB({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Ev(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yB{constructor(){this.Dn=new vB}addToCollectionParentIndex(e,n){return this.Dn.add(n),H.resolve()}getCollectionParents(e,n){return H.resolve(this.Dn.getEntries(n))}addFieldIndex(e,n){return H.resolve()}deleteFieldIndex(e,n){return H.resolve()}deleteAllFieldIndexes(e){return H.resolve()}createTargetIndexes(e,n){return H.resolve()}getDocumentsMatchingTarget(e,n){return H.resolve(null)}getIndexType(e,n){return H.resolve(0)}getFieldIndexes(e,n){return H.resolve([])}getNextCollectionGroupToUpdate(e){return H.resolve(null)}getMinOffset(e,n){return H.resolve(Ys.min())}getMinOffsetFromCollectionGroup(e,n){return H.resolve(Ys.min())}updateCollectionGroup(e,n,r){return H.resolve()}updateIndexEntries(e,n){return H.resolve()}}class vB{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new jt(nt.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new jt(nt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},lS=41943040;class Nn{static withCacheSize(e){return new Nn(e,Nn.DEFAULT_COLLECTION_PERCENTILE,Nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Nn.DEFAULT_COLLECTION_PERCENTILE=10,Nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Nn.DEFAULT=new Nn(lS,Nn.DEFAULT_COLLECTION_PERCENTILE,Nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Nn.DISABLED=new Nn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dl{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new Dl(0)}static ur(){return new Dl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rT="LruGarbageCollector",wB=1048576;function iT([t,e],[n,r]){const i=Oe(t,n);return i===0?Oe(e,r):i}class EB{constructor(e){this.Tr=e,this.buffer=new jt(iT),this.Ir=0}dr(){return++this.Ir}Er(e){const n=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();iT(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class CB{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){fe(rT,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Hl(n)?fe(rT,"Ignoring IndexedDB error during garbage collection: ",n):await Kl(n)}await this.Rr(3e5)})}}class TB{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.mr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return H.resolve(Xp.ue);const r=new EB(n);return this.Vr.forEachTarget(e,i=>r.Er(i.sequenceNumber)).next(()=>this.Vr.gr(e,i=>r.Er(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(fe("LruGarbageCollector","Garbage collection skipped; disabled"),H.resolve(nT)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(fe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),nT):this.pr(e,n))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,n){let r,i,s,o,a,l,c;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(fe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,o=Date.now(),this.nthSequenceNumber(e,i))).next(f=>(r=f,a=Date.now(),this.removeTargets(e,r,n))).next(f=>(s=f,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(c=Date.now(),Ma()<=je.DEBUG&&fe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(l-a)+`ms
	Removed ${f} documents in `+(c-l)+`ms
Total Duration: ${c-d}ms`),H.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:f})))}}function _B(t,e){return new TB(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xB{constructor(){this.changes=new aa(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Yt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?H.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AB{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IB{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&ru(r.mutation,i,Hn.empty(),Ze.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ue()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ue()){const i=Do();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Lc();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Do();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ue()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=ji();const o=nu(),a=function(){return nu()}();return n.forEach((l,c)=>{const d=r.get(c.key);i.has(c.key)&&(d===void 0||d.mutation instanceof lo)?s=s.insert(c.key,c):d!==void 0?(o.set(c.key,d.mutation.getFieldMask()),ru(d.mutation,c,d.mutation.getFieldMask(),Ze.now())):o.set(c.key,Hn.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((c,d)=>o.set(c,d)),n.forEach((c,d)=>{var f;return a.set(c,new AB(d,(f=o.get(c))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,n){const r=nu();let i=new Ct((o,a)=>o-a),s=Ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let d=r.get(l)||Hn.empty();d=a.applyToLocalView(c,d),r.set(l,d);const f=(i.get(a.batchId)||Ue()).add(l);i=i.insert(a.batchId,f)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,d=l.value,f=jb();d.forEach(h=>{if(!s.has(h)){const g=Yb(n.get(h),r.get(h));g!==null&&f.set(h,g),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,f))}return H.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return ve.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Ob(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):H.resolve(Do());let a=bu,l=s;return o.next(c=>H.forEach(c,(d,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),s.get(d)?H.resolve():this.remoteDocumentCache.getEntry(e,d).next(h=>{l=l.insert(d,h)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,l,c,Ue())).next(d=>({batchId:a,changes:Bb(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ve(n)).next(r=>{let i=Lc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=Lc();return this.indexManager.getCollectionParents(e,s).next(a=>H.forEach(a,l=>{const c=function(f,h){return new Jl(h,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(d=>{d.forEach((f,h)=>{o=o.insert(f,h)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,c)=>{const d=c.getKey();o.get(d)===null&&(o=o.insert(d,Yt.newInvalidDocument(d)))});let a=Lc();return o.forEach((l,c)=>{const d=s.get(l);d!==void 0&&ru(d.mutation,c,Hn.empty(),Ze.now()),rm(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bB{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,n){return H.resolve(this.Br.get(n))}saveBundleMetadata(e,n){return this.Br.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Xn(i.createTime)}}(n)),H.resolve()}getNamedQuery(e,n){return H.resolve(this.Lr.get(n))}saveNamedQuery(e,n){return this.Lr.set(n.name,function(i){return{name:i.name,query:gB(i.bundledQuery),readTime:Xn(i.readTime)}}(n)),H.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SB{constructor(){this.overlays=new Ct(ve.comparator),this.kr=new Map}getOverlay(e,n){return H.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Do();return H.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.wt(e,n,s)}),H.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.kr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.kr.delete(r)),H.resolve()}getOverlaysForCollection(e,n,r){const i=Do(),s=n.length+1,o=new ve(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return H.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Ct((c,d)=>c-d);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let d=s.get(c.largestBatchId);d===null&&(d=Do(),s=s.insert(c.largestBatchId,d)),d.set(c.getKey(),c)}}const a=Do(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,d)=>a.set(c,d)),!(a.size()>=i)););return H.resolve(a)}wt(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.kr.get(i.largestBatchId).delete(r.key);this.kr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new QF(n,r));let s=this.kr.get(n);s===void 0&&(s=Ue(),this.kr.set(n,s)),this.kr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RB{constructor(){this.sessionToken=tn.EMPTY_BYTE_STRING}getSessionToken(e){return H.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,H.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nw{constructor(){this.qr=new jt(zt.Qr),this.$r=new jt(zt.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,n){const r=new zt(e,n);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Wr(new zt(e,n))}Gr(e,n){e.forEach(r=>this.removeReference(r,n))}zr(e){const n=new ve(new nt([])),r=new zt(n,e),i=new zt(n,e+1),s=[];return this.$r.forEachInRange([r,i],o=>{this.Wr(o),s.push(o.key)}),s}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const n=new ve(new nt([])),r=new zt(n,e),i=new zt(n,e+1);let s=Ue();return this.$r.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new zt(e,0),r=this.qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class zt{constructor(e,n){this.key=e,this.Hr=n}static Qr(e,n){return ve.comparator(e.key,n.key)||Oe(e.Hr,n.Hr)}static Ur(e,n){return Oe(e.Hr,n.Hr)||ve.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PB{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.er=1,this.Yr=new jt(zt.Qr)}checkEmpty(e){return H.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new YF(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.Yr=this.Yr.add(new zt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return H.resolve(o)}lookupMutationBatch(e,n){return H.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Xr(r),s=i<0?0:i;return H.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return H.resolve(this.mutationQueue.length===0?Tw:this.er-1)}getAllMutationBatches(e){return H.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new zt(n,0),i=new zt(n,Number.POSITIVE_INFINITY),s=[];return this.Yr.forEachInRange([r,i],o=>{const a=this.Zr(o.Hr);s.push(a)}),H.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new jt(Oe);return n.forEach(i=>{const s=new zt(i,0),o=new zt(i,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([s,o],a=>{r=r.add(a.Hr)})}),H.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;ve.isDocumentKey(s)||(s=s.child(""));const o=new zt(new ve(s),0);let a=new jt(Oe);return this.Yr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(l.Hr)),!0)},o),H.resolve(this.ei(a))}ei(e){const n=[];return e.forEach(r=>{const i=this.Zr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){ze(this.ti(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return H.forEach(n.mutations,i=>{const s=new zt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Yr=r})}rr(e){}containsKey(e,n){const r=new zt(n,0),i=this.Yr.firstAfterOrEqual(r);return H.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,H.resolve()}ti(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kB{constructor(e){this.ni=e,this.docs=function(){return new Ct(ve.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.ni(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return H.resolve(r?r.document.mutableCopy():Yt.newInvalidDocument(n))}getEntries(e,n){let r=ji();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Yt.newInvalidDocument(i))}),H.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=ji();const o=n.path,a=new ve(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:d}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||uF(cF(d),r)<=0||(i.has(d.key)||rm(n,d))&&(s=s.insert(d.key,d.mutableCopy()))}return H.resolve(s)}getAllFromCollectionGroup(e,n,r,i){Ce(9500)}ri(e,n){return H.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new NB(this)}getSize(e){return H.resolve(this.size)}}class NB extends xB{constructor(e){super(),this.Or=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Or.addEntry(e,i)):this.Or.removeEntry(r)}),H.waitFor(n)}getFromCache(e,n){return this.Or.getEntry(e,n)}getAllFromCache(e,n){return this.Or.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DB{constructor(e){this.persistence=e,this.ii=new aa(n=>Aw(n),Iw),this.lastRemoteSnapshotVersion=Se.min(),this.highestTargetId=0,this.si=0,this.oi=new Nw,this.targetCount=0,this._i=Dl.ar()}forEachTarget(e,n){return this.ii.forEach((r,i)=>n(i)),H.resolve()}getLastRemoteSnapshotVersion(e){return H.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return H.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),H.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.si&&(this.si=n),H.resolve()}hr(e){this.ii.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this._i=new Dl(n),this.highestTargetId=n),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,n){return this.hr(n),this.targetCount+=1,H.resolve()}updateTargetData(e,n){return this.hr(n),H.resolve()}removeTargetData(e,n){return this.ii.delete(n.target),this.oi.zr(n.targetId),this.targetCount-=1,H.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.ii.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.ii.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),H.waitFor(s).next(()=>i)}getTargetCount(e){return H.resolve(this.targetCount)}getTargetData(e,n){const r=this.ii.get(n)||null;return H.resolve(r)}addMatchingKeys(e,n,r){return this.oi.Kr(n,r),H.resolve()}removeMatchingKeys(e,n,r){this.oi.Gr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),H.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.oi.zr(n),H.resolve()}getMatchingKeysForTargetId(e,n){const r=this.oi.Jr(n);return H.resolve(r)}containsKey(e,n){return H.resolve(this.oi.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cS{constructor(e,n){this.ai={},this.overlays={},this.ui=new Xp(0),this.ci=!1,this.ci=!0,this.li=new RB,this.referenceDelegate=e(this),this.hi=new DB(this),this.indexManager=new yB,this.remoteDocumentCache=function(i){return new kB(i)}(r=>this.referenceDelegate.Pi(r)),this.serializer=new mB(n),this.Ti=new bB(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new SB,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ai[e.toKey()];return r||(r=new PB(n,this.referenceDelegate),this.ai[e.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,n,r){fe("MemoryPersistence","Starting transaction:",e);const i=new MB(this.ui.next());return this.referenceDelegate.Ii(),r(i).next(s=>this.referenceDelegate.di(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ei(e,n){return H.or(Object.values(this.ai).map(r=>()=>r.containsKey(e,n)))}}class MB extends hF{constructor(e){super(),this.currentSequenceNumber=e}}class Dw{constructor(e){this.persistence=e,this.Ai=new Nw,this.Ri=null}static Vi(e){return new Dw(e)}get mi(){if(this.Ri)return this.Ri;throw Ce(60996)}addReference(e,n,r){return this.Ai.addReference(r,n),this.mi.delete(r.toString()),H.resolve()}removeReference(e,n,r){return this.Ai.removeReference(r,n),this.mi.add(r.toString()),H.resolve()}markPotentiallyOrphaned(e,n){return this.mi.add(n.toString()),H.resolve()}removeTarget(e,n){this.Ai.zr(n.targetId).forEach(i=>this.mi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.mi.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ii(){this.Ri=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return H.forEach(this.mi,r=>{const i=ve.fromPath(r);return this.fi(e,i).next(s=>{s||n.removeEntry(i,Se.min())})}).next(()=>(this.Ri=null,n.apply(e)))}updateLimboDocument(e,n){return this.fi(e,n).next(r=>{r?this.mi.delete(n.toString()):this.mi.add(n.toString())})}Pi(e){return 0}fi(e,n){return H.or([()=>H.resolve(this.Ai.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class op{constructor(e,n){this.persistence=e,this.gi=new aa(r=>mF(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=_B(this,n)}static Vi(e,n){return new op(e,n)}Ii(){}di(e){return H.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}mr(e){const n=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}yr(e){let n=0;return this.gr(e,r=>{n++}).next(()=>n)}gr(e,n){return H.forEach(this.gi,(r,i)=>this.Sr(e,r,i).next(s=>s?H.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ri(e,o=>this.Sr(e,o,n).next(a=>{a||(r++,s.removeEntry(o,Se.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.gi.set(n,e.currentSequenceNumber),H.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),H.resolve()}removeReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),H.resolve()}updateLimboDocument(e,n){return this.gi.set(n,e.currentSequenceNumber),H.resolve()}Pi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=of(e.data.value)),n}Sr(e,n,r){return H.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.gi.get(n);return H.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mw{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Is=r,this.ds=i}static Es(e,n){let r=Ue(),i=Ue();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Mw(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OB{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LB{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return kL()?8:fF(gn())>0?6:4}()}initialize(e,n){this.gs=e,this.indexManager=n,this.As=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ps(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ys(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new OB;return this.ws(e,n,o).next(a=>{if(s.result=a,this.Rs)return this.Ss(e,n,o,a.size)})}).next(()=>s.result)}Ss(e,n,r,i){return r.documentReadCount<this.Vs?(Ma()<=je.DEBUG&&fe("QueryEngine","SDK will not create cache indexes for query:",Oa(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),H.resolve()):(Ma()<=je.DEBUG&&fe("QueryEngine","Query:",Oa(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.fs*i?(Ma()<=je.DEBUG&&fe("QueryEngine","The SDK decides to create cache indexes for query:",Oa(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ei(n))):H.resolve())}ps(e,n){if(WC(n))return H.resolve(null);let r=ei(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Ev(n,null,"F"),r=ei(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=Ue(...s);return this.gs.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.bs(n,a);return this.Ds(n,c,o,l.readTime)?this.ps(e,Ev(n,null,"F")):this.vs(e,c,n,l)}))})))}ys(e,n,r,i){return WC(n)||i.isEqual(Se.min())?H.resolve(null):this.gs.getDocuments(e,r).next(s=>{const o=this.bs(n,s);return this.Ds(n,o,r,i)?H.resolve(null):(Ma()<=je.DEBUG&&fe("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Oa(n)),this.vs(e,o,n,lF(i,bu)).next(a=>a))})}bs(e,n){let r=new jt(Vb(e));return n.forEach((i,s)=>{rm(e,s)&&(r=r.add(s))}),r}Ds(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}ws(e,n,r){return Ma()<=je.DEBUG&&fe("QueryEngine","Using full collection scan to execute query:",Oa(n)),this.gs.getDocumentsMatchingQuery(e,n,Ys.min(),r)}vs(e,n,r,i){return this.gs.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ow="LocalStore",VB=3e8;class FB{constructor(e,n,r,i){this.persistence=e,this.Cs=n,this.serializer=i,this.Fs=new Ct(Oe),this.Ms=new aa(s=>Aw(s),Iw),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(r)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new IB(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Fs))}}function BB(t,e,n,r){return new FB(t,e,n,r)}async function uS(t,e){const n=Pe(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.Ns(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=Ue();for(const c of i){o.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}for(const c of s){a.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(c=>({Bs:c,removedBatchIds:o,addedBatchIds:a}))})})}function jB(t,e){const n=Pe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Os.newChangeBuffer({trackRemovals:!0});return function(a,l,c,d){const f=c.batch,h=f.keys();let g=H.resolve();return h.forEach(T=>{g=g.next(()=>d.getEntry(l,T)).next(y=>{const I=c.docVersions.get(T);ze(I!==null,48541),y.version.compareTo(I)<0&&(f.applyToRemoteDocument(y,c),y.isValidDocument()&&(y.setReadTime(c.commitVersion),d.addEntry(y)))})}),g.next(()=>a.mutationQueue.removeMutationBatch(l,f))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Ue();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function dS(t){const e=Pe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.hi.getLastRemoteSnapshotVersion(n))}function UB(t,e){const n=Pe(t),r=e.snapshotVersion;let i=n.Fs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Os.newChangeBuffer({trackRemovals:!0});i=n.Fs;const a=[];e.targetChanges.forEach((d,f)=>{const h=i.get(f);if(!h)return;a.push(n.hi.removeMatchingKeys(s,d.removedDocuments,f).next(()=>n.hi.addMatchingKeys(s,d.addedDocuments,f)));let g=h.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(f)!==null?g=g.withResumeToken(tn.EMPTY_BYTE_STRING,Se.min()).withLastLimboFreeSnapshotVersion(Se.min()):d.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(d.resumeToken,r)),i=i.insert(f,g),function(y,I,C){return y.resumeToken.approximateByteSize()===0||I.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=VB?!0:C.addedDocuments.size+C.modifiedDocuments.size+C.removedDocuments.size>0}(h,g,d)&&a.push(n.hi.updateTargetData(s,g))});let l=ji(),c=Ue();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))}),a.push(qB(s,o,e.documentUpdates).next(d=>{l=d.Ls,c=d.ks})),!r.isEqual(Se.min())){const d=n.hi.getLastRemoteSnapshotVersion(s).next(f=>n.hi.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(d)}return H.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(n.Fs=i,s))}function qB(t,e,n){let r=Ue(),i=Ue();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=ji();return n.forEach((a,l)=>{const c=s.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(Se.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):fe(Ow,"Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{Ls:o,ks:i}})}function GB(t,e){const n=Pe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Tw),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function $B(t,e){const n=Pe(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.hi.getTargetData(r,e).next(s=>s?(i=s,H.resolve(i)):n.hi.allocateTargetId(r).next(o=>(i=new As(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.hi.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Fs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Fs=n.Fs.insert(r.targetId,r),n.Ms.set(e,r.targetId)),r})}async function xv(t,e,n){const r=Pe(t),i=r.Fs.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Hl(o))throw o;fe(Ow,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Fs=r.Fs.remove(e),r.Ms.delete(i.target)}function sT(t,e,n){const r=Pe(t);let i=Se.min(),s=Ue();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,d){const f=Pe(l),h=f.Ms.get(d);return h!==void 0?H.resolve(f.Fs.get(h)):f.hi.getTargetData(c,d)}(r,o,ei(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.Cs.getDocumentsMatchingQuery(o,e,n?i:Se.min(),n?s:Ue())).next(a=>(zB(r,DF(e),a),{documents:a,qs:s})))}function zB(t,e,n){let r=t.xs.get(e)||Se.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.xs.set(e,r)}class oT{constructor(){this.activeTargetIds=BF()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class WB{constructor(){this.Fo=new oT,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,n,r){this.Mo[e]=n}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new oT,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YB{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aT="ConnectivityMonitor";class lT{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){fe(aT,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){fe(aT,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ph=null;function Av(){return Ph===null?Ph=function(){return 268435456+Math.round(2147483648*Math.random())}():Ph++,"0x"+Ph.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vg="RestConnection",QB={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class KB{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.$o=n+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.Ko=this.databaseId.database===ep?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,n,r,i,s){const o=Av(),a=this.Go(e,n.toUriEncodedString());fe(Vg,`Sending RPC '${e}' ${o}:`,a,r);const l={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(l,i,s);const{host:c}=new URL(a),d=Wl(c);return this.jo(e,a,l,r,d).then(f=>(fe(Vg,`Received RPC '${e}' ${o}: `,f),f),f=>{throw Ws(Vg,`RPC '${e}' ${o} failed with error: `,f,"url: ",a,"request:",r),f})}Jo(e,n,r,i,s,o){return this.Wo(e,n,r,i,s)}zo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ql}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}Go(e,n){const r=QB[e];return`${this.$o}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HB{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cn="WebChannelConnection";class JB extends KB{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,n,r,i,s){const o=Av();return new Promise((a,l)=>{const c=new lb;c.setWithCredentials(!0),c.listenOnce(cb.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case sf.NO_ERROR:const f=c.getResponseJson();fe(cn,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(f)),a(f);break;case sf.TIMEOUT:fe(cn,`RPC '${e}' ${o} timed out`),l(new le(Q.DEADLINE_EXCEEDED,"Request time out"));break;case sf.HTTP_ERROR:const h=c.getStatus();if(fe(cn,`RPC '${e}' ${o} failed with status:`,h,"response text:",c.getResponseText()),h>0){let g=c.getResponseJson();Array.isArray(g)&&(g=g[0]);const T=g==null?void 0:g.error;if(T&&T.status&&T.message){const y=function(C){const w=C.toLowerCase().replace(/_/g,"-");return Object.values(Q).indexOf(w)>=0?w:Q.UNKNOWN}(T.status);l(new le(y,T.message))}else l(new le(Q.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new le(Q.UNAVAILABLE,"Connection failed."));break;default:Ce(9055,{c_:e,streamId:o,l_:c.getLastErrorCode(),h_:c.getLastError()})}}finally{fe(cn,`RPC '${e}' ${o} completed.`)}});const d=JSON.stringify(i);fe(cn,`RPC '${e}' ${o} sending request:`,i),c.send(n,"POST",d,r,15)})}P_(e,n,r){const i=Av(),s=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=hb(),a=db(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.zo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const d=s.join("");fe(cn,`Creating RPC '${e}' stream ${i}: ${d}`,l);const f=o.createWebChannel(d,l);this.T_(f);let h=!1,g=!1;const T=new HB({Ho:I=>{g?fe(cn,`Not sending because RPC '${e}' stream ${i} is closed:`,I):(h||(fe(cn,`Opening RPC '${e}' stream ${i} transport.`),f.open(),h=!0),fe(cn,`RPC '${e}' stream ${i} sending:`,I),f.send(I))},Yo:()=>f.close()}),y=(I,C,w)=>{I.listen(C,A=>{try{w(A)}catch(R){setTimeout(()=>{throw R},0)}})};return y(f,Oc.EventType.OPEN,()=>{g||(fe(cn,`RPC '${e}' stream ${i} transport opened.`),T.s_())}),y(f,Oc.EventType.CLOSE,()=>{g||(g=!0,fe(cn,`RPC '${e}' stream ${i} transport closed`),T.__(),this.I_(f))}),y(f,Oc.EventType.ERROR,I=>{g||(g=!0,Ws(cn,`RPC '${e}' stream ${i} transport errored. Name:`,I.name,"Message:",I.message),T.__(new le(Q.UNAVAILABLE,"The operation could not be completed")))}),y(f,Oc.EventType.MESSAGE,I=>{var C;if(!g){const w=I.data[0];ze(!!w,16349);const A=w,R=(A==null?void 0:A.error)||((C=A[0])===null||C===void 0?void 0:C.error);if(R){fe(cn,`RPC '${e}' stream ${i} received error:`,R);const O=R.status;let B=function(k){const D=kt[k];if(D!==void 0)return Jb(D)}(O),S=R.message;B===void 0&&(B=Q.INTERNAL,S="Unknown error status: "+O+" with message "+R.message),g=!0,T.__(new le(B,S)),f.close()}else fe(cn,`RPC '${e}' stream ${i} received:`,w),T.a_(w)}}),y(a,ub.STAT_EVENT,I=>{I.stat===fv.PROXY?fe(cn,`RPC '${e}' stream ${i} detected buffering proxy`):I.stat===fv.NOPROXY&&fe(cn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{T.o_()},0),T}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(n=>n===e)}}function Fg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function am(t){return new tB(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lw{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Fi=e,this.timerId=n,this.d_=r,this.E_=i,this.A_=s,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const n=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),i=Math.max(0,n-r);i>0&&fe("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.R_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,i,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cT="PersistentStream";class hS{constructor(e,n,r,i,s,o,a,l){this.Fi=e,this.w_=r,this.S_=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new Lw(e,n)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():n&&n.code===Q.RESOURCE_EXHAUSTED?(Bi(n.toString()),Bi("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):n&&n.code===Q.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(n)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),n=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.b_===n&&this.W_(r,i)},r=>{e(()=>{const i=new le(Q.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(i)})})}W_(e,n){const r=this.K_(this.b_);this.stream=this.z_(e,n),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.e_(()=>{r(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(i=>{r(()=>this.G_(i))}),this.stream.onMessage(i=>{r(()=>++this.C_==1?this.j_(i):this.onNext(i))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return fe(cT,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return n=>{this.Fi.enqueueAndForget(()=>this.b_===e?n():(fe(cT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class ZB extends hS{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}z_(e,n){return this.connection.P_("Listen",e,n)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const n=sB(this.serializer,e),r=function(s){if(!("targetChange"in s))return Se.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?Se.min():o.readTime?Xn(o.readTime):Se.min()}(e);return this.listener.J_(n,r)}H_(e){const n={};n.database=_v(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=vv(l)?{documents:aB(s,l)}:{query:lB(s,l).Vt},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=eS(s,o.resumeToken);const c=Cv(s,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(Se.min())>0){a.readTime=ip(s,o.snapshotVersion.toTimestamp());const c=Cv(s,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=uB(this.serializer,e);r&&(n.labels=r),this.k_(n)}Y_(e){const n={};n.database=_v(this.serializer),n.removeTarget=e,this.k_(n)}}class XB extends hS{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,n){return this.connection.P_("Write",e,n)}j_(e){return ze(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ze(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){ze(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const n=oB(e.writeResults,e.commitTime),r=Xn(e.commitTime);return this.listener.ta(r,n)}na(){const e={};e.database=_v(this.serializer),this.k_(e)}X_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>iS(this.serializer,r))};this.k_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ej{}class tj extends ej{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ra=!1}ia(){if(this.ra)throw new le(Q.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,i){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Wo(e,Tv(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===Q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new le(Q.UNKNOWN,s.toString())})}Jo(e,n,r,i,s){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Jo(e,Tv(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===Q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new le(Q.UNKNOWN,o.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class nj{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(Bi(n),this._a=!1):fe("OnlineStateTracker",n)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jo="RemoteStore";class rj{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=s,this.Ea.xo(o=>{r.enqueueAndForget(async()=>{la(this)&&(fe(Jo,"Restarting streams for network reachability change."),await async function(l){const c=Pe(l);c.Ia.add(4),await od(c),c.Aa.set("Unknown"),c.Ia.delete(4),await lm(c)}(this))})}),this.Aa=new nj(r,i)}}async function lm(t){if(la(t))for(const e of t.da)await e(!0)}async function od(t){for(const e of t.da)await e(!1)}function fS(t,e){const n=Pe(t);n.Ta.has(e.targetId)||(n.Ta.set(e.targetId,e),jw(n)?Bw(n):Zl(n).x_()&&Fw(n,e))}function Vw(t,e){const n=Pe(t),r=Zl(n);n.Ta.delete(e),r.x_()&&pS(n,e),n.Ta.size===0&&(r.x_()?r.B_():la(n)&&n.Aa.set("Unknown"))}function Fw(t,e){if(t.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Se.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Zl(t).H_(e)}function pS(t,e){t.Ra.$e(e),Zl(t).Y_(e)}function Bw(t){t.Ra=new JF({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>t.Ta.get(e)||null,lt:()=>t.datastore.serializer.databaseId}),Zl(t).start(),t.Aa.aa()}function jw(t){return la(t)&&!Zl(t).M_()&&t.Ta.size>0}function la(t){return Pe(t).Ia.size===0}function mS(t){t.Ra=void 0}async function ij(t){t.Aa.set("Online")}async function sj(t){t.Ta.forEach((e,n)=>{Fw(t,e)})}async function oj(t,e){mS(t),jw(t)?(t.Aa.la(e),Bw(t)):t.Aa.set("Unknown")}async function aj(t,e,n){if(t.Aa.set("Online"),e instanceof Xb&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.Ta.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.Ta.delete(a),i.Ra.removeTarget(a))}(t,e)}catch(r){fe(Jo,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await ap(t,r)}else if(e instanceof cf?t.Ra.Ye(e):e instanceof Zb?t.Ra.it(e):t.Ra.et(e),!n.isEqual(Se.min()))try{const r=await dS(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.Ra.Pt(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const d=s.Ta.get(c);d&&s.Ta.set(c,d.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const d=s.Ta.get(l);if(!d)return;s.Ta.set(l,d.withResumeToken(tn.EMPTY_BYTE_STRING,d.snapshotVersion)),pS(s,l);const f=new As(d.target,l,c,d.sequenceNumber);Fw(s,f)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){fe(Jo,"Failed to raise snapshot:",r),await ap(t,r)}}async function ap(t,e,n){if(!Hl(e))throw e;t.Ia.add(1),await od(t),t.Aa.set("Offline"),n||(n=()=>dS(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{fe(Jo,"Retrying IndexedDB access"),await n(),t.Ia.delete(1),await lm(t)})}function gS(t,e){return e().catch(n=>ap(t,n,e))}async function cm(t){const e=Pe(t),n=Js(e);let r=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:Tw;for(;lj(e);)try{const i=await GB(e.localStore,r);if(i===null){e.Pa.length===0&&n.B_();break}r=i.batchId,cj(e,i)}catch(i){await ap(e,i)}yS(e)&&vS(e)}function lj(t){return la(t)&&t.Pa.length<10}function cj(t,e){t.Pa.push(e);const n=Js(t);n.x_()&&n.Z_&&n.X_(e.mutations)}function yS(t){return la(t)&&!Js(t).M_()&&t.Pa.length>0}function vS(t){Js(t).start()}async function uj(t){Js(t).na()}async function dj(t){const e=Js(t);for(const n of t.Pa)e.X_(n.mutations)}async function hj(t,e,n){const r=t.Pa.shift(),i=Rw.from(r,e,n);await gS(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await cm(t)}async function fj(t,e){e&&Js(t).Z_&&await async function(r,i){if(function(o){return Hb(o)&&o!==Q.ABORTED}(i.code)){const s=r.Pa.shift();Js(r).N_(),await gS(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await cm(r)}}(t,e),yS(t)&&vS(t)}async function uT(t,e){const n=Pe(t);n.asyncQueue.verifyOperationInProgress(),fe(Jo,"RemoteStore received new credentials");const r=la(n);n.Ia.add(3),await od(n),r&&n.Aa.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ia.delete(3),await lm(n)}async function pj(t,e){const n=Pe(t);e?(n.Ia.delete(2),await lm(n)):e||(n.Ia.add(2),await od(n),n.Aa.set("Unknown"))}function Zl(t){return t.Va||(t.Va=function(n,r,i){const s=Pe(n);return s.ia(),new ZB(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Zo:ij.bind(null,t),e_:sj.bind(null,t),n_:oj.bind(null,t),J_:aj.bind(null,t)}),t.da.push(async e=>{e?(t.Va.N_(),jw(t)?Bw(t):t.Aa.set("Unknown")):(await t.Va.stop(),mS(t))})),t.Va}function Js(t){return t.ma||(t.ma=function(n,r,i){const s=Pe(n);return s.ia(),new XB(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),e_:uj.bind(null,t),n_:fj.bind(null,t),ea:dj.bind(null,t),ta:hj.bind(null,t)}),t.da.push(async e=>{e?(t.ma.N_(),await cm(t)):(await t.ma.stop(),t.Pa.length>0&&(fe(Jo,`Stopping write stream with ${t.Pa.length} pending writes`),t.Pa=[]))})),t.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uw{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Xr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new Uw(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new le(Q.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function qw(t,e){if(Bi("AsyncQueue",`${e}: ${t}`),Hl(t))return new le(Q.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sl{static emptySet(e){return new sl(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||ve.comparator(n.key,r.key):(n,r)=>ve.comparator(n.key,r.key),this.keyedMap=Lc(),this.sortedSet=new Ct(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof sl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new sl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dT{constructor(){this.fa=new Ct(ve.comparator)}track(e){const n=e.doc.key,r=this.fa.get(n);r?e.type!==0&&r.type===3?this.fa=this.fa.insert(n,e):e.type===3&&r.type!==1?this.fa=this.fa.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.fa=this.fa.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.fa=this.fa.remove(n):e.type===1&&r.type===2?this.fa=this.fa.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):Ce(63341,{At:e,ga:r}):this.fa=this.fa.insert(n,e)}pa(){const e=[];return this.fa.inorderTraversal((n,r)=>{e.push(r)}),e}}class Ml{constructor(e,n,r,i,s,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Ml(e,n,sl.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&nm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mj{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}}class gj{constructor(){this.queries=hT(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(n,r){const i=Pe(n),s=i.queries;i.queries=hT(),s.forEach((o,a)=>{for(const l of a.wa)l.onError(r)})})(this,new le(Q.ABORTED,"Firestore shutting down"))}}function hT(){return new aa(t=>Lb(t),nm)}async function Gw(t,e){const n=Pe(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.Sa()&&e.ba()&&(r=2):(s=new mj,r=e.ba()?0:1);try{switch(r){case 0:s.ya=await n.onListen(i,!0);break;case 1:s.ya=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=qw(o,`Initialization of query '${Oa(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.wa.push(e),e.va(n.onlineState),s.ya&&e.Ca(s.ya)&&zw(n)}async function $w(t,e){const n=Pe(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.wa.indexOf(e);o>=0&&(s.wa.splice(o,1),s.wa.length===0?i=e.ba()?0:1:!s.Sa()&&e.ba()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function yj(t,e){const n=Pe(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.wa)a.Ca(i)&&(r=!0);o.ya=i}}r&&zw(n)}function vj(t,e,n){const r=Pe(t),i=r.queries.get(e);if(i)for(const s of i.wa)s.onError(n);r.queries.delete(e)}function zw(t){t.Da.forEach(e=>{e.next()})}var Iv,fT;(fT=Iv||(Iv={})).Fa="default",fT.Cache="cache";class Ww{constructor(e,n,r){this.query=e,this.Ma=n,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=r||{}}Ca(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Ml(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),n=!0):this.Ba(e,this.onlineState)&&(this.La(e),n=!0),this.Oa=e,n}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let n=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),n=!0),n}Ba(e,n){if(!e.fromCache||!this.ba())return!0;const r=n!=="Offline";return(!this.options.ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const n=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}La(e){e=Ml.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==Iv.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wS{constructor(e){this.key=e}}class ES{constructor(e){this.key=e}}class wj{constructor(e,n){this.query=e,this.Ha=n,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=Ue(),this.mutatedKeys=Ue(),this.Xa=Vb(e),this.eu=new sl(this.Xa)}get tu(){return this.Ha}nu(e,n){const r=n?n.ru:new dT,i=n?n.eu:this.eu;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,f)=>{const h=i.get(d),g=rm(this.query,f)?f:null,T=!!h&&this.mutatedKeys.has(h.key),y=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let I=!1;h&&g?h.data.isEqual(g.data)?T!==y&&(r.track({type:3,doc:g}),I=!0):this.iu(h,g)||(r.track({type:2,doc:g}),I=!0,(l&&this.Xa(g,l)>0||c&&this.Xa(g,c)<0)&&(a=!0)):!h&&g?(r.track({type:0,doc:g}),I=!0):h&&!g&&(r.track({type:1,doc:h}),I=!0,(l||c)&&(a=!0)),I&&(g?(o=o.add(g),s=y?s.add(d):s.delete(d)):(o=o.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),s=s.delete(d.key),r.track({type:1,doc:d})}return{eu:o,ru:r,Ds:a,mutatedKeys:s}}iu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const o=e.ru.pa();o.sort((d,f)=>function(g,T){const y=I=>{switch(I){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ce(20277,{At:I})}};return y(g)-y(T)}(d.type,f.type)||this.Xa(d.doc,f.doc)),this.su(r),i=i!=null&&i;const a=n&&!i?this.ou():[],l=this.Za.size===0&&this.current&&!i?1:0,c=l!==this.Ya;return this.Ya=l,o.length!==0||c?{snapshot:new Ml(this.query,e.eu,s,o,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),_u:a}:{_u:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new dT,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=Ue(),this.eu.forEach(r=>{this.au(r.key)&&(this.Za=this.Za.add(r.key))});const n=[];return e.forEach(r=>{this.Za.has(r)||n.push(new ES(r))}),this.Za.forEach(r=>{e.has(r)||n.push(new wS(r))}),n}uu(e){this.Ha=e.qs,this.Za=Ue();const n=this.nu(e.documents);return this.applyChanges(n,!0)}cu(){return Ml.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const Yw="SyncEngine";class Ej{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Cj{constructor(e){this.key=e,this.lu=!1}}class Tj{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.hu={},this.Pu=new aa(a=>Lb(a),nm),this.Tu=new Map,this.Iu=new Set,this.du=new Ct(ve.comparator),this.Eu=new Map,this.Au=new Nw,this.Ru={},this.Vu=new Map,this.mu=Dl.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function _j(t,e,n=!0){const r=IS(t);let i;const s=r.Pu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.cu()):i=await CS(r,e,n,!0),i}async function xj(t,e){const n=IS(t);await CS(n,e,!0,!1)}async function CS(t,e,n,r){const i=await $B(t.localStore,ei(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await Aj(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&fS(t.remoteStore,i),a}async function Aj(t,e,n,r,i){t.gu=(f,h,g)=>async function(y,I,C,w){let A=I.view.nu(C);A.Ds&&(A=await sT(y.localStore,I.query,!1).then(({documents:S})=>I.view.nu(S,A)));const R=w&&w.targetChanges.get(I.targetId),O=w&&w.targetMismatches.get(I.targetId)!=null,B=I.view.applyChanges(A,y.isPrimaryClient,R,O);return mT(y,I.targetId,B._u),B.snapshot}(t,f,h,g);const s=await sT(t.localStore,e,!0),o=new wj(e,s.qs),a=o.nu(s.documents),l=sd.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=o.applyChanges(a,t.isPrimaryClient,l);mT(t,n,c._u);const d=new Ej(e,n,o);return t.Pu.set(e,d),t.Tu.has(n)?t.Tu.get(n).push(e):t.Tu.set(n,[e]),c.snapshot}async function Ij(t,e,n){const r=Pe(t),i=r.Pu.get(e),s=r.Tu.get(i.targetId);if(s.length>1)return r.Tu.set(i.targetId,s.filter(o=>!nm(o,e))),void r.Pu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await xv(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Vw(r.remoteStore,i.targetId),bv(r,i.targetId)}).catch(Kl)):(bv(r,i.targetId),await xv(r.localStore,i.targetId,!0))}async function bj(t,e){const n=Pe(t),r=n.Pu.get(e),i=n.Tu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Vw(n.remoteStore,r.targetId))}async function Sj(t,e,n){const r=Oj(t);try{const i=await function(o,a){const l=Pe(o),c=Ze.now(),d=a.reduce((g,T)=>g.add(T.key),Ue());let f,h;return l.persistence.runTransaction("Locally write mutations","readwrite",g=>{let T=ji(),y=Ue();return l.Os.getEntries(g,d).next(I=>{T=I,T.forEach((C,w)=>{w.isValidDocument()||(y=y.add(C))})}).next(()=>l.localDocuments.getOverlayedDocuments(g,T)).next(I=>{f=I;const C=[];for(const w of a){const A=WF(w,f.get(w.key).overlayedDocument);A!=null&&C.push(new lo(w.key,A,Sb(A.value.mapValue),In.exists(!0)))}return l.mutationQueue.addMutationBatch(g,c,C,a)}).next(I=>{h=I;const C=I.applyToLocalDocumentSet(f,y);return l.documentOverlayCache.saveOverlays(g,I.batchId,C)})}).then(()=>({batchId:h.batchId,changes:Bb(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let c=o.Ru[o.currentUser.toKey()];c||(c=new Ct(Oe)),c=c.insert(a,l),o.Ru[o.currentUser.toKey()]=c}(r,i.batchId,n),await ad(r,i.changes),await cm(r.remoteStore)}catch(i){const s=qw(i,"Failed to persist write");n.reject(s)}}async function TS(t,e){const n=Pe(t);try{const r=await UB(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Eu.get(s);o&&(ze(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.lu=!0:i.modifiedDocuments.size>0?ze(o.lu,14607):i.removedDocuments.size>0&&(ze(o.lu,42227),o.lu=!1))}),await ad(n,r,e)}catch(r){await Kl(r)}}function pT(t,e,n){const r=Pe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Pu.forEach((s,o)=>{const a=o.view.va(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=Pe(o);l.onlineState=a;let c=!1;l.queries.forEach((d,f)=>{for(const h of f.wa)h.va(a)&&(c=!0)}),c&&zw(l)}(r.eventManager,e),i.length&&r.hu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Rj(t,e,n){const r=Pe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Eu.get(e),s=i&&i.key;if(s){let o=new Ct(ve.comparator);o=o.insert(s,Yt.newNoDocument(s,Se.min()));const a=Ue().add(s),l=new om(Se.min(),new Map,new Ct(Oe),o,a);await TS(r,l),r.du=r.du.remove(s),r.Eu.delete(e),Qw(r)}else await xv(r.localStore,e,!1).then(()=>bv(r,e,n)).catch(Kl)}async function Pj(t,e){const n=Pe(t),r=e.batch.batchId;try{const i=await jB(n.localStore,e);xS(n,r,null),_S(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await ad(n,i)}catch(i){await Kl(i)}}async function kj(t,e,n){const r=Pe(t);try{const i=await function(o,a){const l=Pe(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let d;return l.mutationQueue.lookupMutationBatch(c,a).next(f=>(ze(f!==null,37113),d=f.keys(),l.mutationQueue.removeMutationBatch(c,f))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,d)).next(()=>l.localDocuments.getDocuments(c,d))})}(r.localStore,e);xS(r,e,n),_S(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await ad(r,i)}catch(i){await Kl(i)}}function _S(t,e){(t.Vu.get(e)||[]).forEach(n=>{n.resolve()}),t.Vu.delete(e)}function xS(t,e,n){const r=Pe(t);let i=r.Ru[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ru[r.currentUser.toKey()]=i}}function bv(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Tu.get(e))t.Pu.delete(r),n&&t.hu.pu(r,n);t.Tu.delete(e),t.isPrimaryClient&&t.Au.zr(e).forEach(r=>{t.Au.containsKey(r)||AS(t,r)})}function AS(t,e){t.Iu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(Vw(t.remoteStore,n),t.du=t.du.remove(e),t.Eu.delete(n),Qw(t))}function mT(t,e,n){for(const r of n)r instanceof wS?(t.Au.addReference(r.key,e),Nj(t,r)):r instanceof ES?(fe(Yw,"Document no longer in limbo: "+r.key),t.Au.removeReference(r.key,e),t.Au.containsKey(r.key)||AS(t,r.key)):Ce(19791,{yu:r})}function Nj(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Iu.has(r)||(fe(Yw,"New document in limbo: "+n),t.Iu.add(r),Qw(t))}function Qw(t){for(;t.Iu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Iu.values().next().value;t.Iu.delete(e);const n=new ve(nt.fromString(e)),r=t.mu.next();t.Eu.set(r,new Cj(n)),t.du=t.du.insert(n,r),fS(t.remoteStore,new As(ei(tm(n.path)),r,"TargetPurposeLimboResolution",Xp.ue))}}async function ad(t,e,n){const r=Pe(t),i=[],s=[],o=[];r.Pu.isEmpty()||(r.Pu.forEach((a,l)=>{o.push(r.gu(l,e,n).then(c=>{var d;if((c||n)&&r.isPrimaryClient){const f=c?!c.fromCache:(d=n==null?void 0:n.targetChanges.get(l.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(c){i.push(c);const f=Mw.Es(l.targetId,c);s.push(f)}}))}),await Promise.all(o),r.hu.J_(i),await async function(l,c){const d=Pe(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>H.forEach(c,h=>H.forEach(h.Is,g=>d.persistence.referenceDelegate.addReference(f,h.targetId,g)).next(()=>H.forEach(h.ds,g=>d.persistence.referenceDelegate.removeReference(f,h.targetId,g)))))}catch(f){if(!Hl(f))throw f;fe(Ow,"Failed to update sequence numbers: "+f)}for(const f of c){const h=f.targetId;if(!f.fromCache){const g=d.Fs.get(h),T=g.snapshotVersion,y=g.withLastLimboFreeSnapshotVersion(T);d.Fs=d.Fs.insert(h,y)}}}(r.localStore,s))}async function Dj(t,e){const n=Pe(t);if(!n.currentUser.isEqual(e)){fe(Yw,"User change. New user:",e.toKey());const r=await uS(n.localStore,e);n.currentUser=e,function(s,o){s.Vu.forEach(a=>{a.forEach(l=>{l.reject(new le(Q.CANCELLED,o))})}),s.Vu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await ad(n,r.Bs)}}function Mj(t,e){const n=Pe(t),r=n.Eu.get(e);if(r&&r.lu)return Ue().add(r.key);{let i=Ue();const s=n.Tu.get(e);if(!s)return i;for(const o of s){const a=n.Pu.get(o);i=i.unionWith(a.view.tu)}return i}}function IS(t){const e=Pe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=TS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Mj.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Rj.bind(null,e),e.hu.J_=yj.bind(null,e.eventManager),e.hu.pu=vj.bind(null,e.eventManager),e}function Oj(t){const e=Pe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Pj.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=kj.bind(null,e),e}class lp{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=am(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,n){return null}Fu(e,n){return null}vu(e){return BB(this.persistence,new LB,e.initialUser,this.serializer)}Du(e){return new cS(Dw.Vi,this.serializer)}bu(e){return new WB}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}lp.provider={build:()=>new lp};class Lj extends lp{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,n){ze(this.persistence.referenceDelegate instanceof op,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new CB(r,e.asyncQueue,n)}Du(e){const n=this.cacheSizeBytes!==void 0?Nn.withCacheSize(this.cacheSizeBytes):Nn.DEFAULT;return new cS(r=>op.Vi(r,n),this.serializer)}}class Sv{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>pT(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Dj.bind(null,this.syncEngine),await pj(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new gj}()}createDatastore(e){const n=am(e.databaseInfo.databaseId),r=function(s){return new JB(s)}(e.databaseInfo);return function(s,o,a,l){return new tj(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new rj(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>pT(this.syncEngine,n,0),function(){return lT.C()?new lT:new YB}())}createSyncEngine(e,n){return function(i,s,o,a,l,c,d){const f=new Tj(i,s,o,a,l,c);return d&&(f.fu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=Pe(i);fe(Jo,"RemoteStore shutting down."),s.Ia.add(5),await od(s),s.Ea.shutdown(),s.Aa.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Sv.provider={build:()=>new Sv};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kw{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):Bi("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vj{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new le(Q.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const n=await async function(i,s){const o=Pe(i),a={documents:s.map(f=>sp(o.serializer,f))},l=await o.Jo("BatchGetDocuments",o.serializer.databaseId,nt.emptyPath(),a,s.length),c=new Map;l.forEach(f=>{const h=iB(o.serializer,f);c.set(h.key.toString(),h)});const d=[];return s.forEach(f=>{const h=c.get(f.toString());ze(!!h,55234,{key:f}),d.push(h)}),d}(this.datastore,e);return n.forEach(r=>this.recordVersion(r)),n}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Sw(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach(n=>{e.delete(n.key.toString())}),e.forEach((n,r)=>{const i=ve.fromPath(r);this.mutations.push(new Kb(i,this.precondition(i)))}),await async function(r,i){const s=Pe(r),o={writes:i.map(a=>iS(s.serializer,a))};await s.Wo("Commit",s.serializer.databaseId,nt.emptyPath(),o)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw Ce(50498,{Wu:e.constructor.name});n=Se.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new le(Q.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(Se.min())?In.exists(!1):In.updateTime(n):In.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(Se.min()))throw new le(Q.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return In.updateTime(n)}return In.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fj{constructor(e,n,r,i,s){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=s,this.Gu=r.maxAttempts,this.F_=new Lw(this.asyncQueue,"transaction_retry")}zu(){this.Gu-=1,this.ju()}ju(){this.F_.g_(async()=>{const e=new Vj(this.datastore),n=this.Ju(e);n&&n.then(r=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(r)}).catch(i=>{this.Hu(i)}))}).catch(r=>{this.Hu(r)})})}Ju(e){try{const n=this.updateFunction(e);return!rd(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}Hu(e){this.Gu>0&&this.Yu(e)?(this.Gu-=1,this.asyncQueue.enqueueAndForget(()=>(this.ju(),Promise.resolve()))):this.deferred.reject(e)}Yu(e){if(e.name==="FirebaseError"){const n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!Hb(n)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zs="FirestoreClient";class Bj{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=dn.UNAUTHENTICATED,this.clientId=Cw.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{fe(Zs,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(fe(Zs,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Xr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=qw(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Bg(t,e){t.asyncQueue.verifyOperationInProgress(),fe(Zs,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await uS(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>{Ws("Terminating Firestore due to IndexedDb database deletion"),t.terminate().then(()=>{fe("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(i=>{Ws("Terminating Firestore due to IndexedDb database deletion failed",i)})}),t._offlineComponents=e}async function gT(t,e){t.asyncQueue.verifyOperationInProgress();const n=await jj(t);fe(Zs,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>uT(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>uT(e.remoteStore,i)),t._onlineComponents=e}async function jj(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){fe(Zs,"Using user provided OfflineComponentProvider");try{await Bg(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===Q.FAILED_PRECONDITION||i.code===Q.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Ws("Error using user provided cache. Falling back to memory cache: "+n),await Bg(t,new lp)}}else fe(Zs,"Using default OfflineComponentProvider"),await Bg(t,new Lj(void 0));return t._offlineComponents}async function Hw(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(fe(Zs,"Using user provided OnlineComponentProvider"),await gT(t,t._uninitializedComponentsProvider._online)):(fe(Zs,"Using default OnlineComponentProvider"),await gT(t,new Sv))),t._onlineComponents}function Uj(t){return Hw(t).then(e=>e.syncEngine)}function qj(t){return Hw(t).then(e=>e.datastore)}async function cp(t){const e=await Hw(t),n=e.eventManager;return n.onListen=_j.bind(null,e.syncEngine),n.onUnlisten=Ij.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=xj.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=bj.bind(null,e.syncEngine),n}function Gj(t,e,n={}){const r=new Xr;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const d=new Kw({next:h=>{d.Ou(),o.enqueueAndForget(()=>$w(s,f));const g=h.docs.has(a);!g&&h.fromCache?c.reject(new le(Q.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&h.fromCache&&l&&l.source==="server"?c.reject(new le(Q.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(h)},error:h=>c.reject(h)}),f=new Ww(tm(a.path),d,{includeMetadataChanges:!0,ka:!0});return Gw(s,f)}(await cp(t),t.asyncQueue,e,n,r)),r.promise}function $j(t,e,n={}){const r=new Xr;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const d=new Kw({next:h=>{d.Ou(),o.enqueueAndForget(()=>$w(s,f)),h.fromCache&&l.source==="server"?c.reject(new le(Q.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(h)},error:h=>c.reject(h)}),f=new Ww(a,d,{includeMetadataChanges:!0,ka:!0});return Gw(s,f)}(await cp(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bS(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yT=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SS="firestore.googleapis.com",vT=!0;class wT{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new le(Q.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=SS,this.ssl=vT}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:vT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=lS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<wB)throw new le(Q.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}aF("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=bS((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new le(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new le(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new le(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class um{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new wT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new le(Q.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new le(Q.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new wT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new ZV;switch(r.type){case"firstParty":return new nF(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new le(Q.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=yT.get(n);r&&(fe("ComponentProvider","Removing Datastore"),yT.delete(n),r.terminate())}(this),Promise.resolve()}}function zj(t,e,n,r={}){var i;t=Zn(t,um);const s=Wl(e),o=t._getSettings(),a=Object.assign(Object.assign({},o),{emulatorOptions:t._getEmulatorOptions()}),l=`${e}:${n}`;s&&(eb(`https://${l}`),tb("Firestore",!0)),o.host!==SS&&o.host!==l&&Ws("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c=Object.assign(Object.assign({},o),{host:l,ssl:s,emulatorOptions:r});if(!Qo(c,a)&&(t._setSettings(c),r.mockUserToken)){let d,f;if(typeof r.mockUserToken=="string")d=r.mockUserToken,f=dn.MOCK_USER;else{d=TL(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const h=r.mockUserToken.sub||r.mockUserToken.user_id;if(!h)throw new le(Q.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new dn(h)}t._authCredentials=new XV(new pb(d,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xl=class RS{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new RS(this.firestore,e,this._query)}};class vt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new js(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new vt(this.firestore,e,this._key)}toJSON(){return{type:vt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(nd(n,vt._jsonSchema))return new vt(e,r||null,new ve(nt.fromString(n.referencePath)))}}vt._jsonSchemaVersion="firestore/documentReference/1.0",vt._jsonSchema={type:Mt("string",vt._jsonSchemaVersion),referencePath:Mt("string")};class js extends Xl{constructor(e,n,r){super(e,n,tm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new vt(this.firestore,null,new ve(e))}withConverter(e){return new js(this.firestore,e,this._path)}}function up(t,e,...n){if(t=It(t),gb("collection","path",e),t instanceof um){const r=nt.fromString(e,...n);return NC(r),new js(t,null,r)}{if(!(t instanceof vt||t instanceof js))throw new le(Q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(nt.fromString(e,...n));return NC(r),new js(t.firestore,null,r)}}function _i(t,e,...n){if(t=It(t),arguments.length===1&&(e=Cw.newId()),gb("doc","path",e),t instanceof um){const r=nt.fromString(e,...n);return kC(r),new vt(t,null,new ve(r))}{if(!(t instanceof vt||t instanceof js))throw new le(Q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(nt.fromString(e,...n));return kC(r),new vt(t.firestore,t instanceof js?t.converter:null,new ve(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ET="AsyncQueue";class CT{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new Lw(this,"async_queue_retry"),this.oc=()=>{const r=Fg();r&&fe(ET,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;const n=Fg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const n=Fg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});const n=new Xr;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!Hl(e))throw e;fe(ET,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){const n=this._c.then(()=>(this.nc=!0,e().catch(r=>{throw this.tc=r,this.nc=!1,Bi("INTERNAL UNHANDLED ERROR: ",TT(r)),r}).then(r=>(this.nc=!1,r))));return this._c=n,n}enqueueAfterDelay(e,n,r){this.ac(),this.sc.indexOf(e)>-1&&(n=0);const i=Uw.createAndSchedule(this,e,n,r,s=>this.lc(s));return this.ec.push(i),i}ac(){this.tc&&Ce(47125,{hc:TT(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const n of this.ec)if(n.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.ec)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){const n=this.ec.indexOf(e);this.ec.splice(n,1)}}function TT(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _T(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class Xs extends um{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new CT,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new CT(e),this._firestoreClient=void 0,await e}}}function Wj(t,e){const n=typeof t=="object"?t:ww(),r=typeof t=="string"?t:ep,i=vw(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=EL("firestore");s&&zj(i,...s)}return i}function ld(t){if(t._terminated)throw new le(Q.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||Yj(t),t._firestoreClient}function Yj(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,c,d){return new vF(a,l,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,bS(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new Bj(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Qn(tn.fromBase64String(e))}catch(n){throw new le(Q.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Qn(tn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Qn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(nd(e,Qn._jsonSchema))return Qn.fromBase64String(e.bytes)}}Qn._jsonSchemaVersion="firestore/bytes/1.0",Qn._jsonSchema={type:Mt("string",Qn._jsonSchemaVersion),bytes:Mt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cd{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new le(Q.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Zt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dm{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ti{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new le(Q.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new le(Q.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Oe(this._lat,e._lat)||Oe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ti._jsonSchemaVersion}}static fromJSON(e){if(nd(e,ti._jsonSchema))return new ti(e.latitude,e.longitude)}}ti._jsonSchemaVersion="firestore/geoPoint/1.0",ti._jsonSchema={type:Mt("string",ti._jsonSchemaVersion),latitude:Mt("number"),longitude:Mt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}toJSON(){return{type:ni._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(nd(e,ni._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new ni(e.vectorValues);throw new le(Q.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ni._jsonSchemaVersion="firestore/vectorValue/1.0",ni._jsonSchema={type:Mt("string",ni._jsonSchemaVersion),vectorValues:Mt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qj=/^__.*__$/;class Kj{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new lo(e,this.data,this.fieldMask,n,this.fieldTransforms):new id(e,this.data,n,this.fieldTransforms)}}class PS{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new lo(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function kS(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ce(40011,{Ec:t})}}class Jw{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Ac(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new Jw(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Rc({path:r,mc:!1});return i.fc(e),i}gc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Rc({path:r,mc:!1});return i.Ac(),i}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return dp(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(kS(this.Ec)&&Qj.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class Hj{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||am(e)}Dc(e,n,r,i=!1){return new Jw({Ec:e,methodName:n,bc:r,path:Zt.emptyPath(),mc:!1,Sc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function hm(t){const e=t._freezeSettings(),n=am(t._databaseId);return new Hj(t._databaseId,!!e.ignoreUndefinedProperties,n)}function NS(t,e,n,r,i,s={}){const o=t.Dc(s.merge||s.mergeFields?2:0,e,n,i);Xw("Data must be an object, but it was:",o,r);const a=OS(r,o);let l,c;if(s.merge)l=new Hn(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const d=[];for(const f of s.mergeFields){const h=Rv(e,f,n);if(!o.contains(h))throw new le(Q.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);VS(d,h)||d.push(h)}l=new Hn(d),c=o.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,c=o.fieldTransforms;return new Kj(new An(a),l,c)}class fm extends dm{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof fm}}class Zw extends dm{constructor(e,n){super(e),this.Cc=n}_toFieldTransform(e){const n=new Mu(e.serializer,qb(e.serializer,this.Cc));return new qF(e.path,n)}isEqual(e){return e instanceof Zw&&this.Cc===e.Cc}}function DS(t,e,n,r){const i=t.Dc(1,e,n);Xw("Data must be an object, but it was:",i,r);const s=[],o=An.empty();ao(r,(l,c)=>{const d=eE(e,l,n);c=It(c);const f=i.gc(d);if(c instanceof fm)s.push(d);else{const h=ud(c,f);h!=null&&(s.push(d),o.set(d,h))}});const a=new Hn(s);return new PS(o,a,i.fieldTransforms)}function MS(t,e,n,r,i,s){const o=t.Dc(1,e,n),a=[Rv(e,r,n)],l=[i];if(s.length%2!=0)throw new le(Q.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<s.length;h+=2)a.push(Rv(e,s[h])),l.push(s[h+1]);const c=[],d=An.empty();for(let h=a.length-1;h>=0;--h)if(!VS(c,a[h])){const g=a[h];let T=l[h];T=It(T);const y=o.gc(g);if(T instanceof fm)c.push(g);else{const I=ud(T,y);I!=null&&(c.push(g),d.set(g,I))}}const f=new Hn(c);return new PS(d,f,o.fieldTransforms)}function Jj(t,e,n,r=!1){return ud(n,t.Dc(r?4:3,e))}function ud(t,e){if(LS(t=It(t)))return Xw("Unsupported field value:",e,t),OS(t,e);if(t instanceof dm)return function(r,i){if(!kS(i.Ec))throw i.wc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.wc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=ud(a,i.yc(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=It(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return qb(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Ze.fromDate(r);return{timestampValue:ip(i.serializer,s)}}if(r instanceof Ze){const s=new Ze(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ip(i.serializer,s)}}if(r instanceof ti)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Qn)return{bytesValue:eS(i.serializer,r._byteString)};if(r instanceof vt){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.wc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:kw(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof ni)return function(o,a){return{mapValue:{fields:{[Ab]:{stringValue:bb},[tp]:{arrayValue:{values:o.toArray().map(c=>{if(typeof c!="number")throw a.wc("VectorValues must only contain numeric values.");return bw(a.serializer,c)})}}}}}}(r,i);throw i.wc(`Unsupported field value: ${Zp(r)}`)}(t,e)}function OS(t,e){const n={};return wb(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ao(t,(r,i)=>{const s=ud(i,e.Vc(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function LS(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ze||t instanceof ti||t instanceof Qn||t instanceof vt||t instanceof dm||t instanceof ni)}function Xw(t,e,n){if(!LS(n)||!yb(n)){const r=Zp(n);throw r==="an object"?e.wc(t+" a custom object"):e.wc(t+" "+r)}}function Rv(t,e,n){if((e=It(e))instanceof cd)return e._internalPath;if(typeof e=="string")return eE(t,e);throw dp("Field path arguments must be of type string or ",t,!1,void 0,n)}const Zj=new RegExp("[~\\*/\\[\\]]");function eE(t,e,n){if(e.search(Zj)>=0)throw dp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new cd(...e.split("."))._internalPath}catch{throw dp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function dp(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new le(Q.INVALID_ARGUMENT,a+t+l)}function VS(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hp{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new vt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Xj(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(pm("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Xj extends hp{data(){return super.data()}}function pm(t,e){return typeof e=="string"?eE(t,e):e instanceof cd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FS(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new le(Q.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class tE{}class BS extends tE{}function fp(t,e,...n){let r=[];e instanceof tE&&r.push(e),r=r.concat(n),function(s){const o=s.filter(l=>l instanceof nE).length,a=s.filter(l=>l instanceof mm).length;if(o>1||o>0&&a>0)throw new le(Q.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class mm extends BS{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new mm(e,n,r)}_apply(e){const n=this._parse(e);return US(e._query,n),new Xl(e.firestore,e.converter,wv(e._query,n))}_parse(e){const n=hm(e.firestore);return function(s,o,a,l,c,d,f){let h;if(c.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new le(Q.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){AT(f,d);const T=[];for(const y of f)T.push(xT(l,s,y));h={arrayValue:{values:T}}}else h=xT(l,s,f)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||AT(f,d),h=Jj(a,o,f,d==="in"||d==="not-in");return Dt.create(c,d,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function kh(t,e,n){const r=e,i=pm("where",t);return mm._create(i,r,n)}class nE extends tE{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new nE(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Lr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)US(o,l),o=wv(o,l)}(e._query,n),new Xl(e.firestore,e.converter,wv(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class rE extends BS{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new rE(e,n)}_apply(e){const n=function(i,s,o){if(i.startAt!==null)throw new le(Q.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new le(Q.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ku(s,o)}(e._query,this._field,this._direction);return new Xl(e.firestore,e.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new Jl(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function jS(t,e="asc"){const n=e,r=pm("orderBy",t);return rE._create(r,n)}function xT(t,e,n){if(typeof(n=It(n))=="string"){if(n==="")throw new le(Q.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Ob(e)&&n.indexOf("/")!==-1)throw new le(Q.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(nt.fromString(n));if(!ve.isDocumentKey(r))throw new le(Q.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return jC(t,new ve(r))}if(n instanceof vt)return jC(t,n._key);throw new le(Q.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Zp(n)}.`)}function AT(t,e){if(!Array.isArray(t)||t.length===0)throw new le(Q.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function US(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new le(Q.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new le(Q.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class qS{convertValue(e,n="none"){switch(Hs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return bt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ks(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ce(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ao(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n[tp].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>bt(o.doubleValue));return new ni(s)}convertGeoPoint(e){return new ti(bt(e.latitude),bt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=em(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Su(e));default:return null}}convertTimestamp(e){const n=Qs(e);return new Ze(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=nt.fromString(e);ze(aS(r),9688,{name:e});const i=new Ru(r.get(1),r.get(3)),s=new ve(r.popFirst(5));return i.isEqual(n)||Bi(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GS(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class e5 extends qS{constructor(e){super(),this.firestore=e}convertBytes(e){return new Qn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new vt(this.firestore,null,n)}}class Ha{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Us extends hp{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new uf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(pm("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new le(Q.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Us._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Us._jsonSchemaVersion="firestore/documentSnapshot/1.0",Us._jsonSchema={type:Mt("string",Us._jsonSchemaVersion),bundleSource:Mt("string","DocumentSnapshot"),bundleName:Mt("string"),bundle:Mt("string")};class uf extends Us{data(e={}){return super.data(e)}}class jo{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Ha(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new uf(this._firestore,this._userDataWriter,r.key,r,new Ha(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new le(Q.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new uf(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ha(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new uf(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ha(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,d=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:t5(a.type),doc:l,oldIndex:c,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new le(Q.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=jo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Cw.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach(s=>{s._document!==null&&(n.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function t5(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ce(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n5(t){t=Zn(t,vt);const e=Zn(t.firestore,Xs);return Gj(ld(e),t._key).then(n=>zS(e,t,n))}jo._jsonSchemaVersion="firestore/querySnapshot/1.0",jo._jsonSchema={type:Mt("string",jo._jsonSchemaVersion),bundleSource:Mt("string","QuerySnapshot"),bundleName:Mt("string"),bundle:Mt("string")};class gm extends qS{constructor(e){super(),this.firestore=e}convertBytes(e){return new Qn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new vt(this.firestore,null,n)}}function Pv(t){t=Zn(t,Xl);const e=Zn(t.firestore,Xs),n=ld(e),r=new gm(e);return FS(t._query),$j(n,t._query).then(i=>new jo(e,r,t,i))}function IT(t,e,n){t=Zn(t,vt);const r=Zn(t.firestore,Xs),i=GS(t.converter,e,n);return $S(r,[NS(hm(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,In.none())])}function Nh(t,e,n,...r){t=Zn(t,vt);const i=Zn(t.firestore,Xs),s=hm(i);let o;return o=typeof(e=It(e))=="string"||e instanceof cd?MS(s,"updateDoc",t._key,e,n,r):DS(s,"updateDoc",t._key,e),$S(i,[o.toMutation(t._key,In.exists(!0))])}function jg(t,...e){var n,r,i;t=It(t);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||_T(e[o])||(s=e[o++]);const a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(_T(e[o])){const f=e[o];e[o]=(n=f.next)===null||n===void 0?void 0:n.bind(f),e[o+1]=(r=f.error)===null||r===void 0?void 0:r.bind(f),e[o+2]=(i=f.complete)===null||i===void 0?void 0:i.bind(f)}let l,c,d;if(t instanceof vt)c=Zn(t.firestore,Xs),d=tm(t._key.path),l={next:f=>{e[o]&&e[o](zS(c,t,f))},error:e[o+1],complete:e[o+2]};else{const f=Zn(t,Xl);c=Zn(f.firestore,Xs),d=f._query;const h=new gm(c);l={next:g=>{e[o]&&e[o](new jo(c,h,f,g))},error:e[o+1],complete:e[o+2]},FS(t._query)}return function(h,g,T,y){const I=new Kw(y),C=new Ww(g,I,T);return h.asyncQueue.enqueueAndForget(async()=>Gw(await cp(h),C)),()=>{I.Ou(),h.asyncQueue.enqueueAndForget(async()=>$w(await cp(h),C))}}(ld(c),d,a,l)}function $S(t,e){return function(r,i){const s=new Xr;return r.asyncQueue.enqueueAndForget(async()=>Sj(await Uj(r),i,s)),s.promise}(ld(t),e)}function zS(t,e,n){const r=n.docs.get(e._key),i=new gm(t);return new Us(t,i,e._key,r,new Ha(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r5={maxAttempts:5};function Fc(t,e){if((t=It(t)).firestore!==e)throw new le(Q.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i5{constructor(e,n){this._firestore=e,this._transaction=n,this._dataReader=hm(e)}get(e){const n=Fc(e,this._firestore),r=new e5(this._firestore);return this._transaction.lookup([n._key]).then(i=>{if(!i||i.length!==1)return Ce(24041);const s=i[0];if(s.isFoundDocument())return new hp(this._firestore,r,s.key,s,n.converter);if(s.isNoDocument())return new hp(this._firestore,r,n._key,null,n.converter);throw Ce(18433,{doc:s})})}set(e,n,r){const i=Fc(e,this._firestore),s=GS(i.converter,n,r),o=NS(this._dataReader,"Transaction.set",i._key,s,i.converter!==null,r);return this._transaction.set(i._key,o),this}update(e,n,r,...i){const s=Fc(e,this._firestore);let o;return o=typeof(n=It(n))=="string"||n instanceof cd?MS(this._dataReader,"Transaction.update",s._key,n,r,i):DS(this._dataReader,"Transaction.update",s._key,n),this._transaction.update(s._key,o),this}delete(e){const n=Fc(e,this._firestore);return this._transaction.delete(n._key),this}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s5 extends i5{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=Fc(e,this._firestore),r=new gm(this._firestore);return super.get(e).then(i=>new Us(this._firestore,r,n._key,i._document,new Ha(!1,!1),n.converter))}}function o5(t,e,n){t=Zn(t,Xs);const r=Object.assign(Object.assign({},r5),n);return function(s){if(s.maxAttempts<1)throw new le(Q.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(s,o,a){const l=new Xr;return s.asyncQueue.enqueueAndForget(async()=>{const c=await qj(s);new Fj(s.asyncQueue,c,a,o,l).zu()}),l.promise}(ld(t),i=>e(new s5(t,i)),r)}function a5(t){return new Zw("increment",t)}(function(e,n=!0){(function(i){Ql=i})(Yl),Rl(new Ko("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new Xs(new eF(r.getProvider("auth-internal")),new rF(o,r.getProvider("app-check-internal")),function(c,d){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new le(Q.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ru(c.options.projectId,d)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Fs(IC,bC,e),Fs(IC,bC,"esm2017")})();var Hr=function(){return Hr=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Hr.apply(this,arguments)};function dd(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function l5(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}function WS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const c5=WS,YS=new ed("auth","Firebase",WS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pp=new gw("@firebase/auth");function u5(t,...e){pp.logLevel<=je.WARN&&pp.warn(`Auth (${Yl}): ${t}`,...e)}function df(t,...e){pp.logLevel<=je.ERROR&&pp.error(`Auth (${Yl}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vr(t,...e){throw iE(t,...e)}function ri(t,...e){return iE(t,...e)}function QS(t,e,n){const r=Object.assign(Object.assign({},c5()),{[e]:n});return new ed("auth","Firebase",r).create(e,{appName:t.name})}function Di(t){return QS(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function iE(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return YS.create(t,...e)}function Re(t,e,...n){if(!t)throw iE(e,...n)}function Ri(t){const e="INTERNAL ASSERTION FAILED: "+t;throw df(e),new Error(e)}function Ui(t,e){t||Ri(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kv(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function d5(){return bT()==="http:"||bT()==="https:"}function bT(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h5(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(d5()||SL()||"connection"in navigator)?navigator.onLine:!0}function f5(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hd{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ui(n>e,"Short delay should be less than long delay!"),this.isMobile=AL()||RL()}get(){return h5()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sE(t,e){Ui(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KS{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ri("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ri("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ri("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p5={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m5=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],g5=new hd(3e4,6e4);function co(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function uo(t,e,n,r,i={}){return HS(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=td(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:l},s);return bL()||(c.referrerPolicy="no-referrer"),t.emulatorConfig&&Wl(t.emulatorConfig.host)&&(c.credentials="include"),KS.fetch()(await JS(t,t.config.apiHost,n,a),c)})}async function HS(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},p5),e);try{const i=new v5(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Dh(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Dh(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Dh(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Dh(t,"user-disabled",o);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw QS(t,d,c);Vr(t,d)}}catch(i){if(i instanceof zi)throw i;Vr(t,"network-request-failed",{message:String(i)})}}async function fd(t,e,n,r,i={}){const s=await uo(t,e,n,r,i);return"mfaPendingCredential"in s&&Vr(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function JS(t,e,n,r){const i=`${e}${n}?${r}`,s=t,o=s.config.emulator?sE(t.config,i):`${t.config.apiScheme}://${i}`;return m5.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(o).toString():o}function y5(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class v5{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ri(this.auth,"network-request-failed")),g5.get())})}}function Dh(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=ri(t,e,r);return i.customData._tokenResponse=n,i}function ST(t){return t!==void 0&&t.enterprise!==void 0}class w5{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return y5(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function E5(t,e){return uo(t,"GET","/v2/recaptchaConfig",co(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function C5(t,e){return uo(t,"POST","/v1/accounts:delete",e)}async function mp(t,e){return uo(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function su(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function T5(t,e=!1){const n=It(t),r=await n.getIdToken(e),i=oE(r);Re(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:su(Ug(i.auth_time)),issuedAtTime:su(Ug(i.iat)),expirationTime:su(Ug(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Ug(t){return Number(t)*1e3}function oE(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return df("JWT malformed, contained fewer than 3 sections"),null;try{const i=HI(n);return i?JSON.parse(i):(df("Failed to decode base64 JWT payload"),null)}catch(i){return df("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function RT(t){const e=oE(t);return Re(e,"internal-error"),Re(typeof e.exp<"u","internal-error"),Re(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ou(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof zi&&_5(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function _5({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x5{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nv{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=su(this.lastLoginAt),this.creationTime=su(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gp(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Ou(t,mp(n,{idToken:r}));Re(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?ZS(s.providerUserInfo):[],a=I5(t.providerData,o),l=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),d=l?c:!1,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Nv(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,f)}async function A5(t){const e=It(t);await gp(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function I5(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function ZS(t){return t.map(e=>{var{providerId:n}=e,r=dd(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function b5(t,e){const n=await HS(t,{},async()=>{const r=td({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=await JS(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:a,body:r};return t.emulatorConfig&&Wl(t.emulatorConfig.host)&&(l.credentials="include"),KS.fetch()(o,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function S5(t,e){return uo(t,"POST","/v2/accounts:revokeToken",co(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ol{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Re(e.idToken,"internal-error"),Re(typeof e.idToken<"u","internal-error"),Re(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):RT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Re(e.length!==0,"internal-error");const n=RT(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Re(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await b5(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new ol;return r&&(Re(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(Re(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(Re(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ol,this.toJSON())}_performRefresh(){return Ri("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ss(t,e){Re(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Nr{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=dd(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new x5(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Nv(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Ou(this,this.stsTokenManager.getToken(this.auth,e));return Re(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return T5(this,e)}reload(){return A5(this)}_assign(e){this!==e&&(Re(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Nr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Re(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await gp(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(hr(this.auth.app))return Promise.reject(Di(this.auth));const e=await this.getIdToken();return await Ou(this,C5(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,c,d;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,g=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,T=(o=n.photoURL)!==null&&o!==void 0?o:void 0,y=(a=n.tenantId)!==null&&a!==void 0?a:void 0,I=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,C=(c=n.createdAt)!==null&&c!==void 0?c:void 0,w=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:A,emailVerified:R,isAnonymous:O,providerData:B,stsTokenManager:S}=n;Re(A&&S,e,"internal-error");const b=ol.fromJSON(this.name,S);Re(typeof A=="string",e,"internal-error"),ss(f,e.name),ss(h,e.name),Re(typeof R=="boolean",e,"internal-error"),Re(typeof O=="boolean",e,"internal-error"),ss(g,e.name),ss(T,e.name),ss(y,e.name),ss(I,e.name),ss(C,e.name),ss(w,e.name);const k=new Nr({uid:A,auth:e,email:h,emailVerified:R,displayName:f,isAnonymous:O,photoURL:T,phoneNumber:g,tenantId:y,stsTokenManager:b,createdAt:C,lastLoginAt:w});return B&&Array.isArray(B)&&(k.providerData=B.map(D=>Object.assign({},D))),I&&(k._redirectEventId=I),k}static async _fromIdTokenResponse(e,n,r=!1){const i=new ol;i.updateFromServerResponse(n);const s=new Nr({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await gp(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Re(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?ZS(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new ol;a.updateFromIdToken(r);const l=new Nr({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Nv(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PT=new Map;function Pi(t){Ui(t instanceof Function,"Expected a class definition");let e=PT.get(t);return e?(Ui(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,PT.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}XS.type="NONE";const kT=XS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hf(t,e,n){return`firebase:${t}:${e}:${n}`}class al{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=hf(this.userKey,i.apiKey,s),this.fullPersistenceKey=hf("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await mp(this.auth,{idToken:e}).catch(()=>{});return n?Nr._fromGetAccountInfoResponse(this.auth,n,e):null}return Nr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new al(Pi(kT),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||Pi(kT);const o=hf(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const d=await c._get(o);if(d){let f;if(typeof d=="string"){const h=await mp(e,{idToken:d}).catch(()=>{});if(!h)break;f=await Nr._fromGetAccountInfoResponse(e,h,d)}else f=Nr._fromJSON(e,d);c!==s&&(a=f),s=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new al(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new al(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NT(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(rR(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(eR(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(sR(e))return"Blackberry";if(oR(e))return"Webos";if(tR(e))return"Safari";if((e.includes("chrome/")||nR(e))&&!e.includes("edge/"))return"Chrome";if(iR(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function eR(t=gn()){return/firefox\//i.test(t)}function tR(t=gn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function nR(t=gn()){return/crios\//i.test(t)}function rR(t=gn()){return/iemobile/i.test(t)}function iR(t=gn()){return/android/i.test(t)}function sR(t=gn()){return/blackberry/i.test(t)}function oR(t=gn()){return/webos/i.test(t)}function aE(t=gn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function R5(t=gn()){var e;return aE(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function P5(){return PL()&&document.documentMode===10}function aR(t=gn()){return aE(t)||iR(t)||oR(t)||sR(t)||/windows phone/i.test(t)||rR(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lR(t,e=[]){let n;switch(t){case"Browser":n=NT(gn());break;case"Worker":n=`${NT(gn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Yl}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k5{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function N5(t,e={}){return uo(t,"GET","/v2/passwordPolicy",co(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D5=6;class M5{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:D5,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O5{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new DT(this),this.idTokenSubscription=new DT(this),this.beforeStateQueue=new k5(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=YS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Pi(n)),this._initializationPromise=this.queue(async()=>{var r,i,s;if(!this._deleted&&(this.persistenceManager=await al.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await mp(this,{idToken:e}),r=await Nr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(hr(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Re(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await gp(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=f5()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(hr(this.app))return Promise.reject(Di(this));const n=e?It(e):null;return n&&Re(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Re(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return hr(this.app)?Promise.reject(Di(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return hr(this.app)?Promise.reject(Di(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Pi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await N5(this),n=new M5(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ed("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await S5(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Pi(e)||this._popupRedirectResolver;Re(n,this,"argument-error"),this.redirectPersistenceManager=await al.create(this,[Pi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Re(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Re(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=lR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;if(hr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&u5(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function ca(t){return It(t)}class DT{constructor(e){this.auth=e,this.observer=null,this.addObserver=FL(n=>this.observer=n)}get next(){return Re(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ym={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function L5(t){ym=t}function cR(t){return ym.loadJS(t)}function V5(){return ym.recaptchaEnterpriseScript}function F5(){return ym.gapiScript}function B5(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class j5{constructor(){this.enterprise=new U5}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class U5{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const q5="recaptcha-enterprise",uR="NO_RECAPTCHA";class G5{constructor(e){this.type=q5,this.auth=ca(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{E5(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new w5(l);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;ST(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(c=>{o(c)}).catch(()=>{o(uR)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new j5().execute("siteKey",{action:"verify"}):new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&ST(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=V5();l.length!==0&&(l+=a),cR(l).then(()=>{i(a,s,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function MT(t,e,n,r=!1,i=!1){const s=new G5(t);let o;if(i)o=uR;else try{o=await s.verify(n)}catch{o=await s.verify(n,!0)}const a=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,c=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function Dv(t,e,n,r,i){var s;if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await MT(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await MT(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $5(t,e){const n=vw(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Qo(s,e??{}))return i;Vr(i,"already-initialized")}return n.initialize({options:e})}function z5(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Pi);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function W5(t,e,n){const r=ca(t);Re(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=dR(e),{host:o,port:a}=Y5(e),l=a===null?"":`:${a}`,c={url:`${s}//${o}${l}/`},d=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Re(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Re(Qo(c,r.config.emulator)&&Qo(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=c,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,Wl(o)?(eb(`${s}//${o}${l}`),tb("Auth",!0)):Q5()}function dR(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Y5(t){const e=dR(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:OT(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:OT(o)}}}function OT(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Q5(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lE{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ri("not implemented")}_getIdTokenResponse(e){return Ri("not implemented")}_linkToIdToken(e,n){return Ri("not implemented")}_getReauthenticationResolver(e){return Ri("not implemented")}}async function K5(t,e){return uo(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function H5(t,e){return fd(t,"POST","/v1/accounts:signInWithPassword",co(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function J5(t,e){return fd(t,"POST","/v1/accounts:signInWithEmailLink",co(t,e))}async function Z5(t,e){return fd(t,"POST","/v1/accounts:signInWithEmailLink",co(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lu extends lE{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Lu(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Lu(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Dv(e,n,"signInWithPassword",H5);case"emailLink":return J5(e,{email:this._email,oobCode:this._password});default:Vr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Dv(e,r,"signUpPassword",K5);case"emailLink":return Z5(e,{idToken:n,email:this._email,oobCode:this._password});default:Vr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ll(t,e){return fd(t,"POST","/v1/accounts:signInWithIdp",co(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X5="http://localhost";class Zo extends lE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Zo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Vr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=dd(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Zo(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return ll(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ll(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ll(e,n)}buildRequest(){const e={requestUri:X5,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=td(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e3(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function t3(t){const e=Dc(Mc(t)).link,n=e?Dc(Mc(e)).deep_link_id:null,r=Dc(Mc(t)).deep_link_id;return(r?Dc(Mc(r)).link:null)||r||n||e||t}class cE{constructor(e){var n,r,i,s,o,a;const l=Dc(Mc(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,d=(r=l.oobCode)!==null&&r!==void 0?r:null,f=e3((i=l.mode)!==null&&i!==void 0?i:null);Re(c&&d&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=d,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.lang)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=t3(e);try{return new cE(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ec{constructor(){this.providerId=ec.PROVIDER_ID}static credential(e,n){return Lu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=cE.parseLink(n);return Re(r,"argument-error"),Lu._fromEmailAndCode(e,r.code,r.tenantId)}}ec.PROVIDER_ID="password";ec.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ec.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hR{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pd extends hR{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps extends pd{constructor(){super("facebook.com")}static credential(e){return Zo._fromParams({providerId:ps.PROVIDER_ID,signInMethod:ps.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ps.credentialFromTaggedObject(e)}static credentialFromError(e){return ps.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ps.credential(e.oauthAccessToken)}catch{return null}}}ps.FACEBOOK_SIGN_IN_METHOD="facebook.com";ps.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms extends pd{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Zo._fromParams({providerId:ms.PROVIDER_ID,signInMethod:ms.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ms.credentialFromTaggedObject(e)}static credentialFromError(e){return ms.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return ms.credential(n,r)}catch{return null}}}ms.GOOGLE_SIGN_IN_METHOD="google.com";ms.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs extends pd{constructor(){super("github.com")}static credential(e){return Zo._fromParams({providerId:gs.PROVIDER_ID,signInMethod:gs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return gs.credentialFromTaggedObject(e)}static credentialFromError(e){return gs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return gs.credential(e.oauthAccessToken)}catch{return null}}}gs.GITHUB_SIGN_IN_METHOD="github.com";gs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys extends pd{constructor(){super("twitter.com")}static credential(e,n){return Zo._fromParams({providerId:ys.PROVIDER_ID,signInMethod:ys.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ys.credentialFromTaggedObject(e)}static credentialFromError(e){return ys.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ys.credential(n,r)}catch{return null}}}ys.TWITTER_SIGN_IN_METHOD="twitter.com";ys.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function n3(t,e){return fd(t,"POST","/v1/accounts:signUp",co(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Nr._fromIdTokenResponse(e,r,i),o=LT(r);return new Xo({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=LT(r);return new Xo({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function LT(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yp extends zi{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,yp.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new yp(e,n,r,i)}}function fR(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?yp._fromErrorAndOperation(t,s,e,r):s})}async function r3(t,e,n=!1){const r=await Ou(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Xo._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function i3(t,e,n=!1){const{auth:r}=t;if(hr(r.app))return Promise.reject(Di(r));const i="reauthenticate";try{const s=await Ou(t,fR(r,i,e,t),n);Re(s.idToken,r,"internal-error");const o=oE(s.idToken);Re(o,r,"internal-error");const{sub:a}=o;return Re(t.uid===a,r,"user-mismatch"),Xo._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Vr(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pR(t,e,n=!1){if(hr(t.app))return Promise.reject(Di(t));const r="signIn",i=await fR(t,r,e),s=await Xo._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function s3(t,e){return pR(ca(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mR(t){const e=ca(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function o3(t,e,n){if(hr(t.app))return Promise.reject(Di(t));const r=ca(t),o=await Dv(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",n3).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&mR(t),l}),a=await Xo._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function a3(t,e,n){return hr(t.app)?Promise.reject(Di(t)):s3(It(t),ec.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&mR(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l3(t,e){return It(t).setPersistence(e)}function c3(t,e,n,r){return It(t).onIdTokenChanged(e,n,r)}function u3(t,e,n){return It(t).beforeAuthStateChanged(e,n)}function d3(t,e,n,r){return It(t).onAuthStateChanged(e,n,r)}function h3(t){return It(t).signOut()}const vp="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gR{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(vp,"1"),this.storage.removeItem(vp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f3=1e3,p3=10;class yR extends gR{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=aR(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);P5()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,p3):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},f3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}yR.type="LOCAL";const vR=yR;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wR extends gR{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}wR.type="SESSION";const ER=wR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m3(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new vm(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async c=>c(n.origin,s)),l=await m3(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}vm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uE(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g3{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const c=uE("",20);i.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(f){const h=f;if(h.data.eventId===c)switch(h.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(h.data.response);break;default:clearTimeout(d),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ii(){return window}function y3(t){ii().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CR(){return typeof ii().WorkerGlobalScope<"u"&&typeof ii().importScripts=="function"}async function v3(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function w3(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function E3(){return CR()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TR="firebaseLocalStorageDb",C3=1,wp="firebaseLocalStorage",_R="fbase_key";class md{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function wm(t,e){return t.transaction([wp],e?"readwrite":"readonly").objectStore(wp)}function T3(){const t=indexedDB.deleteDatabase(TR);return new md(t).toPromise()}function Mv(){const t=indexedDB.open(TR,C3);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(wp,{keyPath:_R})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(wp)?e(r):(r.close(),await T3(),e(await Mv()))})})}async function VT(t,e,n){const r=wm(t,!0).put({[_R]:e,value:n});return new md(r).toPromise()}async function _3(t,e){const n=wm(t,!1).get(e),r=await new md(n).toPromise();return r===void 0?null:r.value}function FT(t,e){const n=wm(t,!0).delete(e);return new md(n).toPromise()}const x3=800,A3=3;class xR{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Mv(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>A3)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return CR()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=vm._getInstance(E3()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await v3(),!this.activeServiceWorker)return;this.sender=new g3(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||w3()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Mv();return await VT(e,vp,"1"),await FT(e,vp),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>VT(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>_3(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>FT(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=wm(i,!1).getAll();return new md(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),x3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}xR.type="LOCAL";const I3=xR;new hd(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b3(t,e){return e?Pi(e):(Re(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dE extends lE{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ll(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ll(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ll(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function S3(t){return pR(t.auth,new dE(t),t.bypassAuthState)}function R3(t){const{auth:e,user:n}=t;return Re(n,e,"internal-error"),i3(n,new dE(t),t.bypassAuthState)}async function P3(t){const{auth:e,user:n}=t;return Re(n,e,"internal-error"),r3(n,new dE(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AR{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return S3;case"linkViaPopup":case"linkViaRedirect":return P3;case"reauthViaPopup":case"reauthViaRedirect":return R3;default:Vr(this.auth,"internal-error")}}resolve(e){Ui(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ui(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k3=new hd(2e3,1e4);class Ja extends AR{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Ja.currentPopupAction&&Ja.currentPopupAction.cancel(),Ja.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Re(e,this.auth,"internal-error"),e}async onExecution(){Ui(this.filter.length===1,"Popup operations only handle one event");const e=uE();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ri(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ri(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ja.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ri(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,k3.get())};e()}}Ja.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N3="pendingRedirect",ff=new Map;class D3 extends AR{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=ff.get(this.auth._key());if(!e){try{const r=await M3(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}ff.set(this.auth._key(),e)}return this.bypassAuthState||ff.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function M3(t,e){const n=V3(e),r=L3(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function O3(t,e){ff.set(t._key(),e)}function L3(t){return Pi(t._redirectPersistence)}function V3(t){return hf(N3,t.config.apiKey,t.name)}async function F3(t,e,n=!1){if(hr(t.app))return Promise.reject(Di(t));const r=ca(t),i=b3(r,e),o=await new D3(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B3=10*60*1e3;class j3{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!U3(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!IR(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(ri(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=B3&&this.cachedEventUids.clear(),this.cachedEventUids.has(BT(e))}saveEventToCache(e){this.cachedEventUids.add(BT(e)),this.lastProcessedEventTime=Date.now()}}function BT(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function IR({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function U3(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return IR(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function q3(t,e={}){return uo(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G3=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,$3=/^https?/;async function z3(t){if(t.config.emulator)return;const{authorizedDomains:e}=await q3(t);for(const n of e)try{if(W3(n))return}catch{}Vr(t,"unauthorized-domain")}function W3(t){const e=kv(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!$3.test(n))return!1;if(G3.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y3=new hd(3e4,6e4);function jT(){const t=ii().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Q3(t){return new Promise((e,n)=>{var r,i,s;function o(){jT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{jT(),n(ri(t,"network-request-failed"))},timeout:Y3.get()})}if(!((i=(r=ii().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=ii().gapi)===null||s===void 0)&&s.load)o();else{const a=B5("iframefcb");return ii()[a]=()=>{gapi.load?o():n(ri(t,"network-request-failed"))},cR(`${F5()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw pf=null,e})}let pf=null;function K3(t){return pf=pf||Q3(t),pf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H3=new hd(5e3,15e3),J3="__/auth/iframe",Z3="emulator/auth/iframe",X3={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},e6=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function t6(t){const e=t.config;Re(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?sE(e,Z3):`https://${t.config.authDomain}/${J3}`,r={apiKey:e.apiKey,appName:t.name,v:Yl},i=e6.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${td(r).slice(1)}`}async function n6(t){const e=await K3(t),n=ii().gapi;return Re(n,t,"internal-error"),e.open({where:document.body,url:t6(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:X3,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=ri(t,"network-request-failed"),a=ii().setTimeout(()=>{s(o)},H3.get());function l(){ii().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r6={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},i6=500,s6=600,o6="_blank",a6="http://localhost";class UT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function l6(t,e,n,r=i6,i=s6){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},r6),{width:r.toString(),height:i.toString(),top:s,left:o}),c=gn().toLowerCase();n&&(a=nR(c)?o6:n),eR(c)&&(e=e||a6,l.scrollbars="yes");const d=Object.entries(l).reduce((h,[g,T])=>`${h}${g}=${T},`,"");if(R5(c)&&a!=="_self")return c6(e||"",a),new UT(null);const f=window.open(e||"",a,d);Re(f,t,"popup-blocked");try{f.focus()}catch{}return new UT(f)}function c6(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u6="__/auth/handler",d6="emulator/auth/handler",h6=encodeURIComponent("fac");async function qT(t,e,n,r,i,s){Re(t.config.authDomain,t,"auth-domain-config-required"),Re(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Yl,eventId:i};if(e instanceof hR){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",VL(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,f]of Object.entries({}))o[d]=f}if(e instanceof pd){const d=e.getScopes().filter(f=>f!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await t._getAppCheckToken(),c=l?`#${h6}=${encodeURIComponent(l)}`:"";return`${f6(t)}?${td(a).slice(1)}${c}`}function f6({config:t}){return t.emulator?sE(t,d6):`https://${t.authDomain}/${u6}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qg="webStorageSupport";class p6{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ER,this._completeRedirectFn=F3,this._overrideRedirectResult=O3}async _openPopup(e,n,r,i){var s;Ui((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await qT(e,n,r,kv(),i);return l6(e,o,uE())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await qT(e,n,r,kv(),i);return y3(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Ui(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await n6(e),r=new j3(e);return n.register("authEvent",i=>(Re(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(qg,{type:qg},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[qg];o!==void 0&&n(!!o),Vr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=z3(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return aR()||tR()||aE()}}const m6=p6;var GT="@firebase/auth",$T="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g6{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Re(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y6(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function v6(t){Rl(new Ko("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;Re(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:lR(t)},c=new O5(r,i,s,l);return z5(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Rl(new Ko("auth-internal",e=>{const n=ca(e.getProvider("auth").getImmediate());return(r=>new g6(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Fs(GT,$T,y6(t)),Fs(GT,$T,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w6=5*60,E6=XI("authIdTokenMaxAge")||w6;let zT=null;const C6=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>E6)return;const i=n==null?void 0:n.token;zT!==i&&(zT=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function T6(t=ww()){const e=vw(t,"auth");if(e.isInitialized())return e.getImmediate();const n=$5(t,{popupRedirectResolver:m6,persistence:[I3,vR,ER]}),r=XI("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=C6(s.toString());u3(n,o,()=>o(n.currentUser)),c3(n,a=>o(a))}}const i=JI("auth");return i&&W5(n,`http://${i}`),n}function _6(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}L5({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=ri("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",_6().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});v6("Browser");const x6={apiKey:"AIzaSyBS3_IVikDTZwStfJLSL2y_OvAIhFPQO3s",authDomain:"ape-shop-84c95.firebaseapp.com",projectId:"vape-shop-84c95",storageBucket:"vape-shop-84c95.appspot.com",messagingSenderId:"131179049959",appId:"1:131179049959:web:d31446fba53784c68a4342"},bR=BV().length?ww():ib(x6),kn=Wj(bR),Bc=T6(bR);l3(Bc,vR).catch(t=>{console.error("Error setting auth persistence:",t)});function it(...t){return dL(BI(t))}const A6=AO,SR=v.forwardRef(({className:t,...e},n)=>p.jsx(NI,{ref:n,className:it("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));SR.displayName=NI.displayName;const I6=fw("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),RR=v.forwardRef(({className:t,variant:e,...n},r)=>p.jsx(DI,{ref:r,className:it(I6({variant:e}),t),...n}));RR.displayName=DI.displayName;const b6=v.forwardRef(({className:t,...e},n)=>p.jsx(LI,{ref:n,className:it("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));b6.displayName=LI.displayName;const PR=v.forwardRef(({className:t,...e},n)=>p.jsx(VI,{ref:n,className:it("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:p.jsx(pw,{className:"h-4 w-4"})}));PR.displayName=VI.displayName;const kR=v.forwardRef(({className:t,...e},n)=>p.jsx(MI,{ref:n,className:it("text-sm font-semibold",t),...e}));kR.displayName=MI.displayName;const NR=v.forwardRef(({className:t,...e},n)=>p.jsx(OI,{ref:n,className:it("text-sm opacity-90",t),...e}));NR.displayName=OI.displayName;function S6(){const{toasts:t}=L4();return p.jsxs(A6,{children:[t.map(function({id:e,title:n,description:r,action:i,...s}){return p.jsxs(RR,{...s,children:[p.jsxs("div",{className:"grid gap-1",children:[n&&p.jsx(kR,{children:n}),r&&p.jsx(NR,{children:r})]}),i,p.jsx(PR,{})]},e)}),p.jsx(SR,{})]})}var WT=["light","dark"],R6="(prefers-color-scheme: dark)",P6=v.createContext(void 0),k6={setTheme:t=>{},themes:[]},N6=()=>{var t;return(t=v.useContext(P6))!=null?t:k6};v.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:i,defaultTheme:s,value:o,attrs:a,nonce:l})=>{let c=s==="system",d=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${a.map(T=>`'${T}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,f=i?WT.includes(s)&&s?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${s}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",h=(T,y=!1,I=!0)=>{let C=o?o[T]:T,w=y?T+"|| ''":`'${C}'`,A="";return i&&I&&!y&&WT.includes(T)&&(A+=`d.style.colorScheme = '${T}';`),n==="class"?y||C?A+=`c.add(${w})`:A+="null":C&&(A+=`d[s](n,${w})`),A},g=t?`!function(){${d}${h(t)}}()`:r?`!function(){try{${d}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${c})){var t='${R6}',m=window.matchMedia(t);if(m.media!==t||m.matches){${h("dark")}}else{${h("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${h(o?"x[e]":"e",!0)}}${c?"":"else{"+h(s,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${e}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${h(o?"x[e]":"e",!0)}}else{${h(s,!1,!1)};}${f}}catch(t){}}();`;return v.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:g}})});var D6=t=>{switch(t){case"success":return L6;case"info":return F6;case"warning":return V6;case"error":return B6;default:return null}},M6=Array(12).fill(0),O6=({visible:t})=>Y.createElement("div",{className:"sonner-loading-wrapper","data-visible":t},Y.createElement("div",{className:"sonner-spinner"},M6.map((e,n)=>Y.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),L6=Y.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Y.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),V6=Y.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},Y.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),F6=Y.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Y.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),B6=Y.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Y.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),j6=()=>{let[t,e]=Y.useState(document.hidden);return Y.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},Ov=1,U6=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;let{message:n,...r}=t,i=typeof(t==null?void 0:t.id)=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:Ov++,s=this.toasts.find(a=>a.id===i),o=t.dismissible===void 0?!0:t.dismissible;return s?this.toasts=this.toasts.map(a=>a.id===i?(this.publish({...a,...t,id:i,title:n}),{...a,...t,id:i,dismissible:o,title:n}):a):this.addToast({title:n,...r,dismissible:o,id:i}),i},this.dismiss=t=>(t||this.toasts.forEach(e=>{this.subscribers.forEach(n=>n({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:t,dismiss:!0})),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let n;e.loading!==void 0&&(n=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let r=t instanceof Promise?t:t(),i=n!==void 0;return r.then(async s=>{if(G6(s)&&!s.ok){i=!1;let o=typeof e.error=="function"?await e.error(`HTTP error! status: ${s.status}`):e.error,a=typeof e.description=="function"?await e.description(`HTTP error! status: ${s.status}`):e.description;this.create({id:n,type:"error",message:o,description:a})}else if(e.success!==void 0){i=!1;let o=typeof e.success=="function"?await e.success(s):e.success,a=typeof e.description=="function"?await e.description(s):e.description;this.create({id:n,type:"success",message:o,description:a})}}).catch(async s=>{if(e.error!==void 0){i=!1;let o=typeof e.error=="function"?await e.error(s):e.error,a=typeof e.description=="function"?await e.description(s):e.description;this.create({id:n,type:"error",message:o,description:a})}}).finally(()=>{var s;i&&(this.dismiss(n),n=void 0),(s=e.finally)==null||s.call(e)}),n},this.custom=(t,e)=>{let n=(e==null?void 0:e.id)||Ov++;return this.create({jsx:t(n),id:n,...e}),n},this.subscribers=[],this.toasts=[]}},zn=new U6,q6=(t,e)=>{let n=(e==null?void 0:e.id)||Ov++;return zn.addToast({title:t,...e,id:n}),n},G6=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",$6=q6,z6=()=>zn.toasts;Object.assign($6,{success:zn.success,info:zn.info,warning:zn.warning,error:zn.error,custom:zn.custom,message:zn.message,promise:zn.promise,dismiss:zn.dismiss,loading:zn.loading},{getHistory:z6});function W6(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}W6(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Mh(t){return t.label!==void 0}var Y6=3,Q6="32px",K6=4e3,H6=356,J6=14,Z6=20,X6=200;function eU(...t){return t.filter(Boolean).join(" ")}var tU=t=>{var e,n,r,i,s,o,a,l,c,d;let{invert:f,toast:h,unstyled:g,interacting:T,setHeights:y,visibleToasts:I,heights:C,index:w,toasts:A,expanded:R,removeToast:O,defaultRichColors:B,closeButton:S,style:b,cancelButtonStyle:k,actionButtonStyle:D,className:V="",descriptionClassName:F="",duration:M,position:te,gap:re,loadingIcon:ee,expandByDefault:pe,classNames:G,icons:Z,closeButtonAriaLabel:ae="Close toast",pauseWhenPageIsHidden:se,cn:ue}=t,[he,ke]=Y.useState(!1),[Me,Te]=Y.useState(!1),[ne,ge]=Y.useState(!1),[be,we]=Y.useState(!1),[xe,Ee]=Y.useState(0),[de,ye]=Y.useState(0),dt=Y.useRef(null),rt=Y.useRef(null),Rt=w===0,He=w+1<=I,ht=h.type,nn=h.dismissible!==!1,yr=h.className||"",ui=h.descriptionClassName||"",sr=Y.useMemo(()=>C.findIndex(Ae=>Ae.toastId===h.id)||0,[C,h.id]),di=Y.useMemo(()=>{var Ae;return(Ae=h.closeButton)!=null?Ae:S},[h.closeButton,S]),go=Y.useMemo(()=>h.duration||M||K6,[h.duration,M]),Tt=Y.useRef(0),ft=Y.useRef(0),hi=Y.useRef(0),vr=Y.useRef(null),[yo,Wi]=te.split("-"),or=Y.useMemo(()=>C.reduce((Ae,Be,Qe)=>Qe>=sr?Ae:Ae+Be.height,0),[C,sr]),wr=j6(),Er=h.invert||f,yn=ht==="loading";ft.current=Y.useMemo(()=>sr*re+or,[sr,or]),Y.useEffect(()=>{ke(!0)},[]),Y.useLayoutEffect(()=>{if(!he)return;let Ae=rt.current,Be=Ae.style.height;Ae.style.height="auto";let Qe=Ae.getBoundingClientRect().height;Ae.style.height=Be,ye(Qe),y(Ut=>Ut.find(rn=>rn.toastId===h.id)?Ut.map(rn=>rn.toastId===h.id?{...rn,height:Qe}:rn):[{toastId:h.id,height:Qe,position:h.position},...Ut])},[he,h.title,h.description,y,h.id]);let vn=Y.useCallback(()=>{Te(!0),Ee(ft.current),y(Ae=>Ae.filter(Be=>Be.toastId!==h.id)),setTimeout(()=>{O(h)},X6)},[h,O,y,ft]);Y.useEffect(()=>{if(h.promise&&ht==="loading"||h.duration===1/0||h.type==="loading")return;let Ae,Be=go;return R||T||se&&wr?(()=>{if(hi.current<Tt.current){let Qe=new Date().getTime()-Tt.current;Be=Be-Qe}hi.current=new Date().getTime()})():Be!==1/0&&(Tt.current=new Date().getTime(),Ae=setTimeout(()=>{var Qe;(Qe=h.onAutoClose)==null||Qe.call(h,h),vn()},Be)),()=>clearTimeout(Ae)},[R,T,pe,h,go,vn,h.promise,ht,se,wr]),Y.useEffect(()=>{let Ae=rt.current;if(Ae){let Be=Ae.getBoundingClientRect().height;return ye(Be),y(Qe=>[{toastId:h.id,height:Be,position:h.position},...Qe]),()=>y(Qe=>Qe.filter(Ut=>Ut.toastId!==h.id))}},[y,h.id]),Y.useEffect(()=>{h.delete&&vn()},[vn,h.delete]);function oc(){return Z!=null&&Z.loading?Y.createElement("div",{className:"sonner-loader","data-visible":ht==="loading"},Z.loading):ee?Y.createElement("div",{className:"sonner-loader","data-visible":ht==="loading"},ee):Y.createElement(O6,{visible:ht==="loading"})}return Y.createElement("li",{"aria-live":h.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:rt,className:ue(V,yr,G==null?void 0:G.toast,(e=h==null?void 0:h.classNames)==null?void 0:e.toast,G==null?void 0:G.default,G==null?void 0:G[ht],(n=h==null?void 0:h.classNames)==null?void 0:n[ht]),"data-sonner-toast":"","data-rich-colors":(r=h.richColors)!=null?r:B,"data-styled":!(h.jsx||h.unstyled||g),"data-mounted":he,"data-promise":!!h.promise,"data-removed":Me,"data-visible":He,"data-y-position":yo,"data-x-position":Wi,"data-index":w,"data-front":Rt,"data-swiping":ne,"data-dismissible":nn,"data-type":ht,"data-invert":Er,"data-swipe-out":be,"data-expanded":!!(R||pe&&he),style:{"--index":w,"--toasts-before":w,"--z-index":A.length-w,"--offset":`${Me?xe:ft.current}px`,"--initial-height":pe?"auto":`${de}px`,...b,...h.style},onPointerDown:Ae=>{yn||!nn||(dt.current=new Date,Ee(ft.current),Ae.target.setPointerCapture(Ae.pointerId),Ae.target.tagName!=="BUTTON"&&(ge(!0),vr.current={x:Ae.clientX,y:Ae.clientY}))},onPointerUp:()=>{var Ae,Be,Qe,Ut;if(be||!nn)return;vr.current=null;let rn=Number(((Ae=rt.current)==null?void 0:Ae.style.getPropertyValue("--swipe-amount").replace("px",""))||0),Cr=new Date().getTime()-((Be=dt.current)==null?void 0:Be.getTime()),at=Math.abs(rn)/Cr;if(Math.abs(rn)>=Z6||at>.11){Ee(ft.current),(Qe=h.onDismiss)==null||Qe.call(h,h),vn(),we(!0);return}(Ut=rt.current)==null||Ut.style.setProperty("--swipe-amount","0px"),ge(!1)},onPointerMove:Ae=>{var Be;if(!vr.current||!nn)return;let Qe=Ae.clientY-vr.current.y,Ut=Ae.clientX-vr.current.x,rn=(yo==="top"?Math.min:Math.max)(0,Qe),Cr=Ae.pointerType==="touch"?10:2;Math.abs(rn)>Cr?(Be=rt.current)==null||Be.style.setProperty("--swipe-amount",`${Qe}px`):Math.abs(Ut)>Cr&&(vr.current=null)}},di&&!h.jsx?Y.createElement("button",{"aria-label":ae,"data-disabled":yn,"data-close-button":!0,onClick:yn||!nn?()=>{}:()=>{var Ae;vn(),(Ae=h.onDismiss)==null||Ae.call(h,h)},className:ue(G==null?void 0:G.closeButton,(i=h==null?void 0:h.classNames)==null?void 0:i.closeButton)},Y.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},Y.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Y.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,h.jsx||Y.isValidElement(h.title)?h.jsx||h.title:Y.createElement(Y.Fragment,null,ht||h.icon||h.promise?Y.createElement("div",{"data-icon":"",className:ue(G==null?void 0:G.icon,(s=h==null?void 0:h.classNames)==null?void 0:s.icon)},h.promise||h.type==="loading"&&!h.icon?h.icon||oc():null,h.type!=="loading"?h.icon||(Z==null?void 0:Z[ht])||D6(ht):null):null,Y.createElement("div",{"data-content":"",className:ue(G==null?void 0:G.content,(o=h==null?void 0:h.classNames)==null?void 0:o.content)},Y.createElement("div",{"data-title":"",className:ue(G==null?void 0:G.title,(a=h==null?void 0:h.classNames)==null?void 0:a.title)},h.title),h.description?Y.createElement("div",{"data-description":"",className:ue(F,ui,G==null?void 0:G.description,(l=h==null?void 0:h.classNames)==null?void 0:l.description)},h.description):null),Y.isValidElement(h.cancel)?h.cancel:h.cancel&&Mh(h.cancel)?Y.createElement("button",{"data-button":!0,"data-cancel":!0,style:h.cancelButtonStyle||k,onClick:Ae=>{var Be,Qe;Mh(h.cancel)&&nn&&((Qe=(Be=h.cancel).onClick)==null||Qe.call(Be,Ae),vn())},className:ue(G==null?void 0:G.cancelButton,(c=h==null?void 0:h.classNames)==null?void 0:c.cancelButton)},h.cancel.label):null,Y.isValidElement(h.action)?h.action:h.action&&Mh(h.action)?Y.createElement("button",{"data-button":!0,"data-action":!0,style:h.actionButtonStyle||D,onClick:Ae=>{var Be,Qe;Mh(h.action)&&(Ae.defaultPrevented||((Qe=(Be=h.action).onClick)==null||Qe.call(Be,Ae),vn()))},className:ue(G==null?void 0:G.actionButton,(d=h==null?void 0:h.classNames)==null?void 0:d.actionButton)},h.action.label):null))};function YT(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}var nU=t=>{let{invert:e,position:n="bottom-right",hotkey:r=["altKey","KeyT"],expand:i,closeButton:s,className:o,offset:a,theme:l="light",richColors:c,duration:d,style:f,visibleToasts:h=Y6,toastOptions:g,dir:T=YT(),gap:y=J6,loadingIcon:I,icons:C,containerAriaLabel:w="Notifications",pauseWhenPageIsHidden:A,cn:R=eU}=t,[O,B]=Y.useState([]),S=Y.useMemo(()=>Array.from(new Set([n].concat(O.filter(se=>se.position).map(se=>se.position)))),[O,n]),[b,k]=Y.useState([]),[D,V]=Y.useState(!1),[F,M]=Y.useState(!1),[te,re]=Y.useState(l!=="system"?l:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),ee=Y.useRef(null),pe=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),G=Y.useRef(null),Z=Y.useRef(!1),ae=Y.useCallback(se=>{var ue;(ue=O.find(he=>he.id===se.id))!=null&&ue.delete||zn.dismiss(se.id),B(he=>he.filter(({id:ke})=>ke!==se.id))},[O]);return Y.useEffect(()=>zn.subscribe(se=>{if(se.dismiss){B(ue=>ue.map(he=>he.id===se.id?{...he,delete:!0}:he));return}setTimeout(()=>{dI.flushSync(()=>{B(ue=>{let he=ue.findIndex(ke=>ke.id===se.id);return he!==-1?[...ue.slice(0,he),{...ue[he],...se},...ue.slice(he+1)]:[se,...ue]})})})}),[]),Y.useEffect(()=>{if(l!=="system"){re(l);return}l==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?re("dark"):re("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:se})=>{re(se?"dark":"light")})},[l]),Y.useEffect(()=>{O.length<=1&&V(!1)},[O]),Y.useEffect(()=>{let se=ue=>{var he,ke;r.every(Me=>ue[Me]||ue.code===Me)&&(V(!0),(he=ee.current)==null||he.focus()),ue.code==="Escape"&&(document.activeElement===ee.current||(ke=ee.current)!=null&&ke.contains(document.activeElement))&&V(!1)};return document.addEventListener("keydown",se),()=>document.removeEventListener("keydown",se)},[r]),Y.useEffect(()=>{if(ee.current)return()=>{G.current&&(G.current.focus({preventScroll:!0}),G.current=null,Z.current=!1)}},[ee.current]),O.length?Y.createElement("section",{"aria-label":`${w} ${pe}`,tabIndex:-1},S.map((se,ue)=>{var he;let[ke,Me]=se.split("-");return Y.createElement("ol",{key:se,dir:T==="auto"?YT():T,tabIndex:-1,ref:ee,className:o,"data-sonner-toaster":!0,"data-theme":te,"data-y-position":ke,"data-x-position":Me,style:{"--front-toast-height":`${((he=b[0])==null?void 0:he.height)||0}px`,"--offset":typeof a=="number"?`${a}px`:a||Q6,"--width":`${H6}px`,"--gap":`${y}px`,...f},onBlur:Te=>{Z.current&&!Te.currentTarget.contains(Te.relatedTarget)&&(Z.current=!1,G.current&&(G.current.focus({preventScroll:!0}),G.current=null))},onFocus:Te=>{Te.target instanceof HTMLElement&&Te.target.dataset.dismissible==="false"||Z.current||(Z.current=!0,G.current=Te.relatedTarget)},onMouseEnter:()=>V(!0),onMouseMove:()=>V(!0),onMouseLeave:()=>{F||V(!1)},onPointerDown:Te=>{Te.target instanceof HTMLElement&&Te.target.dataset.dismissible==="false"||M(!0)},onPointerUp:()=>M(!1)},O.filter(Te=>!Te.position&&ue===0||Te.position===se).map((Te,ne)=>{var ge,be;return Y.createElement(tU,{key:Te.id,icons:C,index:ne,toast:Te,defaultRichColors:c,duration:(ge=g==null?void 0:g.duration)!=null?ge:d,className:g==null?void 0:g.className,descriptionClassName:g==null?void 0:g.descriptionClassName,invert:e,visibleToasts:h,closeButton:(be=g==null?void 0:g.closeButton)!=null?be:s,interacting:F,position:se,style:g==null?void 0:g.style,unstyled:g==null?void 0:g.unstyled,classNames:g==null?void 0:g.classNames,cancelButtonStyle:g==null?void 0:g.cancelButtonStyle,actionButtonStyle:g==null?void 0:g.actionButtonStyle,removeToast:ae,toasts:O.filter(we=>we.position==Te.position),heights:b.filter(we=>we.position==Te.position),setHeights:k,expandByDefault:i,gap:y,loadingIcon:I,expanded:D,pauseWhenPageIsHidden:A,cn:R})}))})):null};const rU=({...t})=>{const{theme:e="system"}=N6();return p.jsx(nU,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var iU=lx.useId||(()=>{}),sU=0;function qs(t){const[e,n]=v.useState(iU());return mn(()=>{t||n(r=>r??String(sU++))},[t]),t||(e?`radix-${e}`:"")}const oU=["top","right","bottom","left"],eo=Math.min,Yn=Math.max,Ep=Math.round,Oh=Math.floor,to=t=>({x:t,y:t}),aU={left:"right",right:"left",bottom:"top",top:"bottom"},lU={start:"end",end:"start"};function Lv(t,e,n){return Yn(t,eo(e,n))}function qi(t,e){return typeof t=="function"?t(e):t}function Gi(t){return t.split("-")[0]}function tc(t){return t.split("-")[1]}function hE(t){return t==="x"?"y":"x"}function fE(t){return t==="y"?"height":"width"}function no(t){return["top","bottom"].includes(Gi(t))?"y":"x"}function pE(t){return hE(no(t))}function cU(t,e,n){n===void 0&&(n=!1);const r=tc(t),i=pE(t),s=fE(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=Cp(o)),[o,Cp(o)]}function uU(t){const e=Cp(t);return[Vv(t),e,Vv(e)]}function Vv(t){return t.replace(/start|end/g,e=>lU[e])}function dU(t,e,n){const r=["left","right"],i=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:r:e?r:i;case"left":case"right":return e?s:o;default:return[]}}function hU(t,e,n,r){const i=tc(t);let s=dU(Gi(t),n==="start",r);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map(Vv)))),s}function Cp(t){return t.replace(/left|right|bottom|top/g,e=>aU[e])}function fU(t){return{top:0,right:0,bottom:0,left:0,...t}}function DR(t){return typeof t!="number"?fU(t):{top:t,right:t,bottom:t,left:t}}function Tp(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function QT(t,e,n){let{reference:r,floating:i}=t;const s=no(e),o=pE(e),a=fE(o),l=Gi(e),c=s==="y",d=r.x+r.width/2-i.width/2,f=r.y+r.height/2-i.height/2,h=r[a]/2-i[a]/2;let g;switch(l){case"top":g={x:d,y:r.y-i.height};break;case"bottom":g={x:d,y:r.y+r.height};break;case"right":g={x:r.x+r.width,y:f};break;case"left":g={x:r.x-i.width,y:f};break;default:g={x:r.x,y:r.y}}switch(tc(e)){case"start":g[o]-=h*(n&&c?-1:1);break;case"end":g[o]+=h*(n&&c?-1:1);break}return g}const pU=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=n,a=s.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:d,y:f}=QT(c,r,l),h=r,g={},T=0;for(let y=0;y<a.length;y++){const{name:I,fn:C}=a[y],{x:w,y:A,data:R,reset:O}=await C({x:d,y:f,initialPlacement:r,placement:h,strategy:i,middlewareData:g,rects:c,platform:o,elements:{reference:t,floating:e}});d=w??d,f=A??f,g={...g,[I]:{...g[I],...R}},O&&T<=50&&(T++,typeof O=="object"&&(O.placement&&(h=O.placement),O.rects&&(c=O.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):O.rects),{x:d,y:f}=QT(c,h,l)),y=-1)}return{x:d,y:f,placement:h,strategy:i,middlewareData:g}};async function Vu(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:o,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:g=0}=qi(e,t),T=DR(g),I=a[h?f==="floating"?"reference":"floating":f],C=Tp(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(I)))==null||n?I:I.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:c,rootBoundary:d,strategy:l})),w=f==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,A=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),R=await(s.isElement==null?void 0:s.isElement(A))?await(s.getScale==null?void 0:s.getScale(A))||{x:1,y:1}:{x:1,y:1},O=Tp(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:w,offsetParent:A,strategy:l}):w);return{top:(C.top-O.top+T.top)/R.y,bottom:(O.bottom-C.bottom+T.bottom)/R.y,left:(C.left-O.left+T.left)/R.x,right:(O.right-C.right+T.right)/R.x}}const mU=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:s,platform:o,elements:a,middlewareData:l}=e,{element:c,padding:d=0}=qi(t,e)||{};if(c==null)return{};const f=DR(d),h={x:n,y:r},g=pE(i),T=fE(g),y=await o.getDimensions(c),I=g==="y",C=I?"top":"left",w=I?"bottom":"right",A=I?"clientHeight":"clientWidth",R=s.reference[T]+s.reference[g]-h[g]-s.floating[T],O=h[g]-s.reference[g],B=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let S=B?B[A]:0;(!S||!await(o.isElement==null?void 0:o.isElement(B)))&&(S=a.floating[A]||s.floating[T]);const b=R/2-O/2,k=S/2-y[T]/2-1,D=eo(f[C],k),V=eo(f[w],k),F=D,M=S-y[T]-V,te=S/2-y[T]/2+b,re=Lv(F,te,M),ee=!l.arrow&&tc(i)!=null&&te!==re&&s.reference[T]/2-(te<F?D:V)-y[T]/2<0,pe=ee?te<F?te-F:te-M:0;return{[g]:h[g]+pe,data:{[g]:re,centerOffset:te-re-pe,...ee&&{alignmentOffset:pe}},reset:ee}}}),gU=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:T="none",flipAlignment:y=!0,...I}=qi(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const C=Gi(i),w=no(a),A=Gi(a)===a,R=await(l.isRTL==null?void 0:l.isRTL(c.floating)),O=h||(A||!y?[Cp(a)]:uU(a)),B=T!=="none";!h&&B&&O.push(...hU(a,y,T,R));const S=[a,...O],b=await Vu(e,I),k=[];let D=((r=s.flip)==null?void 0:r.overflows)||[];if(d&&k.push(b[C]),f){const te=cU(i,o,R);k.push(b[te[0]],b[te[1]])}if(D=[...D,{placement:i,overflows:k}],!k.every(te=>te<=0)){var V,F;const te=(((V=s.flip)==null?void 0:V.index)||0)+1,re=S[te];if(re)return{data:{index:te,overflows:D},reset:{placement:re}};let ee=(F=D.filter(pe=>pe.overflows[0]<=0).sort((pe,G)=>pe.overflows[1]-G.overflows[1])[0])==null?void 0:F.placement;if(!ee)switch(g){case"bestFit":{var M;const pe=(M=D.filter(G=>{if(B){const Z=no(G.placement);return Z===w||Z==="y"}return!0}).map(G=>[G.placement,G.overflows.filter(Z=>Z>0).reduce((Z,ae)=>Z+ae,0)]).sort((G,Z)=>G[1]-Z[1])[0])==null?void 0:M[0];pe&&(ee=pe);break}case"initialPlacement":ee=a;break}if(i!==ee)return{reset:{placement:ee}}}return{}}}};function KT(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function HT(t){return oU.some(e=>t[e]>=0)}const yU=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=qi(t,e);switch(r){case"referenceHidden":{const s=await Vu(e,{...i,elementContext:"reference"}),o=KT(s,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:HT(o)}}}case"escaped":{const s=await Vu(e,{...i,altBoundary:!0}),o=KT(s,n.floating);return{data:{escapedOffsets:o,escaped:HT(o)}}}default:return{}}}}};async function vU(t,e){const{placement:n,platform:r,elements:i}=t,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=Gi(n),a=tc(n),l=no(n)==="y",c=["left","top"].includes(o)?-1:1,d=s&&l?-1:1,f=qi(e,t);let{mainAxis:h,crossAxis:g,alignmentAxis:T}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return a&&typeof T=="number"&&(g=a==="end"?T*-1:T),l?{x:g*d,y:h*c}:{x:h*c,y:g*d}}const wU=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:s,placement:o,middlewareData:a}=e,l=await vU(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:s+l.y,data:{...l,placement:o}}}}},EU=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:I=>{let{x:C,y:w}=I;return{x:C,y:w}}},...l}=qi(t,e),c={x:n,y:r},d=await Vu(e,l),f=no(Gi(i)),h=hE(f);let g=c[h],T=c[f];if(s){const I=h==="y"?"top":"left",C=h==="y"?"bottom":"right",w=g+d[I],A=g-d[C];g=Lv(w,g,A)}if(o){const I=f==="y"?"top":"left",C=f==="y"?"bottom":"right",w=T+d[I],A=T-d[C];T=Lv(w,T,A)}const y=a.fn({...e,[h]:g,[f]:T});return{...y,data:{x:y.x-n,y:y.y-r,enabled:{[h]:s,[f]:o}}}}}},CU=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:s,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=qi(t,e),d={x:n,y:r},f=no(i),h=hE(f);let g=d[h],T=d[f];const y=qi(a,e),I=typeof y=="number"?{mainAxis:y,crossAxis:0}:{mainAxis:0,crossAxis:0,...y};if(l){const A=h==="y"?"height":"width",R=s.reference[h]-s.floating[A]+I.mainAxis,O=s.reference[h]+s.reference[A]-I.mainAxis;g<R?g=R:g>O&&(g=O)}if(c){var C,w;const A=h==="y"?"width":"height",R=["top","left"].includes(Gi(i)),O=s.reference[f]-s.floating[A]+(R&&((C=o.offset)==null?void 0:C[f])||0)+(R?0:I.crossAxis),B=s.reference[f]+s.reference[A]+(R?0:((w=o.offset)==null?void 0:w[f])||0)-(R?I.crossAxis:0);T<O?T=O:T>B&&(T=B)}return{[h]:g,[f]:T}}}},TU=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:s,platform:o,elements:a}=e,{apply:l=()=>{},...c}=qi(t,e),d=await Vu(e,c),f=Gi(i),h=tc(i),g=no(i)==="y",{width:T,height:y}=s.floating;let I,C;f==="top"||f==="bottom"?(I=f,C=h===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(C=f,I=h==="end"?"top":"bottom");const w=y-d.top-d.bottom,A=T-d.left-d.right,R=eo(y-d[I],w),O=eo(T-d[C],A),B=!e.middlewareData.shift;let S=R,b=O;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(b=A),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(S=w),B&&!h){const D=Yn(d.left,0),V=Yn(d.right,0),F=Yn(d.top,0),M=Yn(d.bottom,0);g?b=T-2*(D!==0||V!==0?D+V:Yn(d.left,d.right)):S=y-2*(F!==0||M!==0?F+M:Yn(d.top,d.bottom))}await l({...e,availableWidth:b,availableHeight:S});const k=await o.getDimensions(a.floating);return T!==k.width||y!==k.height?{reset:{rects:!0}}:{}}}};function Em(){return typeof window<"u"}function nc(t){return MR(t)?(t.nodeName||"").toLowerCase():"#document"}function er(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function li(t){var e;return(e=(MR(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function MR(t){return Em()?t instanceof Node||t instanceof er(t).Node:!1}function Fr(t){return Em()?t instanceof Element||t instanceof er(t).Element:!1}function oi(t){return Em()?t instanceof HTMLElement||t instanceof er(t).HTMLElement:!1}function JT(t){return!Em()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof er(t).ShadowRoot}function gd(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=Br(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function _U(t){return["table","td","th"].includes(nc(t))}function Cm(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function mE(t){const e=gE(),n=Fr(t)?Br(t):t;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function xU(t){let e=ro(t);for(;oi(e)&&!Ol(e);){if(mE(e))return e;if(Cm(e))return null;e=ro(e)}return null}function gE(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Ol(t){return["html","body","#document"].includes(nc(t))}function Br(t){return er(t).getComputedStyle(t)}function Tm(t){return Fr(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function ro(t){if(nc(t)==="html")return t;const e=t.assignedSlot||t.parentNode||JT(t)&&t.host||li(t);return JT(e)?e.host:e}function OR(t){const e=ro(t);return Ol(e)?t.ownerDocument?t.ownerDocument.body:t.body:oi(e)&&gd(e)?e:OR(e)}function Fu(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=OR(t),s=i===((r=t.ownerDocument)==null?void 0:r.body),o=er(i);if(s){const a=Fv(o);return e.concat(o,o.visualViewport||[],gd(i)?i:[],a&&n?Fu(a):[])}return e.concat(i,Fu(i,[],n))}function Fv(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function LR(t){const e=Br(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=oi(t),s=i?t.offsetWidth:n,o=i?t.offsetHeight:r,a=Ep(n)!==s||Ep(r)!==o;return a&&(n=s,r=o),{width:n,height:r,$:a}}function yE(t){return Fr(t)?t:t.contextElement}function cl(t){const e=yE(t);if(!oi(e))return to(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:s}=LR(e);let o=(s?Ep(n.width):n.width)/r,a=(s?Ep(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const AU=to(0);function VR(t){const e=er(t);return!gE()||!e.visualViewport?AU:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function IU(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==er(t)?!1:e}function ea(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),s=yE(t);let o=to(1);e&&(r?Fr(r)&&(o=cl(r)):o=cl(t));const a=IU(s,n,r)?VR(s):to(0);let l=(i.left+a.x)/o.x,c=(i.top+a.y)/o.y,d=i.width/o.x,f=i.height/o.y;if(s){const h=er(s),g=r&&Fr(r)?er(r):r;let T=h,y=Fv(T);for(;y&&r&&g!==T;){const I=cl(y),C=y.getBoundingClientRect(),w=Br(y),A=C.left+(y.clientLeft+parseFloat(w.paddingLeft))*I.x,R=C.top+(y.clientTop+parseFloat(w.paddingTop))*I.y;l*=I.x,c*=I.y,d*=I.x,f*=I.y,l+=A,c+=R,T=er(y),y=Fv(T)}}return Tp({width:d,height:f,x:l,y:c})}function bU(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const s=i==="fixed",o=li(r),a=e?Cm(e.floating):!1;if(r===o||a&&s)return n;let l={scrollLeft:0,scrollTop:0},c=to(1);const d=to(0),f=oi(r);if((f||!f&&!s)&&((nc(r)!=="body"||gd(o))&&(l=Tm(r)),oi(r))){const h=ea(r);c=cl(r),d.x=h.x+r.clientLeft,d.y=h.y+r.clientTop}return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+d.x,y:n.y*c.y-l.scrollTop*c.y+d.y}}function SU(t){return Array.from(t.getClientRects())}function Bv(t,e){const n=Tm(t).scrollLeft;return e?e.left+n:ea(li(t)).left+n}function RU(t){const e=li(t),n=Tm(t),r=t.ownerDocument.body,i=Yn(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=Yn(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+Bv(t);const a=-n.scrollTop;return Br(r).direction==="rtl"&&(o+=Yn(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:a}}function PU(t,e){const n=er(t),r=li(t),i=n.visualViewport;let s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;const c=gE();(!c||c&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a,y:l}}function kU(t,e){const n=ea(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,s=oi(t)?cl(t):to(1),o=t.clientWidth*s.x,a=t.clientHeight*s.y,l=i*s.x,c=r*s.y;return{width:o,height:a,x:l,y:c}}function ZT(t,e,n){let r;if(e==="viewport")r=PU(t,n);else if(e==="document")r=RU(li(t));else if(Fr(e))r=kU(e,n);else{const i=VR(t);r={...e,x:e.x-i.x,y:e.y-i.y}}return Tp(r)}function FR(t,e){const n=ro(t);return n===e||!Fr(n)||Ol(n)?!1:Br(n).position==="fixed"||FR(n,e)}function NU(t,e){const n=e.get(t);if(n)return n;let r=Fu(t,[],!1).filter(a=>Fr(a)&&nc(a)!=="body"),i=null;const s=Br(t).position==="fixed";let o=s?ro(t):t;for(;Fr(o)&&!Ol(o);){const a=Br(o),l=mE(o);!l&&a.position==="fixed"&&(i=null),(s?!l&&!i:!l&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||gd(o)&&!l&&FR(t,o))?r=r.filter(d=>d!==o):i=a,o=ro(o)}return e.set(t,r),r}function DU(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const o=[...n==="clippingAncestors"?Cm(e)?[]:NU(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((c,d)=>{const f=ZT(e,d,i);return c.top=Yn(f.top,c.top),c.right=eo(f.right,c.right),c.bottom=eo(f.bottom,c.bottom),c.left=Yn(f.left,c.left),c},ZT(e,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function MU(t){const{width:e,height:n}=LR(t);return{width:e,height:n}}function OU(t,e,n){const r=oi(e),i=li(e),s=n==="fixed",o=ea(t,!0,s,e);let a={scrollLeft:0,scrollTop:0};const l=to(0);if(r||!r&&!s)if((nc(e)!=="body"||gd(i))&&(a=Tm(e)),r){const g=ea(e,!0,s,e);l.x=g.x+e.clientLeft,l.y=g.y+e.clientTop}else i&&(l.x=Bv(i));let c=0,d=0;if(i&&!r&&!s){const g=i.getBoundingClientRect();d=g.top+a.scrollTop,c=g.left+a.scrollLeft-Bv(i,g)}const f=o.left+a.scrollLeft-l.x-c,h=o.top+a.scrollTop-l.y-d;return{x:f,y:h,width:o.width,height:o.height}}function Gg(t){return Br(t).position==="static"}function XT(t,e){if(!oi(t)||Br(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return li(t)===n&&(n=n.ownerDocument.body),n}function BR(t,e){const n=er(t);if(Cm(t))return n;if(!oi(t)){let i=ro(t);for(;i&&!Ol(i);){if(Fr(i)&&!Gg(i))return i;i=ro(i)}return n}let r=XT(t,e);for(;r&&_U(r)&&Gg(r);)r=XT(r,e);return r&&Ol(r)&&Gg(r)&&!mE(r)?n:r||xU(t)||n}const LU=async function(t){const e=this.getOffsetParent||BR,n=this.getDimensions,r=await n(t.floating);return{reference:OU(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function VU(t){return Br(t).direction==="rtl"}const FU={convertOffsetParentRelativeRectToViewportRelativeRect:bU,getDocumentElement:li,getClippingRect:DU,getOffsetParent:BR,getElementRects:LU,getClientRects:SU,getDimensions:MU,getScale:cl,isElement:Fr,isRTL:VU};function BU(t,e){let n=null,r;const i=li(t);function s(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const{left:c,top:d,width:f,height:h}=t.getBoundingClientRect();if(a||e(),!f||!h)return;const g=Oh(d),T=Oh(i.clientWidth-(c+f)),y=Oh(i.clientHeight-(d+h)),I=Oh(c),w={rootMargin:-g+"px "+-T+"px "+-y+"px "+-I+"px",threshold:Yn(0,eo(1,l))||1};let A=!0;function R(O){const B=O[0].intersectionRatio;if(B!==l){if(!A)return o();B?o(!1,B):r=setTimeout(()=>{o(!1,1e-7)},1e3)}A=!1}try{n=new IntersectionObserver(R,{...w,root:i.ownerDocument})}catch{n=new IntersectionObserver(R,w)}n.observe(t)}return o(!0),s}function jU(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=yE(t),d=i||s?[...c?Fu(c):[],...Fu(e)]:[];d.forEach(C=>{i&&C.addEventListener("scroll",n,{passive:!0}),s&&C.addEventListener("resize",n)});const f=c&&a?BU(c,n):null;let h=-1,g=null;o&&(g=new ResizeObserver(C=>{let[w]=C;w&&w.target===c&&g&&(g.unobserve(e),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var A;(A=g)==null||A.observe(e)})),n()}),c&&!l&&g.observe(c),g.observe(e));let T,y=l?ea(t):null;l&&I();function I(){const C=ea(t);y&&(C.x!==y.x||C.y!==y.y||C.width!==y.width||C.height!==y.height)&&n(),y=C,T=requestAnimationFrame(I)}return n(),()=>{var C;d.forEach(w=>{i&&w.removeEventListener("scroll",n),s&&w.removeEventListener("resize",n)}),f==null||f(),(C=g)==null||C.disconnect(),g=null,l&&cancelAnimationFrame(T)}}const UU=wU,qU=EU,GU=gU,$U=TU,zU=yU,e_=mU,WU=CU,YU=(t,e,n)=>{const r=new Map,i={platform:FU,...n},s={...i.platform,_c:r};return pU(t,e,{...i,platform:s})};var mf=typeof document<"u"?v.useLayoutEffect:v.useEffect;function _p(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!_p(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&t.$$typeof)&&!_p(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function jR(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function t_(t,e){const n=jR(t);return Math.round(e*n)/n}function $g(t){const e=v.useRef(t);return mf(()=>{e.current=t}),e}function QU(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=t,[d,f]=v.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[h,g]=v.useState(r);_p(h,r)||g(r);const[T,y]=v.useState(null),[I,C]=v.useState(null),w=v.useCallback(G=>{G!==B.current&&(B.current=G,y(G))},[]),A=v.useCallback(G=>{G!==S.current&&(S.current=G,C(G))},[]),R=s||T,O=o||I,B=v.useRef(null),S=v.useRef(null),b=v.useRef(d),k=l!=null,D=$g(l),V=$g(i),F=$g(c),M=v.useCallback(()=>{if(!B.current||!S.current)return;const G={placement:e,strategy:n,middleware:h};V.current&&(G.platform=V.current),YU(B.current,S.current,G).then(Z=>{const ae={...Z,isPositioned:F.current!==!1};te.current&&!_p(b.current,ae)&&(b.current=ae,sa.flushSync(()=>{f(ae)}))})},[h,e,n,V,F]);mf(()=>{c===!1&&b.current.isPositioned&&(b.current.isPositioned=!1,f(G=>({...G,isPositioned:!1})))},[c]);const te=v.useRef(!1);mf(()=>(te.current=!0,()=>{te.current=!1}),[]),mf(()=>{if(R&&(B.current=R),O&&(S.current=O),R&&O){if(D.current)return D.current(R,O,M);M()}},[R,O,M,D,k]);const re=v.useMemo(()=>({reference:B,floating:S,setReference:w,setFloating:A}),[w,A]),ee=v.useMemo(()=>({reference:R,floating:O}),[R,O]),pe=v.useMemo(()=>{const G={position:n,left:0,top:0};if(!ee.floating)return G;const Z=t_(ee.floating,d.x),ae=t_(ee.floating,d.y);return a?{...G,transform:"translate("+Z+"px, "+ae+"px)",...jR(ee.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:Z,top:ae}},[n,a,ee.floating,d.x,d.y]);return v.useMemo(()=>({...d,update:M,refs:re,elements:ee,floatingStyles:pe}),[d,M,re,ee,pe])}const KU=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?e_({element:r.current,padding:i}).fn(n):{}:r?e_({element:r,padding:i}).fn(n):{}}}},HU=(t,e)=>({...UU(t),options:[t,e]}),JU=(t,e)=>({...qU(t),options:[t,e]}),ZU=(t,e)=>({...WU(t),options:[t,e]}),XU=(t,e)=>({...GU(t),options:[t,e]}),e8=(t,e)=>({...$U(t),options:[t,e]}),t8=(t,e)=>({...zU(t),options:[t,e]}),n8=(t,e)=>({...KU(t),options:[t,e]});var r8="Arrow",UR=v.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...s}=t;return p.jsx(Le.svg,{...s,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:p.jsx("polygon",{points:"0,0 30,0 15,10"})})});UR.displayName=r8;var i8=UR;function s8(t,e=[]){let n=[];function r(s,o){const a=v.createContext(o),l=n.length;n=[...n,o];function c(f){const{scope:h,children:g,...T}=f,y=(h==null?void 0:h[t][l])||a,I=v.useMemo(()=>T,Object.values(T));return p.jsx(y.Provider,{value:I,children:g})}function d(f,h){const g=(h==null?void 0:h[t][l])||a,T=v.useContext(g);if(T)return T;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${s}\``)}return c.displayName=s+"Provider",[c,d]}const i=()=>{const s=n.map(o=>v.createContext(o));return function(a){const l=(a==null?void 0:a[t])||s;return v.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return i.scopeName=t,[r,o8(i,...e)]}function o8(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const f=l(s)[`__scope${c}`];return{...a,...f}},{});return v.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function a8(t){const[e,n]=v.useState(void 0);return mn(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let o,a;if("borderBoxSize"in s){const l=s.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,a=c.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var vE="Popper",[qR,_m]=s8(vE),[l8,GR]=qR(vE),$R=t=>{const{__scopePopper:e,children:n}=t,[r,i]=v.useState(null);return p.jsx(l8,{scope:e,anchor:r,onAnchorChange:i,children:n})};$R.displayName=vE;var zR="PopperAnchor",WR=v.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,s=GR(zR,n),o=v.useRef(null),a=ot(e,o);return v.useEffect(()=>{s.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:p.jsx(Le.div,{...i,ref:a})});WR.displayName=zR;var wE="PopperContent",[c8,u8]=qR(wE),YR=v.forwardRef((t,e)=>{var ne,ge,be,we,xe,Ee;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:s="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:g="optimized",onPlaced:T,...y}=t,I=GR(wE,n),[C,w]=v.useState(null),A=ot(e,de=>w(de)),[R,O]=v.useState(null),B=a8(R),S=(B==null?void 0:B.width)??0,b=(B==null?void 0:B.height)??0,k=r+(s!=="center"?"-"+s:""),D=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},V=Array.isArray(c)?c:[c],F=V.length>0,M={padding:D,boundary:V.filter(h8),altBoundary:F},{refs:te,floatingStyles:re,placement:ee,isPositioned:pe,middlewareData:G}=QU({strategy:"fixed",placement:k,whileElementsMounted:(...de)=>jU(...de,{animationFrame:g==="always"}),elements:{reference:I.anchor},middleware:[HU({mainAxis:i+b,alignmentAxis:o}),l&&JU({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?ZU():void 0,...M}),l&&XU({...M}),e8({...M,apply:({elements:de,rects:ye,availableWidth:dt,availableHeight:rt})=>{const{width:Rt,height:He}=ye.reference,ht=de.floating.style;ht.setProperty("--radix-popper-available-width",`${dt}px`),ht.setProperty("--radix-popper-available-height",`${rt}px`),ht.setProperty("--radix-popper-anchor-width",`${Rt}px`),ht.setProperty("--radix-popper-anchor-height",`${He}px`)}}),R&&n8({element:R,padding:a}),f8({arrowWidth:S,arrowHeight:b}),h&&t8({strategy:"referenceHidden",...M})]}),[Z,ae]=HR(ee),se=Fn(T);mn(()=>{pe&&(se==null||se())},[pe,se]);const ue=(ne=G.arrow)==null?void 0:ne.x,he=(ge=G.arrow)==null?void 0:ge.y,ke=((be=G.arrow)==null?void 0:be.centerOffset)!==0,[Me,Te]=v.useState();return mn(()=>{C&&Te(window.getComputedStyle(C).zIndex)},[C]),p.jsx("div",{ref:te.setFloating,"data-radix-popper-content-wrapper":"",style:{...re,transform:pe?re.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Me,"--radix-popper-transform-origin":[(we=G.transformOrigin)==null?void 0:we.x,(xe=G.transformOrigin)==null?void 0:xe.y].join(" "),...((Ee=G.hide)==null?void 0:Ee.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:p.jsx(c8,{scope:n,placedSide:Z,onArrowChange:O,arrowX:ue,arrowY:he,shouldHideArrow:ke,children:p.jsx(Le.div,{"data-side":Z,"data-align":ae,...y,ref:A,style:{...y.style,animation:pe?void 0:"none"}})})})});YR.displayName=wE;var QR="PopperArrow",d8={top:"bottom",right:"left",bottom:"top",left:"right"},KR=v.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,s=u8(QR,r),o=d8[s.placedSide];return p.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:p.jsx(i8,{...i,ref:n,style:{...i.style,display:"block"}})})});KR.displayName=QR;function h8(t){return t!==null}var f8=t=>({name:"transformOrigin",options:t,fn(e){var I,C,w;const{placement:n,rects:r,middlewareData:i}=e,o=((I=i.arrow)==null?void 0:I.centerOffset)!==0,a=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[c,d]=HR(n),f={start:"0%",center:"50%",end:"100%"}[d],h=(((C=i.arrow)==null?void 0:C.x)??0)+a/2,g=(((w=i.arrow)==null?void 0:w.y)??0)+l/2;let T="",y="";return c==="bottom"?(T=o?f:`${h}px`,y=`${-l}px`):c==="top"?(T=o?f:`${h}px`,y=`${r.floating.height+l}px`):c==="right"?(T=`${-l}px`,y=o?f:`${g}px`):c==="left"&&(T=`${r.floating.width+l}px`,y=o?f:`${g}px`),{data:{x:T,y}}}});function HR(t){const[e,n="center"]=t.split("-");return[e,n]}var p8=$R,JR=WR,ZR=YR,XR=KR,[xm,Nz]=Ju("Tooltip",[_m]),EE=_m(),eP="TooltipProvider",m8=700,n_="tooltip.open",[g8,tP]=xm(eP),nP=t=>{const{__scopeTooltip:e,delayDuration:n=m8,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:s}=t,[o,a]=v.useState(!0),l=v.useRef(!1),c=v.useRef(0);return v.useEffect(()=>{const d=c.current;return()=>window.clearTimeout(d)},[]),p.jsx(g8,{scope:e,isOpenDelayed:o,delayDuration:n,onOpen:v.useCallback(()=>{window.clearTimeout(c.current),a(!1)},[]),onClose:v.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>a(!0),r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:v.useCallback(d=>{l.current=d},[]),disableHoverableContent:i,children:s})};nP.displayName=eP;var rP="Tooltip",[Dz,Am]=xm(rP),jv="TooltipTrigger",y8=v.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=Am(jv,n),s=tP(jv,n),o=EE(n),a=v.useRef(null),l=ot(e,a,i.onTriggerChange),c=v.useRef(!1),d=v.useRef(!1),f=v.useCallback(()=>c.current=!1,[]);return v.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),p.jsx(JR,{asChild:!0,...o,children:p.jsx(Le.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:l,onPointerMove:Ie(t.onPointerMove,h=>{h.pointerType!=="touch"&&!d.current&&!s.isPointerInTransitRef.current&&(i.onTriggerEnter(),d.current=!0)}),onPointerLeave:Ie(t.onPointerLeave,()=>{i.onTriggerLeave(),d.current=!1}),onPointerDown:Ie(t.onPointerDown,()=>{c.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:Ie(t.onFocus,()=>{c.current||i.onOpen()}),onBlur:Ie(t.onBlur,i.onClose),onClick:Ie(t.onClick,i.onClose)})})});y8.displayName=jv;var v8="TooltipPortal",[Mz,w8]=xm(v8,{forceMount:void 0}),Ll="TooltipContent",iP=v.forwardRef((t,e)=>{const n=w8(Ll,t.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...s}=t,o=Am(Ll,t.__scopeTooltip);return p.jsx(oa,{present:r||o.open,children:o.disableHoverableContent?p.jsx(sP,{side:i,...s,ref:e}):p.jsx(E8,{side:i,...s,ref:e})})}),E8=v.forwardRef((t,e)=>{const n=Am(Ll,t.__scopeTooltip),r=tP(Ll,t.__scopeTooltip),i=v.useRef(null),s=ot(e,i),[o,a]=v.useState(null),{trigger:l,onClose:c}=n,d=i.current,{onPointerInTransitChange:f}=r,h=v.useCallback(()=>{a(null),f(!1)},[f]),g=v.useCallback((T,y)=>{const I=T.currentTarget,C={x:T.clientX,y:T.clientY},w=x8(C,I.getBoundingClientRect()),A=A8(C,w),R=I8(y.getBoundingClientRect()),O=S8([...A,...R]);a(O),f(!0)},[f]);return v.useEffect(()=>()=>h(),[h]),v.useEffect(()=>{if(l&&d){const T=I=>g(I,d),y=I=>g(I,l);return l.addEventListener("pointerleave",T),d.addEventListener("pointerleave",y),()=>{l.removeEventListener("pointerleave",T),d.removeEventListener("pointerleave",y)}}},[l,d,g,h]),v.useEffect(()=>{if(o){const T=y=>{const I=y.target,C={x:y.clientX,y:y.clientY},w=(l==null?void 0:l.contains(I))||(d==null?void 0:d.contains(I)),A=!b8(C,o);w?h():A&&(h(),c())};return document.addEventListener("pointermove",T),()=>document.removeEventListener("pointermove",T)}},[l,d,o,c,h]),p.jsx(sP,{...t,ref:s})}),[C8,T8]=xm(rP,{isInside:!1}),sP=v.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:s,onPointerDownOutside:o,...a}=t,l=Am(Ll,n),c=EE(n),{onClose:d}=l;return v.useEffect(()=>(document.addEventListener(n_,d),()=>document.removeEventListener(n_,d)),[d]),v.useEffect(()=>{if(l.trigger){const f=h=>{const g=h.target;g!=null&&g.contains(l.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[l.trigger,d]),p.jsx(Zu,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:p.jsxs(ZR,{"data-state":l.stateAttribute,...c,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[p.jsx(pI,{children:r}),p.jsx(C8,{scope:n,isInside:!0,children:p.jsx(aO,{id:l.contentId,role:"tooltip",children:i||r})})]})})});iP.displayName=Ll;var oP="TooltipArrow",_8=v.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=EE(n);return T8(oP,n).isInside?null:p.jsx(XR,{...i,...r,ref:e})});_8.displayName=oP;function x8(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),s=Math.abs(e.left-t.x);switch(Math.min(n,r,i,s)){case s:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function A8(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function I8(t){const{top:e,right:n,bottom:r,left:i}=t;return[{x:i,y:e},{x:n,y:e},{x:n,y:r},{x:i,y:r}]}function b8(t,e){const{x:n,y:r}=t;let i=!1;for(let s=0,o=e.length-1;s<e.length;o=s++){const a=e[s].x,l=e[s].y,c=e[o].x,d=e[o].y;l>r!=d>r&&n<(c-a)*(r-l)/(d-l)+a&&(i=!i)}return i}function S8(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),R8(e)}function R8(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const i=t[r];for(;e.length>=2;){const s=e[e.length-1],o=e[e.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))e.pop();else break}e.push(i)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const i=t[r];for(;n.length>=2;){const s=n[n.length-1],o=n[n.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))n.pop();else break}n.push(i)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var P8=nP,aP=iP;const k8=P8,N8=v.forwardRef(({className:t,sideOffset:e=4,...n},r)=>p.jsx(aP,{ref:r,sideOffset:e,className:it("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));N8.displayName=aP.displayName;var Im=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},bm=typeof window>"u"||"Deno"in globalThis;function Sr(){}function D8(t,e){return typeof t=="function"?t(e):t}function M8(t){return typeof t=="number"&&t>=0&&t!==1/0}function O8(t,e){return Math.max(t+(e||0)-Date.now(),0)}function r_(t,e){return typeof t=="function"?t(e):t}function L8(t,e){return typeof t=="function"?t(e):t}function i_(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:s,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==CE(o,e.options))return!1}else if(!ju(e.queryKey,o))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||i&&i!==e.state.fetchStatus||s&&!s(e))}function s_(t,e){const{exact:n,status:r,predicate:i,mutationKey:s}=t;if(s){if(!e.options.mutationKey)return!1;if(n){if(Bu(e.options.mutationKey)!==Bu(s))return!1}else if(!ju(e.options.mutationKey,s))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function CE(t,e){return((e==null?void 0:e.queryKeyHashFn)||Bu)(t)}function Bu(t){return JSON.stringify(t,(e,n)=>Uv(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function ju(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!ju(t[n],e[n])):!1}function lP(t,e){if(t===e)return t;const n=o_(t)&&o_(e);if(n||Uv(t)&&Uv(e)){const r=n?t:Object.keys(t),i=r.length,s=n?e:Object.keys(e),o=s.length,a=n?[]:{};let l=0;for(let c=0;c<o;c++){const d=n?c:s[c];(!n&&r.includes(d)||n)&&t[d]===void 0&&e[d]===void 0?(a[d]=void 0,l++):(a[d]=lP(t[d],e[d]),a[d]===t[d]&&t[d]!==void 0&&l++)}return i===o&&l===i?t:a}return e}function o_(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Uv(t){if(!a_(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!a_(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function a_(t){return Object.prototype.toString.call(t)==="[object Object]"}function V8(t){return new Promise(e=>{setTimeout(e,t)})}function F8(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?lP(t,e):e}function B8(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function j8(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var TE=Symbol();function cP(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===TE?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var Mo,vs,hl,G_,U8=(G_=class extends Im{constructor(){super();Je(this,Mo);Je(this,vs);Je(this,hl);De(this,hl,e=>{if(!bm&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){J(this,vs)||this.setEventListener(J(this,hl))}onUnsubscribe(){var e;this.hasListeners()||((e=J(this,vs))==null||e.call(this),De(this,vs,void 0))}setEventListener(e){var n;De(this,hl,e),(n=J(this,vs))==null||n.call(this),De(this,vs,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){J(this,Mo)!==e&&(De(this,Mo,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof J(this,Mo)=="boolean"?J(this,Mo):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Mo=new WeakMap,vs=new WeakMap,hl=new WeakMap,G_),uP=new U8,fl,ws,pl,$_,q8=($_=class extends Im{constructor(){super();Je(this,fl,!0);Je(this,ws);Je(this,pl);De(this,pl,e=>{if(!bm&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){J(this,ws)||this.setEventListener(J(this,pl))}onUnsubscribe(){var e;this.hasListeners()||((e=J(this,ws))==null||e.call(this),De(this,ws,void 0))}setEventListener(e){var n;De(this,pl,e),(n=J(this,ws))==null||n.call(this),De(this,ws,e(this.setOnline.bind(this)))}setOnline(e){J(this,fl)!==e&&(De(this,fl,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return J(this,fl)}},fl=new WeakMap,ws=new WeakMap,pl=new WeakMap,$_),xp=new q8;function G8(){let t,e;const n=new Promise((i,s)=>{t=i,e=s});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),t(i)},n.reject=i=>{r({status:"rejected",reason:i}),e(i)},n}function $8(t){return Math.min(1e3*2**t,3e4)}function dP(t){return(t??"online")==="online"?xp.isOnline():!0}var hP=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function zg(t){return t instanceof hP}function fP(t){let e=!1,n=0,r=!1,i;const s=G8(),o=y=>{var I;r||(h(new hP(y)),(I=t.abort)==null||I.call(t))},a=()=>{e=!0},l=()=>{e=!1},c=()=>uP.isFocused()&&(t.networkMode==="always"||xp.isOnline())&&t.canRun(),d=()=>dP(t.networkMode)&&t.canRun(),f=y=>{var I;r||(r=!0,(I=t.onSuccess)==null||I.call(t,y),i==null||i(),s.resolve(y))},h=y=>{var I;r||(r=!0,(I=t.onError)==null||I.call(t,y),i==null||i(),s.reject(y))},g=()=>new Promise(y=>{var I;i=C=>{(r||c())&&y(C)},(I=t.onPause)==null||I.call(t)}).then(()=>{var y;i=void 0,r||(y=t.onContinue)==null||y.call(t)}),T=()=>{if(r)return;let y;const I=n===0?t.initialPromise:void 0;try{y=I??t.fn()}catch(C){y=Promise.reject(C)}Promise.resolve(y).then(f).catch(C=>{var B;if(r)return;const w=t.retry??(bm?0:3),A=t.retryDelay??$8,R=typeof A=="function"?A(n,C):A,O=w===!0||typeof w=="number"&&n<w||typeof w=="function"&&w(n,C);if(e||!O){h(C);return}n++,(B=t.onFail)==null||B.call(t,n,C),V8(R).then(()=>c()?void 0:g()).then(()=>{e?h(C):T()})})};return{promise:s,cancel:o,continue:()=>(i==null||i(),s),cancelRetry:a,continueRetry:l,canStart:d,start:()=>(d()?T():g().then(T),s)}}function z8(){let t=[],e=0,n=a=>{a()},r=a=>{a()},i=a=>setTimeout(a,0);const s=a=>{e?t.push(a):i(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&i(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||o()}return l},batchCalls:a=>(...l)=>{s(()=>{a(...l)})},schedule:s,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{i=a}}}var xn=z8(),Oo,z_,pP=(z_=class{constructor(){Je(this,Oo)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),M8(this.gcTime)&&De(this,Oo,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(bm?1/0:5*60*1e3))}clearGcTimeout(){J(this,Oo)&&(clearTimeout(J(this,Oo)),De(this,Oo,void 0))}},Oo=new WeakMap,z_),ml,gl,cr,un,$u,Lo,Rr,xi,W_,W8=(W_=class extends pP{constructor(e){super();Je(this,Rr);Je(this,ml);Je(this,gl);Je(this,cr);Je(this,un);Je(this,$u);Je(this,Lo);De(this,Lo,!1),De(this,$u,e.defaultOptions),this.setOptions(e.options),this.observers=[],De(this,cr,e.cache),this.queryKey=e.queryKey,this.queryHash=e.queryHash,De(this,ml,Q8(this.options)),this.state=e.state??J(this,ml),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=J(this,un))==null?void 0:e.promise}setOptions(e){this.options={...J(this,$u),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&J(this,cr).remove(this)}setData(e,n){const r=F8(this.state.data,e,this.options);return on(this,Rr,xi).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(e,n){on(this,Rr,xi).call(this,{type:"setState",state:e,setStateOptions:n})}cancel(e){var r,i;const n=(r=J(this,un))==null?void 0:r.promise;return(i=J(this,un))==null||i.cancel(e),n?n.then(Sr).catch(Sr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(J(this,ml))}isActive(){return this.observers.some(e=>L8(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===TE||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!O8(this.state.dataUpdatedAt,e)}onFocus(){var n;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(n=J(this,un))==null||n.continue()}onOnline(){var n;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(n=J(this,un))==null||n.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),J(this,cr).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(J(this,un)&&(J(this,Lo)?J(this,un).cancel({revert:!0}):J(this,un).cancelRetry()),this.scheduleGc()),J(this,cr).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||on(this,Rr,xi).call(this,{type:"invalidate"})}fetch(e,n){var l,c,d;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(J(this,un))return J(this,un).continueRetry(),J(this,un).promise}if(e&&this.setOptions(e),!this.options.queryFn){const f=this.observers.find(h=>h.options.queryFn);f&&this.setOptions(f.options)}const r=new AbortController,i=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(De(this,Lo,!0),r.signal)})},s=()=>{const f=cP(this.options,n),h={queryKey:this.queryKey,meta:this.meta};return i(h),De(this,Lo,!1),this.options.persister?this.options.persister(f,h,this):f(h)},o={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:s};i(o),(l=this.options.behavior)==null||l.onFetch(o,this),De(this,gl,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((c=o.fetchOptions)==null?void 0:c.meta))&&on(this,Rr,xi).call(this,{type:"fetch",meta:(d=o.fetchOptions)==null?void 0:d.meta});const a=f=>{var h,g,T,y;zg(f)&&f.silent||on(this,Rr,xi).call(this,{type:"error",error:f}),zg(f)||((g=(h=J(this,cr).config).onError)==null||g.call(h,f,this),(y=(T=J(this,cr).config).onSettled)==null||y.call(T,this.state.data,f,this)),this.scheduleGc()};return De(this,un,fP({initialPromise:n==null?void 0:n.initialPromise,fn:o.fetchFn,abort:r.abort.bind(r),onSuccess:f=>{var h,g,T,y;if(f===void 0){a(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(I){a(I);return}(g=(h=J(this,cr).config).onSuccess)==null||g.call(h,f,this),(y=(T=J(this,cr).config).onSettled)==null||y.call(T,f,this.state.error,this),this.scheduleGc()},onError:a,onFail:(f,h)=>{on(this,Rr,xi).call(this,{type:"failed",failureCount:f,error:h})},onPause:()=>{on(this,Rr,xi).call(this,{type:"pause"})},onContinue:()=>{on(this,Rr,xi).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),J(this,un).start()}},ml=new WeakMap,gl=new WeakMap,cr=new WeakMap,un=new WeakMap,$u=new WeakMap,Lo=new WeakMap,Rr=new WeakSet,xi=function(e){const n=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...Y8(r.data,this.options),fetchMeta:e.meta??null};case"success":return{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=e.error;return zg(i)&&i.revert&&J(this,gl)?{...J(this,gl),fetchStatus:"idle"}:{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),xn.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),J(this,cr).notify({query:this,type:"updated",action:e})})},W_);function Y8(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:dP(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function Q8(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Wr,Y_,K8=(Y_=class extends Im{constructor(e={}){super();Je(this,Wr);this.config=e,De(this,Wr,new Map)}build(e,n,r){const i=n.queryKey,s=n.queryHash??CE(i,n);let o=this.get(s);return o||(o=new W8({cache:this,queryKey:i,queryHash:s,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(i)}),this.add(o)),o}add(e){J(this,Wr).has(e.queryHash)||(J(this,Wr).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=J(this,Wr).get(e.queryHash);n&&(e.destroy(),n===e&&J(this,Wr).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){xn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return J(this,Wr).get(e)}getAll(){return[...J(this,Wr).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>i_(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>i_(e,r)):n}notify(e){xn.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){xn.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){xn.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Wr=new WeakMap,Y_),Yr,Tn,Vo,Qr,as,Q_,H8=(Q_=class extends pP{constructor(e){super();Je(this,Qr);Je(this,Yr);Je(this,Tn);Je(this,Vo);this.mutationId=e.mutationId,De(this,Tn,e.mutationCache),De(this,Yr,[]),this.state=e.state||J8(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){J(this,Yr).includes(e)||(J(this,Yr).push(e),this.clearGcTimeout(),J(this,Tn).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){De(this,Yr,J(this,Yr).filter(n=>n!==e)),this.scheduleGc(),J(this,Tn).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){J(this,Yr).length||(this.state.status==="pending"?this.scheduleGc():J(this,Tn).remove(this))}continue(){var e;return((e=J(this,Vo))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var i,s,o,a,l,c,d,f,h,g,T,y,I,C,w,A,R,O,B,S;De(this,Vo,fP({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(b,k)=>{on(this,Qr,as).call(this,{type:"failed",failureCount:b,error:k})},onPause:()=>{on(this,Qr,as).call(this,{type:"pause"})},onContinue:()=>{on(this,Qr,as).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>J(this,Tn).canRun(this)}));const n=this.state.status==="pending",r=!J(this,Vo).canStart();try{if(!n){on(this,Qr,as).call(this,{type:"pending",variables:e,isPaused:r}),await((s=(i=J(this,Tn).config).onMutate)==null?void 0:s.call(i,e,this));const k=await((a=(o=this.options).onMutate)==null?void 0:a.call(o,e));k!==this.state.context&&on(this,Qr,as).call(this,{type:"pending",context:k,variables:e,isPaused:r})}const b=await J(this,Vo).start();return await((c=(l=J(this,Tn).config).onSuccess)==null?void 0:c.call(l,b,e,this.state.context,this)),await((f=(d=this.options).onSuccess)==null?void 0:f.call(d,b,e,this.state.context)),await((g=(h=J(this,Tn).config).onSettled)==null?void 0:g.call(h,b,null,this.state.variables,this.state.context,this)),await((y=(T=this.options).onSettled)==null?void 0:y.call(T,b,null,e,this.state.context)),on(this,Qr,as).call(this,{type:"success",data:b}),b}catch(b){try{throw await((C=(I=J(this,Tn).config).onError)==null?void 0:C.call(I,b,e,this.state.context,this)),await((A=(w=this.options).onError)==null?void 0:A.call(w,b,e,this.state.context)),await((O=(R=J(this,Tn).config).onSettled)==null?void 0:O.call(R,void 0,b,this.state.variables,this.state.context,this)),await((S=(B=this.options).onSettled)==null?void 0:S.call(B,void 0,b,e,this.state.context)),b}finally{on(this,Qr,as).call(this,{type:"error",error:b})}}finally{J(this,Tn).runNext(this)}}},Yr=new WeakMap,Tn=new WeakMap,Vo=new WeakMap,Qr=new WeakSet,as=function(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),xn.batch(()=>{J(this,Yr).forEach(r=>{r.onMutationUpdate(e)}),J(this,Tn).notify({mutation:this,type:"updated",action:e})})},Q_);function J8(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var $n,zu,K_,Z8=(K_=class extends Im{constructor(e={}){super();Je(this,$n);Je(this,zu);this.config=e,De(this,$n,new Map),De(this,zu,Date.now())}build(e,n,r){const i=new H8({mutationCache:this,mutationId:++oh(this,zu)._,options:e.defaultMutationOptions(n),state:r});return this.add(i),i}add(e){const n=Lh(e),r=J(this,$n).get(n)??[];r.push(e),J(this,$n).set(n,r),this.notify({type:"added",mutation:e})}remove(e){var r;const n=Lh(e);if(J(this,$n).has(n)){const i=(r=J(this,$n).get(n))==null?void 0:r.filter(s=>s!==e);i&&(i.length===0?J(this,$n).delete(n):J(this,$n).set(n,i))}this.notify({type:"removed",mutation:e})}canRun(e){var r;const n=(r=J(this,$n).get(Lh(e)))==null?void 0:r.find(i=>i.state.status==="pending");return!n||n===e}runNext(e){var r;const n=(r=J(this,$n).get(Lh(e)))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){xn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...J(this,$n).values()].flat()}find(e){const n={exact:!0,...e};return this.getAll().find(r=>s_(n,r))}findAll(e={}){return this.getAll().filter(n=>s_(e,n))}notify(e){xn.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return xn.batch(()=>Promise.all(e.map(n=>n.continue().catch(Sr))))}},$n=new WeakMap,zu=new WeakMap,K_);function Lh(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function l_(t){return{onFetch:(e,n)=>{var d,f,h,g,T;const r=e.options,i=(h=(f=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,s=((g=e.state.data)==null?void 0:g.pages)||[],o=((T=e.state.data)==null?void 0:T.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const c=async()=>{let y=!1;const I=A=>{Object.defineProperty(A,"signal",{enumerable:!0,get:()=>(e.signal.aborted?y=!0:e.signal.addEventListener("abort",()=>{y=!0}),e.signal)})},C=cP(e.options,e.fetchOptions),w=async(A,R,O)=>{if(y)return Promise.reject();if(R==null&&A.pages.length)return Promise.resolve(A);const B={queryKey:e.queryKey,pageParam:R,direction:O?"backward":"forward",meta:e.options.meta};I(B);const S=await C(B),{maxPages:b}=e.options,k=O?j8:B8;return{pages:k(A.pages,S,b),pageParams:k(A.pageParams,R,b)}};if(i&&s.length){const A=i==="backward",R=A?X8:c_,O={pages:s,pageParams:o},B=R(r,O);a=await w(O,B,A)}else{const A=t??s.length;do{const R=l===0?o[0]??r.initialPageParam:c_(r,a);if(l>0&&R==null)break;a=await w(a,R),l++}while(l<A)}return a};e.options.persister?e.fetchFn=()=>{var y,I;return(I=(y=e.options).persister)==null?void 0:I.call(y,c,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=c}}}function c_(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function X8(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var _t,Es,Cs,yl,vl,Ts,wl,El,H_,e9=(H_=class{constructor(t={}){Je(this,_t);Je(this,Es);Je(this,Cs);Je(this,yl);Je(this,vl);Je(this,Ts);Je(this,wl);Je(this,El);De(this,_t,t.queryCache||new K8),De(this,Es,t.mutationCache||new Z8),De(this,Cs,t.defaultOptions||{}),De(this,yl,new Map),De(this,vl,new Map),De(this,Ts,0)}mount(){oh(this,Ts)._++,J(this,Ts)===1&&(De(this,wl,uP.subscribe(async t=>{t&&(await this.resumePausedMutations(),J(this,_t).onFocus())})),De(this,El,xp.subscribe(async t=>{t&&(await this.resumePausedMutations(),J(this,_t).onOnline())})))}unmount(){var t,e;oh(this,Ts)._--,J(this,Ts)===0&&((t=J(this,wl))==null||t.call(this),De(this,wl,void 0),(e=J(this,El))==null||e.call(this),De(this,El,void 0))}isFetching(t){return J(this,_t).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return J(this,Es).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=J(this,_t).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const n=this.defaultQueryOptions(t),r=J(this,_t).build(this,n);return t.revalidateIfStale&&r.isStaleByTime(r_(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(e)}}getQueriesData(t){return J(this,_t).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),i=J(this,_t).get(r.queryHash),s=i==null?void 0:i.state.data,o=D8(e,s);if(o!==void 0)return J(this,_t).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return xn.batch(()=>J(this,_t).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=J(this,_t).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=J(this,_t);xn.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=J(this,_t),r={type:"active",...t};return xn.batch(()=>(n.findAll(t).forEach(i=>{i.reset()}),this.refetchQueries(r,e)))}cancelQueries(t={},e={}){const n={revert:!0,...e},r=xn.batch(()=>J(this,_t).findAll(t).map(i=>i.cancel(n)));return Promise.all(r).then(Sr).catch(Sr)}invalidateQueries(t={},e={}){return xn.batch(()=>{if(J(this,_t).findAll(t).forEach(r=>{r.invalidate()}),t.refetchType==="none")return Promise.resolve();const n={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(n,e)})}refetchQueries(t={},e){const n={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},r=xn.batch(()=>J(this,_t).findAll(t).filter(i=>!i.isDisabled()).map(i=>{let s=i.fetch(void 0,n);return n.throwOnError||(s=s.catch(Sr)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(r).then(Sr)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=J(this,_t).build(this,e);return n.isStaleByTime(r_(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Sr).catch(Sr)}fetchInfiniteQuery(t){return t.behavior=l_(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Sr).catch(Sr)}ensureInfiniteQueryData(t){return t.behavior=l_(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return xp.isOnline()?J(this,Es).resumePausedMutations():Promise.resolve()}getQueryCache(){return J(this,_t)}getMutationCache(){return J(this,Es)}getDefaultOptions(){return J(this,Cs)}setDefaultOptions(t){De(this,Cs,t)}setQueryDefaults(t,e){J(this,yl).set(Bu(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...J(this,yl).values()];let n={};return e.forEach(r=>{ju(t,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(t,e){J(this,vl).set(Bu(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...J(this,vl).values()];let n={};return e.forEach(r=>{ju(t,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...J(this,Cs).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=CE(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===TE&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...J(this,Cs).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){J(this,_t).clear(),J(this,Es).clear()}},_t=new WeakMap,Es=new WeakMap,Cs=new WeakMap,yl=new WeakMap,vl=new WeakMap,Ts=new WeakMap,wl=new WeakMap,El=new WeakMap,H_),t9=v.createContext(void 0),n9=({client:t,children:e})=>(v.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),p.jsx(t9.Provider,{value:t,children:e}));/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Uu(){return Uu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Uu.apply(this,arguments)}var Is;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Is||(Is={}));const u_="popstate";function r9(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return qv("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Ap(i)}return s9(e,n,null,t)}function Ot(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function mP(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function i9(){return Math.random().toString(36).substr(2,8)}function d_(t,e){return{usr:t.state,key:t.key,idx:e}}function qv(t,e,n,r){return n===void 0&&(n=null),Uu({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?rc(e):e,{state:n,key:e&&e.key||r||i9()})}function Ap(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function rc(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function s9(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=Is.Pop,l=null,c=d();c==null&&(c=0,o.replaceState(Uu({},o.state,{idx:c}),""));function d(){return(o.state||{idx:null}).idx}function f(){a=Is.Pop;let I=d(),C=I==null?null:I-c;c=I,l&&l({action:a,location:y.location,delta:C})}function h(I,C){a=Is.Push;let w=qv(y.location,I,C);c=d()+1;let A=d_(w,c),R=y.createHref(w);try{o.pushState(A,"",R)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;i.location.assign(R)}s&&l&&l({action:a,location:y.location,delta:1})}function g(I,C){a=Is.Replace;let w=qv(y.location,I,C);c=d();let A=d_(w,c),R=y.createHref(w);o.replaceState(A,"",R),s&&l&&l({action:a,location:y.location,delta:0})}function T(I){let C=i.location.origin!=="null"?i.location.origin:i.location.href,w=typeof I=="string"?I:Ap(I);return w=w.replace(/ $/,"%20"),Ot(C,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,C)}let y={get action(){return a},get location(){return t(i,o)},listen(I){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(u_,f),l=I,()=>{i.removeEventListener(u_,f),l=null}},createHref(I){return e(i,I)},createURL:T,encodeLocation(I){let C=T(I);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:h,replace:g,go(I){return o.go(I)}};return y}var h_;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(h_||(h_={}));function o9(t,e,n){return n===void 0&&(n="/"),a9(t,e,n,!1)}function a9(t,e,n,r){let i=typeof e=="string"?rc(e):e,s=_E(i.pathname||"/",n);if(s==null)return null;let o=gP(t);l9(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=w9(s);a=y9(o[l],c,r)}return a}function gP(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(Ot(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=Gs([r,l.relativePath]),d=n.concat(l);s.children&&s.children.length>0&&(Ot(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),gP(s.children,e,d,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:m9(c,s.index),routesMeta:d})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of yP(s.path))i(s,o,l)}),e}function yP(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=yP(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function l9(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:g9(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const c9=/^:[\w-]+$/,u9=3,d9=2,h9=1,f9=10,p9=-2,f_=t=>t==="*";function m9(t,e){let n=t.split("/"),r=n.length;return n.some(f_)&&(r+=p9),e&&(r+=d9),n.filter(i=>!f_(i)).reduce((i,s)=>i+(c9.test(s)?u9:s===""?h9:f9),r)}function g9(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function y9(t,e,n){let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,d=s==="/"?e:e.slice(s.length)||"/",f=p_({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},d),h=l.route;if(!f&&c&&n&&!r[r.length-1].route.index&&(f=p_({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!f)return null;Object.assign(i,f.params),o.push({params:i,pathname:Gs([s,f.pathname]),pathnameBase:_9(Gs([s,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(s=Gs([s,f.pathnameBase]))}return o}function p_(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=v9(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,d,f)=>{let{paramName:h,isOptional:g}=d;if(h==="*"){let y=a[f]||"";o=s.slice(0,s.length-y.length).replace(/(.)\/+$/,"$1")}const T=a[f];return g&&!T?c[h]=void 0:c[h]=(T||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:t}}function v9(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),mP(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function w9(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return mP(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function _E(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function E9(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?rc(t):t;return{pathname:n?n.startsWith("/")?n:C9(n,e):e,search:x9(r),hash:A9(i)}}function C9(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Wg(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function T9(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function vP(t,e){let n=T9(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function wP(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=rc(t):(i=Uu({},t),Ot(!i.pathname||!i.pathname.includes("?"),Wg("?","pathname","search",i)),Ot(!i.pathname||!i.pathname.includes("#"),Wg("#","pathname","hash",i)),Ot(!i.search||!i.search.includes("#"),Wg("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let f=e.length-1;if(!r&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),f-=1;i.pathname=h.join("/")}a=f>=0?e[f]:"/"}let l=E9(i,a),c=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}const Gs=t=>t.join("/").replace(/\/\/+/g,"/"),_9=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),x9=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,A9=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function I9(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const EP=["post","put","patch","delete"];new Set(EP);const b9=["get",...EP];new Set(b9);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function qu(){return qu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qu.apply(this,arguments)}const xE=v.createContext(null),S9=v.createContext(null),ua=v.createContext(null),Sm=v.createContext(null),da=v.createContext({outlet:null,matches:[],isDataRoute:!1}),CP=v.createContext(null);function R9(t,e){let{relative:n}=e===void 0?{}:e;yd()||Ot(!1);let{basename:r,navigator:i}=v.useContext(ua),{hash:s,pathname:o,search:a}=_P(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:Gs([r,o])),i.createHref({pathname:l,search:a,hash:s})}function yd(){return v.useContext(Sm)!=null}function vd(){return yd()||Ot(!1),v.useContext(Sm).location}function TP(t){v.useContext(ua).static||v.useLayoutEffect(t)}function ho(){let{isDataRoute:t}=v.useContext(da);return t?q9():P9()}function P9(){yd()||Ot(!1);let t=v.useContext(xE),{basename:e,future:n,navigator:r}=v.useContext(ua),{matches:i}=v.useContext(da),{pathname:s}=vd(),o=JSON.stringify(vP(i,n.v7_relativeSplatPath)),a=v.useRef(!1);return TP(()=>{a.current=!0}),v.useCallback(function(c,d){if(d===void 0&&(d={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let f=wP(c,JSON.parse(o),s,d.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:Gs([e,f.pathname])),(d.replace?r.replace:r.push)(f,d.state,d)},[e,r,o,s,t])}function _P(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=v.useContext(ua),{matches:i}=v.useContext(da),{pathname:s}=vd(),o=JSON.stringify(vP(i,r.v7_relativeSplatPath));return v.useMemo(()=>wP(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function k9(t,e){return N9(t,e)}function N9(t,e,n,r){yd()||Ot(!1);let{navigator:i}=v.useContext(ua),{matches:s}=v.useContext(da),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=vd(),d;if(e){var f;let I=typeof e=="string"?rc(e):e;l==="/"||(f=I.pathname)!=null&&f.startsWith(l)||Ot(!1),d=I}else d=c;let h=d.pathname||"/",g=h;if(l!=="/"){let I=l.replace(/^\//,"").split("/");g="/"+h.replace(/^\//,"").split("/").slice(I.length).join("/")}let T=o9(t,{pathname:g}),y=V9(T&&T.map(I=>Object.assign({},I,{params:Object.assign({},a,I.params),pathname:Gs([l,i.encodeLocation?i.encodeLocation(I.pathname).pathname:I.pathname]),pathnameBase:I.pathnameBase==="/"?l:Gs([l,i.encodeLocation?i.encodeLocation(I.pathnameBase).pathname:I.pathnameBase])})),s,n,r);return e&&y?v.createElement(Sm.Provider,{value:{location:qu({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Is.Pop}},y):y}function D9(){let t=U9(),e=I9(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},e),n?v.createElement("pre",{style:i},n):null,null)}const M9=v.createElement(D9,null);class O9 extends v.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?v.createElement(da.Provider,{value:this.props.routeContext},v.createElement(CP.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function L9(t){let{routeContext:e,match:n,children:r}=t,i=v.useContext(xE);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),v.createElement(da.Provider,{value:e},r)}function V9(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let d=o.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);d>=0||Ot(!1),o=o.slice(0,Math.min(o.length,d+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=d),f.route.id){let{loaderData:h,errors:g}=n,T=f.route.loader&&h[f.route.id]===void 0&&(!g||g[f.route.id]===void 0);if(f.route.lazy||T){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((d,f,h)=>{let g,T=!1,y=null,I=null;n&&(g=a&&f.route.id?a[f.route.id]:void 0,y=f.route.errorElement||M9,l&&(c<0&&h===0?(T=!0,I=null):c===h&&(T=!0,I=f.route.hydrateFallbackElement||null)));let C=e.concat(o.slice(0,h+1)),w=()=>{let A;return g?A=y:T?A=I:f.route.Component?A=v.createElement(f.route.Component,null):f.route.element?A=f.route.element:A=d,v.createElement(L9,{match:f,routeContext:{outlet:d,matches:C,isDataRoute:n!=null},children:A})};return n&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?v.createElement(O9,{location:n.location,revalidation:n.revalidation,component:y,error:g,children:w(),routeContext:{outlet:null,matches:C,isDataRoute:!0}}):w()},null)}var xP=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(xP||{}),Ip=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Ip||{});function F9(t){let e=v.useContext(xE);return e||Ot(!1),e}function B9(t){let e=v.useContext(S9);return e||Ot(!1),e}function j9(t){let e=v.useContext(da);return e||Ot(!1),e}function AP(t){let e=j9(),n=e.matches[e.matches.length-1];return n.route.id||Ot(!1),n.route.id}function U9(){var t;let e=v.useContext(CP),n=B9(Ip.UseRouteError),r=AP(Ip.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function q9(){let{router:t}=F9(xP.UseNavigateStable),e=AP(Ip.UseNavigateStable),n=v.useRef(!1);return TP(()=>{n.current=!0}),v.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,qu({fromRouteId:e},s)))},[t,e])}function Gr(t){Ot(!1)}function G9(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Is.Pop,navigator:s,static:o=!1,future:a}=t;yd()&&Ot(!1);let l=e.replace(/^\/*/,"/"),c=v.useMemo(()=>({basename:l,navigator:s,static:o,future:qu({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=rc(r));let{pathname:d="/",search:f="",hash:h="",state:g=null,key:T="default"}=r,y=v.useMemo(()=>{let I=_E(d,l);return I==null?null:{location:{pathname:I,search:f,hash:h,state:g,key:T},navigationType:i}},[l,d,f,h,g,T,i]);return y==null?null:v.createElement(ua.Provider,{value:c},v.createElement(Sm.Provider,{children:n,value:y}))}function $9(t){let{children:e,location:n}=t;return k9(Gv(e),n)}new Promise(()=>{});function Gv(t,e){e===void 0&&(e=[]);let n=[];return v.Children.forEach(t,(r,i)=>{if(!v.isValidElement(r))return;let s=[...e,i];if(r.type===v.Fragment){n.push.apply(n,Gv(r.props.children,s));return}r.type!==Gr&&Ot(!1),!r.props.index||!r.props.children||Ot(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Gv(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function $v(){return $v=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$v.apply(this,arguments)}function z9(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function W9(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Y9(t,e){return t.button===0&&(!e||e==="_self")&&!W9(t)}const Q9=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],K9="6";try{window.__reactRouterVersion=K9}catch{}const H9="startTransition",m_=lx[H9];function J9(t){let{basename:e,children:n,future:r,window:i}=t,s=v.useRef();s.current==null&&(s.current=r9({window:i,v5Compat:!0}));let o=s.current,[a,l]=v.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},d=v.useCallback(f=>{c&&m_?m_(()=>l(f)):l(f)},[l,c]);return v.useLayoutEffect(()=>o.listen(d),[o,d]),v.createElement(G9,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const Z9=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",X9=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ai=v.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:c,preventScrollReset:d,viewTransition:f}=e,h=z9(e,Q9),{basename:g}=v.useContext(ua),T,y=!1;if(typeof c=="string"&&X9.test(c)&&(T=c,Z9))try{let A=new URL(window.location.href),R=c.startsWith("//")?new URL(A.protocol+c):new URL(c),O=_E(R.pathname,g);R.origin===A.origin&&O!=null?c=O+R.search+R.hash:y=!0}catch{}let I=R9(c,{relative:i}),C=eq(c,{replace:o,state:a,target:l,preventScrollReset:d,relative:i,viewTransition:f});function w(A){r&&r(A),A.defaultPrevented||C(A)}return v.createElement("a",$v({},h,{href:T||I,onClick:y||s?r:w,ref:n,target:l}))});var g_;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(g_||(g_={}));var y_;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(y_||(y_={}));function eq(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,viewTransition:a}=e===void 0?{}:e,l=ho(),c=vd(),d=_P(t,{relative:o});return v.useCallback(f=>{if(Y9(f,n)){f.preventDefault();let h=r!==void 0?r:Ap(c)===Ap(d);l(t,{replace:h,state:i,preventScrollReset:s,relative:o,viewTransition:a})}},[c,l,d,r,i,n,t,s,o,a])}const gf=5,IP=v.createContext(null),tq=({children:t})=>{const[e,n]=v.useState(null),[r,i]=v.useState(!0),[s,o]=v.useState(null),[a,l]=v.useState(!0),[c,d]=v.useState([]),[f,h]=v.useState(!1);v.useEffect(()=>{const R=_i(kn,"settings","global"),O=jg(R,B=>{if(B.exists()){const S=B.data();console.log("Global settings updated:",S),o(S)}else{const S={purchaseLimit:gf,descriptionMessage:"Complete purchases to unlock your reward!",updatedAt:Ze.now(),updatedBy:"system"};IT(R,S),o(S)}l(!1)},B=>{console.error("Error listening to settings:",B),l(!1)});return()=>O()},[]),v.useEffect(()=>{if(!e||e.role!=="admin"&&e.role!=="super_admin"){d([]);return}h(!0);const R=up(kn,"users"),O=fp(R,jS("createdAt","desc")),B=jg(O,S=>{const b=[];S.forEach(k=>{const D=k.data();b.push({...D,id:k.id})}),console.log("All users updated:",b.length,"users"),d(b),h(!1)},S=>{console.error("Error listening to all users:",S),h(!1)});return()=>B()},[e==null?void 0:e.role]),v.useEffect(()=>{let R=null;const O=d3(Bc,async B=>{if(console.log("Auth state changed:",B?"User logged in":"User logged out"),B){console.log("Firebase user UID:",B.uid);const S=_i(kn,"users",B.uid);R=jg(S,b=>{if(b.exists()){const k=b.data();console.log("User data updated in real-time:",{name:k.name,purchases:k.purchases,isRewardReady:k.isRewardReady,role:k.role}),n(k)}else console.log("User document does not exist for UID:",B.uid),n(null);i(!1)},b=>{console.error("Error listening to user data:",b),n(null),i(!1)})}else console.log("No Firebase user, setting user to null"),n(null),i(!1),R&&(R(),R=null)});return()=>{O(),R&&R()}},[]);const g=async(R,O)=>{const B=await a3(Bc,R,O),S=await n5(_i(kn,"users",B.user.uid));return S.exists()?S.data():null},T=async(R,O,B,S)=>{console.log("registering user",R,O,B,S);const b=await o3(Bc,O,B),k=(s==null?void 0:s.purchaseLimit)||gf,D={id:b.user.uid,name:R,email:O,feedback:S,purchases:0,isRewardReady:!1,createdAt:Ze.now(),rewards:[],purchaseLimit:k,role:"customer"};return await IT(_i(kn,"users",b.user.uid),D),D},y=async()=>{if(!e)return;const R=_i(kn,"users",e.id),O=e.purchases+1,B=e.purchaseLimit||(s==null?void 0:s.purchaseLimit)||gf,S=O>=B;await Nh(R,{purchases:a5(1),isRewardReady:S,lastScanAt:Ze.now()})},I=async()=>{if(!e)return;const R=_i(kn,"users",e.id),O={rewardId:`reward_${Date.now()}`,claimedAt:Ze.now()};await Nh(R,{purchases:0,isRewardReady:!1,rewards:[...e.rewards||[],O]})},C=async(R,O)=>{if(!e||e.role!=="admin"&&e.role!=="super_admin")throw new Error("Only admins can update settings");const B=_i(kn,"settings","global");await Nh(B,{purchaseLimit:R,descriptionMessage:O,updatedAt:Ze.now(),updatedBy:e.email})},w=async(R,O)=>{if(!e||e.role!=="super_admin")throw new Error("Only super admins can update user roles");const B=_i(kn,"users",R);await Nh(B,{role:O})},A=async()=>{await h3(Bc),n(null)};return p.jsx(IP.Provider,{value:{user:e,loading:r,settings:s,settingsLoading:a,allUsers:c,allUsersLoading:f,login:g,register:T,addPurchase:y,useReward:I,logout:A,updateSettings:C,updateUserRole:w},children:t})},ic=()=>{const t=v.useContext(IP);if(!t)throw new Error("useAuth must be used within AuthProvider");return t},nq=fw("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),fn=v.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...i},s)=>{const o=r?Yo:"button";return p.jsx(o,{className:it(nq({variant:e,size:n,className:t})),ref:s,...i})});fn.displayName="Button";const rq=()=>{const[t,e]=v.useState(null),[n,r]=v.useState(!1),[i,s]=v.useState(!1),[o,a]=v.useState("");v.useEffect(()=>{if(window.matchMedia("(display-mode: standalone)").matches){s(!0),a("App is already installed");return}if(!("serviceWorker"in navigator)){a("Service Worker not supported");return}fetch("/manifest.json").then(T=>{if(!T.ok){a("Manifest not accessible");return}a("Manifest accessible")}).catch(()=>{a("Manifest fetch failed")});const f=T=>{console.log("beforeinstallprompt event fired"),T.preventDefault(),e(T),r(!0),a("Install prompt available")},h=()=>{console.log("App installed"),s(!0),r(!1),e(null),a("App installed successfully")},g=()=>{setTimeout(()=>{r(!0),a("Manual install available")},2e3)};return window.addEventListener("beforeinstallprompt",f),window.addEventListener("appinstalled",h),setTimeout(g,1e3),()=>{window.removeEventListener("beforeinstallprompt",f),window.removeEventListener("appinstalled",h)}},[]);const l=async()=>{if(t)try{t.prompt();const{outcome:f}=await t.userChoice;f==="accepted"?(console.log("User accepted the install prompt"),a("Install accepted")):(console.log("User dismissed the install prompt"),a("Install dismissed")),e(null),r(!1)}catch(f){console.error("Install error:",f),a("Install error: "+f)}else{const f=/Chrome/.test(navigator.userAgent),h=/Edg/.test(navigator.userAgent),g=/Safari/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent);alert(f||h?'To install: Look for the install icon (plus sign) in your browser address bar, or use the menu (three dots) and select "Install app"':g?'To install: Tap the Share button (square with arrow) and select "Add to Home Screen"':"To install: Use your browser menu to add this site to your home screen or desktop"),a("Manual install instructions shown")}},c=()=>{r(!1),a("Install prompt dismissed")},d=!1;return i?null:p.jsx(p.Fragment,{children:n&&p.jsx("div",{className:"fixed bottom-4 left-4 right-4 z-50 bg-gradient-to-r from-red-600 to-red-700 rounded-lg p-4 shadow-lg border border-red-500/30 backdrop-blur-sm",children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{className:"flex items-center space-x-3",children:[p.jsx(Jf,{className:"w-5 h-5 text-white"}),p.jsxs("div",{children:[p.jsx("p",{className:"text-white font-semibold text-sm",children:"Install Vaporwave Loyalty Club"}),p.jsx("p",{className:"text-red-100 text-xs",children:"Get quick access and work offline"}),d]})]}),p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx(fn,{onClick:l,size:"sm",className:"bg-white text-red-600 hover:bg-red-50 font-semibold",children:"Install"}),p.jsx(fn,{onClick:c,size:"sm",variant:"ghost",className:"text-white hover:bg-red-500/20",children:p.jsx(pw,{className:"w-4 h-4"})})]})]})})})};var Yg="focusScope.autoFocusOnMount",Qg="focusScope.autoFocusOnUnmount",v_={bubbles:!1,cancelable:!0},iq="FocusScope",AE=v.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...o}=t,[a,l]=v.useState(null),c=Fn(i),d=Fn(s),f=v.useRef(null),h=ot(e,y=>l(y)),g=v.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;v.useEffect(()=>{if(r){let y=function(A){if(g.paused||!a)return;const R=A.target;a.contains(R)?f.current=R:ls(f.current,{select:!0})},I=function(A){if(g.paused||!a)return;const R=A.relatedTarget;R!==null&&(a.contains(R)||ls(f.current,{select:!0}))},C=function(A){if(document.activeElement===document.body)for(const O of A)O.removedNodes.length>0&&ls(a)};document.addEventListener("focusin",y),document.addEventListener("focusout",I);const w=new MutationObserver(C);return a&&w.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",I),w.disconnect()}}},[r,a,g.paused]),v.useEffect(()=>{if(a){E_.add(g);const y=document.activeElement;if(!a.contains(y)){const C=new CustomEvent(Yg,v_);a.addEventListener(Yg,c),a.dispatchEvent(C),C.defaultPrevented||(sq(uq(bP(a)),{select:!0}),document.activeElement===y&&ls(a))}return()=>{a.removeEventListener(Yg,c),setTimeout(()=>{const C=new CustomEvent(Qg,v_);a.addEventListener(Qg,d),a.dispatchEvent(C),C.defaultPrevented||ls(y??document.body,{select:!0}),a.removeEventListener(Qg,d),E_.remove(g)},0)}}},[a,c,d,g]);const T=v.useCallback(y=>{if(!n&&!r||g.paused)return;const I=y.key==="Tab"&&!y.altKey&&!y.ctrlKey&&!y.metaKey,C=document.activeElement;if(I&&C){const w=y.currentTarget,[A,R]=oq(w);A&&R?!y.shiftKey&&C===R?(y.preventDefault(),n&&ls(A,{select:!0})):y.shiftKey&&C===A&&(y.preventDefault(),n&&ls(R,{select:!0})):C===w&&y.preventDefault()}},[n,r,g.paused]);return p.jsx(Le.div,{tabIndex:-1,...o,ref:h,onKeyDown:T})});AE.displayName=iq;function sq(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(ls(r,{select:e}),document.activeElement!==n)return}function oq(t){const e=bP(t),n=w_(e,t),r=w_(e.reverse(),t);return[n,r]}function bP(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function w_(t,e){for(const n of t)if(!aq(n,{upTo:e}))return n}function aq(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function lq(t){return t instanceof HTMLInputElement&&"select"in t}function ls(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&lq(t)&&e&&t.select()}}var E_=cq();function cq(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=C_(t,e),t.unshift(e)},remove(e){var n;t=C_(t,e),(n=t[0])==null||n.resume()}}}function C_(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function uq(t){return t.filter(e=>e.tagName!=="A")}var Kg=0;function SP(){v.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??T_()),document.body.insertAdjacentElement("beforeend",t[1]??T_()),Kg++,()=>{Kg===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Kg--}},[])}function T_(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var yf="right-scroll-bar-position",vf="width-before-scroll-bar",dq="with-scroll-bars-hidden",hq="--removed-body-scroll-bar-size";function Hg(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function fq(t,e){var n=v.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var pq=typeof window<"u"?v.useLayoutEffect:v.useEffect,__=new WeakMap;function mq(t,e){var n=fq(null,function(r){return t.forEach(function(i){return Hg(i,r)})});return pq(function(){var r=__.get(n);if(r){var i=new Set(r),s=new Set(t),o=n.current;i.forEach(function(a){s.has(a)||Hg(a,null)}),s.forEach(function(a){i.has(a)||Hg(a,o)})}__.set(n,t)},[t]),n}function gq(t){return t}function yq(t,e){e===void 0&&(e=gq);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(s){var o=e(s,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(s){for(r=!0;n.length;){var o=n;n=[],o.forEach(s)}n={push:function(a){return s(a)},filter:function(){return n}}},assignMedium:function(s){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(s),o=n}var l=function(){var d=o;o=[],d.forEach(s)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(d){o.push(d),c()},filter:function(d){return o=o.filter(d),n}}}};return i}function vq(t){t===void 0&&(t={});var e=yq(null);return e.options=Hr({async:!0,ssr:!1},t),e}var RP=function(t){var e=t.sideCar,n=dd(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return v.createElement(r,Hr({},n))};RP.isSideCarExport=!0;function wq(t,e){return t.useMedium(e),RP}var PP=vq(),Jg=function(){},Rm=v.forwardRef(function(t,e){var n=v.useRef(null),r=v.useState({onScrollCapture:Jg,onWheelCapture:Jg,onTouchMoveCapture:Jg}),i=r[0],s=r[1],o=t.forwardProps,a=t.children,l=t.className,c=t.removeScrollBar,d=t.enabled,f=t.shards,h=t.sideCar,g=t.noIsolation,T=t.inert,y=t.allowPinchZoom,I=t.as,C=I===void 0?"div":I,w=t.gapMode,A=dd(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),R=h,O=mq([n,e]),B=Hr(Hr({},A),i);return v.createElement(v.Fragment,null,d&&v.createElement(R,{sideCar:PP,removeScrollBar:c,shards:f,noIsolation:g,inert:T,setCallbacks:s,allowPinchZoom:!!y,lockRef:n,gapMode:w}),o?v.cloneElement(v.Children.only(a),Hr(Hr({},B),{ref:O})):v.createElement(C,Hr({},B,{className:l,ref:O}),a))});Rm.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Rm.classNames={fullWidth:vf,zeroRight:yf};var Eq=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Cq(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=Eq();return e&&t.setAttribute("nonce",e),t}function Tq(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function _q(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var xq=function(){var t=0,e=null;return{add:function(n){t==0&&(e=Cq())&&(Tq(e,n),_q(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},Aq=function(){var t=xq();return function(e,n){v.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},kP=function(){var t=Aq(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},Iq={left:0,top:0,right:0,gap:0},Zg=function(t){return parseInt(t||"",10)||0},bq=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[Zg(n),Zg(r),Zg(i)]},Sq=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return Iq;var e=bq(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},Rq=kP(),ul="data-scroll-locked",Pq=function(t,e,n,r){var i=t.left,s=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(dq,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(ul,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(yf,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(vf,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(yf," .").concat(yf,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(vf," .").concat(vf,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(ul,`] {
    `).concat(hq,": ").concat(a,`px;
  }
`)},x_=function(){var t=parseInt(document.body.getAttribute(ul)||"0",10);return isFinite(t)?t:0},kq=function(){v.useEffect(function(){return document.body.setAttribute(ul,(x_()+1).toString()),function(){var t=x_()-1;t<=0?document.body.removeAttribute(ul):document.body.setAttribute(ul,t.toString())}},[])},Nq=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;kq();var s=v.useMemo(function(){return Sq(i)},[i]);return v.createElement(Rq,{styles:Pq(s,!e,i,n?"":"!important")})},zv=!1;if(typeof window<"u")try{var Vh=Object.defineProperty({},"passive",{get:function(){return zv=!0,!0}});window.addEventListener("test",Vh,Vh),window.removeEventListener("test",Vh,Vh)}catch{zv=!1}var ka=zv?{passive:!1}:!1,Dq=function(t){return t.tagName==="TEXTAREA"},NP=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!Dq(t)&&n[e]==="visible")},Mq=function(t){return NP(t,"overflowY")},Oq=function(t){return NP(t,"overflowX")},A_=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=DP(t,r);if(i){var s=MP(t,r),o=s[1],a=s[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},Lq=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},Vq=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},DP=function(t,e){return t==="v"?Mq(e):Oq(e)},MP=function(t,e){return t==="v"?Lq(e):Vq(e)},Fq=function(t,e){return t==="h"&&e==="rtl"?-1:1},Bq=function(t,e,n,r,i){var s=Fq(t,window.getComputedStyle(e).direction),o=s*r,a=n.target,l=e.contains(a),c=!1,d=o>0,f=0,h=0;do{var g=MP(t,a),T=g[0],y=g[1],I=g[2],C=y-I-s*T;(T||C)&&DP(t,a)&&(f+=C,h+=T),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(d&&(Math.abs(f)<1||!i)||!d&&(Math.abs(h)<1||!i))&&(c=!0),c},Fh=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},I_=function(t){return[t.deltaX,t.deltaY]},b_=function(t){return t&&"current"in t?t.current:t},jq=function(t,e){return t[0]===e[0]&&t[1]===e[1]},Uq=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},qq=0,Na=[];function Gq(t){var e=v.useRef([]),n=v.useRef([0,0]),r=v.useRef(),i=v.useState(qq++)[0],s=v.useState(kP)[0],o=v.useRef(t);v.useEffect(function(){o.current=t},[t]),v.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var y=l5([t.lockRef.current],(t.shards||[]).map(b_),!0).filter(Boolean);return y.forEach(function(I){return I.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),y.forEach(function(I){return I.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var a=v.useCallback(function(y,I){if("touches"in y&&y.touches.length===2||y.type==="wheel"&&y.ctrlKey)return!o.current.allowPinchZoom;var C=Fh(y),w=n.current,A="deltaX"in y?y.deltaX:w[0]-C[0],R="deltaY"in y?y.deltaY:w[1]-C[1],O,B=y.target,S=Math.abs(A)>Math.abs(R)?"h":"v";if("touches"in y&&S==="h"&&B.type==="range")return!1;var b=A_(S,B);if(!b)return!0;if(b?O=S:(O=S==="v"?"h":"v",b=A_(S,B)),!b)return!1;if(!r.current&&"changedTouches"in y&&(A||R)&&(r.current=O),!O)return!0;var k=r.current||O;return Bq(k,I,y,k==="h"?A:R,!0)},[]),l=v.useCallback(function(y){var I=y;if(!(!Na.length||Na[Na.length-1]!==s)){var C="deltaY"in I?I_(I):Fh(I),w=e.current.filter(function(O){return O.name===I.type&&(O.target===I.target||I.target===O.shadowParent)&&jq(O.delta,C)})[0];if(w&&w.should){I.cancelable&&I.preventDefault();return}if(!w){var A=(o.current.shards||[]).map(b_).filter(Boolean).filter(function(O){return O.contains(I.target)}),R=A.length>0?a(I,A[0]):!o.current.noIsolation;R&&I.cancelable&&I.preventDefault()}}},[]),c=v.useCallback(function(y,I,C,w){var A={name:y,delta:I,target:C,should:w,shadowParent:$q(C)};e.current.push(A),setTimeout(function(){e.current=e.current.filter(function(R){return R!==A})},1)},[]),d=v.useCallback(function(y){n.current=Fh(y),r.current=void 0},[]),f=v.useCallback(function(y){c(y.type,I_(y),y.target,a(y,t.lockRef.current))},[]),h=v.useCallback(function(y){c(y.type,Fh(y),y.target,a(y,t.lockRef.current))},[]);v.useEffect(function(){return Na.push(s),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",l,ka),document.addEventListener("touchmove",l,ka),document.addEventListener("touchstart",d,ka),function(){Na=Na.filter(function(y){return y!==s}),document.removeEventListener("wheel",l,ka),document.removeEventListener("touchmove",l,ka),document.removeEventListener("touchstart",d,ka)}},[]);var g=t.removeScrollBar,T=t.inert;return v.createElement(v.Fragment,null,T?v.createElement(s,{styles:Uq(i)}):null,g?v.createElement(Nq,{gapMode:t.gapMode}):null)}function $q(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const zq=wq(PP,Gq);var IE=v.forwardRef(function(t,e){return v.createElement(Rm,Hr({},t,{ref:e,sideCar:zq}))});IE.classNames=Rm.classNames;var Wq=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Da=new WeakMap,Bh=new WeakMap,jh={},Xg=0,OP=function(t){return t&&(t.host||OP(t.parentNode))},Yq=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=OP(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},Qq=function(t,e,n,r){var i=Yq(e,Array.isArray(t)?t:[t]);jh[n]||(jh[n]=new WeakMap);var s=jh[n],o=[],a=new Set,l=new Set(i),c=function(f){!f||a.has(f)||(a.add(f),c(f.parentNode))};i.forEach(c);var d=function(f){!f||l.has(f)||Array.prototype.forEach.call(f.children,function(h){if(a.has(h))d(h);else try{var g=h.getAttribute(r),T=g!==null&&g!=="false",y=(Da.get(h)||0)+1,I=(s.get(h)||0)+1;Da.set(h,y),s.set(h,I),o.push(h),y===1&&T&&Bh.set(h,!0),I===1&&h.setAttribute(n,"true"),T||h.setAttribute(r,"true")}catch(C){console.error("aria-hidden: cannot operate on ",h,C)}})};return d(e),a.clear(),Xg++,function(){o.forEach(function(f){var h=Da.get(f)-1,g=s.get(f)-1;Da.set(f,h),s.set(f,g),h||(Bh.has(f)||f.removeAttribute(r),Bh.delete(f)),g||f.removeAttribute(n)}),Xg--,Xg||(Da=new WeakMap,Da=new WeakMap,Bh=new WeakMap,jh={})}},LP=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=Wq(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),Qq(r,i,n,"aria-hidden")):function(){return null}},bE="Dialog",[VP,Oz]=Ju(bE),[Kq,jr]=VP(bE),FP=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:i,onOpenChange:s,modal:o=!0}=t,a=v.useRef(null),l=v.useRef(null),[c=!1,d]=Sl({prop:r,defaultProp:i,onChange:s});return p.jsx(Kq,{scope:e,triggerRef:a,contentRef:l,contentId:qs(),titleId:qs(),descriptionId:qs(),open:c,onOpenChange:d,onOpenToggle:v.useCallback(()=>d(f=>!f),[d]),modal:o,children:n})};FP.displayName=bE;var BP="DialogTrigger",jP=v.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=jr(BP,n),s=ot(e,i.triggerRef);return p.jsx(Le.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":PE(i.open),...r,ref:s,onClick:Ie(t.onClick,i.onOpenToggle)})});jP.displayName=BP;var SE="DialogPortal",[Hq,UP]=VP(SE,{forceMount:void 0}),qP=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:i}=t,s=jr(SE,e);return p.jsx(Hq,{scope:e,forceMount:n,children:v.Children.map(r,o=>p.jsx(oa,{present:n||s.open,children:p.jsx(Qp,{asChild:!0,container:i,children:o})}))})};qP.displayName=SE;var bp="DialogOverlay",GP=v.forwardRef((t,e)=>{const n=UP(bp,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,s=jr(bp,t.__scopeDialog);return s.modal?p.jsx(oa,{present:r||s.open,children:p.jsx(Jq,{...i,ref:e})}):null});GP.displayName=bp;var Jq=v.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=jr(bp,n);return p.jsx(IE,{as:Yo,allowPinchZoom:!0,shards:[i.contentRef],children:p.jsx(Le.div,{"data-state":PE(i.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),ta="DialogContent",$P=v.forwardRef((t,e)=>{const n=UP(ta,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,s=jr(ta,t.__scopeDialog);return p.jsx(oa,{present:r||s.open,children:s.modal?p.jsx(Zq,{...i,ref:e}):p.jsx(Xq,{...i,ref:e})})});$P.displayName=ta;var Zq=v.forwardRef((t,e)=>{const n=jr(ta,t.__scopeDialog),r=v.useRef(null),i=ot(e,n.contentRef,r);return v.useEffect(()=>{const s=r.current;if(s)return LP(s)},[]),p.jsx(zP,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ie(t.onCloseAutoFocus,s=>{var o;s.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Ie(t.onPointerDownOutside,s=>{const o=s.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&s.preventDefault()}),onFocusOutside:Ie(t.onFocusOutside,s=>s.preventDefault())})}),Xq=v.forwardRef((t,e)=>{const n=jr(ta,t.__scopeDialog),r=v.useRef(!1),i=v.useRef(!1);return p.jsx(zP,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,s),s.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),s.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:s=>{var l,c;(l=t.onInteractOutside)==null||l.call(t,s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=s.target;((c=n.triggerRef.current)==null?void 0:c.contains(o))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),zP=v.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:s,...o}=t,a=jr(ta,n),l=v.useRef(null),c=ot(e,l);return SP(),p.jsxs(p.Fragment,{children:[p.jsx(AE,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:s,children:p.jsx(Zu,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":PE(a.open),...o,ref:c,onDismiss:()=>a.onOpenChange(!1)})}),p.jsxs(p.Fragment,{children:[p.jsx(eG,{titleId:a.titleId}),p.jsx(nG,{contentRef:l,descriptionId:a.descriptionId})]})]})}),RE="DialogTitle",WP=v.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=jr(RE,n);return p.jsx(Le.h2,{id:i.titleId,...r,ref:e})});WP.displayName=RE;var YP="DialogDescription",QP=v.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=jr(YP,n);return p.jsx(Le.p,{id:i.descriptionId,...r,ref:e})});QP.displayName=YP;var KP="DialogClose",HP=v.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=jr(KP,n);return p.jsx(Le.button,{type:"button",...r,ref:e,onClick:Ie(t.onClick,()=>i.onOpenChange(!1))})});HP.displayName=KP;function PE(t){return t?"open":"closed"}var JP="DialogTitleWarning",[Lz,ZP]=G4(JP,{contentName:ta,titleName:RE,docsSlug:"dialog"}),eG=({titleId:t})=>{const e=ZP(JP),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return v.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},tG="DialogDescriptionWarning",nG=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${ZP(tG).contentName}}.`;return v.useEffect(()=>{var s;const i=(s=t.current)==null?void 0:s.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},rG=FP,iG=jP,sG=qP,XP=GP,ek=$P,tk=WP,nk=QP,oG=HP;const aG=rG,lG=iG,cG=sG,rk=v.forwardRef(({className:t,...e},n)=>p.jsx(XP,{ref:n,className:it("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));rk.displayName=XP.displayName;const ik=v.forwardRef(({className:t,children:e,...n},r)=>p.jsxs(cG,{children:[p.jsx(rk,{}),p.jsxs(ek,{ref:r,className:it("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,p.jsxs(oG,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[p.jsx(pw,{className:"h-4 w-4"}),p.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));ik.displayName=ek.displayName;const sk=({className:t,...e})=>p.jsx("div",{className:it("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});sk.displayName="DialogHeader";const ok=v.forwardRef(({className:t,...e},n)=>p.jsx(tk,{ref:n,className:it("text-lg font-semibold leading-none tracking-tight",t),...e}));ok.displayName=tk.displayName;const uG=v.forwardRef(({className:t,...e},n)=>p.jsx(nk,{ref:n,className:it("text-sm text-muted-foreground",t),...e}));uG.displayName=nk.displayName;function dG(t,e=[]){let n=[];function r(s,o){const a=v.createContext(o),l=n.length;n=[...n,o];function c(f){const{scope:h,children:g,...T}=f,y=(h==null?void 0:h[t][l])||a,I=v.useMemo(()=>T,Object.values(T));return p.jsx(y.Provider,{value:I,children:g})}function d(f,h){const g=(h==null?void 0:h[t][l])||a,T=v.useContext(g);if(T)return T;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${s}\``)}return c.displayName=s+"Provider",[c,d]}const i=()=>{const s=n.map(o=>v.createContext(o));return function(a){const l=(a==null?void 0:a[t])||s;return v.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return i.scopeName=t,[r,hG(i,...e)]}function hG(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const f=l(s)[`__scope${c}`];return{...a,...f}},{});return v.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var fG=v.createContext(void 0);function kE(t){const e=v.useContext(fG);return t||e||"ltr"}var ey="rovingFocusGroup.onEntryFocus",pG={bubbles:!1,cancelable:!0},Pm="RovingFocusGroup",[Wv,ak,mG]=cw(Pm),[gG,lk]=dG(Pm,[mG]),[yG,vG]=gG(Pm),ck=v.forwardRef((t,e)=>p.jsx(Wv.Provider,{scope:t.__scopeRovingFocusGroup,children:p.jsx(Wv.Slot,{scope:t.__scopeRovingFocusGroup,children:p.jsx(wG,{...t,ref:e})})}));ck.displayName=Pm;var wG=v.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:s,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:d=!1,...f}=t,h=v.useRef(null),g=ot(e,h),T=kE(s),[y=null,I]=Sl({prop:o,defaultProp:a,onChange:l}),[C,w]=v.useState(!1),A=Fn(c),R=ak(n),O=v.useRef(!1),[B,S]=v.useState(0);return v.useEffect(()=>{const b=h.current;if(b)return b.addEventListener(ey,A),()=>b.removeEventListener(ey,A)},[A]),p.jsx(yG,{scope:n,orientation:r,dir:T,loop:i,currentTabStopId:y,onItemFocus:v.useCallback(b=>I(b),[I]),onItemShiftTab:v.useCallback(()=>w(!0),[]),onFocusableItemAdd:v.useCallback(()=>S(b=>b+1),[]),onFocusableItemRemove:v.useCallback(()=>S(b=>b-1),[]),children:p.jsx(Le.div,{tabIndex:C||B===0?-1:0,"data-orientation":r,...f,ref:g,style:{outline:"none",...t.style},onMouseDown:Ie(t.onMouseDown,()=>{O.current=!0}),onFocus:Ie(t.onFocus,b=>{const k=!O.current;if(b.target===b.currentTarget&&k&&!C){const D=new CustomEvent(ey,pG);if(b.currentTarget.dispatchEvent(D),!D.defaultPrevented){const V=R().filter(ee=>ee.focusable),F=V.find(ee=>ee.active),M=V.find(ee=>ee.id===y),re=[F,M,...V].filter(Boolean).map(ee=>ee.ref.current);hk(re,d)}}O.current=!1}),onBlur:Ie(t.onBlur,()=>w(!1))})})}),uk="RovingFocusGroupItem",dk=v.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:s,...o}=t,a=qs(),l=s||a,c=vG(uk,n),d=c.currentTabStopId===l,f=ak(n),{onFocusableItemAdd:h,onFocusableItemRemove:g}=c;return v.useEffect(()=>{if(r)return h(),()=>g()},[r,h,g]),p.jsx(Wv.ItemSlot,{scope:n,id:l,focusable:r,active:i,children:p.jsx(Le.span,{tabIndex:d?0:-1,"data-orientation":c.orientation,...o,ref:e,onMouseDown:Ie(t.onMouseDown,T=>{r?c.onItemFocus(l):T.preventDefault()}),onFocus:Ie(t.onFocus,()=>c.onItemFocus(l)),onKeyDown:Ie(t.onKeyDown,T=>{if(T.key==="Tab"&&T.shiftKey){c.onItemShiftTab();return}if(T.target!==T.currentTarget)return;const y=TG(T,c.orientation,c.dir);if(y!==void 0){if(T.metaKey||T.ctrlKey||T.altKey||T.shiftKey)return;T.preventDefault();let C=f().filter(w=>w.focusable).map(w=>w.ref.current);if(y==="last")C.reverse();else if(y==="prev"||y==="next"){y==="prev"&&C.reverse();const w=C.indexOf(T.currentTarget);C=c.loop?_G(C,w+1):C.slice(w+1)}setTimeout(()=>hk(C))}})})})});dk.displayName=uk;var EG={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function CG(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function TG(t,e,n){const r=CG(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return EG[r]}function hk(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function _G(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var xG=ck,AG=dk,NE="Tabs",[IG,Vz]=Ju(NE,[lk]),fk=lk(),[bG,DE]=IG(NE),pk=v.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:i,defaultValue:s,orientation:o="horizontal",dir:a,activationMode:l="automatic",...c}=t,d=kE(a),[f,h]=Sl({prop:r,onChange:i,defaultProp:s});return p.jsx(bG,{scope:n,baseId:qs(),value:f,onValueChange:h,orientation:o,dir:d,activationMode:l,children:p.jsx(Le.div,{dir:d,"data-orientation":o,...c,ref:e})})});pk.displayName=NE;var mk="TabsList",gk=v.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...i}=t,s=DE(mk,n),o=fk(n);return p.jsx(xG,{asChild:!0,...o,orientation:s.orientation,dir:s.dir,loop:r,children:p.jsx(Le.div,{role:"tablist","aria-orientation":s.orientation,...i,ref:e})})});gk.displayName=mk;var yk="TabsTrigger",vk=v.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:i=!1,...s}=t,o=DE(yk,n),a=fk(n),l=Ck(o.baseId,r),c=Tk(o.baseId,r),d=r===o.value;return p.jsx(AG,{asChild:!0,...a,focusable:!i,active:d,children:p.jsx(Le.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":c,"data-state":d?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:l,...s,ref:e,onMouseDown:Ie(t.onMouseDown,f=>{!i&&f.button===0&&f.ctrlKey===!1?o.onValueChange(r):f.preventDefault()}),onKeyDown:Ie(t.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(r)}),onFocus:Ie(t.onFocus,()=>{const f=o.activationMode!=="manual";!d&&!i&&f&&o.onValueChange(r)})})})});vk.displayName=yk;var wk="TabsContent",Ek=v.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:i,children:s,...o}=t,a=DE(wk,n),l=Ck(a.baseId,r),c=Tk(a.baseId,r),d=r===a.value,f=v.useRef(d);return v.useEffect(()=>{const h=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(h)},[]),p.jsx(oa,{present:i||d,children:({present:h})=>p.jsx(Le.div,{"data-state":d?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":l,hidden:!h,id:c,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:f.current?"0s":void 0},children:h&&s})})});Ek.displayName=wk;function Ck(t,e){return`${t}-trigger-${e}`}function Tk(t,e){return`${t}-content-${e}`}var SG=pk,_k=gk,xk=vk,Ak=Ek;const RG=SG,Ik=v.forwardRef(({className:t,...e},n)=>p.jsx(_k,{ref:n,className:it("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));Ik.displayName=_k.displayName;const Yv=v.forwardRef(({className:t,...e},n)=>p.jsx(xk,{ref:n,className:it("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));Yv.displayName=xk.displayName;const Qv=v.forwardRef(({className:t,...e},n)=>p.jsx(Ak,{ref:n,className:it("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));Qv.displayName=Ak.displayName;const PG=()=>{const[t,e]=v.useState(!1),[n,r]=v.useState(!1);v.useEffect(()=>{window.matchMedia("(display-mode: standalone)").matches&&r(!0)},[]);const i=/iPad|iPhone|iPod/.test(navigator.userAgent),s=/Android/.test(navigator.userAgent),o=/Chrome/.test(navigator.userAgent),a=/Safari/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent),c=i&&a?{title:"Install on iPhone/iPad",steps:["Tap the Share button (square with arrow up) in Safari","Scroll down and tap 'Add to Home Screen'","Tap 'Add' to install the app","The app will now appear on your home screen"]}:s&&o?{title:"Install on Android",steps:["Tap the menu button (three dots) in Chrome","Tap 'Add to Home screen' or 'Install app'","Tap 'Add' or 'Install' to confirm","The app will be installed and appear on your home screen"]}:o?{title:"Install on Desktop Chrome",steps:["Look for the install icon (plus sign) in the address bar","Click the install icon","Click 'Install' in the popup","The app will be installed and can be launched from your desktop"]}:{title:"Install Instructions",steps:["Open this website in Chrome, Edge, or Safari","Look for the install option in your browser menu","Follow the browser's installation prompts","The app will be installed and ready to use"]};return n?null:p.jsxs(aG,{open:t,onOpenChange:e,children:[p.jsx(lG,{asChild:!0,children:p.jsxs(fn,{variant:"outline",size:"sm",className:"text-xs",children:[p.jsx(Jf,{className:"w-3 h-3 mr-1"}),"How to Install"]})}),p.jsxs(ik,{className:"sm:max-w-md",children:[p.jsx(sk,{children:p.jsxs(ok,{className:"flex items-center",children:[p.jsx(Jf,{className:"w-5 h-5 mr-2"}),"Install Vaporwave Loyalty Club"]})}),p.jsxs(RG,{defaultValue:"instructions",className:"w-full",children:[p.jsxs(Ik,{className:"grid w-full grid-cols-2",children:[p.jsx(Yv,{value:"instructions",children:"Instructions"}),p.jsx(Yv,{value:"benefits",children:"Benefits"})]}),p.jsxs(Qv,{value:"instructions",className:"space-y-4",children:[p.jsxs("div",{className:"space-y-3",children:[p.jsx("h3",{className:"font-semibold text-sm",children:c.title}),p.jsx("ol",{className:"list-decimal list-inside space-y-2 text-sm text-gray-600",children:c.steps.map((d,f)=>p.jsx("li",{children:d},f))})]}),p.jsxs("div",{className:"flex items-center justify-center space-x-4 pt-4",children:[i&&p.jsx(uC,{className:"w-8 h-8 text-blue-500"}),s&&p.jsx(uC,{className:"w-8 h-8 text-green-500"}),!i&&!s&&p.jsx(kO,{className:"w-8 h-8 text-gray-500"})]})]}),p.jsx(Qv,{value:"benefits",className:"space-y-4",children:p.jsxs("div",{className:"space-y-3",children:[p.jsx("h3",{className:"font-semibold text-sm",children:"Why Install as App?"}),p.jsxs("ul",{className:"space-y-2 text-sm text-gray-600",children:[p.jsxs("li",{className:"flex items-start",children:[p.jsx("span",{className:"text-green-500 mr-2",children:"✓"}),"Quick access from home screen"]}),p.jsxs("li",{className:"flex items-start",children:[p.jsx("span",{className:"text-green-500 mr-2",children:"✓"}),"Works offline"]}),p.jsxs("li",{className:"flex items-start",children:[p.jsx("span",{className:"text-green-500 mr-2",children:"✓"}),"Faster loading times"]}),p.jsxs("li",{className:"flex items-start",children:[p.jsx("span",{className:"text-green-500 mr-2",children:"✓"}),"Native app-like experience"]}),p.jsxs("li",{className:"flex items-start",children:[p.jsx("span",{className:"text-green-500 mr-2",children:"✓"}),"Push notifications (coming soon)"]})]})]})})]})]})]})},kG=()=>{const[t,e]=v.useState(!1);v.useEffect(()=>{window.matchMedia("(display-mode: standalone)").matches&&e(!0)},[]);const n=()=>{const r=/Chrome/.test(navigator.userAgent),i=/Edg/.test(navigator.userAgent),s=/Safari/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent);alert(r||i?'To install: Look for the install icon (plus sign) in your browser address bar, or use the menu (three dots) and select "Install app"':s?'To install: Tap the Share button (square with arrow) and select "Add to Home Screen"':"To install: Use your browser menu to add this site to your home screen or desktop")};return p.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-black via-gray-900 to-red-950 relative overflow-hidden",children:[p.jsxs("div",{className:"absolute inset-0 opacity-20",children:[p.jsx("div",{className:"absolute top-10 left-10 w-32 h-32 bg-red-500 rounded-full blur-3xl animate-pulse"}),p.jsx("div",{className:"absolute bottom-20 right-10 w-40 h-40 bg-red-600 rounded-full blur-3xl animate-pulse delay-1000"}),p.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-60 h-60 bg-red-700 rounded-full blur-3xl animate-pulse delay-500"})]}),p.jsxs("div",{className:"relative z-10 flex flex-col items-center justify-center min-h-screen px-6 text-center",children:[p.jsxs("div",{className:"mb-8",children:[p.jsxs("h1",{className:"text-5xl md:text-7xl font-bold text-white mb-4 tracking-tight",children:["VAPE ",p.jsx("span",{className:"text-red-500",children:"MASTER"})]}),p.jsx("div",{className:"w-32 h-1 bg-gradient-to-r from-red-500 to-red-700 mx-auto rounded-full"})]}),p.jsxs("div",{className:"mb-12 max-w-md",children:[p.jsx("h2",{className:"text-2xl md:text-3xl font-semibold text-white mb-4",children:"Loyalty Program"}),p.jsx("p",{className:"text-gray-300 text-lg leading-relaxed",children:"Join our loyalty program and get rewards! Earn points with every purchase and unlock exclusive benefits."})]}),p.jsxs("div",{className:"space-y-4 w-full max-w-sm",children:[p.jsx(ai,{to:"/register",className:"block",children:p.jsx(fn,{className:"w-full py-4 text-lg font-semibold bg-gradient-to-r from-red-600 to-red-700 hover:from-red-700 hover:to-red-800 text-white border-none shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105",children:"Join Now"})}),p.jsx(ai,{to:"/login",className:"block",children:p.jsx(fn,{variant:"outline",className:"w-full py-4 text-lg font-semibold bg-transparent border-2 border-red-500 text-red-400 hover:bg-red-500 hover:text-white transition-all duration-300 transform hover:scale-105",children:"Already a Member?"})}),!t&&p.jsxs(fn,{onClick:n,variant:"outline",className:"w-full py-3 text-base font-semibold bg-transparent border-2 border-green-500 text-green-400 hover:bg-green-500 hover:text-white transition-all duration-300 transform hover:scale-105",children:[p.jsx(Jf,{className:"w-4 h-4 mr-2"}),"Install App"]})]}),!t&&p.jsx("div",{className:"mt-8",children:p.jsx(PG,{})}),p.jsx("div",{className:"absolute bottom-6 text-center text-gray-500",children:p.jsx("p",{className:"text-sm",children:"Smoke responsibly • 21+ only"})})]})]})},Uo=v.forwardRef(({className:t,type:e,...n},r)=>p.jsx("input",{type:e,className:it("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));Uo.displayName="Input";var NG="Label",bk=v.forwardRef((t,e)=>p.jsx(Le.label,{...t,ref:e,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=t.onMouseDown)==null||i.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));bk.displayName=NG;var Sk=bk;const DG=fw("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),ki=v.forwardRef(({className:t,...e},n)=>p.jsx(Sk,{ref:n,className:it(DG(),t),...e}));ki.displayName=Sk.displayName;const ME=v.forwardRef(({className:t,...e},n)=>p.jsx("textarea",{className:it("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));ME.displayName="Textarea";const MG=()=>{const[t,e]=v.useState(""),[n,r]=v.useState(""),[i,s]=v.useState(""),[o,a]=v.useState(""),[l,c]=v.useState(!1),{register:d,user:f,loading:h}=ic(),g=ho();if(!h&&f)return g("/dashboard"),null;if(h)return p.jsx("div",{className:"min-h-screen bg-gradient-to-br from-black via-gray-900 to-red-950 flex items-center justify-center",children:p.jsxs("div",{className:"text-center",children:[p.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-500 mx-auto mb-4"}),p.jsx("p",{className:"text-white text-lg",children:"Loading..."})]})});const T=async y=>{if(y.preventDefault(),!t.trim()||!n.trim()||!o.trim()){At({title:"Missing Information",description:"Please fill in your name, email, and password.",variant:"destructive"});return}c(!0);try{await d(t.trim(),n.trim(),o.trim(),i.trim()||null),At({title:"Welcome to Vape Master!",description:"Your loyalty card is ready!"}),g("/dashboard")}catch(I){let C="Please try again.";I&&typeof I=="object"&&"message"in I&&typeof I.message=="string"&&(C=I.message),At({title:"Registration Failed",description:C,variant:"destructive"})}finally{c(!1)}};return p.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-black via-gray-900 to-red-950 relative overflow-hidden",children:[p.jsxs("div",{className:"absolute inset-0 opacity-10",children:[p.jsx("div",{className:"absolute top-20 right-10 w-40 h-40 bg-red-500 rounded-full blur-3xl animate-pulse"}),p.jsx("div",{className:"absolute bottom-32 left-10 w-32 h-32 bg-red-600 rounded-full blur-3xl animate-pulse delay-1000"})]}),p.jsxs("div",{className:"relative z-10 min-h-screen flex flex-col",children:[p.jsx("div",{className:"p-6",children:p.jsx(ai,{to:"/",className:"text-red-400 hover:text-red-300 transition-colors",children:p.jsx($l,{className:"w-6 h-6"})})}),p.jsx("div",{className:"flex-1 flex items-center justify-center px-6",children:p.jsx("div",{className:"w-full max-w-md",children:p.jsxs("div",{className:"bg-gray-900/80 backdrop-blur-sm border border-red-900/30 rounded-2xl p-8 shadow-2xl",children:[p.jsxs("div",{className:"text-center mb-8",children:[p.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Join the Club"}),p.jsx("p",{className:"text-gray-400",children:"Create your loyalty account"})]}),p.jsxs("form",{onSubmit:T,className:"space-y-6",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx(ki,{htmlFor:"name",className:"text-white",children:"Full Name"}),p.jsx(Uo,{id:"name",type:"text",value:t,onChange:y=>e(y.target.value),placeholder:"Enter your full name",className:"bg-gray-800/50 border-gray-700 text-white placeholder-gray-400 focus:border-red-500",required:!0})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(ki,{htmlFor:"email",className:"text-white",children:"Email"}),p.jsx(Uo,{id:"email",type:"email",value:n,onChange:y=>r(y.target.value),placeholder:"Enter your email",className:"bg-gray-800/50 border-gray-700 text-white placeholder-gray-400 focus:border-red-500",required:!0})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(ki,{htmlFor:"password",className:"text-white",children:"Password"}),p.jsx(Uo,{id:"password",type:"password",value:o,onChange:y=>a(y.target.value),placeholder:"Create a password",className:"bg-gray-800/50 border-gray-700 text-white placeholder-gray-400 focus:border-red-500",required:!0})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(ki,{htmlFor:"feedback",className:"text-white",children:"Feedback (Optional)"}),p.jsx(ME,{id:"feedback",value:i,onChange:y=>s(y.target.value),placeholder:"Tell us about your experience...",className:"bg-gray-800/50 border-gray-700 text-white placeholder-gray-400 focus:border-red-500 min-h-[100px]"})]}),p.jsx(fn,{type:"submit",className:"w-full py-3 bg-gradient-to-r from-red-600 to-red-700 hover:from-red-700 hover:to-red-800 text-white font-semibold",disabled:l,children:l?"Creating Account...":"Create Account"})]}),p.jsx("div",{className:"mt-6 text-center",children:p.jsxs("p",{className:"text-gray-400",children:["Already have an account?"," ",p.jsx(ai,{to:"/login",className:"text-red-400 hover:text-red-300 transition-colors font-semibold",children:"Sign in"})]})})]})})})]})]})},OG=()=>{const[t,e]=v.useState(""),[n,r]=v.useState(""),[i,s]=v.useState(!1),{login:o,user:a,loading:l}=ic(),c=ho();if(!l&&a)return c("/dashboard"),null;if(l)return p.jsx("div",{className:"min-h-screen bg-gradient-to-br from-black via-gray-900 to-red-950 flex items-center justify-center",children:p.jsxs("div",{className:"text-center",children:[p.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-500 mx-auto mb-4"}),p.jsx("p",{className:"text-white text-lg",children:"Loading..."})]})});const d=async f=>{if(f.preventDefault(),!t.trim()||!n.trim()){At({title:"Missing Information",description:"Please enter your email and password.",variant:"destructive"});return}s(!0);try{const h=await o(t.trim(),n.trim());h?(At({title:"Welcome back!",description:`Good to see you again, ${h.name}!`}),c("/dashboard")):At({title:"User Not Found",description:"No account found with this email. Please register first.",variant:"destructive"})}catch(h){let g="Please try again.";h&&typeof h=="object"&&"message"in h&&typeof h.message=="string"&&(g=h.message),At({title:"Login Failed",description:g,variant:"destructive"})}finally{s(!1)}};return p.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-black via-gray-900 to-red-950 relative overflow-hidden",children:[p.jsxs("div",{className:"absolute inset-0 opacity-10",children:[p.jsx("div",{className:"absolute top-20 right-10 w-40 h-40 bg-red-500 rounded-full blur-3xl animate-pulse"}),p.jsx("div",{className:"absolute bottom-32 left-10 w-32 h-32 bg-red-600 rounded-full blur-3xl animate-pulse delay-1000"})]}),p.jsxs("div",{className:"relative z-10 min-h-screen flex flex-col",children:[p.jsx("div",{className:"p-6",children:p.jsx(ai,{to:"/",className:"text-red-400 hover:text-red-300 transition-colors",children:p.jsx($l,{className:"w-6 h-6"})})}),p.jsx("div",{className:"flex-1 flex items-center justify-center px-6",children:p.jsx("div",{className:"w-full max-w-md",children:p.jsxs("div",{className:"bg-gray-900/80 backdrop-blur-sm border border-red-900/30 rounded-2xl p-8 shadow-2xl",children:[p.jsxs("div",{className:"text-center mb-8",children:[p.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Welcome Back"}),p.jsx("p",{className:"text-gray-400",children:"Sign in to your loyalty account"})]}),p.jsxs("form",{onSubmit:d,className:"space-y-6",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx(ki,{htmlFor:"email",className:"text-white",children:"Email"}),p.jsx(Uo,{id:"email",type:"email",value:t,onChange:f=>e(f.target.value),placeholder:"Enter your email",className:"bg-gray-800/50 border-gray-700 text-white placeholder-gray-400 focus:border-red-500",required:!0})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(ki,{htmlFor:"password",className:"text-white",children:"Password"}),p.jsx(Uo,{id:"password",type:"password",value:n,onChange:f=>r(f.target.value),placeholder:"Enter your password",className:"bg-gray-800/50 border-gray-700 text-white placeholder-gray-400 focus:border-red-500",required:!0})]}),p.jsx(fn,{type:"submit",className:"w-full py-3 bg-gradient-to-r from-red-600 to-red-700 hover:from-red-700 hover:to-red-800 text-white font-semibold",disabled:i,children:i?"Signing In...":"Sign In"})]}),p.jsx("div",{className:"mt-6 text-center",children:p.jsxs("p",{className:"text-gray-400",children:["Don't have an account?"," ",p.jsx(ai,{to:"/register",className:"text-red-400 hover:text-red-300 transition-colors font-semibold",children:"Sign up"})]})})]})})})]})]})};var wd={},LG=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},Rk={},ir={};let OE;const VG=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];ir.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return e*4+17};ir.getSymbolTotalCodewords=function(e){return VG[e]};ir.getBCHDigit=function(t){let e=0;for(;t!==0;)e++,t>>>=1;return e};ir.setToSJISFunction=function(e){if(typeof e!="function")throw new Error('"toSJISFunc" is not a valid function.');OE=e};ir.isKanjiModeEnabled=function(){return typeof OE<"u"};ir.toSJIS=function(e){return OE(e)};var km={};(function(t){t.L={bit:1},t.M={bit:0},t.Q={bit:3},t.H={bit:2};function e(n){if(typeof n!="string")throw new Error("Param is not a string");switch(n.toLowerCase()){case"l":case"low":return t.L;case"m":case"medium":return t.M;case"q":case"quartile":return t.Q;case"h":case"high":return t.H;default:throw new Error("Unknown EC Level: "+n)}}t.isValid=function(r){return r&&typeof r.bit<"u"&&r.bit>=0&&r.bit<4},t.from=function(r,i){if(t.isValid(r))return r;try{return e(r)}catch{return i}}})(km);function Pk(){this.buffer=[],this.length=0}Pk.prototype={get:function(t){const e=Math.floor(t/8);return(this.buffer[e]>>>7-t%8&1)===1},put:function(t,e){for(let n=0;n<e;n++)this.putBit((t>>>e-n-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(t){const e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var FG=Pk;function Ed(t){if(!t||t<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=t,this.data=new Uint8Array(t*t),this.reservedBit=new Uint8Array(t*t)}Ed.prototype.set=function(t,e,n,r){const i=t*this.size+e;this.data[i]=n,r&&(this.reservedBit[i]=!0)};Ed.prototype.get=function(t,e){return this.data[t*this.size+e]};Ed.prototype.xor=function(t,e,n){this.data[t*this.size+e]^=n};Ed.prototype.isReserved=function(t,e){return this.reservedBit[t*this.size+e]};var BG=Ed,kk={};(function(t){const e=ir.getSymbolSize;t.getRowColCoords=function(r){if(r===1)return[];const i=Math.floor(r/7)+2,s=e(r),o=s===145?26:Math.ceil((s-13)/(2*i-2))*2,a=[s-7];for(let l=1;l<i-1;l++)a[l]=a[l-1]-o;return a.push(6),a.reverse()},t.getPositions=function(r){const i=[],s=t.getRowColCoords(r),o=s.length;for(let a=0;a<o;a++)for(let l=0;l<o;l++)a===0&&l===0||a===0&&l===o-1||a===o-1&&l===0||i.push([s[a],s[l]]);return i}})(kk);var Nk={};const jG=ir.getSymbolSize,S_=7;Nk.getPositions=function(e){const n=jG(e);return[[0,0],[n-S_,0],[0,n-S_]]};var Dk={};(function(t){t.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const e={N1:3,N2:3,N3:40,N4:10};t.isValid=function(i){return i!=null&&i!==""&&!isNaN(i)&&i>=0&&i<=7},t.from=function(i){return t.isValid(i)?parseInt(i,10):void 0},t.getPenaltyN1=function(i){const s=i.size;let o=0,a=0,l=0,c=null,d=null;for(let f=0;f<s;f++){a=l=0,c=d=null;for(let h=0;h<s;h++){let g=i.get(f,h);g===c?a++:(a>=5&&(o+=e.N1+(a-5)),c=g,a=1),g=i.get(h,f),g===d?l++:(l>=5&&(o+=e.N1+(l-5)),d=g,l=1)}a>=5&&(o+=e.N1+(a-5)),l>=5&&(o+=e.N1+(l-5))}return o},t.getPenaltyN2=function(i){const s=i.size;let o=0;for(let a=0;a<s-1;a++)for(let l=0;l<s-1;l++){const c=i.get(a,l)+i.get(a,l+1)+i.get(a+1,l)+i.get(a+1,l+1);(c===4||c===0)&&o++}return o*e.N2},t.getPenaltyN3=function(i){const s=i.size;let o=0,a=0,l=0;for(let c=0;c<s;c++){a=l=0;for(let d=0;d<s;d++)a=a<<1&2047|i.get(c,d),d>=10&&(a===1488||a===93)&&o++,l=l<<1&2047|i.get(d,c),d>=10&&(l===1488||l===93)&&o++}return o*e.N3},t.getPenaltyN4=function(i){let s=0;const o=i.data.length;for(let l=0;l<o;l++)s+=i.data[l];return Math.abs(Math.ceil(s*100/o/5)-10)*e.N4};function n(r,i,s){switch(r){case t.Patterns.PATTERN000:return(i+s)%2===0;case t.Patterns.PATTERN001:return i%2===0;case t.Patterns.PATTERN010:return s%3===0;case t.Patterns.PATTERN011:return(i+s)%3===0;case t.Patterns.PATTERN100:return(Math.floor(i/2)+Math.floor(s/3))%2===0;case t.Patterns.PATTERN101:return i*s%2+i*s%3===0;case t.Patterns.PATTERN110:return(i*s%2+i*s%3)%2===0;case t.Patterns.PATTERN111:return(i*s%3+(i+s)%2)%2===0;default:throw new Error("bad maskPattern:"+r)}}t.applyMask=function(i,s){const o=s.size;for(let a=0;a<o;a++)for(let l=0;l<o;l++)s.isReserved(l,a)||s.xor(l,a,n(i,l,a))},t.getBestMask=function(i,s){const o=Object.keys(t.Patterns).length;let a=0,l=1/0;for(let c=0;c<o;c++){s(c),t.applyMask(c,i);const d=t.getPenaltyN1(i)+t.getPenaltyN2(i)+t.getPenaltyN3(i)+t.getPenaltyN4(i);t.applyMask(c,i),d<l&&(l=d,a=c)}return a}})(Dk);var Nm={};const bs=km,Uh=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],qh=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];Nm.getBlocksCount=function(e,n){switch(n){case bs.L:return Uh[(e-1)*4+0];case bs.M:return Uh[(e-1)*4+1];case bs.Q:return Uh[(e-1)*4+2];case bs.H:return Uh[(e-1)*4+3];default:return}};Nm.getTotalCodewordsCount=function(e,n){switch(n){case bs.L:return qh[(e-1)*4+0];case bs.M:return qh[(e-1)*4+1];case bs.Q:return qh[(e-1)*4+2];case bs.H:return qh[(e-1)*4+3];default:return}};var Mk={},Dm={};const ou=new Uint8Array(512),Sp=new Uint8Array(256);(function(){let e=1;for(let n=0;n<255;n++)ou[n]=e,Sp[e]=n,e<<=1,e&256&&(e^=285);for(let n=255;n<512;n++)ou[n]=ou[n-255]})();Dm.log=function(e){if(e<1)throw new Error("log("+e+")");return Sp[e]};Dm.exp=function(e){return ou[e]};Dm.mul=function(e,n){return e===0||n===0?0:ou[Sp[e]+Sp[n]]};(function(t){const e=Dm;t.mul=function(r,i){const s=new Uint8Array(r.length+i.length-1);for(let o=0;o<r.length;o++)for(let a=0;a<i.length;a++)s[o+a]^=e.mul(r[o],i[a]);return s},t.mod=function(r,i){let s=new Uint8Array(r);for(;s.length-i.length>=0;){const o=s[0];for(let l=0;l<i.length;l++)s[l]^=e.mul(i[l],o);let a=0;for(;a<s.length&&s[a]===0;)a++;s=s.slice(a)}return s},t.generateECPolynomial=function(r){let i=new Uint8Array([1]);for(let s=0;s<r;s++)i=t.mul(i,new Uint8Array([1,e.exp(s)]));return i}})(Mk);const Ok=Mk;function LE(t){this.genPoly=void 0,this.degree=t,this.degree&&this.initialize(this.degree)}LE.prototype.initialize=function(e){this.degree=e,this.genPoly=Ok.generateECPolynomial(this.degree)};LE.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");const n=new Uint8Array(e.length+this.degree);n.set(e);const r=Ok.mod(n,this.genPoly),i=this.degree-r.length;if(i>0){const s=new Uint8Array(this.degree);return s.set(r,i),s}return r};var UG=LE,Lk={},fo={},VE={};VE.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40};var ci={};const Vk="[0-9]+",qG="[A-Z $%*+\\-./:]+";let Gu="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";Gu=Gu.replace(/u/g,"\\u");const GG="(?:(?![A-Z0-9 $%*+\\-./:]|"+Gu+`)(?:.|[\r
]))+`;ci.KANJI=new RegExp(Gu,"g");ci.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");ci.BYTE=new RegExp(GG,"g");ci.NUMERIC=new RegExp(Vk,"g");ci.ALPHANUMERIC=new RegExp(qG,"g");const $G=new RegExp("^"+Gu+"$"),zG=new RegExp("^"+Vk+"$"),WG=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");ci.testKanji=function(e){return $G.test(e)};ci.testNumeric=function(e){return zG.test(e)};ci.testAlphanumeric=function(e){return WG.test(e)};(function(t){const e=VE,n=ci;t.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},t.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},t.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},t.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},t.MIXED={bit:-1},t.getCharCountIndicator=function(s,o){if(!s.ccBits)throw new Error("Invalid mode: "+s);if(!e.isValid(o))throw new Error("Invalid version: "+o);return o>=1&&o<10?s.ccBits[0]:o<27?s.ccBits[1]:s.ccBits[2]},t.getBestModeForData=function(s){return n.testNumeric(s)?t.NUMERIC:n.testAlphanumeric(s)?t.ALPHANUMERIC:n.testKanji(s)?t.KANJI:t.BYTE},t.toString=function(s){if(s&&s.id)return s.id;throw new Error("Invalid mode")},t.isValid=function(s){return s&&s.bit&&s.ccBits};function r(i){if(typeof i!="string")throw new Error("Param is not a string");switch(i.toLowerCase()){case"numeric":return t.NUMERIC;case"alphanumeric":return t.ALPHANUMERIC;case"kanji":return t.KANJI;case"byte":return t.BYTE;default:throw new Error("Unknown mode: "+i)}}t.from=function(s,o){if(t.isValid(s))return s;try{return r(s)}catch{return o}}})(fo);(function(t){const e=ir,n=Nm,r=km,i=fo,s=VE,o=7973,a=e.getBCHDigit(o);function l(h,g,T){for(let y=1;y<=40;y++)if(g<=t.getCapacity(y,T,h))return y}function c(h,g){return i.getCharCountIndicator(h,g)+4}function d(h,g){let T=0;return h.forEach(function(y){const I=c(y.mode,g);T+=I+y.getBitsLength()}),T}function f(h,g){for(let T=1;T<=40;T++)if(d(h,T)<=t.getCapacity(T,g,i.MIXED))return T}t.from=function(g,T){return s.isValid(g)?parseInt(g,10):T},t.getCapacity=function(g,T,y){if(!s.isValid(g))throw new Error("Invalid QR Code version");typeof y>"u"&&(y=i.BYTE);const I=e.getSymbolTotalCodewords(g),C=n.getTotalCodewordsCount(g,T),w=(I-C)*8;if(y===i.MIXED)return w;const A=w-c(y,g);switch(y){case i.NUMERIC:return Math.floor(A/10*3);case i.ALPHANUMERIC:return Math.floor(A/11*2);case i.KANJI:return Math.floor(A/13);case i.BYTE:default:return Math.floor(A/8)}},t.getBestVersionForData=function(g,T){let y;const I=r.from(T,r.M);if(Array.isArray(g)){if(g.length>1)return f(g,I);if(g.length===0)return 1;y=g[0]}else y=g;return l(y.mode,y.getLength(),I)},t.getEncodedBits=function(g){if(!s.isValid(g)||g<7)throw new Error("Invalid QR Code version");let T=g<<12;for(;e.getBCHDigit(T)-a>=0;)T^=o<<e.getBCHDigit(T)-a;return g<<12|T}})(Lk);var Fk={};const Kv=ir,Bk=1335,YG=21522,R_=Kv.getBCHDigit(Bk);Fk.getEncodedBits=function(e,n){const r=e.bit<<3|n;let i=r<<10;for(;Kv.getBCHDigit(i)-R_>=0;)i^=Bk<<Kv.getBCHDigit(i)-R_;return(r<<10|i)^YG};var jk={};const QG=fo;function Vl(t){this.mode=QG.NUMERIC,this.data=t.toString()}Vl.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)};Vl.prototype.getLength=function(){return this.data.length};Vl.prototype.getBitsLength=function(){return Vl.getBitsLength(this.data.length)};Vl.prototype.write=function(e){let n,r,i;for(n=0;n+3<=this.data.length;n+=3)r=this.data.substr(n,3),i=parseInt(r,10),e.put(i,10);const s=this.data.length-n;s>0&&(r=this.data.substr(n),i=parseInt(r,10),e.put(i,s*3+1))};var KG=Vl;const HG=fo,ty=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function Fl(t){this.mode=HG.ALPHANUMERIC,this.data=t}Fl.getBitsLength=function(e){return 11*Math.floor(e/2)+6*(e%2)};Fl.prototype.getLength=function(){return this.data.length};Fl.prototype.getBitsLength=function(){return Fl.getBitsLength(this.data.length)};Fl.prototype.write=function(e){let n;for(n=0;n+2<=this.data.length;n+=2){let r=ty.indexOf(this.data[n])*45;r+=ty.indexOf(this.data[n+1]),e.put(r,11)}this.data.length%2&&e.put(ty.indexOf(this.data[n]),6)};var JG=Fl;const ZG=fo;function Bl(t){this.mode=ZG.BYTE,typeof t=="string"?this.data=new TextEncoder().encode(t):this.data=new Uint8Array(t)}Bl.getBitsLength=function(e){return e*8};Bl.prototype.getLength=function(){return this.data.length};Bl.prototype.getBitsLength=function(){return Bl.getBitsLength(this.data.length)};Bl.prototype.write=function(t){for(let e=0,n=this.data.length;e<n;e++)t.put(this.data[e],8)};var XG=Bl;const e7=fo,t7=ir;function jl(t){this.mode=e7.KANJI,this.data=t}jl.getBitsLength=function(e){return e*13};jl.prototype.getLength=function(){return this.data.length};jl.prototype.getBitsLength=function(){return jl.getBitsLength(this.data.length)};jl.prototype.write=function(t){let e;for(e=0;e<this.data.length;e++){let n=t7.toSJIS(this.data[e]);if(n>=33088&&n<=40956)n-=33088;else if(n>=57408&&n<=60351)n-=49472;else throw new Error("Invalid SJIS character: "+this.data[e]+`
Make sure your charset is UTF-8`);n=(n>>>8&255)*192+(n&255),t.put(n,13)}};var n7=jl,Uk={exports:{}};(function(t){var e={single_source_shortest_paths:function(n,r,i){var s={},o={};o[r]=0;var a=e.PriorityQueue.make();a.push(r,0);for(var l,c,d,f,h,g,T,y,I;!a.empty();){l=a.pop(),c=l.value,f=l.cost,h=n[c]||{};for(d in h)h.hasOwnProperty(d)&&(g=h[d],T=f+g,y=o[d],I=typeof o[d]>"u",(I||y>T)&&(o[d]=T,a.push(d,T),s[d]=c))}if(typeof i<"u"&&typeof o[i]>"u"){var C=["Could not find a path from ",r," to ",i,"."].join("");throw new Error(C)}return s},extract_shortest_path_from_predecessor_list:function(n,r){for(var i=[],s=r;s;)i.push(s),n[s],s=n[s];return i.reverse(),i},find_path:function(n,r,i){var s=e.single_source_shortest_paths(n,r,i);return e.extract_shortest_path_from_predecessor_list(s,i)},PriorityQueue:{make:function(n){var r=e.PriorityQueue,i={},s;n=n||{};for(s in r)r.hasOwnProperty(s)&&(i[s]=r[s]);return i.queue=[],i.sorter=n.sorter||r.default_sorter,i},default_sorter:function(n,r){return n.cost-r.cost},push:function(n,r){var i={value:n,cost:r};this.queue.push(i),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};t.exports=e})(Uk);var r7=Uk.exports;(function(t){const e=fo,n=KG,r=JG,i=XG,s=n7,o=ci,a=ir,l=r7;function c(C){return unescape(encodeURIComponent(C)).length}function d(C,w,A){const R=[];let O;for(;(O=C.exec(A))!==null;)R.push({data:O[0],index:O.index,mode:w,length:O[0].length});return R}function f(C){const w=d(o.NUMERIC,e.NUMERIC,C),A=d(o.ALPHANUMERIC,e.ALPHANUMERIC,C);let R,O;return a.isKanjiModeEnabled()?(R=d(o.BYTE,e.BYTE,C),O=d(o.KANJI,e.KANJI,C)):(R=d(o.BYTE_KANJI,e.BYTE,C),O=[]),w.concat(A,R,O).sort(function(S,b){return S.index-b.index}).map(function(S){return{data:S.data,mode:S.mode,length:S.length}})}function h(C,w){switch(w){case e.NUMERIC:return n.getBitsLength(C);case e.ALPHANUMERIC:return r.getBitsLength(C);case e.KANJI:return s.getBitsLength(C);case e.BYTE:return i.getBitsLength(C)}}function g(C){return C.reduce(function(w,A){const R=w.length-1>=0?w[w.length-1]:null;return R&&R.mode===A.mode?(w[w.length-1].data+=A.data,w):(w.push(A),w)},[])}function T(C){const w=[];for(let A=0;A<C.length;A++){const R=C[A];switch(R.mode){case e.NUMERIC:w.push([R,{data:R.data,mode:e.ALPHANUMERIC,length:R.length},{data:R.data,mode:e.BYTE,length:R.length}]);break;case e.ALPHANUMERIC:w.push([R,{data:R.data,mode:e.BYTE,length:R.length}]);break;case e.KANJI:w.push([R,{data:R.data,mode:e.BYTE,length:c(R.data)}]);break;case e.BYTE:w.push([{data:R.data,mode:e.BYTE,length:c(R.data)}])}}return w}function y(C,w){const A={},R={start:{}};let O=["start"];for(let B=0;B<C.length;B++){const S=C[B],b=[];for(let k=0;k<S.length;k++){const D=S[k],V=""+B+k;b.push(V),A[V]={node:D,lastCount:0},R[V]={};for(let F=0;F<O.length;F++){const M=O[F];A[M]&&A[M].node.mode===D.mode?(R[M][V]=h(A[M].lastCount+D.length,D.mode)-h(A[M].lastCount,D.mode),A[M].lastCount+=D.length):(A[M]&&(A[M].lastCount=D.length),R[M][V]=h(D.length,D.mode)+4+e.getCharCountIndicator(D.mode,w))}}O=b}for(let B=0;B<O.length;B++)R[O[B]].end=0;return{map:R,table:A}}function I(C,w){let A;const R=e.getBestModeForData(C);if(A=e.from(w,R),A!==e.BYTE&&A.bit<R.bit)throw new Error('"'+C+'" cannot be encoded with mode '+e.toString(A)+`.
 Suggested mode is: `+e.toString(R));switch(A===e.KANJI&&!a.isKanjiModeEnabled()&&(A=e.BYTE),A){case e.NUMERIC:return new n(C);case e.ALPHANUMERIC:return new r(C);case e.KANJI:return new s(C);case e.BYTE:return new i(C)}}t.fromArray=function(w){return w.reduce(function(A,R){return typeof R=="string"?A.push(I(R,null)):R.data&&A.push(I(R.data,R.mode)),A},[])},t.fromString=function(w,A){const R=f(w,a.isKanjiModeEnabled()),O=T(R),B=y(O,A),S=l.find_path(B.map,"start","end"),b=[];for(let k=1;k<S.length-1;k++)b.push(B.table[S[k]].node);return t.fromArray(g(b))},t.rawSplit=function(w){return t.fromArray(f(w,a.isKanjiModeEnabled()))}})(jk);const Mm=ir,ny=km,i7=FG,s7=BG,o7=kk,a7=Nk,Hv=Dk,Jv=Nm,l7=UG,Rp=Lk,c7=Fk,u7=fo,ry=jk;function d7(t,e){const n=t.size,r=a7.getPositions(e);for(let i=0;i<r.length;i++){const s=r[i][0],o=r[i][1];for(let a=-1;a<=7;a++)if(!(s+a<=-1||n<=s+a))for(let l=-1;l<=7;l++)o+l<=-1||n<=o+l||(a>=0&&a<=6&&(l===0||l===6)||l>=0&&l<=6&&(a===0||a===6)||a>=2&&a<=4&&l>=2&&l<=4?t.set(s+a,o+l,!0,!0):t.set(s+a,o+l,!1,!0))}}function h7(t){const e=t.size;for(let n=8;n<e-8;n++){const r=n%2===0;t.set(n,6,r,!0),t.set(6,n,r,!0)}}function f7(t,e){const n=o7.getPositions(e);for(let r=0;r<n.length;r++){const i=n[r][0],s=n[r][1];for(let o=-2;o<=2;o++)for(let a=-2;a<=2;a++)o===-2||o===2||a===-2||a===2||o===0&&a===0?t.set(i+o,s+a,!0,!0):t.set(i+o,s+a,!1,!0)}}function p7(t,e){const n=t.size,r=Rp.getEncodedBits(e);let i,s,o;for(let a=0;a<18;a++)i=Math.floor(a/3),s=a%3+n-8-3,o=(r>>a&1)===1,t.set(i,s,o,!0),t.set(s,i,o,!0)}function iy(t,e,n){const r=t.size,i=c7.getEncodedBits(e,n);let s,o;for(s=0;s<15;s++)o=(i>>s&1)===1,s<6?t.set(s,8,o,!0):s<8?t.set(s+1,8,o,!0):t.set(r-15+s,8,o,!0),s<8?t.set(8,r-s-1,o,!0):s<9?t.set(8,15-s-1+1,o,!0):t.set(8,15-s-1,o,!0);t.set(r-8,8,1,!0)}function m7(t,e){const n=t.size;let r=-1,i=n-1,s=7,o=0;for(let a=n-1;a>0;a-=2)for(a===6&&a--;;){for(let l=0;l<2;l++)if(!t.isReserved(i,a-l)){let c=!1;o<e.length&&(c=(e[o]>>>s&1)===1),t.set(i,a-l,c),s--,s===-1&&(o++,s=7)}if(i+=r,i<0||n<=i){i-=r,r=-r;break}}}function g7(t,e,n){const r=new i7;n.forEach(function(l){r.put(l.mode.bit,4),r.put(l.getLength(),u7.getCharCountIndicator(l.mode,t)),l.write(r)});const i=Mm.getSymbolTotalCodewords(t),s=Jv.getTotalCodewordsCount(t,e),o=(i-s)*8;for(r.getLengthInBits()+4<=o&&r.put(0,4);r.getLengthInBits()%8!==0;)r.putBit(0);const a=(o-r.getLengthInBits())/8;for(let l=0;l<a;l++)r.put(l%2?17:236,8);return y7(r,t,e)}function y7(t,e,n){const r=Mm.getSymbolTotalCodewords(e),i=Jv.getTotalCodewordsCount(e,n),s=r-i,o=Jv.getBlocksCount(e,n),a=r%o,l=o-a,c=Math.floor(r/o),d=Math.floor(s/o),f=d+1,h=c-d,g=new l7(h);let T=0;const y=new Array(o),I=new Array(o);let C=0;const w=new Uint8Array(t.buffer);for(let S=0;S<o;S++){const b=S<l?d:f;y[S]=w.slice(T,T+b),I[S]=g.encode(y[S]),T+=b,C=Math.max(C,b)}const A=new Uint8Array(r);let R=0,O,B;for(O=0;O<C;O++)for(B=0;B<o;B++)O<y[B].length&&(A[R++]=y[B][O]);for(O=0;O<h;O++)for(B=0;B<o;B++)A[R++]=I[B][O];return A}function v7(t,e,n,r){let i;if(Array.isArray(t))i=ry.fromArray(t);else if(typeof t=="string"){let c=e;if(!c){const d=ry.rawSplit(t);c=Rp.getBestVersionForData(d,n)}i=ry.fromString(t,c||40)}else throw new Error("Invalid data");const s=Rp.getBestVersionForData(i,n);if(!s)throw new Error("The amount of data is too big to be stored in a QR Code");if(!e)e=s;else if(e<s)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+s+`.
`);const o=g7(e,n,i),a=Mm.getSymbolSize(e),l=new s7(a);return d7(l,e),h7(l),f7(l,e),iy(l,n,0),e>=7&&p7(l,e),m7(l,o),isNaN(r)&&(r=Hv.getBestMask(l,iy.bind(null,l,n))),Hv.applyMask(r,l),iy(l,n,r),{modules:l,version:e,errorCorrectionLevel:n,maskPattern:r,segments:i}}Rk.create=function(e,n){if(typeof e>"u"||e==="")throw new Error("No input text");let r=ny.M,i,s;return typeof n<"u"&&(r=ny.from(n.errorCorrectionLevel,ny.M),i=Rp.from(n.version),s=Hv.from(n.maskPattern),n.toSJISFunc&&Mm.setToSJISFunction(n.toSJISFunc)),v7(e,i,r,s)};var qk={},FE={};(function(t){function e(n){if(typeof n=="number"&&(n=n.toString()),typeof n!="string")throw new Error("Color should be defined as hex string");let r=n.slice().replace("#","").split("");if(r.length<3||r.length===5||r.length>8)throw new Error("Invalid hex color: "+n);(r.length===3||r.length===4)&&(r=Array.prototype.concat.apply([],r.map(function(s){return[s,s]}))),r.length===6&&r.push("F","F");const i=parseInt(r.join(""),16);return{r:i>>24&255,g:i>>16&255,b:i>>8&255,a:i&255,hex:"#"+r.slice(0,6).join("")}}t.getOptions=function(r){r||(r={}),r.color||(r.color={});const i=typeof r.margin>"u"||r.margin===null||r.margin<0?4:r.margin,s=r.width&&r.width>=21?r.width:void 0,o=r.scale||4;return{width:s,scale:s?4:o,margin:i,color:{dark:e(r.color.dark||"#000000ff"),light:e(r.color.light||"#ffffffff")},type:r.type,rendererOpts:r.rendererOpts||{}}},t.getScale=function(r,i){return i.width&&i.width>=r+i.margin*2?i.width/(r+i.margin*2):i.scale},t.getImageWidth=function(r,i){const s=t.getScale(r,i);return Math.floor((r+i.margin*2)*s)},t.qrToImageData=function(r,i,s){const o=i.modules.size,a=i.modules.data,l=t.getScale(o,s),c=Math.floor((o+s.margin*2)*l),d=s.margin*l,f=[s.color.light,s.color.dark];for(let h=0;h<c;h++)for(let g=0;g<c;g++){let T=(h*c+g)*4,y=s.color.light;if(h>=d&&g>=d&&h<c-d&&g<c-d){const I=Math.floor((h-d)/l),C=Math.floor((g-d)/l);y=f[a[I*o+C]?1:0]}r[T++]=y.r,r[T++]=y.g,r[T++]=y.b,r[T]=y.a}}})(FE);(function(t){const e=FE;function n(i,s,o){i.clearRect(0,0,s.width,s.height),s.style||(s.style={}),s.height=o,s.width=o,s.style.height=o+"px",s.style.width=o+"px"}function r(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}t.render=function(s,o,a){let l=a,c=o;typeof l>"u"&&(!o||!o.getContext)&&(l=o,o=void 0),o||(c=r()),l=e.getOptions(l);const d=e.getImageWidth(s.modules.size,l),f=c.getContext("2d"),h=f.createImageData(d,d);return e.qrToImageData(h.data,s,l),n(f,c,d),f.putImageData(h,0,0),c},t.renderToDataURL=function(s,o,a){let l=a;typeof l>"u"&&(!o||!o.getContext)&&(l=o,o=void 0),l||(l={});const c=t.render(s,o,l),d=l.type||"image/png",f=l.rendererOpts||{};return c.toDataURL(d,f.quality)}})(qk);var Gk={};const w7=FE;function P_(t,e){const n=t.a/255,r=e+'="'+t.hex+'"';return n<1?r+" "+e+'-opacity="'+n.toFixed(2).slice(1)+'"':r}function sy(t,e,n){let r=t+e;return typeof n<"u"&&(r+=" "+n),r}function E7(t,e,n){let r="",i=0,s=!1,o=0;for(let a=0;a<t.length;a++){const l=Math.floor(a%e),c=Math.floor(a/e);!l&&!s&&(s=!0),t[a]?(o++,a>0&&l>0&&t[a-1]||(r+=s?sy("M",l+n,.5+c+n):sy("m",i,0),i=0,s=!1),l+1<e&&t[a+1]||(r+=sy("h",o),o=0)):i++}return r}Gk.render=function(e,n,r){const i=w7.getOptions(n),s=e.modules.size,o=e.modules.data,a=s+i.margin*2,l=i.color.light.a?"<path "+P_(i.color.light,"fill")+' d="M0 0h'+a+"v"+a+'H0z"/>':"",c="<path "+P_(i.color.dark,"stroke")+' d="'+E7(o,s,i.margin)+'"/>',d='viewBox="0 0 '+a+" "+a+'"',h='<svg xmlns="http://www.w3.org/2000/svg" '+(i.width?'width="'+i.width+'" height="'+i.width+'" ':"")+d+' shape-rendering="crispEdges">'+l+c+`</svg>
`;return typeof r=="function"&&r(null,h),h};const C7=LG,Zv=Rk,$k=qk,T7=Gk;function BE(t,e,n,r,i){const s=[].slice.call(arguments,1),o=s.length,a=typeof s[o-1]=="function";if(!a&&!C7())throw new Error("Callback required as last argument");if(a){if(o<2)throw new Error("Too few arguments provided");o===2?(i=n,n=e,e=r=void 0):o===3&&(e.getContext&&typeof i>"u"?(i=r,r=void 0):(i=r,r=n,n=e,e=void 0))}else{if(o<1)throw new Error("Too few arguments provided");return o===1?(n=e,e=r=void 0):o===2&&!e.getContext&&(r=n,n=e,e=void 0),new Promise(function(l,c){try{const d=Zv.create(n,r);l(t(d,e,r))}catch(d){c(d)}})}try{const l=Zv.create(n,r);i(null,t(l,e,r))}catch(l){i(l)}}wd.create=Zv.create;wd.toCanvas=BE.bind(null,$k.render);wd.toDataURL=BE.bind(null,$k.renderToDataURL);wd.toString=BE.bind(null,function(t,e,n){return T7.render(t,n)});const _7=({value:t,size:e=200,className:n=""})=>{const r=v.useRef(null);return v.useEffect(()=>{r.current&&wd.toCanvas(r.current,t,{width:e,margin:2,color:{dark:"#000000",light:"#FFFFFF"}})},[t,e]),p.jsx("div",{className:`flex justify-center ${n}`,children:p.jsx("canvas",{ref:r,className:"border-4 border-white rounded-lg shadow-lg"})})};var wf={linear:function(t,e,n,r){var i=n-e;return i*t/r+e},easeInQuad:function(t,e,n,r){var i=n-e;return i*(t/=r)*t+e},easeOutQuad:function(t,e,n,r){var i=n-e;return-i*(t/=r)*(t-2)+e},easeInOutQuad:function(t,e,n,r){var i=n-e;return(t/=r/2)<1?i/2*t*t+e:-i/2*(--t*(t-2)-1)+e},easeInCubic:function(t,e,n,r){var i=n-e;return i*(t/=r)*t*t+e},easeOutCubic:function(t,e,n,r){var i=n-e;return i*((t=t/r-1)*t*t+1)+e},easeInOutCubic:function(t,e,n,r){var i=n-e;return(t/=r/2)<1?i/2*t*t*t+e:i/2*((t-=2)*t*t+2)+e},easeInQuart:function(t,e,n,r){var i=n-e;return i*(t/=r)*t*t*t+e},easeOutQuart:function(t,e,n,r){var i=n-e;return-i*((t=t/r-1)*t*t*t-1)+e},easeInOutQuart:function(t,e,n,r){var i=n-e;return(t/=r/2)<1?i/2*t*t*t*t+e:-i/2*((t-=2)*t*t*t-2)+e},easeInQuint:function(t,e,n,r){var i=n-e;return i*(t/=r)*t*t*t*t+e},easeOutQuint:function(t,e,n,r){var i=n-e;return i*((t=t/r-1)*t*t*t*t+1)+e},easeInOutQuint:function(t,e,n,r){var i=n-e;return(t/=r/2)<1?i/2*t*t*t*t*t+e:i/2*((t-=2)*t*t*t*t+2)+e},easeInSine:function(t,e,n,r){var i=n-e;return-i*Math.cos(t/r*(Math.PI/2))+i+e},easeOutSine:function(t,e,n,r){var i=n-e;return i*Math.sin(t/r*(Math.PI/2))+e},easeInOutSine:function(t,e,n,r){var i=n-e;return-i/2*(Math.cos(Math.PI*t/r)-1)+e},easeInExpo:function(t,e,n,r){var i=n-e;return t==0?e:i*Math.pow(2,10*(t/r-1))+e},easeOutExpo:function(t,e,n,r){var i=n-e;return t==r?e+i:i*(-Math.pow(2,-10*t/r)+1)+e},easeInOutExpo:function(t,e,n,r){var i=n-e;return t===0?e:t===r?e+i:(t/=r/2)<1?i/2*Math.pow(2,10*(t-1))+e:i/2*(-Math.pow(2,-10*--t)+2)+e},easeInCirc:function(t,e,n,r){var i=n-e;return-i*(Math.sqrt(1-(t/=r)*t)-1)+e},easeOutCirc:function(t,e,n,r){var i=n-e;return i*Math.sqrt(1-(t=t/r-1)*t)+e},easeInOutCirc:function(t,e,n,r){var i=n-e;return(t/=r/2)<1?-i/2*(Math.sqrt(1-t*t)-1)+e:i/2*(Math.sqrt(1-(t-=2)*t)+1)+e},easeInElastic:function(t,e,n,r){var i=n-e,s,o,a;return a=1.70158,o=0,s=i,t===0?e:(t/=r)===1?e+i:(o||(o=r*.3),s<Math.abs(i)?(s=i,a=o/4):a=o/(2*Math.PI)*Math.asin(i/s),-(s*Math.pow(2,10*(t-=1))*Math.sin((t*r-a)*(2*Math.PI)/o))+e)},easeOutElastic:function(t,e,n,r){var i=n-e,s,o,a;return a=1.70158,o=0,s=i,t===0?e:(t/=r)===1?e+i:(o||(o=r*.3),s<Math.abs(i)?(s=i,a=o/4):a=o/(2*Math.PI)*Math.asin(i/s),s*Math.pow(2,-10*t)*Math.sin((t*r-a)*(2*Math.PI)/o)+i+e)},easeInOutElastic:function(t,e,n,r){var i=n-e,s,o,a;return a=1.70158,o=0,s=i,t===0?e:(t/=r/2)===2?e+i:(o||(o=r*(.3*1.5)),s<Math.abs(i)?(s=i,a=o/4):a=o/(2*Math.PI)*Math.asin(i/s),t<1?-.5*(s*Math.pow(2,10*(t-=1))*Math.sin((t*r-a)*(2*Math.PI)/o))+e:s*Math.pow(2,-10*(t-=1))*Math.sin((t*r-a)*(2*Math.PI)/o)*.5+i+e)},easeInBack:function(t,e,n,r,i){var s=n-e;return i===void 0&&(i=1.70158),s*(t/=r)*t*((i+1)*t-i)+e},easeOutBack:function(t,e,n,r,i){var s=n-e;return i===void 0&&(i=1.70158),s*((t=t/r-1)*t*((i+1)*t+i)+1)+e},easeInOutBack:function(t,e,n,r,i){var s=n-e;return i===void 0&&(i=1.70158),(t/=r/2)<1?s/2*(t*t*(((i*=1.525)+1)*t-i))+e:s/2*((t-=2)*t*(((i*=1.525)+1)*t+i)+2)+e},easeInBounce:function(t,e,n,r){var i=n-e,s;return s=wf.easeOutBounce(r-t,0,i,r),i-s+e},easeOutBounce:function(t,e,n,r){var i=n-e;return(t/=r)<1/2.75?i*(7.5625*t*t)+e:t<2/2.75?i*(7.5625*(t-=1.5/2.75)*t+.75)+e:t<2.5/2.75?i*(7.5625*(t-=2.25/2.75)*t+.9375)+e:i*(7.5625*(t-=2.625/2.75)*t+.984375)+e},easeInOutBounce:function(t,e,n,r){var i=n-e,s;return t<r/2?(s=wf.easeInBounce(t*2,0,i,r),s*.5+e):(s=wf.easeOutBounce(t*2-r,0,i,r),s*.5+i*.5+e)}},x7=wf;function A7(t){return t*Math.PI/180}function Gn(t,e){return t+Math.random()*(e-t)}function I7(t,e){return Math.floor(t+Math.random()*(e-t+1))}var au;(function(t){t[t.Circle=0]="Circle",t[t.Square=1]="Square",t[t.Strip=2]="Strip"})(au||(au={}));var ds;(function(t){t[t.Positive=1]="Positive",t[t.Negative=-1]="Negative"})(ds||(ds={}));const b7=1e3/60;class S7{constructor(e,n,r,i){this.getOptions=n;const{colors:s,initialVelocityX:o,initialVelocityY:a}=this.getOptions();this.context=e,this.x=r,this.y=i,this.w=Gn(5,20),this.h=Gn(5,20),this.radius=Gn(5,10),this.vx=typeof o=="number"?Gn(-o,o):Gn(o.min,o.max),this.vy=typeof a=="number"?Gn(-a,0):Gn(a.min,a.max),this.shape=I7(0,2),this.angle=A7(Gn(0,360)),this.angularSpin=Gn(-.2,.2),this.color=s[Math.floor(Math.random()*s.length)],this.rotateY=Gn(0,1),this.rotationDirection=Gn(0,1)?ds.Positive:ds.Negative}update(e){const{gravity:n,wind:r,friction:i,opacity:s,drawShape:o}=this.getOptions(),a=e/b7;this.x+=this.vx*a,this.y+=this.vy*a,this.vy+=n*a,this.vx+=r*a,this.vx*=i**a,this.vy*=i**a,this.rotateY>=1&&this.rotationDirection===ds.Positive?this.rotationDirection=ds.Negative:this.rotateY<=-1&&this.rotationDirection===ds.Negative&&(this.rotationDirection=ds.Positive);const l=.1*this.rotationDirection*a;if(this.rotateY+=l,this.angle+=this.angularSpin,this.context.save(),this.context.translate(this.x,this.y),this.context.rotate(this.angle),this.context.scale(1,this.rotateY),this.context.rotate(this.angle),this.context.beginPath(),this.context.fillStyle=this.color,this.context.strokeStyle=this.color,this.context.globalAlpha=s,this.context.lineCap="round",this.context.lineWidth=2,o&&typeof o=="function")o.call(this,this.context);else switch(this.shape){case au.Circle:{this.context.beginPath(),this.context.arc(0,0,this.radius,0,2*Math.PI),this.context.fill();break}case au.Square:{this.context.fillRect(-this.w/2,-this.h/2,this.w,this.h);break}case au.Strip:{this.context.fillRect(-this.w/6,-this.h/2,this.w/3,this.h);break}}this.context.closePath(),this.context.restore()}}class R7{constructor(e,n){this.x=0,this.y=0,this.w=0,this.h=0,this.lastNumberOfPieces=0,this.tweenProgress=0,this.tweenFrom=0,this.particles=[],this.particlesGenerated=0,this.removeParticleAt=i=>{this.particles.splice(i,1)},this.getParticle=()=>{const i=Gn(this.x,this.w+this.x),s=Gn(this.y,this.h+this.y);return new S7(this.context,this.getOptions,i,s)},this.animate=i=>{const{canvas:s,context:o,particlesGenerated:a,lastNumberOfPieces:l}=this,{run:c,recycle:d,numberOfPieces:f,debug:h,tweenFunction:g,tweenDuration:T}=this.getOptions();if(!c)return!1;const y=this.particles.length,I=d?y:a;if(I<f){l!==f&&(this.tweenProgress=0,this.tweenFrom=I,this.lastNumberOfPieces=f),this.tweenProgress=Math.min(T,Math.max(0,this.tweenProgress+i));const C=g(this.tweenProgress,this.tweenFrom,f,T),w=Math.round(C-I);for(let A=0;A<w;A++)this.particles.push(this.getParticle());this.particlesGenerated+=w}h&&(o.font="12px sans-serif",o.fillStyle="#333",o.textAlign="right",o.fillText(`Particles: ${y}`,s.width-10,s.height-20));for(let C=this.particles.length-1;C>=0;C--){const w=this.particles[C];w.update(i),(w.y>s.height||w.y<-100||w.x>s.width+100||w.x<-100)&&(d&&I<=f?this.particles[C]=this.getParticle():this.removeParticleAt(C))}return y>0||I<f},this.canvas=e;const r=this.canvas.getContext("2d");if(!r)throw new Error("Could not get canvas context");this.context=r,this.getOptions=n}}const jE={width:typeof window<"u"?window.innerWidth:300,height:typeof window<"u"?window.innerHeight:200,numberOfPieces:200,friction:.99,wind:0,gravity:.1,initialVelocityX:4,initialVelocityY:10,colors:["#f44336","#e91e63","#9c27b0","#673ab7","#3f51b5","#2196f3","#03a9f4","#00bcd4","#009688","#4CAF50","#8BC34A","#CDDC39","#FFEB3B","#FFC107","#FF9800","#FF5722","#795548"],opacity:1,debug:!1,tweenFunction:x7.easeInOutQuad,tweenDuration:5e3,recycle:!0,run:!0};class P7{constructor(e,n){this.lastFrameTime=0,this.setOptionsWithDefaults=i=>{const s={confettiSource:{x:0,y:0,w:this.canvas.width,h:0}};this._options={...s,...jE,...i},Object.assign(this,i.confettiSource)},this.update=(i=0)=>{const{options:{run:s,onConfettiComplete:o,frameRate:a},canvas:l,context:c}=this,d=Math.min(i-this.lastFrameTime,50);if(a&&d<1e3/a){this.rafId=requestAnimationFrame(this.update);return}this.lastFrameTime=i-(a?d%a:0),s&&(c.fillStyle="white",c.clearRect(0,0,l.width,l.height)),this.generator.animate(d)?this.rafId=requestAnimationFrame(this.update):(o&&typeof o=="function"&&this.generator.particlesGenerated>0&&o.call(this,this),this._options.run=!1)},this.reset=()=>{this.generator&&this.generator.particlesGenerated>0&&(this.generator.particlesGenerated=0,this.generator.particles=[],this.generator.lastNumberOfPieces=0)},this.stop=()=>{this.options={run:!1},this.rafId&&(cancelAnimationFrame(this.rafId),this.rafId=void 0)},this.canvas=e;const r=this.canvas.getContext("2d");if(!r)throw new Error("Could not get canvas context");this.context=r,this.generator=new R7(this.canvas,()=>this.options),this.options=n,this.update()}get options(){return this._options}set options(e){var i,s;const n=(i=this._options)==null?void 0:i.run,r=(s=this._options)==null?void 0:s.recycle;this.setOptionsWithDefaults(e),this.generator&&(Object.assign(this.generator,this.options.confettiSource),typeof e.recycle=="boolean"&&e.recycle&&r===!1&&(this.generator.lastNumberOfPieces=this.generator.particles.length)),typeof e.run=="boolean"&&e.run&&n===!1&&this.update()}}const k7=Y.createRef();class UE extends Y.Component{constructor(e){super(e),this.canvas=Y.createRef(),this.canvas=e.canvasRef||k7}componentDidMount(){if(this.canvas.current){const e=oy(this.props)[0];this.confetti=new P7(this.canvas.current,e)}}componentDidUpdate(){const e=oy(this.props)[0];this.confetti&&(this.confetti.options=e)}componentWillUnmount(){this.confetti&&this.confetti.stop(),this.confetti=void 0}render(){const[e,n]=oy(this.props),r={zIndex:2,position:"absolute",pointerEvents:"none",top:0,left:0,bottom:0,right:0,...n.style};return p.jsx("canvas",{width:e.width,height:e.height,ref:this.canvas,...n,style:r})}}UE.defaultProps={...jE};UE.displayName="ReactConfetti";function oy(t){const e={},n={},r={},i=[...Object.keys(jE),"confettiSource","drawShape","onConfettiComplete","frameRate"],s=["canvasRef"];for(const o in t){const a=t[o];i.includes(o)?e[o]=a:s.includes(o)?s[o]=a:r[o]=a}return[e,r,n]}const Xv=Y.forwardRef((t,e)=>p.jsx(UE,{canvasRef:e,...t})),N7=({value:t,max:e})=>{const n=Math.min(100,Math.max(0,t/e*100)),r=48,i=8,s=r-i/2,o=2*Math.PI*s,a=o-n/100*o;return p.jsx("div",{className:"flex flex-col items-center justify-center",children:p.jsxs("svg",{height:r*2,width:r*2,className:"transform -rotate-90",children:[p.jsx("circle",{stroke:"#374151",fill:"transparent",strokeWidth:i,strokeDasharray:o+" "+o,style:{strokeDashoffset:0},r:s,cx:r,cy:r}),p.jsx("circle",{stroke:"#ef4444",fill:"transparent",strokeWidth:i,strokeDasharray:o+" "+o,style:{strokeDashoffset:a},r:s,cx:r,cy:r})]})})},D7=({users:t,loading:e})=>{const n=i=>{switch(i){case"super_admin":return p.jsx(sv,{className:"w-4 h-4 text-yellow-500"});case"admin":return p.jsx(qI,{className:"w-4 h-4 text-blue-500"});default:return p.jsx(ov,{className:"w-4 h-4 text-gray-400"})}},r=i=>{switch(i){case"super_admin":return"text-yellow-400";case"admin":return"text-blue-400";default:return"text-gray-400"}};return e?p.jsxs("div",{className:"flex items-center justify-center py-8",children:[p.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-red-500"}),p.jsx("span",{className:"ml-3 text-gray-400",children:"Loading users..."})]}):t.length===0?p.jsxs("div",{className:"text-center py-8",children:[p.jsx(ov,{className:"w-12 h-12 text-gray-500 mx-auto mb-4"}),p.jsx("p",{className:"text-gray-400",children:"No users found"})]}):p.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:t.map(i=>{var a;const s=i.purchaseLimit||5,o=Math.min(100,i.purchases/s*100);return p.jsxs("div",{className:"bg-gray-800/60 backdrop-blur-sm border border-gray-700/50 rounded-lg p-4 hover:bg-gray-800/80 transition-all duration-200",children:[p.jsxs("div",{className:"flex items-center justify-between mb-3",children:[p.jsxs("div",{className:"flex items-center space-x-3",children:[p.jsxs("div",{className:"flex items-center space-x-2",children:[n(i.role),p.jsx("span",{className:`text-sm font-medium ${r(i.role)}`,children:(i.role||"").replace("_"," ").toUpperCase()})]}),p.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"})]}),p.jsx("div",{className:"text-right",children:p.jsx("div",{className:"text-sm text-gray-400",children:i.lastScanAt?new Date(i.lastScanAt.toDate()).toLocaleDateString():"Never"})})]}),p.jsx("div",{className:"mb-3",children:p.jsxs("div",{className:"flex items-center justify-between mb-1",children:[p.jsx("span",{className:"font-semibold text-white",children:i.name}),p.jsx("span",{className:"text-sm text-gray-400",children:i.email})]})}),p.jsxs("div",{className:"space-y-2",children:[p.jsxs("div",{className:"flex items-center justify-between text-sm",children:[p.jsx("span",{className:"text-gray-400",children:"Progress:"}),p.jsxs("span",{className:"text-white font-medium",children:[i.purchases,"/",s]})]}),p.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2",children:p.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${o>=100?"bg-green-500":"bg-red-500"}`,style:{width:`${o}%`}})}),p.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[p.jsxs("span",{children:[((a=i.rewards)==null?void 0:a.length)||0," rewards claimed"]}),p.jsx("span",{children:i.isRewardReady?"🎉 Ready!":`${s-i.purchases} to go`})]})]})]},i.id)})})},M7=()=>{const{user:t,loading:e,addPurchase:n,logout:r,settings:i,allUsers:s,allUsersLoading:o}=ic(),a=ho(),[l,c]=v.useState(!1),d=Y.useRef(null),[f,h]=v.useState(!1),[g,T]=v.useState(0),[y,I]=v.useState(null),[C,w]=v.useState("progress"),A=(t==null?void 0:t.purchaseLimit)||(i==null?void 0:i.purchaseLimit)||gf;if(v.useEffect(()=>{!e&&!t&&a("/login")},[t,e,a]),v.useEffect(()=>{t&&(I(new Date),d.current!==null&&d.current!==t.purchases&&t.purchases-d.current>0&&(At({title:"Purchase Updated! 📱",description:`Your purchase count was updated via QR scan. New total: ${t.purchases}/${A}`}),h(!0),T(S=>S+1),setTimeout(()=>h(!1),2500),t.isRewardReady&&d.current<A&&setTimeout(()=>{At({title:"Reward Unlocked! 🎉",description:"You've earned a reward! Check your rewards page."}),setTimeout(()=>a("/rewards"),1500)},1e3)),d.current===0&&t.purchases===1&&(c(!0),setTimeout(()=>c(!1),3e3)),d.current=t.purchases)},[t==null?void 0:t.purchases,t==null?void 0:t.isRewardReady,a,A]),e)return p.jsx("div",{className:"min-h-screen bg-gradient-to-br from-black via-gray-900 to-red-950 flex items-center justify-center",children:p.jsxs("div",{className:"text-center",children:[p.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-500 mx-auto mb-4"}),p.jsx("p",{className:"text-white text-lg",children:"Loading..."})]})});if(!t)return null;const R=Math.max(0,A-t.purchases),O=()=>{r(),At({title:"Logged Out",description:"Thanks for visiting Vape Master!"}),a("/")};return p.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-black via-gray-900 to-red-950 relative overflow-hidden",children:[f&&p.jsx(Xv,{width:window.innerWidth,height:window.innerHeight,numberOfPieces:200,recycle:!1},g),p.jsxs("div",{className:"bg-gray-900/80 backdrop-blur-sm border-b border-red-900/30 sticky top-0 z-10",children:[p.jsxs("div",{className:"p-6 flex items-center justify-between",children:[p.jsxs("div",{className:"flex items-center",children:[p.jsx(ai,{to:"/",className:"text-red-400 hover:text-red-300 transition-colors",children:p.jsx($l,{className:"w-6 h-6"})}),p.jsx("h1",{className:"ml-4 text-2xl font-bold text-white",children:"Dashboard"})]}),p.jsxs("div",{className:"flex gap-2",children:[(t.role==="admin"||t.role==="super_admin")&&p.jsxs(p.Fragment,{children:[p.jsx(fn,{onClick:()=>a("/scan"),variant:"outline",className:"border-green-500 text-green-400 hover:bg-green-500 hover:text-white",children:"Scan"}),p.jsx(fn,{onClick:()=>a("/settings"),variant:"outline",className:"border-blue-500 text-blue-400 hover:bg-blue-500 hover:text-white",children:"Settings"})]}),t.role==="super_admin"&&p.jsx(fn,{onClick:()=>a("/users"),variant:"outline",className:"border-purple-500 text-purple-400 hover:bg-purple-500 hover:text-white",children:"Users"}),p.jsx(fn,{onClick:O,variant:"outline",className:"border-red-500 text-red-400 hover:bg-red-500 hover:text-white",children:"Logout"})]})]}),p.jsx("div",{className:"flex-1 px-6 pb-6",children:p.jsxs("div",{className:"max-w-md mx-auto",children:[p.jsxs("div",{className:"bg-gray-900/80 backdrop-blur-sm border border-red-900/30 rounded-2xl p-6 text-center",children:[p.jsxs("h2",{className:"text-2xl font-bold text-white mb-2",children:["Welcome, ",t.name,"!"]}),p.jsx("p",{className:"text-gray-400",children:"Your loyalty card is ready to use"}),y&&p.jsxs("div",{className:"mt-2 flex items-center justify-center text-sm text-gray-500",children:[p.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mr-2 animate-pulse"}),"Last updated: ",y.toLocaleTimeString()]})]}),p.jsx("div",{className:"w-full flex justify-center mt-6",children:p.jsx("div",{className:"flex w-full max-w-md",children:t.role==="customer"?p.jsxs(p.Fragment,{children:[p.jsx("button",{className:`w-1/2 px-6 py-5 font-semibold text-base transition-all duration-200 focus:outline-none border-b-2 border-r-0 border-l-0 border-t-0 rounded-none ${C==="progress"?"bg-gray-900/80 border-red-500 text-red-400":"bg-gray-800/60 border-transparent text-gray-400 hover:text-red-300"}`,onClick:()=>w("progress"),children:"Progress"}),p.jsx("button",{className:`w-1/2 px-6 py-5 font-semibold text-base transition-all duration-200 focus:outline-none border-b-2 border-r-0 border-l-0 border-t-0 rounded-none ${C==="card"?"bg-gray-900/80 border-red-500 text-red-400":"bg-gray-800/60 border-transparent text-gray-400 hover:text-red-300"}`,onClick:()=>w("card"),children:"Loyalty Card"})]}):p.jsxs(p.Fragment,{children:[p.jsx("button",{className:`w-1/2 px-6 py-5 font-semibold text-base transition-all duration-200 focus:outline-none border-b-2 border-r-0 border-l-0 border-t-0 rounded-none ${C==="progress"?"bg-gray-900/80 border-red-500 text-red-400":"bg-gray-800/60 border-transparent text-gray-400 hover:text-red-300"}`,onClick:()=>w("progress"),children:"Users"}),p.jsx("button",{className:`w-1/2 px-6 py-5 font-semibold text-base transition-all duration-200 focus:outline-none border-b-2 border-r-0 border-l-0 border-t-0 rounded-none ${C==="card"?"bg-gray-900/80 border-red-500 text-red-400":"bg-gray-800/60 border-transparent text-gray-400 hover:text-red-300"}`,onClick:()=>w("card"),children:"Loyalty Card"})]})})}),C==="progress"&&p.jsx(p.Fragment,{children:t.role==="customer"?p.jsxs("div",{className:"relative overflow-hidden bg-gradient-to-br from-gray-900/90 via-black/80 to-red-950/90 border border-red-900/40 rounded-none p-10 min-h-[460px] flex flex-col justify-center -mt-0 shadow-2xl",children:[p.jsxs("div",{className:"absolute inset-0 z-0 pointer-events-none",children:[p.jsx("div",{className:"absolute -top-20 -left-20 w-96 h-96 bg-gradient-to-br from-red-500/30 via-pink-500/20 to-purple-700/10 rounded-full blur-3xl animate-pulse",style:{animationDuration:"4s"}}),p.jsx("div",{className:"absolute bottom-0 right-0 w-80 h-80 bg-gradient-to-tr from-blue-500/20 via-cyan-400/10 to-purple-700/10 rounded-full blur-2xl animate-pulse delay-1000",style:{animationDuration:"6s"}}),p.jsx("div",{className:"absolute top-1/2 left-1/2 w-1/2 h-1/2 bg-gradient-radial from-red-400/10 via-transparent to-transparent rounded-full blur-2xl animate-pulse",style:{animationDuration:"7s"}})]}),p.jsxs("div",{className:"relative z-10 flex flex-col items-center justify-center h-full",children:[p.jsx("h3",{className:"text-3xl font-extrabold text-white mb-2 tracking-tight drop-shadow-[0_0_16px_#ef4444cc] animate-fadeIn",children:"Your Progress"}),p.jsxs("div",{className:"flex flex-col items-center justify-center mb-6 animate-fadeIn",children:[p.jsxs("div",{className:"relative flex items-center justify-center",children:[p.jsx("div",{className:"absolute w-36 h-36 rounded-full bg-gradient-to-tr from-red-500/40 via-pink-400/20 to-purple-700/10 blur-2xl animate-pulse",style:{animationDuration:"3s"}}),p.jsx(N7,{value:t.purchases,max:A}),p.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:p.jsx("span",{className:"text-4xl mb-5 mr-3 font-extrabold text-white drop-shadow-[0_2px_8px_#000a] animate-pulse",children:t.purchases})})]}),p.jsx("div",{className:"mt-2 flex flex-col items-center",children:p.jsxs("span",{className:"text-base text-gray-300 font-semibold tracking-wide",children:["of ",A," Purchases"]})})]}),p.jsxs("div",{className:"text-center space-y-4",children:[p.jsx("p",{className:"text-gray-400 text-sm max-w-xs",children:t.purchases>=A?"🎉 You've earned a reward! Check your rewards page.":(i==null?void 0:i.descriptionMessage)||`Complete ${R} more purchase${R===1?"":"s"} to unlock your reward.`}),t.isRewardReady&&p.jsx(fn,{onClick:()=>a("/rewards"),className:"bg-gradient-to-r from-red-600 to-red-700 hover:from-red-700 hover:to-red-800 text-white font-semibold px-8 py-3 rounded-lg shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105",children:"View Reward 🎉"})]})]})]}):p.jsxs("div",{className:"bg-gradient-to-br from-gray-900/90 via-black/80 to-red-950/90 border border-red-900/40 rounded-none p-6 min-h-[460px] -mt-0 shadow-2xl",children:[p.jsxs("div",{className:"mb-4",children:[p.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:"User Progress Tracking"}),p.jsx("p",{className:"text-gray-400 text-sm",children:"Real-time updates of all user loyalty progress"})]}),p.jsx(D7,{users:s,loading:o})]})}),C==="card"&&p.jsx("div",{className:"bg-gradient-to-br from-gray-900/90 via-black/80 to-red-950/90 border border-red-900/40 rounded-none p-10 min-h-[460px] flex flex-col justify-center -mt-0 shadow-2xl",children:p.jsxs("div",{className:"text-center",children:[p.jsx("h3",{className:"text-2xl font-bold text-white mb-6",children:"Your Loyalty Card"}),p.jsx("div",{className:"flex justify-center mb-6",children:p.jsx(_7,{value:`LOYALTY:${t.email}:${t.id}`,size:200})}),p.jsx("p",{className:"text-gray-400 text-sm",children:"Show this QR code to staff to earn loyalty points"})]})})]})})]})]})},O7=()=>{const{user:t,useReward:e}=ic(),n=ho(),[r,i]=v.useState(!1),[s,o]=v.useState(!1),[a,l]=v.useState(!1),[c,d]=v.useState(30),[f,h]=v.useState(!1),[g,T]=v.useState(!1),[y,I]=v.useState(!0),C=v.useRef(null);return v.useEffect(()=>(t?t.isRewardReady?(T(!0),setTimeout(()=>T(!1),3e3),C.current=setInterval(()=>{I(!1),setTimeout(()=>I(!0),100)},3500)):n("/dashboard"):n("/login"),()=>{C.current&&clearInterval(C.current)}),[t,n]),v.useEffect(()=>{if(!(!t||r||f))if(t.isRewardReady&&c>0){const w=setInterval(()=>{d(A=>A-1)},1e3);return()=>clearInterval(w)}else c===0&&t.isRewardReady&&(h(!0),setTimeout(()=>{e(),n("/dashboard")},2e3))},[t,c,r,f,e,n]),v.useEffect(()=>{let w;return a&&(w=setTimeout(()=>l(!1),2500)),()=>clearTimeout(w)},[a]),v.useEffect(()=>{let w;return s&&(w=setTimeout(()=>o(!1),2500)),()=>clearTimeout(w)},[s]),!t||!t.isRewardReady?null:f?p.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gradient-to-br from-black via-gray-900 to-red-950",children:p.jsxs("div",{className:"bg-gradient-to-r from-red-700/80 to-black/80 rounded-2xl p-10 shadow-2xl text-center",children:[p.jsx("div",{className:"text-6xl mb-4",children:"⏰"}),p.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:"Reward expired"}),p.jsx("p",{className:"text-red-200 text-lg",children:"Start collecting again."})]})}):r?p.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-black via-gray-900 to-red-950 flex flex-col items-center justify-center relative overflow-hidden",children:[s&&p.jsx(Xv,{width:window.innerWidth,height:window.innerHeight,numberOfPieces:400,recycle:!1}),p.jsxs("div",{className:"bg-gradient-to-r from-green-600/80 to-green-400/80 backdrop-blur-sm border border-green-900/30 rounded-2xl p-10 shadow-2xl text-center",children:[p.jsx("div",{className:"text-6xl mb-4",children:"🥳"}),p.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:"Reward Redeemed!"}),p.jsx("p",{className:"text-green-200 text-lg",children:"Your reward has been used."}),p.jsx("p",{className:"text-white/80 mt-2",children:"Your scan count has been reset. Start earning your next reward!"}),p.jsx("button",{className:"mt-8 px-6 py-3 bg-gradient-to-r from-red-600 to-red-700 text-white font-semibold rounded-lg shadow-lg hover:from-red-700 hover:to-red-800 transition-all duration-300",onClick:()=>n("/dashboard"),children:"Back to Dashboard"})]})]}):p.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center relative overflow-hidden bg-gradient-to-br from-black via-red-900 to-orange-900 animate-shimmer",children:[p.jsx("style",{children:`
        @keyframes shimmer {
          0% { background-position: 0% 50%; }
          100% { background-position: 100% 50%; }
        }
        .animate-shimmer {
          background-size: 200% 200%;
          animation: shimmer 8s linear infinite;
        }
        @keyframes fire {
          0% { transform: scaleY(1) translateY(0); opacity: 1; }
          50% { transform: scaleY(1.1) translateY(-10px); opacity: 0.85; }
          100% { transform: scaleY(1) translateY(0); opacity: 1; }
        }
        .fire-flame {
          animation: fire 1.2s infinite alternate cubic-bezier(0.4,0,0.2,1);
        }
        @keyframes lightning {
          0%, 97%, 100% { opacity: 0; }
          98% { opacity: 1; }
          99% { opacity: 0.5; }
        }
        .lightning {
          animation: lightning 4s infinite;
        }
      `}),y&&p.jsx(Xv,{width:window.innerWidth,height:window.innerHeight,numberOfPieces:180,recycle:!1,colors:["#ef4444","#fff","#facc15","#ff9800","#a3e635"],style:{position:"fixed",left:0,top:0,zIndex:40}}),p.jsxs("div",{className:"pointer-events-none",children:[p.jsx("div",{className:"absolute top-0 left-0 w-24 h-24 lightning",style:{boxShadow:"0 0 60px 20px #fff8"}}),p.jsx("div",{className:"absolute top-0 right-0 w-24 h-24 lightning",style:{boxShadow:"0 0 60px 20px #fff8"}}),p.jsx("div",{className:"absolute bottom-0 left-0 w-24 h-24 lightning",style:{boxShadow:"0 0 60px 20px #fff8"}}),p.jsx("div",{className:"absolute bottom-0 right-0 w-24 h-24 lightning",style:{boxShadow:"0 0 60px 20px #fff8"}})]}),p.jsx("div",{className:"absolute bottom-0 left-0 w-full flex justify-center items-end z-30 pointer-events-none",children:[...Array(12)].map((w,A)=>p.jsx("div",{className:"fire-flame",style:{width:`${16+Math.random()*16}px`,height:`${40+Math.random()*32}px`,marginLeft:4,marginRight:4,borderRadius:"50% 50% 40% 40%",background:"radial-gradient(circle at 50% 30%, #ff9800 60%, #ef4444 100%)",opacity:.7+Math.random()*.3,filter:"blur(1.5px)",animationDelay:`${Math.random()}s`}},A))}),p.jsxs("div",{className:"relative z-20 bg-gradient-to-r from-red-700/80 to-black/80 rounded-2xl p-10 shadow-2xl text-center animate-bounceIn",children:[p.jsx("div",{className:"text-6xl mb-4 animate-bounce",children:"🎉"}),p.jsx("h2",{className:"text-3xl font-extrabold text-white mb-2 animate-pulse drop-shadow-[0_0_16px_#ff9800]",children:"You Got 20% OFF! 🎉"}),p.jsx("p",{className:"text-red-200 text-lg mb-6 animate-fadeIn",children:"Show this at checkout to redeem your reward."}),p.jsx("button",{className:"mt-8 px-6 py-3 bg-gradient-to-r from-red-600 to-red-700 text-white font-semibold rounded-lg shadow-lg hover:from-red-700 hover:to-red-800 transition-all duration-300",onClick:()=>{e(),n("/dashboard")},children:"Back to Dashboard"})]})]})},L7=()=>{const{user:t,loading:e,settings:n,settingsLoading:r,updateSettings:i}=ic(),s=ho(),[o,a]=v.useState(5),[l,c]=v.useState(""),[d,f]=v.useState(!1);if(v.useEffect(()=>{!e&&(!t||t.role!=="admin"&&t.role!=="super_admin")&&s("/dashboard")},[t,e,s]),v.useEffect(()=>{n&&(a(n.purchaseLimit),c(n.descriptionMessage))},[n]),e||r)return p.jsx("div",{className:"min-h-screen bg-gradient-to-br from-black via-gray-900 to-red-950 flex items-center justify-center",children:p.jsxs("div",{className:"text-center",children:[p.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-500 mx-auto mb-4"}),p.jsx("p",{className:"text-white text-lg",children:"Loading..."})]})});if(!t||t.role!=="admin"&&t.role!=="super_admin")return null;const h=async()=>{if(o<1){At({title:"Invalid Purchase Limit",description:"Purchase limit must be at least 1",variant:"destructive"});return}if(!l.trim()){At({title:"Missing Description",description:"Please enter a description message",variant:"destructive"});return}f(!0);try{await i(o,l.trim()),At({title:"Settings Updated",description:"Global settings have been saved successfully!"})}catch(g){console.error("Error updating settings:",g),At({title:"Update Failed",description:"Failed to update settings. Please try again.",variant:"destructive"})}finally{f(!1)}};return p.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-black via-gray-900 to-red-950 relative overflow-hidden",children:[p.jsxs("div",{className:"absolute inset-0 opacity-10",children:[p.jsx("div",{className:"absolute top-20 right-10 w-40 h-40 bg-red-500 rounded-full blur-3xl animate-pulse"}),p.jsx("div",{className:"absolute bottom-32 left-10 w-32 h-32 bg-red-600 rounded-full blur-3xl animate-pulse delay-1000"})]}),p.jsxs("div",{className:"relative z-10 min-h-screen flex flex-col",children:[p.jsx("div",{className:"bg-gray-900/80 backdrop-blur-sm border-b border-red-900/30 sticky top-0 z-10",children:p.jsxs("div",{className:"p-6 flex items-center justify-between",children:[p.jsxs("div",{className:"flex items-center",children:[p.jsx(ai,{to:"/dashboard",className:"text-red-400 hover:text-red-300 transition-colors",children:p.jsx($l,{className:"w-6 h-6"})}),p.jsx("h1",{className:"ml-4 text-2xl font-bold text-white",children:"Settings"})]}),p.jsxs("div",{className:"flex items-center text-gray-400",children:[p.jsx(DO,{className:"w-6 h-6 mr-2"}),p.jsx("span",{className:"text-sm",children:"Admin Panel"})]})]})}),p.jsx("div",{className:"flex-1 flex items-center justify-center px-6 py-8",children:p.jsx("div",{className:"w-full max-w-2xl",children:p.jsxs("div",{className:"bg-gray-900/80 backdrop-blur-sm border border-red-900/30 rounded-2xl p-8 shadow-2xl",children:[p.jsxs("div",{className:"text-center mb-8",children:[p.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:"Global Settings"}),p.jsx("p",{className:"text-gray-400",children:"Configure loyalty program settings for new users"})]}),p.jsxs("div",{className:"space-y-8",children:[p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx(ki,{htmlFor:"purchaseLimit",className:"text-white text-lg font-semibold",children:"Purchase Limit"}),p.jsxs("div",{className:"text-sm text-gray-400",children:["Current: ",(n==null?void 0:n.purchaseLimit)||5]})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(Uo,{id:"purchaseLimit",type:"number",min:"1",max:"50",value:o,onChange:g=>a(parseInt(g.target.value)||1),className:"bg-gray-800/50 border-gray-700 text-white placeholder-gray-400 focus:border-red-500 text-lg",placeholder:"Enter purchase limit"}),p.jsx("p",{className:"text-sm text-gray-400",children:"Number of purchases required for new users to earn a reward"})]})]}),p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx(ki,{htmlFor:"descriptionMessage",className:"text-white text-lg font-semibold",children:"Description Message"}),p.jsxs("div",{className:"text-sm text-gray-400",children:[l.length,"/200"]})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(ME,{id:"descriptionMessage",value:l,onChange:g=>c(g.target.value),maxLength:200,className:"bg-gray-800/50 border-gray-700 text-white placeholder-gray-400 focus:border-red-500 min-h-[120px] resize-none",placeholder:"Enter description message for new users..."}),p.jsx("p",{className:"text-sm text-gray-400",children:"This message will be shown to new users on their dashboard"})]})]}),n&&p.jsxs("div",{className:"bg-gray-800/50 border border-gray-700 rounded-lg p-4",children:[p.jsx("h3",{className:"text-white font-semibold mb-2",children:"Current Settings"}),p.jsxs("div",{className:"space-y-1 text-sm text-gray-300",children:[p.jsxs("div",{children:["Purchase Limit: ",n.purchaseLimit]}),p.jsxs("div",{children:["Description: ",n.descriptionMessage]}),p.jsxs("div",{children:["Last Updated:"," ",n.updatedAt.toDate().toLocaleString()]}),p.jsxs("div",{children:["Updated By: ",n.updatedBy]})]})]}),p.jsx("div",{className:"flex justify-center pt-4",children:p.jsx(fn,{onClick:h,disabled:d,className:"bg-gradient-to-r from-red-600 to-red-700 hover:from-red-700 hover:to-red-800 text-white font-semibold px-8 py-3 rounded-lg shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105 disabled:opacity-50",children:d?p.jsxs(p.Fragment,{children:[p.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Saving..."]}):p.jsxs(p.Fragment,{children:[p.jsx(NO,{className:"w-4 h-4 mr-2"}),"Save Settings"]})})}),p.jsxs("div",{className:"bg-blue-900/20 border border-blue-700/30 rounded-lg p-4",children:[p.jsx("h4",{className:"text-blue-300 font-semibold mb-2",children:"⚠️ Important Note"}),p.jsx("p",{className:"text-blue-200 text-sm",children:"These settings will only affect new users who register after the changes are saved. Existing users will keep their original purchase limits to maintain fairness."})]})]})]})})})]})]})};function k_(t,[e,n]){return Math.min(n,Math.max(e,t))}function V7(t){const e=v.useRef({value:t,previous:t});return v.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var F7=[" ","Enter","ArrowUp","ArrowDown"],B7=[" ","Enter"],Cd="Select",[Om,Lm,j7]=cw(Cd),[sc,Fz]=Ju(Cd,[j7,_m]),Vm=_m(),[U7,po]=sc(Cd),[q7,G7]=sc(Cd),zk=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:i,onOpenChange:s,value:o,defaultValue:a,onValueChange:l,dir:c,name:d,autoComplete:f,disabled:h,required:g,form:T}=t,y=Vm(e),[I,C]=v.useState(null),[w,A]=v.useState(null),[R,O]=v.useState(!1),B=kE(c),[S=!1,b]=Sl({prop:r,defaultProp:i,onChange:s}),[k,D]=Sl({prop:o,defaultProp:a,onChange:l}),V=v.useRef(null),F=I?T||!!I.closest("form"):!0,[M,te]=v.useState(new Set),re=Array.from(M).map(ee=>ee.props.value).join(";");return p.jsx(p8,{...y,children:p.jsxs(U7,{required:g,scope:e,trigger:I,onTriggerChange:C,valueNode:w,onValueNodeChange:A,valueNodeHasChildren:R,onValueNodeHasChildrenChange:O,contentId:qs(),value:k,onValueChange:D,open:S,onOpenChange:b,dir:B,triggerPointerDownPosRef:V,disabled:h,children:[p.jsx(Om.Provider,{scope:e,children:p.jsx(q7,{scope:t.__scopeSelect,onNativeOptionAdd:v.useCallback(ee=>{te(pe=>new Set(pe).add(ee))},[]),onNativeOptionRemove:v.useCallback(ee=>{te(pe=>{const G=new Set(pe);return G.delete(ee),G})},[]),children:n})}),F?p.jsxs(gN,{"aria-hidden":!0,required:g,tabIndex:-1,name:d,autoComplete:f,value:k,onChange:ee=>D(ee.target.value),disabled:h,form:T,children:[k===void 0?p.jsx("option",{value:""}):null,Array.from(M)]},re):null]})})};zk.displayName=Cd;var Wk="SelectTrigger",Yk=v.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...i}=t,s=Vm(n),o=po(Wk,n),a=o.disabled||r,l=ot(e,o.onTriggerChange),c=Lm(n),d=v.useRef("touch"),[f,h,g]=yN(y=>{const I=c().filter(A=>!A.disabled),C=I.find(A=>A.value===o.value),w=vN(I,y,C);w!==void 0&&o.onValueChange(w.value)}),T=y=>{a||(o.onOpenChange(!0),g()),y&&(o.triggerPointerDownPosRef.current={x:Math.round(y.pageX),y:Math.round(y.pageY)})};return p.jsx(JR,{asChild:!0,...s,children:p.jsx(Le.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":mN(o.value)?"":void 0,...i,ref:l,onClick:Ie(i.onClick,y=>{y.currentTarget.focus(),d.current!=="mouse"&&T(y)}),onPointerDown:Ie(i.onPointerDown,y=>{d.current=y.pointerType;const I=y.target;I.hasPointerCapture(y.pointerId)&&I.releasePointerCapture(y.pointerId),y.button===0&&y.ctrlKey===!1&&y.pointerType==="mouse"&&(T(y),y.preventDefault())}),onKeyDown:Ie(i.onKeyDown,y=>{const I=f.current!=="";!(y.ctrlKey||y.altKey||y.metaKey)&&y.key.length===1&&h(y.key),!(I&&y.key===" ")&&F7.includes(y.key)&&(T(),y.preventDefault())})})})});Yk.displayName=Wk;var Qk="SelectValue",Kk=v.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,children:s,placeholder:o="",...a}=t,l=po(Qk,n),{onValueNodeHasChildrenChange:c}=l,d=s!==void 0,f=ot(e,l.onValueNodeChange);return mn(()=>{c(d)},[c,d]),p.jsx(Le.span,{...a,ref:f,style:{pointerEvents:"none"},children:mN(l.value)?p.jsx(p.Fragment,{children:o}):s})});Kk.displayName=Qk;var $7="SelectIcon",Hk=v.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...i}=t;return p.jsx(Le.span,{"aria-hidden":!0,...i,ref:e,children:r||"▼"})});Hk.displayName=$7;var z7="SelectPortal",Jk=t=>p.jsx(Qp,{asChild:!0,...t});Jk.displayName=z7;var na="SelectContent",Zk=v.forwardRef((t,e)=>{const n=po(na,t.__scopeSelect),[r,i]=v.useState();if(mn(()=>{i(new DocumentFragment)},[]),!n.open){const s=r;return s?sa.createPortal(p.jsx(Xk,{scope:t.__scopeSelect,children:p.jsx(Om.Slot,{scope:t.__scopeSelect,children:p.jsx("div",{children:t.children})})}),s):null}return p.jsx(eN,{...t,ref:e})});Zk.displayName=na;var Ir=10,[Xk,mo]=sc(na),W7="SelectContentImpl",eN=v.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:s,onPointerDownOutside:o,side:a,sideOffset:l,align:c,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:g,sticky:T,hideWhenDetached:y,avoidCollisions:I,...C}=t,w=po(na,n),[A,R]=v.useState(null),[O,B]=v.useState(null),S=ot(e,ne=>R(ne)),[b,k]=v.useState(null),[D,V]=v.useState(null),F=Lm(n),[M,te]=v.useState(!1),re=v.useRef(!1);v.useEffect(()=>{if(A)return LP(A)},[A]),SP();const ee=v.useCallback(ne=>{const[ge,...be]=F().map(Ee=>Ee.ref.current),[we]=be.slice(-1),xe=document.activeElement;for(const Ee of ne)if(Ee===xe||(Ee==null||Ee.scrollIntoView({block:"nearest"}),Ee===ge&&O&&(O.scrollTop=0),Ee===we&&O&&(O.scrollTop=O.scrollHeight),Ee==null||Ee.focus(),document.activeElement!==xe))return},[F,O]),pe=v.useCallback(()=>ee([b,A]),[ee,b,A]);v.useEffect(()=>{M&&pe()},[M,pe]);const{onOpenChange:G,triggerPointerDownPosRef:Z}=w;v.useEffect(()=>{if(A){let ne={x:0,y:0};const ge=we=>{var xe,Ee;ne={x:Math.abs(Math.round(we.pageX)-(((xe=Z.current)==null?void 0:xe.x)??0)),y:Math.abs(Math.round(we.pageY)-(((Ee=Z.current)==null?void 0:Ee.y)??0))}},be=we=>{ne.x<=10&&ne.y<=10?we.preventDefault():A.contains(we.target)||G(!1),document.removeEventListener("pointermove",ge),Z.current=null};return Z.current!==null&&(document.addEventListener("pointermove",ge),document.addEventListener("pointerup",be,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ge),document.removeEventListener("pointerup",be,{capture:!0})}}},[A,G,Z]),v.useEffect(()=>{const ne=()=>G(!1);return window.addEventListener("blur",ne),window.addEventListener("resize",ne),()=>{window.removeEventListener("blur",ne),window.removeEventListener("resize",ne)}},[G]);const[ae,se]=yN(ne=>{const ge=F().filter(xe=>!xe.disabled),be=ge.find(xe=>xe.ref.current===document.activeElement),we=vN(ge,ne,be);we&&setTimeout(()=>we.ref.current.focus())}),ue=v.useCallback((ne,ge,be)=>{const we=!re.current&&!be;(w.value!==void 0&&w.value===ge||we)&&(k(ne),we&&(re.current=!0))},[w.value]),he=v.useCallback(()=>A==null?void 0:A.focus(),[A]),ke=v.useCallback((ne,ge,be)=>{const we=!re.current&&!be;(w.value!==void 0&&w.value===ge||we)&&V(ne)},[w.value]),Me=r==="popper"?e0:tN,Te=Me===e0?{side:a,sideOffset:l,align:c,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:g,sticky:T,hideWhenDetached:y,avoidCollisions:I}:{};return p.jsx(Xk,{scope:n,content:A,viewport:O,onViewportChange:B,itemRefCallback:ue,selectedItem:b,onItemLeave:he,itemTextRefCallback:ke,focusSelectedItem:pe,selectedItemText:D,position:r,isPositioned:M,searchRef:ae,children:p.jsx(IE,{as:Yo,allowPinchZoom:!0,children:p.jsx(AE,{asChild:!0,trapped:w.open,onMountAutoFocus:ne=>{ne.preventDefault()},onUnmountAutoFocus:Ie(i,ne=>{var ge;(ge=w.trigger)==null||ge.focus({preventScroll:!0}),ne.preventDefault()}),children:p.jsx(Zu,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:ne=>ne.preventDefault(),onDismiss:()=>w.onOpenChange(!1),children:p.jsx(Me,{role:"listbox",id:w.contentId,"data-state":w.open?"open":"closed",dir:w.dir,onContextMenu:ne=>ne.preventDefault(),...C,...Te,onPlaced:()=>te(!0),ref:S,style:{display:"flex",flexDirection:"column",outline:"none",...C.style},onKeyDown:Ie(C.onKeyDown,ne=>{const ge=ne.ctrlKey||ne.altKey||ne.metaKey;if(ne.key==="Tab"&&ne.preventDefault(),!ge&&ne.key.length===1&&se(ne.key),["ArrowUp","ArrowDown","Home","End"].includes(ne.key)){let we=F().filter(xe=>!xe.disabled).map(xe=>xe.ref.current);if(["ArrowUp","End"].includes(ne.key)&&(we=we.slice().reverse()),["ArrowUp","ArrowDown"].includes(ne.key)){const xe=ne.target,Ee=we.indexOf(xe);we=we.slice(Ee+1)}setTimeout(()=>ee(we)),ne.preventDefault()}})})})})})})});eN.displayName=W7;var Y7="SelectItemAlignedPosition",tN=v.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...i}=t,s=po(na,n),o=mo(na,n),[a,l]=v.useState(null),[c,d]=v.useState(null),f=ot(e,S=>d(S)),h=Lm(n),g=v.useRef(!1),T=v.useRef(!0),{viewport:y,selectedItem:I,selectedItemText:C,focusSelectedItem:w}=o,A=v.useCallback(()=>{if(s.trigger&&s.valueNode&&a&&c&&y&&I&&C){const S=s.trigger.getBoundingClientRect(),b=c.getBoundingClientRect(),k=s.valueNode.getBoundingClientRect(),D=C.getBoundingClientRect();if(s.dir!=="rtl"){const xe=D.left-b.left,Ee=k.left-xe,de=S.left-Ee,ye=S.width+de,dt=Math.max(ye,b.width),rt=window.innerWidth-Ir,Rt=k_(Ee,[Ir,Math.max(Ir,rt-dt)]);a.style.minWidth=ye+"px",a.style.left=Rt+"px"}else{const xe=b.right-D.right,Ee=window.innerWidth-k.right-xe,de=window.innerWidth-S.right-Ee,ye=S.width+de,dt=Math.max(ye,b.width),rt=window.innerWidth-Ir,Rt=k_(Ee,[Ir,Math.max(Ir,rt-dt)]);a.style.minWidth=ye+"px",a.style.right=Rt+"px"}const V=h(),F=window.innerHeight-Ir*2,M=y.scrollHeight,te=window.getComputedStyle(c),re=parseInt(te.borderTopWidth,10),ee=parseInt(te.paddingTop,10),pe=parseInt(te.borderBottomWidth,10),G=parseInt(te.paddingBottom,10),Z=re+ee+M+G+pe,ae=Math.min(I.offsetHeight*5,Z),se=window.getComputedStyle(y),ue=parseInt(se.paddingTop,10),he=parseInt(se.paddingBottom,10),ke=S.top+S.height/2-Ir,Me=F-ke,Te=I.offsetHeight/2,ne=I.offsetTop+Te,ge=re+ee+ne,be=Z-ge;if(ge<=ke){const xe=V.length>0&&I===V[V.length-1].ref.current;a.style.bottom="0px";const Ee=c.clientHeight-y.offsetTop-y.offsetHeight,de=Math.max(Me,Te+(xe?he:0)+Ee+pe),ye=ge+de;a.style.height=ye+"px"}else{const xe=V.length>0&&I===V[0].ref.current;a.style.top="0px";const de=Math.max(ke,re+y.offsetTop+(xe?ue:0)+Te)+be;a.style.height=de+"px",y.scrollTop=ge-ke+y.offsetTop}a.style.margin=`${Ir}px 0`,a.style.minHeight=ae+"px",a.style.maxHeight=F+"px",r==null||r(),requestAnimationFrame(()=>g.current=!0)}},[h,s.trigger,s.valueNode,a,c,y,I,C,s.dir,r]);mn(()=>A(),[A]);const[R,O]=v.useState();mn(()=>{c&&O(window.getComputedStyle(c).zIndex)},[c]);const B=v.useCallback(S=>{S&&T.current===!0&&(A(),w==null||w(),T.current=!1)},[A,w]);return p.jsx(K7,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:g,onScrollButtonChange:B,children:p.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:R},children:p.jsx(Le.div,{...i,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});tN.displayName=Y7;var Q7="SelectPopperPosition",e0=v.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=Ir,...s}=t,o=Vm(n);return p.jsx(ZR,{...o,...s,ref:e,align:r,collisionPadding:i,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});e0.displayName=Q7;var[K7,qE]=sc(na,{}),t0="SelectViewport",nN=v.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...i}=t,s=mo(t0,n),o=qE(t0,n),a=ot(e,s.onViewportChange),l=v.useRef(0);return p.jsxs(p.Fragment,{children:[p.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),p.jsx(Om.Slot,{scope:n,children:p.jsx(Le.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:Ie(i.onScroll,c=>{const d=c.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=o;if(h!=null&&h.current&&f){const g=Math.abs(l.current-d.scrollTop);if(g>0){const T=window.innerHeight-Ir*2,y=parseFloat(f.style.minHeight),I=parseFloat(f.style.height),C=Math.max(y,I);if(C<T){const w=C+g,A=Math.min(T,w),R=w-A;f.style.height=A+"px",f.style.bottom==="0px"&&(d.scrollTop=R>0?R:0,f.style.justifyContent="flex-end")}}}l.current=d.scrollTop})})})]})});nN.displayName=t0;var rN="SelectGroup",[H7,J7]=sc(rN),Z7=v.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=qs();return p.jsx(H7,{scope:n,id:i,children:p.jsx(Le.div,{role:"group","aria-labelledby":i,...r,ref:e})})});Z7.displayName=rN;var iN="SelectLabel",sN=v.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=J7(iN,n);return p.jsx(Le.div,{id:i.id,...r,ref:e})});sN.displayName=iN;var Pp="SelectItem",[X7,oN]=sc(Pp),aN=v.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:s,...o}=t,a=po(Pp,n),l=mo(Pp,n),c=a.value===r,[d,f]=v.useState(s??""),[h,g]=v.useState(!1),T=ot(e,w=>{var A;return(A=l.itemRefCallback)==null?void 0:A.call(l,w,r,i)}),y=qs(),I=v.useRef("touch"),C=()=>{i||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return p.jsx(X7,{scope:n,value:r,disabled:i,textId:y,isSelected:c,onItemTextChange:v.useCallback(w=>{f(A=>A||((w==null?void 0:w.textContent)??"").trim())},[]),children:p.jsx(Om.ItemSlot,{scope:n,value:r,disabled:i,textValue:d,children:p.jsx(Le.div,{role:"option","aria-labelledby":y,"data-highlighted":h?"":void 0,"aria-selected":c&&h,"data-state":c?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...o,ref:T,onFocus:Ie(o.onFocus,()=>g(!0)),onBlur:Ie(o.onBlur,()=>g(!1)),onClick:Ie(o.onClick,()=>{I.current!=="mouse"&&C()}),onPointerUp:Ie(o.onPointerUp,()=>{I.current==="mouse"&&C()}),onPointerDown:Ie(o.onPointerDown,w=>{I.current=w.pointerType}),onPointerMove:Ie(o.onPointerMove,w=>{var A;I.current=w.pointerType,i?(A=l.onItemLeave)==null||A.call(l):I.current==="mouse"&&w.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ie(o.onPointerLeave,w=>{var A;w.currentTarget===document.activeElement&&((A=l.onItemLeave)==null||A.call(l))}),onKeyDown:Ie(o.onKeyDown,w=>{var R;((R=l.searchRef)==null?void 0:R.current)!==""&&w.key===" "||(B7.includes(w.key)&&C(),w.key===" "&&w.preventDefault())})})})})});aN.displayName=Pp;var jc="SelectItemText",lN=v.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,...s}=t,o=po(jc,n),a=mo(jc,n),l=oN(jc,n),c=G7(jc,n),[d,f]=v.useState(null),h=ot(e,C=>f(C),l.onItemTextChange,C=>{var w;return(w=a.itemTextRefCallback)==null?void 0:w.call(a,C,l.value,l.disabled)}),g=d==null?void 0:d.textContent,T=v.useMemo(()=>p.jsx("option",{value:l.value,disabled:l.disabled,children:g},l.value),[l.disabled,l.value,g]),{onNativeOptionAdd:y,onNativeOptionRemove:I}=c;return mn(()=>(y(T),()=>I(T)),[y,I,T]),p.jsxs(p.Fragment,{children:[p.jsx(Le.span,{id:l.textId,...s,ref:h}),l.isSelected&&o.valueNode&&!o.valueNodeHasChildren?sa.createPortal(s.children,o.valueNode):null]})});lN.displayName=jc;var cN="SelectItemIndicator",uN=v.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return oN(cN,n).isSelected?p.jsx(Le.span,{"aria-hidden":!0,...r,ref:e}):null});uN.displayName=cN;var n0="SelectScrollUpButton",dN=v.forwardRef((t,e)=>{const n=mo(n0,t.__scopeSelect),r=qE(n0,t.__scopeSelect),[i,s]=v.useState(!1),o=ot(e,r.onScrollButtonChange);return mn(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=l.scrollTop>0;s(c)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),i?p.jsx(fN,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop-l.offsetHeight)}}):null});dN.displayName=n0;var r0="SelectScrollDownButton",hN=v.forwardRef((t,e)=>{const n=mo(r0,t.__scopeSelect),r=qE(r0,t.__scopeSelect),[i,s]=v.useState(!1),o=ot(e,r.onScrollButtonChange);return mn(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=l.scrollHeight-l.clientHeight,d=Math.ceil(l.scrollTop)<c;s(d)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),i?p.jsx(fN,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop+l.offsetHeight)}}):null});hN.displayName=r0;var fN=v.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=t,s=mo("SelectScrollButton",n),o=v.useRef(null),a=Lm(n),l=v.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return v.useEffect(()=>()=>l(),[l]),mn(()=>{var d;const c=a().find(f=>f.ref.current===document.activeElement);(d=c==null?void 0:c.ref.current)==null||d.scrollIntoView({block:"nearest"})},[a]),p.jsx(Le.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:Ie(i.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:Ie(i.onPointerMove,()=>{var c;(c=s.onItemLeave)==null||c.call(s),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:Ie(i.onPointerLeave,()=>{l()})})}),e$="SelectSeparator",pN=v.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return p.jsx(Le.div,{"aria-hidden":!0,...r,ref:e})});pN.displayName=e$;var i0="SelectArrow",t$=v.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=Vm(n),s=po(i0,n),o=mo(i0,n);return s.open&&o.position==="popper"?p.jsx(XR,{...i,...r,ref:e}):null});t$.displayName=i0;function mN(t){return t===""||t===void 0}var gN=v.forwardRef((t,e)=>{const{value:n,...r}=t,i=v.useRef(null),s=ot(e,i),o=V7(n);return v.useEffect(()=>{const a=i.current,l=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==n&&d){const f=new Event("change",{bubbles:!0});d.call(a,n),a.dispatchEvent(f)}},[o,n]),p.jsx(Xu,{asChild:!0,children:p.jsx("select",{...r,ref:s,defaultValue:n})})});gN.displayName="BubbleSelect";function yN(t){const e=Fn(t),n=v.useRef(""),r=v.useRef(0),i=v.useCallback(o=>{const a=n.current+o;e(a),function l(c){n.current=c,window.clearTimeout(r.current),c!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(a)},[e]),s=v.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return v.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,s]}function vN(t,e,n){const i=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,s=n?t.indexOf(n):-1;let o=n$(t,Math.max(s,0));i.length===1&&(o=o.filter(c=>c!==n));const l=o.find(c=>c.textValue.toLowerCase().startsWith(i.toLowerCase()));return l!==n?l:void 0}function n$(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var r$=zk,wN=Yk,i$=Kk,s$=Hk,o$=Jk,EN=Zk,a$=nN,CN=sN,TN=aN,l$=lN,c$=uN,_N=dN,xN=hN,AN=pN;const u$=r$,d$=i$,IN=v.forwardRef(({className:t,children:e,...n},r)=>p.jsxs(wN,{ref:r,className:it("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,p.jsx(s$,{asChild:!0,children:p.jsx(UI,{className:"h-4 w-4 opacity-50"})})]}));IN.displayName=wN.displayName;const bN=v.forwardRef(({className:t,...e},n)=>p.jsx(_N,{ref:n,className:it("flex cursor-default items-center justify-center py-1",t),...e,children:p.jsx(PO,{className:"h-4 w-4"})}));bN.displayName=_N.displayName;const SN=v.forwardRef(({className:t,...e},n)=>p.jsx(xN,{ref:n,className:it("flex cursor-default items-center justify-center py-1",t),...e,children:p.jsx(UI,{className:"h-4 w-4"})}));SN.displayName=xN.displayName;const RN=v.forwardRef(({className:t,children:e,position:n="popper",...r},i)=>p.jsx(o$,{children:p.jsxs(EN,{ref:i,className:it("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[p.jsx(bN,{}),p.jsx(a$,{className:it("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),p.jsx(SN,{})]})}));RN.displayName=EN.displayName;const h$=v.forwardRef(({className:t,...e},n)=>p.jsx(CN,{ref:n,className:it("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));h$.displayName=CN.displayName;const Ef=v.forwardRef(({className:t,children:e,...n},r)=>p.jsxs(TN,{ref:r,className:it("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[p.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:p.jsx(c$,{children:p.jsx(RO,{className:"h-4 w-4"})})}),p.jsx(l$,{children:e})]}));Ef.displayName=TN.displayName;const f$=v.forwardRef(({className:t,...e},n)=>p.jsx(AN,{ref:n,className:it("-mx-1 my-1 h-px bg-muted",t),...e}));f$.displayName=AN.displayName;const p$=()=>{const{user:t,loading:e,updateUserRole:n}=ic(),r=ho(),[i,s]=v.useState([]),[o,a]=v.useState(!0),[l,c]=v.useState(null);if(v.useEffect(()=>{!e&&(!t||t.role!=="super_admin")&&r("/dashboard")},[t,e,r]),v.useEffect(()=>{const g=async()=>{if(!(!t||t.role!=="super_admin"))try{const T=up(kn,"users"),y=fp(T,jS("createdAt","desc")),I=await Pv(y),C=[];I.forEach(w=>{const A=w.data();C.push({id:w.id,name:A.name,email:A.email,role:A.role||"customer",purchases:A.purchases||0,createdAt:A.createdAt})}),s(C)}catch(T){console.error("Error loading users:",T),At({title:"Error",description:"Failed to load users",variant:"destructive"})}finally{a(!1)}};(t==null?void 0:t.role)==="super_admin"&&g()},[t]),e)return p.jsx("div",{className:"min-h-screen bg-gradient-to-br from-black via-gray-900 to-red-950 flex items-center justify-center",children:p.jsxs("div",{className:"text-center",children:[p.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-500 mx-auto mb-4"}),p.jsx("p",{className:"text-white text-lg",children:"Loading..."})]})});if(!t||t.role!=="super_admin")return null;const d=async(g,T)=>{if(g===t.id){At({title:"Cannot Update Own Role",description:"You cannot change your own role",variant:"destructive"});return}c(g);try{await n(g,T),At({title:"Role Updated",description:"User role has been updated successfully!"}),s(y=>y.map(I=>I.id===g?{...I,role:T}:I))}catch(y){console.error("Error updating role:",y),At({title:"Update Failed",description:"Failed to update user role. Please try again.",variant:"destructive"})}finally{c(null)}},f=g=>{switch(g){case"super_admin":return p.jsx(sv,{className:"w-4 h-4 text-yellow-500"});case"admin":return p.jsx(qI,{className:"w-4 h-4 text-blue-500"});case"customer":return p.jsx(dC,{className:"w-4 h-4 text-gray-500"});default:return p.jsx(dC,{className:"w-4 h-4 text-gray-500"})}},h=g=>{switch(g){case"super_admin":return"text-yellow-500 bg-yellow-500/10 border-yellow-500/20";case"admin":return"text-blue-500 bg-blue-500/10 border-blue-500/20";case"customer":return"text-gray-500 bg-gray-500/10 border-gray-500/20";default:return"text-gray-500 bg-gray-500/10 border-gray-500/20"}};return p.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-black via-gray-900 to-red-950 relative overflow-hidden",children:[p.jsxs("div",{className:"absolute inset-0 opacity-10",children:[p.jsx("div",{className:"absolute top-20 right-10 w-40 h-40 bg-red-500 rounded-full blur-3xl animate-pulse"}),p.jsx("div",{className:"absolute bottom-32 left-10 w-32 h-32 bg-red-600 rounded-full blur-3xl animate-pulse delay-1000"})]}),p.jsxs("div",{className:"relative z-10 min-h-screen flex flex-col",children:[p.jsx("div",{className:"bg-gray-900/80 backdrop-blur-sm border-b border-red-900/30 sticky top-0 z-10",children:p.jsxs("div",{className:"p-6 flex items-center justify-between",children:[p.jsxs("div",{className:"flex items-center",children:[p.jsx(ai,{to:"/dashboard",className:"text-red-400 hover:text-red-300 transition-colors",children:p.jsx($l,{className:"w-6 h-6"})}),p.jsx("h1",{className:"ml-4 text-2xl font-bold text-white",children:"User Management"})]}),p.jsxs("div",{className:"flex items-center text-gray-400",children:[p.jsx(sv,{className:"w-6 h-6 mr-2 text-yellow-500"}),p.jsx("span",{className:"text-sm",children:"Super Admin Panel"})]})]})}),p.jsx("div",{className:"flex-1 px-6 py-8",children:p.jsx("div",{className:"max-w-4xl mx-auto",children:p.jsxs("div",{className:"bg-gray-900/80 backdrop-blur-sm border border-red-900/30 rounded-2xl p-8 shadow-2xl",children:[p.jsxs("div",{className:"text-center mb-8",children:[p.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:"Manage Users"}),p.jsx("p",{className:"text-gray-400",children:"Update user roles and permissions"})]}),o?p.jsxs("div",{className:"text-center py-8",children:[p.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-red-500 mx-auto mb-4"}),p.jsx("p",{className:"text-white",children:"Loading users..."})]}):p.jsx("div",{className:"space-y-4",children:i.map(g=>p.jsxs("div",{className:"bg-gray-800/50 border border-gray-700 rounded-lg p-4 flex items-center justify-between",children:[p.jsx("div",{className:"flex items-center space-x-4",children:p.jsxs("div",{className:"flex items-center space-x-3",children:[f(g.role),p.jsxs("div",{children:[p.jsx("h3",{className:"text-white font-semibold",children:g.name}),p.jsx("p",{className:"text-gray-400 text-sm",children:g.email}),p.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[p.jsx("span",{className:`text-xs px-2 py-1 rounded-full border ${h(g.role)}`,children:g.role.replace("_"," ").toUpperCase()}),p.jsxs("span",{className:"text-gray-500 text-xs",children:[g.purchases," purchases"]})]})]})]})}),p.jsxs("div",{className:"flex items-center space-x-3",children:[g.id!==t.id&&p.jsxs(u$,{value:g.role,onValueChange:T=>d(g.id,T),disabled:l===g.id,children:[p.jsx(IN,{className:"w-32 bg-gray-700 border-gray-600 text-white",children:p.jsx(d$,{})}),p.jsxs(RN,{className:"bg-gray-800 border-gray-700",children:[p.jsx(Ef,{value:"customer",children:"Customer"}),p.jsx(Ef,{value:"admin",children:"Admin"}),p.jsx(Ef,{value:"super_admin",children:"Super Admin"})]})]}),g.id===t.id&&p.jsx("span",{className:"text-gray-500 text-sm",children:"Current User"})]})]},g.id))}),i.length===0&&!o&&p.jsxs("div",{className:"text-center py-8",children:[p.jsx(ov,{className:"w-12 h-12 text-gray-500 mx-auto mb-4"}),p.jsx("p",{className:"text-gray-400",children:"No users found"})]})]})})})]})]})},m$=()=>{const t=vd();return v.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),p.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:p.jsxs("div",{className:"text-center",children:[p.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),p.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),p.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})};let PN=!0,kN=!0;function Uc(t,e,n){const r=t.match(e);return r&&r.length>=n&&parseFloat(r[n],10)}function ha(t,e,n){if(!t.RTCPeerConnection)return;const r=t.RTCPeerConnection.prototype,i=r.addEventListener;r.addEventListener=function(o,a){if(o!==e)return i.apply(this,arguments);const l=c=>{const d=n(c);d&&(a.handleEvent?a.handleEvent(d):a(d))};return this._eventMap=this._eventMap||{},this._eventMap[e]||(this._eventMap[e]=new Map),this._eventMap[e].set(a,l),i.apply(this,[o,l])};const s=r.removeEventListener;r.removeEventListener=function(o,a){if(o!==e||!this._eventMap||!this._eventMap[e])return s.apply(this,arguments);if(!this._eventMap[e].has(a))return s.apply(this,arguments);const l=this._eventMap[e].get(a);return this._eventMap[e].delete(a),this._eventMap[e].size===0&&delete this._eventMap[e],Object.keys(this._eventMap).length===0&&delete this._eventMap,s.apply(this,[o,l])},Object.defineProperty(r,"on"+e,{get(){return this["_on"+e]},set(o){this["_on"+e]&&(this.removeEventListener(e,this["_on"+e]),delete this["_on"+e]),o&&this.addEventListener(e,this["_on"+e]=o)},enumerable:!0,configurable:!0})}function g$(t){return typeof t!="boolean"?new Error("Argument type: "+typeof t+". Please use a boolean."):(PN=t,t?"adapter.js logging disabled":"adapter.js logging enabled")}function y$(t){return typeof t!="boolean"?new Error("Argument type: "+typeof t+". Please use a boolean."):(kN=!t,"adapter.js deprecation warnings "+(t?"disabled":"enabled"))}function NN(){if(typeof window=="object"){if(PN)return;typeof console<"u"&&typeof console.log=="function"&&console.log.apply(console,arguments)}}function GE(t,e){kN&&console.warn(t+" is deprecated, please use "+e+" instead.")}function v$(t){const e={browser:null,version:null};if(typeof t>"u"||!t.navigator||!t.navigator.userAgent)return e.browser="Not a browser.",e;const{navigator:n}=t;if(n.userAgentData&&n.userAgentData.brands){const r=n.userAgentData.brands.find(i=>i.brand==="Chromium");if(r)return{browser:"chrome",version:parseInt(r.version,10)}}if(n.mozGetUserMedia)e.browser="firefox",e.version=parseInt(Uc(n.userAgent,/Firefox\/(\d+)\./,1));else if(n.webkitGetUserMedia||t.isSecureContext===!1&&t.webkitRTCPeerConnection)e.browser="chrome",e.version=parseInt(Uc(n.userAgent,/Chrom(e|ium)\/(\d+)\./,2));else if(t.RTCPeerConnection&&n.userAgent.match(/AppleWebKit\/(\d+)\./))e.browser="safari",e.version=parseInt(Uc(n.userAgent,/AppleWebKit\/(\d+)\./,1)),e.supportsUnifiedPlan=t.RTCRtpTransceiver&&"currentDirection"in t.RTCRtpTransceiver.prototype,e._safariVersion=Uc(n.userAgent,/Version\/(\d+(\.?\d+))/,1);else return e.browser="Not a supported browser.",e;return e}function N_(t){return Object.prototype.toString.call(t)==="[object Object]"}function DN(t){return N_(t)?Object.keys(t).reduce(function(e,n){const r=N_(t[n]),i=r?DN(t[n]):t[n],s=r&&!Object.keys(i).length;return i===void 0||s?e:Object.assign(e,{[n]:i})},{}):t}function s0(t,e,n){!e||n.has(e.id)||(n.set(e.id,e),Object.keys(e).forEach(r=>{r.endsWith("Id")?s0(t,t.get(e[r]),n):r.endsWith("Ids")&&e[r].forEach(i=>{s0(t,t.get(i),n)})}))}function D_(t,e,n){const r=n?"outbound-rtp":"inbound-rtp",i=new Map;if(e===null)return i;const s=[];return t.forEach(o=>{o.type==="track"&&o.trackIdentifier===e.id&&s.push(o)}),s.forEach(o=>{t.forEach(a=>{a.type===r&&a.trackId===o.id&&s0(t,a,i)})}),i}const M_=NN;function MN(t,e){const n=t&&t.navigator;if(!n.mediaDevices)return;const r=function(a){if(typeof a!="object"||a.mandatory||a.optional)return a;const l={};return Object.keys(a).forEach(c=>{if(c==="require"||c==="advanced"||c==="mediaSource")return;const d=typeof a[c]=="object"?a[c]:{ideal:a[c]};d.exact!==void 0&&typeof d.exact=="number"&&(d.min=d.max=d.exact);const f=function(h,g){return h?h+g.charAt(0).toUpperCase()+g.slice(1):g==="deviceId"?"sourceId":g};if(d.ideal!==void 0){l.optional=l.optional||[];let h={};typeof d.ideal=="number"?(h[f("min",c)]=d.ideal,l.optional.push(h),h={},h[f("max",c)]=d.ideal,l.optional.push(h)):(h[f("",c)]=d.ideal,l.optional.push(h))}d.exact!==void 0&&typeof d.exact!="number"?(l.mandatory=l.mandatory||{},l.mandatory[f("",c)]=d.exact):["min","max"].forEach(h=>{d[h]!==void 0&&(l.mandatory=l.mandatory||{},l.mandatory[f(h,c)]=d[h])})}),a.advanced&&(l.optional=(l.optional||[]).concat(a.advanced)),l},i=function(a,l){if(e.version>=61)return l(a);if(a=JSON.parse(JSON.stringify(a)),a&&typeof a.audio=="object"){const c=function(d,f,h){f in d&&!(h in d)&&(d[h]=d[f],delete d[f])};a=JSON.parse(JSON.stringify(a)),c(a.audio,"autoGainControl","googAutoGainControl"),c(a.audio,"noiseSuppression","googNoiseSuppression"),a.audio=r(a.audio)}if(a&&typeof a.video=="object"){let c=a.video.facingMode;c=c&&(typeof c=="object"?c:{ideal:c});const d=e.version<66;if(c&&(c.exact==="user"||c.exact==="environment"||c.ideal==="user"||c.ideal==="environment")&&!(n.mediaDevices.getSupportedConstraints&&n.mediaDevices.getSupportedConstraints().facingMode&&!d)){delete a.video.facingMode;let f;if(c.exact==="environment"||c.ideal==="environment"?f=["back","rear"]:(c.exact==="user"||c.ideal==="user")&&(f=["front"]),f)return n.mediaDevices.enumerateDevices().then(h=>{h=h.filter(T=>T.kind==="videoinput");let g=h.find(T=>f.some(y=>T.label.toLowerCase().includes(y)));return!g&&h.length&&f.includes("back")&&(g=h[h.length-1]),g&&(a.video.deviceId=c.exact?{exact:g.deviceId}:{ideal:g.deviceId}),a.video=r(a.video),M_("chrome: "+JSON.stringify(a)),l(a)})}a.video=r(a.video)}return M_("chrome: "+JSON.stringify(a)),l(a)},s=function(a){return e.version>=64?a:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[a.name]||a.name,message:a.message,constraint:a.constraint||a.constraintName,toString(){return this.name+(this.message&&": ")+this.message}}},o=function(a,l,c){i(a,d=>{n.webkitGetUserMedia(d,l,f=>{c&&c(s(f))})})};if(n.getUserMedia=o.bind(n),n.mediaDevices.getUserMedia){const a=n.mediaDevices.getUserMedia.bind(n.mediaDevices);n.mediaDevices.getUserMedia=function(l){return i(l,c=>a(c).then(d=>{if(c.audio&&!d.getAudioTracks().length||c.video&&!d.getVideoTracks().length)throw d.getTracks().forEach(f=>{f.stop()}),new DOMException("","NotFoundError");return d},d=>Promise.reject(s(d))))}}}function ON(t){t.MediaStream=t.MediaStream||t.webkitMediaStream}function LN(t){if(typeof t=="object"&&t.RTCPeerConnection&&!("ontrack"in t.RTCPeerConnection.prototype)){Object.defineProperty(t.RTCPeerConnection.prototype,"ontrack",{get(){return this._ontrack},set(n){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=n)},enumerable:!0,configurable:!0});const e=t.RTCPeerConnection.prototype.setRemoteDescription;t.RTCPeerConnection.prototype.setRemoteDescription=function(){return this._ontrackpoly||(this._ontrackpoly=r=>{r.stream.addEventListener("addtrack",i=>{let s;t.RTCPeerConnection.prototype.getReceivers?s=this.getReceivers().find(a=>a.track&&a.track.id===i.track.id):s={track:i.track};const o=new Event("track");o.track=i.track,o.receiver=s,o.transceiver={receiver:s},o.streams=[r.stream],this.dispatchEvent(o)}),r.stream.getTracks().forEach(i=>{let s;t.RTCPeerConnection.prototype.getReceivers?s=this.getReceivers().find(a=>a.track&&a.track.id===i.id):s={track:i};const o=new Event("track");o.track=i,o.receiver=s,o.transceiver={receiver:s},o.streams=[r.stream],this.dispatchEvent(o)})},this.addEventListener("addstream",this._ontrackpoly)),e.apply(this,arguments)}}else ha(t,"track",e=>(e.transceiver||Object.defineProperty(e,"transceiver",{value:{receiver:e.receiver}}),e))}function VN(t){if(typeof t=="object"&&t.RTCPeerConnection&&!("getSenders"in t.RTCPeerConnection.prototype)&&"createDTMFSender"in t.RTCPeerConnection.prototype){const e=function(i,s){return{track:s,get dtmf(){return this._dtmf===void 0&&(s.kind==="audio"?this._dtmf=i.createDTMFSender(s):this._dtmf=null),this._dtmf},_pc:i}};if(!t.RTCPeerConnection.prototype.getSenders){t.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};const i=t.RTCPeerConnection.prototype.addTrack;t.RTCPeerConnection.prototype.addTrack=function(a,l){let c=i.apply(this,arguments);return c||(c=e(this,a),this._senders.push(c)),c};const s=t.RTCPeerConnection.prototype.removeTrack;t.RTCPeerConnection.prototype.removeTrack=function(a){s.apply(this,arguments);const l=this._senders.indexOf(a);l!==-1&&this._senders.splice(l,1)}}const n=t.RTCPeerConnection.prototype.addStream;t.RTCPeerConnection.prototype.addStream=function(s){this._senders=this._senders||[],n.apply(this,[s]),s.getTracks().forEach(o=>{this._senders.push(e(this,o))})};const r=t.RTCPeerConnection.prototype.removeStream;t.RTCPeerConnection.prototype.removeStream=function(s){this._senders=this._senders||[],r.apply(this,[s]),s.getTracks().forEach(o=>{const a=this._senders.find(l=>l.track===o);a&&this._senders.splice(this._senders.indexOf(a),1)})}}else if(typeof t=="object"&&t.RTCPeerConnection&&"getSenders"in t.RTCPeerConnection.prototype&&"createDTMFSender"in t.RTCPeerConnection.prototype&&t.RTCRtpSender&&!("dtmf"in t.RTCRtpSender.prototype)){const e=t.RTCPeerConnection.prototype.getSenders;t.RTCPeerConnection.prototype.getSenders=function(){const r=e.apply(this,[]);return r.forEach(i=>i._pc=this),r},Object.defineProperty(t.RTCRtpSender.prototype,"dtmf",{get(){return this._dtmf===void 0&&(this.track.kind==="audio"?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}})}}function FN(t){if(!(typeof t=="object"&&t.RTCPeerConnection&&t.RTCRtpSender&&t.RTCRtpReceiver))return;if(!("getStats"in t.RTCRtpSender.prototype)){const n=t.RTCPeerConnection.prototype.getSenders;n&&(t.RTCPeerConnection.prototype.getSenders=function(){const s=n.apply(this,[]);return s.forEach(o=>o._pc=this),s});const r=t.RTCPeerConnection.prototype.addTrack;r&&(t.RTCPeerConnection.prototype.addTrack=function(){const s=r.apply(this,arguments);return s._pc=this,s}),t.RTCRtpSender.prototype.getStats=function(){const s=this;return this._pc.getStats().then(o=>D_(o,s.track,!0))}}if(!("getStats"in t.RTCRtpReceiver.prototype)){const n=t.RTCPeerConnection.prototype.getReceivers;n&&(t.RTCPeerConnection.prototype.getReceivers=function(){const i=n.apply(this,[]);return i.forEach(s=>s._pc=this),i}),ha(t,"track",r=>(r.receiver._pc=r.srcElement,r)),t.RTCRtpReceiver.prototype.getStats=function(){const i=this;return this._pc.getStats().then(s=>D_(s,i.track,!1))}}if(!("getStats"in t.RTCRtpSender.prototype&&"getStats"in t.RTCRtpReceiver.prototype))return;const e=t.RTCPeerConnection.prototype.getStats;t.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof t.MediaStreamTrack){const r=arguments[0];let i,s,o;return this.getSenders().forEach(a=>{a.track===r&&(i?o=!0:i=a)}),this.getReceivers().forEach(a=>(a.track===r&&(s?o=!0:s=a),a.track===r)),o||i&&s?Promise.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):i?i.getStats():s?s.getStats():Promise.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return e.apply(this,arguments)}}function BN(t){t.RTCPeerConnection.prototype.getLocalStreams=function(){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map(o=>this._shimmedLocalStreams[o][0])};const e=t.RTCPeerConnection.prototype.addTrack;t.RTCPeerConnection.prototype.addTrack=function(o,a){if(!a)return e.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};const l=e.apply(this,arguments);return this._shimmedLocalStreams[a.id]?this._shimmedLocalStreams[a.id].indexOf(l)===-1&&this._shimmedLocalStreams[a.id].push(l):this._shimmedLocalStreams[a.id]=[a,l],l};const n=t.RTCPeerConnection.prototype.addStream;t.RTCPeerConnection.prototype.addStream=function(o){this._shimmedLocalStreams=this._shimmedLocalStreams||{},o.getTracks().forEach(c=>{if(this.getSenders().find(f=>f.track===c))throw new DOMException("Track already exists.","InvalidAccessError")});const a=this.getSenders();n.apply(this,arguments);const l=this.getSenders().filter(c=>a.indexOf(c)===-1);this._shimmedLocalStreams[o.id]=[o].concat(l)};const r=t.RTCPeerConnection.prototype.removeStream;t.RTCPeerConnection.prototype.removeStream=function(o){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[o.id],r.apply(this,arguments)};const i=t.RTCPeerConnection.prototype.removeTrack;t.RTCPeerConnection.prototype.removeTrack=function(o){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},o&&Object.keys(this._shimmedLocalStreams).forEach(a=>{const l=this._shimmedLocalStreams[a].indexOf(o);l!==-1&&this._shimmedLocalStreams[a].splice(l,1),this._shimmedLocalStreams[a].length===1&&delete this._shimmedLocalStreams[a]}),i.apply(this,arguments)}}function jN(t,e){if(!t.RTCPeerConnection)return;if(t.RTCPeerConnection.prototype.addTrack&&e.version>=65)return BN(t);const n=t.RTCPeerConnection.prototype.getLocalStreams;t.RTCPeerConnection.prototype.getLocalStreams=function(){const d=n.apply(this);return this._reverseStreams=this._reverseStreams||{},d.map(f=>this._reverseStreams[f.id])};const r=t.RTCPeerConnection.prototype.addStream;t.RTCPeerConnection.prototype.addStream=function(d){if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},d.getTracks().forEach(f=>{if(this.getSenders().find(g=>g.track===f))throw new DOMException("Track already exists.","InvalidAccessError")}),!this._reverseStreams[d.id]){const f=new t.MediaStream(d.getTracks());this._streams[d.id]=f,this._reverseStreams[f.id]=d,d=f}r.apply(this,[d])};const i=t.RTCPeerConnection.prototype.removeStream;t.RTCPeerConnection.prototype.removeStream=function(d){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},i.apply(this,[this._streams[d.id]||d]),delete this._reverseStreams[this._streams[d.id]?this._streams[d.id].id:d.id],delete this._streams[d.id]},t.RTCPeerConnection.prototype.addTrack=function(d,f){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");const h=[].slice.call(arguments,1);if(h.length!==1||!h[0].getTracks().find(y=>y===d))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");if(this.getSenders().find(y=>y.track===d))throw new DOMException("Track already exists.","InvalidAccessError");this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};const T=this._streams[f.id];if(T)T.addTrack(d),Promise.resolve().then(()=>{this.dispatchEvent(new Event("negotiationneeded"))});else{const y=new t.MediaStream([d]);this._streams[f.id]=y,this._reverseStreams[y.id]=f,this.addStream(y)}return this.getSenders().find(y=>y.track===d)};function s(c,d){let f=d.sdp;return Object.keys(c._reverseStreams||[]).forEach(h=>{const g=c._reverseStreams[h],T=c._streams[g.id];f=f.replace(new RegExp(T.id,"g"),g.id)}),new RTCSessionDescription({type:d.type,sdp:f})}function o(c,d){let f=d.sdp;return Object.keys(c._reverseStreams||[]).forEach(h=>{const g=c._reverseStreams[h],T=c._streams[g.id];f=f.replace(new RegExp(g.id,"g"),T.id)}),new RTCSessionDescription({type:d.type,sdp:f})}["createOffer","createAnswer"].forEach(function(c){const d=t.RTCPeerConnection.prototype[c],f={[c](){const h=arguments;return arguments.length&&typeof arguments[0]=="function"?d.apply(this,[T=>{const y=s(this,T);h[0].apply(null,[y])},T=>{h[1]&&h[1].apply(null,T)},arguments[2]]):d.apply(this,arguments).then(T=>s(this,T))}};t.RTCPeerConnection.prototype[c]=f[c]});const a=t.RTCPeerConnection.prototype.setLocalDescription;t.RTCPeerConnection.prototype.setLocalDescription=function(){return!arguments.length||!arguments[0].type?a.apply(this,arguments):(arguments[0]=o(this,arguments[0]),a.apply(this,arguments))};const l=Object.getOwnPropertyDescriptor(t.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(t.RTCPeerConnection.prototype,"localDescription",{get(){const c=l.get.apply(this);return c.type===""?c:s(this,c)}}),t.RTCPeerConnection.prototype.removeTrack=function(d){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!d._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(!(d._pc===this))throw new DOMException("Sender was not created by this connection.","InvalidAccessError");this._streams=this._streams||{};let h;Object.keys(this._streams).forEach(g=>{this._streams[g].getTracks().find(y=>d.track===y)&&(h=this._streams[g])}),h&&(h.getTracks().length===1?this.removeStream(this._reverseStreams[h.id]):h.removeTrack(d.track),this.dispatchEvent(new Event("negotiationneeded")))}}function o0(t,e){!t.RTCPeerConnection&&t.webkitRTCPeerConnection&&(t.RTCPeerConnection=t.webkitRTCPeerConnection),t.RTCPeerConnection&&e.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(n){const r=t.RTCPeerConnection.prototype[n],i={[n](){return arguments[0]=new(n==="addIceCandidate"?t.RTCIceCandidate:t.RTCSessionDescription)(arguments[0]),r.apply(this,arguments)}};t.RTCPeerConnection.prototype[n]=i[n]})}function UN(t,e){ha(t,"negotiationneeded",n=>{const r=n.target;if(!((e.version<72||r.getConfiguration&&r.getConfiguration().sdpSemantics==="plan-b")&&r.signalingState!=="stable"))return n})}const O_=Object.freeze(Object.defineProperty({__proto__:null,fixNegotiationNeeded:UN,shimAddTrackRemoveTrack:jN,shimAddTrackRemoveTrackWithNative:BN,shimGetSendersWithDtmf:VN,shimGetUserMedia:MN,shimMediaStream:ON,shimOnTrack:LN,shimPeerConnection:o0,shimSenderReceiverGetStats:FN},Symbol.toStringTag,{value:"Module"}));function qN(t,e){const n=t&&t.navigator,r=t&&t.MediaStreamTrack;if(n.getUserMedia=function(i,s,o){GE("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),n.mediaDevices.getUserMedia(i).then(s,o)},!(e.version>55&&"autoGainControl"in n.mediaDevices.getSupportedConstraints())){const i=function(o,a,l){a in o&&!(l in o)&&(o[l]=o[a],delete o[a])},s=n.mediaDevices.getUserMedia.bind(n.mediaDevices);if(n.mediaDevices.getUserMedia=function(o){return typeof o=="object"&&typeof o.audio=="object"&&(o=JSON.parse(JSON.stringify(o)),i(o.audio,"autoGainControl","mozAutoGainControl"),i(o.audio,"noiseSuppression","mozNoiseSuppression")),s(o)},r&&r.prototype.getSettings){const o=r.prototype.getSettings;r.prototype.getSettings=function(){const a=o.apply(this,arguments);return i(a,"mozAutoGainControl","autoGainControl"),i(a,"mozNoiseSuppression","noiseSuppression"),a}}if(r&&r.prototype.applyConstraints){const o=r.prototype.applyConstraints;r.prototype.applyConstraints=function(a){return this.kind==="audio"&&typeof a=="object"&&(a=JSON.parse(JSON.stringify(a)),i(a,"autoGainControl","mozAutoGainControl"),i(a,"noiseSuppression","mozNoiseSuppression")),o.apply(this,[a])}}}}function w$(t,e){t.navigator.mediaDevices&&"getDisplayMedia"in t.navigator.mediaDevices||t.navigator.mediaDevices&&(t.navigator.mediaDevices.getDisplayMedia=function(r){if(!(r&&r.video)){const i=new DOMException("getDisplayMedia without video constraints is undefined");return i.name="NotFoundError",i.code=8,Promise.reject(i)}return r.video===!0?r.video={mediaSource:e}:r.video.mediaSource=e,t.navigator.mediaDevices.getUserMedia(r)})}function GN(t){typeof t=="object"&&t.RTCTrackEvent&&"receiver"in t.RTCTrackEvent.prototype&&!("transceiver"in t.RTCTrackEvent.prototype)&&Object.defineProperty(t.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function a0(t,e){if(typeof t!="object"||!(t.RTCPeerConnection||t.mozRTCPeerConnection))return;!t.RTCPeerConnection&&t.mozRTCPeerConnection&&(t.RTCPeerConnection=t.mozRTCPeerConnection),e.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(i){const s=t.RTCPeerConnection.prototype[i],o={[i](){return arguments[0]=new(i==="addIceCandidate"?t.RTCIceCandidate:t.RTCSessionDescription)(arguments[0]),s.apply(this,arguments)}};t.RTCPeerConnection.prototype[i]=o[i]});const n={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},r=t.RTCPeerConnection.prototype.getStats;t.RTCPeerConnection.prototype.getStats=function(){const[s,o,a]=arguments;return r.apply(this,[s||null]).then(l=>{if(e.version<53&&!o)try{l.forEach(c=>{c.type=n[c.type]||c.type})}catch(c){if(c.name!=="TypeError")throw c;l.forEach((d,f)=>{l.set(f,Object.assign({},d,{type:n[d.type]||d.type}))})}return l}).then(o,a)}}function $N(t){if(!(typeof t=="object"&&t.RTCPeerConnection&&t.RTCRtpSender)||t.RTCRtpSender&&"getStats"in t.RTCRtpSender.prototype)return;const e=t.RTCPeerConnection.prototype.getSenders;e&&(t.RTCPeerConnection.prototype.getSenders=function(){const i=e.apply(this,[]);return i.forEach(s=>s._pc=this),i});const n=t.RTCPeerConnection.prototype.addTrack;n&&(t.RTCPeerConnection.prototype.addTrack=function(){const i=n.apply(this,arguments);return i._pc=this,i}),t.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):Promise.resolve(new Map)}}function zN(t){if(!(typeof t=="object"&&t.RTCPeerConnection&&t.RTCRtpSender)||t.RTCRtpSender&&"getStats"in t.RTCRtpReceiver.prototype)return;const e=t.RTCPeerConnection.prototype.getReceivers;e&&(t.RTCPeerConnection.prototype.getReceivers=function(){const r=e.apply(this,[]);return r.forEach(i=>i._pc=this),r}),ha(t,"track",n=>(n.receiver._pc=n.srcElement,n)),t.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}function WN(t){!t.RTCPeerConnection||"removeStream"in t.RTCPeerConnection.prototype||(t.RTCPeerConnection.prototype.removeStream=function(n){GE("removeStream","removeTrack"),this.getSenders().forEach(r=>{r.track&&n.getTracks().includes(r.track)&&this.removeTrack(r)})})}function YN(t){t.DataChannel&&!t.RTCDataChannel&&(t.RTCDataChannel=t.DataChannel)}function QN(t){if(!(typeof t=="object"&&t.RTCPeerConnection))return;const e=t.RTCPeerConnection.prototype.addTransceiver;e&&(t.RTCPeerConnection.prototype.addTransceiver=function(){this.setParametersPromises=[];let r=arguments[1]&&arguments[1].sendEncodings;r===void 0&&(r=[]),r=[...r];const i=r.length>0;i&&r.forEach(o=>{if("rid"in o&&!/^[a-z0-9]{0,16}$/i.test(o.rid))throw new TypeError("Invalid RID value provided.");if("scaleResolutionDownBy"in o&&!(parseFloat(o.scaleResolutionDownBy)>=1))throw new RangeError("scale_resolution_down_by must be >= 1.0");if("maxFramerate"in o&&!(parseFloat(o.maxFramerate)>=0))throw new RangeError("max_framerate must be >= 0.0")});const s=e.apply(this,arguments);if(i){const{sender:o}=s,a=o.getParameters();(!("encodings"in a)||a.encodings.length===1&&Object.keys(a.encodings[0]).length===0)&&(a.encodings=r,o.sendEncodings=r,this.setParametersPromises.push(o.setParameters(a).then(()=>{delete o.sendEncodings}).catch(()=>{delete o.sendEncodings})))}return s})}function KN(t){if(!(typeof t=="object"&&t.RTCRtpSender))return;const e=t.RTCRtpSender.prototype.getParameters;e&&(t.RTCRtpSender.prototype.getParameters=function(){const r=e.apply(this,arguments);return"encodings"in r||(r.encodings=[].concat(this.sendEncodings||[{}])),r})}function HN(t){if(!(typeof t=="object"&&t.RTCPeerConnection))return;const e=t.RTCPeerConnection.prototype.createOffer;t.RTCPeerConnection.prototype.createOffer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>e.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):e.apply(this,arguments)}}function JN(t){if(!(typeof t=="object"&&t.RTCPeerConnection))return;const e=t.RTCPeerConnection.prototype.createAnswer;t.RTCPeerConnection.prototype.createAnswer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>e.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):e.apply(this,arguments)}}const L_=Object.freeze(Object.defineProperty({__proto__:null,shimAddTransceiver:QN,shimCreateAnswer:JN,shimCreateOffer:HN,shimGetDisplayMedia:w$,shimGetParameters:KN,shimGetUserMedia:qN,shimOnTrack:GN,shimPeerConnection:a0,shimRTCDataChannel:YN,shimReceiverGetStats:zN,shimRemoveStream:WN,shimSenderGetStats:$N},Symbol.toStringTag,{value:"Module"}));function ZN(t){if(!(typeof t!="object"||!t.RTCPeerConnection)){if("getLocalStreams"in t.RTCPeerConnection.prototype||(t.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in t.RTCPeerConnection.prototype)){const e=t.RTCPeerConnection.prototype.addTrack;t.RTCPeerConnection.prototype.addStream=function(r){this._localStreams||(this._localStreams=[]),this._localStreams.includes(r)||this._localStreams.push(r),r.getAudioTracks().forEach(i=>e.call(this,i,r)),r.getVideoTracks().forEach(i=>e.call(this,i,r))},t.RTCPeerConnection.prototype.addTrack=function(r,...i){return i&&i.forEach(s=>{this._localStreams?this._localStreams.includes(s)||this._localStreams.push(s):this._localStreams=[s]}),e.apply(this,arguments)}}"removeStream"in t.RTCPeerConnection.prototype||(t.RTCPeerConnection.prototype.removeStream=function(n){this._localStreams||(this._localStreams=[]);const r=this._localStreams.indexOf(n);if(r===-1)return;this._localStreams.splice(r,1);const i=n.getTracks();this.getSenders().forEach(s=>{i.includes(s.track)&&this.removeTrack(s)})})}}function XN(t){if(!(typeof t!="object"||!t.RTCPeerConnection)&&("getRemoteStreams"in t.RTCPeerConnection.prototype||(t.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in t.RTCPeerConnection.prototype))){Object.defineProperty(t.RTCPeerConnection.prototype,"onaddstream",{get(){return this._onaddstream},set(n){this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=n),this.addEventListener("track",this._onaddstreampoly=r=>{r.streams.forEach(i=>{if(this._remoteStreams||(this._remoteStreams=[]),this._remoteStreams.includes(i))return;this._remoteStreams.push(i);const s=new Event("addstream");s.stream=i,this.dispatchEvent(s)})})}});const e=t.RTCPeerConnection.prototype.setRemoteDescription;t.RTCPeerConnection.prototype.setRemoteDescription=function(){const r=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(i){i.streams.forEach(s=>{if(r._remoteStreams||(r._remoteStreams=[]),r._remoteStreams.indexOf(s)>=0)return;r._remoteStreams.push(s);const o=new Event("addstream");o.stream=s,r.dispatchEvent(o)})}),e.apply(r,arguments)}}}function e2(t){if(typeof t!="object"||!t.RTCPeerConnection)return;const e=t.RTCPeerConnection.prototype,n=e.createOffer,r=e.createAnswer,i=e.setLocalDescription,s=e.setRemoteDescription,o=e.addIceCandidate;e.createOffer=function(c,d){const f=arguments.length>=2?arguments[2]:arguments[0],h=n.apply(this,[f]);return d?(h.then(c,d),Promise.resolve()):h},e.createAnswer=function(c,d){const f=arguments.length>=2?arguments[2]:arguments[0],h=r.apply(this,[f]);return d?(h.then(c,d),Promise.resolve()):h};let a=function(l,c,d){const f=i.apply(this,[l]);return d?(f.then(c,d),Promise.resolve()):f};e.setLocalDescription=a,a=function(l,c,d){const f=s.apply(this,[l]);return d?(f.then(c,d),Promise.resolve()):f},e.setRemoteDescription=a,a=function(l,c,d){const f=o.apply(this,[l]);return d?(f.then(c,d),Promise.resolve()):f},e.addIceCandidate=a}function t2(t){const e=t&&t.navigator;if(e.mediaDevices&&e.mediaDevices.getUserMedia){const n=e.mediaDevices,r=n.getUserMedia.bind(n);e.mediaDevices.getUserMedia=i=>r(n2(i))}!e.getUserMedia&&e.mediaDevices&&e.mediaDevices.getUserMedia&&(e.getUserMedia=(function(r,i,s){e.mediaDevices.getUserMedia(r).then(i,s)}).bind(e))}function n2(t){return t&&t.video!==void 0?Object.assign({},t,{video:DN(t.video)}):t}function r2(t){if(!t.RTCPeerConnection)return;const e=t.RTCPeerConnection;t.RTCPeerConnection=function(r,i){if(r&&r.iceServers){const s=[];for(let o=0;o<r.iceServers.length;o++){let a=r.iceServers[o];a.urls===void 0&&a.url?(GE("RTCIceServer.url","RTCIceServer.urls"),a=JSON.parse(JSON.stringify(a)),a.urls=a.url,delete a.url,s.push(a)):s.push(r.iceServers[o])}r.iceServers=s}return new e(r,i)},t.RTCPeerConnection.prototype=e.prototype,"generateCertificate"in e&&Object.defineProperty(t.RTCPeerConnection,"generateCertificate",{get(){return e.generateCertificate}})}function i2(t){typeof t=="object"&&t.RTCTrackEvent&&"receiver"in t.RTCTrackEvent.prototype&&!("transceiver"in t.RTCTrackEvent.prototype)&&Object.defineProperty(t.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function s2(t){const e=t.RTCPeerConnection.prototype.createOffer;t.RTCPeerConnection.prototype.createOffer=function(r){if(r){typeof r.offerToReceiveAudio<"u"&&(r.offerToReceiveAudio=!!r.offerToReceiveAudio);const i=this.getTransceivers().find(o=>o.receiver.track.kind==="audio");r.offerToReceiveAudio===!1&&i?i.direction==="sendrecv"?i.setDirection?i.setDirection("sendonly"):i.direction="sendonly":i.direction==="recvonly"&&(i.setDirection?i.setDirection("inactive"):i.direction="inactive"):r.offerToReceiveAudio===!0&&!i&&this.addTransceiver("audio",{direction:"recvonly"}),typeof r.offerToReceiveVideo<"u"&&(r.offerToReceiveVideo=!!r.offerToReceiveVideo);const s=this.getTransceivers().find(o=>o.receiver.track.kind==="video");r.offerToReceiveVideo===!1&&s?s.direction==="sendrecv"?s.setDirection?s.setDirection("sendonly"):s.direction="sendonly":s.direction==="recvonly"&&(s.setDirection?s.setDirection("inactive"):s.direction="inactive"):r.offerToReceiveVideo===!0&&!s&&this.addTransceiver("video",{direction:"recvonly"})}return e.apply(this,arguments)}}function o2(t){typeof t!="object"||t.AudioContext||(t.AudioContext=t.webkitAudioContext)}const V_=Object.freeze(Object.defineProperty({__proto__:null,shimAudioContext:o2,shimCallbacksAPI:e2,shimConstraints:n2,shimCreateOfferLegacy:s2,shimGetUserMedia:t2,shimLocalStreamsAPI:ZN,shimRTCIceServerUrls:r2,shimRemoteStreamsAPI:XN,shimTrackEventTransceiver:i2},Symbol.toStringTag,{value:"Module"}));var a2={exports:{}};(function(t){const e={};e.generateIdentifier=function(){return Math.random().toString(36).substring(2,12)},e.localCName=e.generateIdentifier(),e.splitLines=function(n){return n.trim().split(`
`).map(r=>r.trim())},e.splitSections=function(n){return n.split(`
m=`).map((i,s)=>(s>0?"m="+i:i).trim()+`\r
`)},e.getDescription=function(n){const r=e.splitSections(n);return r&&r[0]},e.getMediaSections=function(n){const r=e.splitSections(n);return r.shift(),r},e.matchPrefix=function(n,r){return e.splitLines(n).filter(i=>i.indexOf(r)===0)},e.parseCandidate=function(n){let r;n.indexOf("a=candidate:")===0?r=n.substring(12).split(" "):r=n.substring(10).split(" ");const i={foundation:r[0],component:{1:"rtp",2:"rtcp"}[r[1]]||r[1],protocol:r[2].toLowerCase(),priority:parseInt(r[3],10),ip:r[4],address:r[4],port:parseInt(r[5],10),type:r[7]};for(let s=8;s<r.length;s+=2)switch(r[s]){case"raddr":i.relatedAddress=r[s+1];break;case"rport":i.relatedPort=parseInt(r[s+1],10);break;case"tcptype":i.tcpType=r[s+1];break;case"ufrag":i.ufrag=r[s+1],i.usernameFragment=r[s+1];break;default:i[r[s]]===void 0&&(i[r[s]]=r[s+1]);break}return i},e.writeCandidate=function(n){const r=[];r.push(n.foundation);const i=n.component;i==="rtp"?r.push(1):i==="rtcp"?r.push(2):r.push(i),r.push(n.protocol.toUpperCase()),r.push(n.priority),r.push(n.address||n.ip),r.push(n.port);const s=n.type;return r.push("typ"),r.push(s),s!=="host"&&n.relatedAddress&&n.relatedPort&&(r.push("raddr"),r.push(n.relatedAddress),r.push("rport"),r.push(n.relatedPort)),n.tcpType&&n.protocol.toLowerCase()==="tcp"&&(r.push("tcptype"),r.push(n.tcpType)),(n.usernameFragment||n.ufrag)&&(r.push("ufrag"),r.push(n.usernameFragment||n.ufrag)),"candidate:"+r.join(" ")},e.parseIceOptions=function(n){return n.substring(14).split(" ")},e.parseRtpMap=function(n){let r=n.substring(9).split(" ");const i={payloadType:parseInt(r.shift(),10)};return r=r[0].split("/"),i.name=r[0],i.clockRate=parseInt(r[1],10),i.channels=r.length===3?parseInt(r[2],10):1,i.numChannels=i.channels,i},e.writeRtpMap=function(n){let r=n.payloadType;n.preferredPayloadType!==void 0&&(r=n.preferredPayloadType);const i=n.channels||n.numChannels||1;return"a=rtpmap:"+r+" "+n.name+"/"+n.clockRate+(i!==1?"/"+i:"")+`\r
`},e.parseExtmap=function(n){const r=n.substring(9).split(" ");return{id:parseInt(r[0],10),direction:r[0].indexOf("/")>0?r[0].split("/")[1]:"sendrecv",uri:r[1],attributes:r.slice(2).join(" ")}},e.writeExtmap=function(n){return"a=extmap:"+(n.id||n.preferredId)+(n.direction&&n.direction!=="sendrecv"?"/"+n.direction:"")+" "+n.uri+(n.attributes?" "+n.attributes:"")+`\r
`},e.parseFmtp=function(n){const r={};let i;const s=n.substring(n.indexOf(" ")+1).split(";");for(let o=0;o<s.length;o++)i=s[o].trim().split("="),r[i[0].trim()]=i[1];return r},e.writeFmtp=function(n){let r="",i=n.payloadType;if(n.preferredPayloadType!==void 0&&(i=n.preferredPayloadType),n.parameters&&Object.keys(n.parameters).length){const s=[];Object.keys(n.parameters).forEach(o=>{n.parameters[o]!==void 0?s.push(o+"="+n.parameters[o]):s.push(o)}),r+="a=fmtp:"+i+" "+s.join(";")+`\r
`}return r},e.parseRtcpFb=function(n){const r=n.substring(n.indexOf(" ")+1).split(" ");return{type:r.shift(),parameter:r.join(" ")}},e.writeRtcpFb=function(n){let r="",i=n.payloadType;return n.preferredPayloadType!==void 0&&(i=n.preferredPayloadType),n.rtcpFeedback&&n.rtcpFeedback.length&&n.rtcpFeedback.forEach(s=>{r+="a=rtcp-fb:"+i+" "+s.type+(s.parameter&&s.parameter.length?" "+s.parameter:"")+`\r
`}),r},e.parseSsrcMedia=function(n){const r=n.indexOf(" "),i={ssrc:parseInt(n.substring(7,r),10)},s=n.indexOf(":",r);return s>-1?(i.attribute=n.substring(r+1,s),i.value=n.substring(s+1)):i.attribute=n.substring(r+1),i},e.parseSsrcGroup=function(n){const r=n.substring(13).split(" ");return{semantics:r.shift(),ssrcs:r.map(i=>parseInt(i,10))}},e.getMid=function(n){const r=e.matchPrefix(n,"a=mid:")[0];if(r)return r.substring(6)},e.parseFingerprint=function(n){const r=n.substring(14).split(" ");return{algorithm:r[0].toLowerCase(),value:r[1].toUpperCase()}},e.getDtlsParameters=function(n,r){return{role:"auto",fingerprints:e.matchPrefix(n+r,"a=fingerprint:").map(e.parseFingerprint)}},e.writeDtlsParameters=function(n,r){let i="a=setup:"+r+`\r
`;return n.fingerprints.forEach(s=>{i+="a=fingerprint:"+s.algorithm+" "+s.value+`\r
`}),i},e.parseCryptoLine=function(n){const r=n.substring(9).split(" ");return{tag:parseInt(r[0],10),cryptoSuite:r[1],keyParams:r[2],sessionParams:r.slice(3)}},e.writeCryptoLine=function(n){return"a=crypto:"+n.tag+" "+n.cryptoSuite+" "+(typeof n.keyParams=="object"?e.writeCryptoKeyParams(n.keyParams):n.keyParams)+(n.sessionParams?" "+n.sessionParams.join(" "):"")+`\r
`},e.parseCryptoKeyParams=function(n){if(n.indexOf("inline:")!==0)return null;const r=n.substring(7).split("|");return{keyMethod:"inline",keySalt:r[0],lifeTime:r[1],mkiValue:r[2]?r[2].split(":")[0]:void 0,mkiLength:r[2]?r[2].split(":")[1]:void 0}},e.writeCryptoKeyParams=function(n){return n.keyMethod+":"+n.keySalt+(n.lifeTime?"|"+n.lifeTime:"")+(n.mkiValue&&n.mkiLength?"|"+n.mkiValue+":"+n.mkiLength:"")},e.getCryptoParameters=function(n,r){return e.matchPrefix(n+r,"a=crypto:").map(e.parseCryptoLine)},e.getIceParameters=function(n,r){const i=e.matchPrefix(n+r,"a=ice-ufrag:")[0],s=e.matchPrefix(n+r,"a=ice-pwd:")[0];return i&&s?{usernameFragment:i.substring(12),password:s.substring(10)}:null},e.writeIceParameters=function(n){let r="a=ice-ufrag:"+n.usernameFragment+`\r
a=ice-pwd:`+n.password+`\r
`;return n.iceLite&&(r+=`a=ice-lite\r
`),r},e.parseRtpParameters=function(n){const r={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},s=e.splitLines(n)[0].split(" ");r.profile=s[2];for(let a=3;a<s.length;a++){const l=s[a],c=e.matchPrefix(n,"a=rtpmap:"+l+" ")[0];if(c){const d=e.parseRtpMap(c),f=e.matchPrefix(n,"a=fmtp:"+l+" ");switch(d.parameters=f.length?e.parseFmtp(f[0]):{},d.rtcpFeedback=e.matchPrefix(n,"a=rtcp-fb:"+l+" ").map(e.parseRtcpFb),r.codecs.push(d),d.name.toUpperCase()){case"RED":case"ULPFEC":r.fecMechanisms.push(d.name.toUpperCase());break}}}e.matchPrefix(n,"a=extmap:").forEach(a=>{r.headerExtensions.push(e.parseExtmap(a))});const o=e.matchPrefix(n,"a=rtcp-fb:* ").map(e.parseRtcpFb);return r.codecs.forEach(a=>{o.forEach(l=>{a.rtcpFeedback.find(d=>d.type===l.type&&d.parameter===l.parameter)||a.rtcpFeedback.push(l)})}),r},e.writeRtpDescription=function(n,r){let i="";i+="m="+n+" ",i+=r.codecs.length>0?"9":"0",i+=" "+(r.profile||"UDP/TLS/RTP/SAVPF")+" ",i+=r.codecs.map(o=>o.preferredPayloadType!==void 0?o.preferredPayloadType:o.payloadType).join(" ")+`\r
`,i+=`c=IN IP4 0.0.0.0\r
`,i+=`a=rtcp:9 IN IP4 0.0.0.0\r
`,r.codecs.forEach(o=>{i+=e.writeRtpMap(o),i+=e.writeFmtp(o),i+=e.writeRtcpFb(o)});let s=0;return r.codecs.forEach(o=>{o.maxptime>s&&(s=o.maxptime)}),s>0&&(i+="a=maxptime:"+s+`\r
`),r.headerExtensions&&r.headerExtensions.forEach(o=>{i+=e.writeExtmap(o)}),i},e.parseRtpEncodingParameters=function(n){const r=[],i=e.parseRtpParameters(n),s=i.fecMechanisms.indexOf("RED")!==-1,o=i.fecMechanisms.indexOf("ULPFEC")!==-1,a=e.matchPrefix(n,"a=ssrc:").map(h=>e.parseSsrcMedia(h)).filter(h=>h.attribute==="cname"),l=a.length>0&&a[0].ssrc;let c;const d=e.matchPrefix(n,"a=ssrc-group:FID").map(h=>h.substring(17).split(" ").map(T=>parseInt(T,10)));d.length>0&&d[0].length>1&&d[0][0]===l&&(c=d[0][1]),i.codecs.forEach(h=>{if(h.name.toUpperCase()==="RTX"&&h.parameters.apt){let g={ssrc:l,codecPayloadType:parseInt(h.parameters.apt,10)};l&&c&&(g.rtx={ssrc:c}),r.push(g),s&&(g=JSON.parse(JSON.stringify(g)),g.fec={ssrc:l,mechanism:o?"red+ulpfec":"red"},r.push(g))}}),r.length===0&&l&&r.push({ssrc:l});let f=e.matchPrefix(n,"b=");return f.length&&(f[0].indexOf("b=TIAS:")===0?f=parseInt(f[0].substring(7),10):f[0].indexOf("b=AS:")===0?f=parseInt(f[0].substring(5),10)*1e3*.95-50*40*8:f=void 0,r.forEach(h=>{h.maxBitrate=f})),r},e.parseRtcpParameters=function(n){const r={},i=e.matchPrefix(n,"a=ssrc:").map(a=>e.parseSsrcMedia(a)).filter(a=>a.attribute==="cname")[0];i&&(r.cname=i.value,r.ssrc=i.ssrc);const s=e.matchPrefix(n,"a=rtcp-rsize");r.reducedSize=s.length>0,r.compound=s.length===0;const o=e.matchPrefix(n,"a=rtcp-mux");return r.mux=o.length>0,r},e.writeRtcpParameters=function(n){let r="";return n.reducedSize&&(r+=`a=rtcp-rsize\r
`),n.mux&&(r+=`a=rtcp-mux\r
`),n.ssrc!==void 0&&n.cname&&(r+="a=ssrc:"+n.ssrc+" cname:"+n.cname+`\r
`),r},e.parseMsid=function(n){let r;const i=e.matchPrefix(n,"a=msid:");if(i.length===1)return r=i[0].substring(7).split(" "),{stream:r[0],track:r[1]};const s=e.matchPrefix(n,"a=ssrc:").map(o=>e.parseSsrcMedia(o)).filter(o=>o.attribute==="msid");if(s.length>0)return r=s[0].value.split(" "),{stream:r[0],track:r[1]}},e.parseSctpDescription=function(n){const r=e.parseMLine(n),i=e.matchPrefix(n,"a=max-message-size:");let s;i.length>0&&(s=parseInt(i[0].substring(19),10)),isNaN(s)&&(s=65536);const o=e.matchPrefix(n,"a=sctp-port:");if(o.length>0)return{port:parseInt(o[0].substring(12),10),protocol:r.fmt,maxMessageSize:s};const a=e.matchPrefix(n,"a=sctpmap:");if(a.length>0){const l=a[0].substring(10).split(" ");return{port:parseInt(l[0],10),protocol:l[1],maxMessageSize:s}}},e.writeSctpDescription=function(n,r){let i=[];return n.protocol!=="DTLS/SCTP"?i=["m="+n.kind+" 9 "+n.protocol+" "+r.protocol+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctp-port:"+r.port+`\r
`]:i=["m="+n.kind+" 9 "+n.protocol+" "+r.port+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctpmap:"+r.port+" "+r.protocol+` 65535\r
`],r.maxMessageSize!==void 0&&i.push("a=max-message-size:"+r.maxMessageSize+`\r
`),i.join("")},e.generateSessionId=function(){return Math.random().toString().substr(2,22)},e.writeSessionBoilerplate=function(n,r,i){let s;const o=r!==void 0?r:2;return n?s=n:s=e.generateSessionId(),`v=0\r
o=`+(i||"thisisadapterortc")+" "+s+" "+o+` IN IP4 127.0.0.1\r
s=-\r
t=0 0\r
`},e.getDirection=function(n,r){const i=e.splitLines(n);for(let s=0;s<i.length;s++)switch(i[s]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return i[s].substring(2)}return r?e.getDirection(r):"sendrecv"},e.getKind=function(n){return e.splitLines(n)[0].split(" ")[0].substring(2)},e.isRejected=function(n){return n.split(" ",2)[1]==="0"},e.parseMLine=function(n){const i=e.splitLines(n)[0].substring(2).split(" ");return{kind:i[0],port:parseInt(i[1],10),protocol:i[2],fmt:i.slice(3).join(" ")}},e.parseOLine=function(n){const i=e.matchPrefix(n,"o=")[0].substring(2).split(" ");return{username:i[0],sessionId:i[1],sessionVersion:parseInt(i[2],10),netType:i[3],addressType:i[4],address:i[5]}},e.isValidSDP=function(n){if(typeof n!="string"||n.length===0)return!1;const r=e.splitLines(n);for(let i=0;i<r.length;i++)if(r[i].length<2||r[i].charAt(1)!=="=")return!1;return!0},t.exports=e})(a2);var l2=a2.exports;const dl=p0(l2),E$=J_({__proto__:null,default:dl},[l2]);function Cf(t){if(!t.RTCIceCandidate||t.RTCIceCandidate&&"foundation"in t.RTCIceCandidate.prototype)return;const e=t.RTCIceCandidate;t.RTCIceCandidate=function(r){if(typeof r=="object"&&r.candidate&&r.candidate.indexOf("a=")===0&&(r=JSON.parse(JSON.stringify(r)),r.candidate=r.candidate.substring(2)),r.candidate&&r.candidate.length){const i=new e(r),s=dl.parseCandidate(r.candidate);for(const o in s)o in i||Object.defineProperty(i,o,{value:s[o]});return i.toJSON=function(){return{candidate:i.candidate,sdpMid:i.sdpMid,sdpMLineIndex:i.sdpMLineIndex,usernameFragment:i.usernameFragment}},i}return new e(r)},t.RTCIceCandidate.prototype=e.prototype,ha(t,"icecandidate",n=>(n.candidate&&Object.defineProperty(n,"candidate",{value:new t.RTCIceCandidate(n.candidate),writable:"false"}),n))}function l0(t){!t.RTCIceCandidate||t.RTCIceCandidate&&"relayProtocol"in t.RTCIceCandidate.prototype||ha(t,"icecandidate",e=>{if(e.candidate){const n=dl.parseCandidate(e.candidate.candidate);n.type==="relay"&&(e.candidate.relayProtocol={0:"tls",1:"tcp",2:"udp"}[n.priority>>24])}return e})}function Tf(t,e){if(!t.RTCPeerConnection)return;"sctp"in t.RTCPeerConnection.prototype||Object.defineProperty(t.RTCPeerConnection.prototype,"sctp",{get(){return typeof this._sctp>"u"?null:this._sctp}});const n=function(a){if(!a||!a.sdp)return!1;const l=dl.splitSections(a.sdp);return l.shift(),l.some(c=>{const d=dl.parseMLine(c);return d&&d.kind==="application"&&d.protocol.indexOf("SCTP")!==-1})},r=function(a){const l=a.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(l===null||l.length<2)return-1;const c=parseInt(l[1],10);return c!==c?-1:c},i=function(a){let l=65536;return e.browser==="firefox"&&(e.version<57?a===-1?l=16384:l=2147483637:e.version<60?l=e.version===57?65535:65536:l=2147483637),l},s=function(a,l){let c=65536;e.browser==="firefox"&&e.version===57&&(c=65535);const d=dl.matchPrefix(a.sdp,"a=max-message-size:");return d.length>0?c=parseInt(d[0].substring(19),10):e.browser==="firefox"&&l!==-1&&(c=2147483637),c},o=t.RTCPeerConnection.prototype.setRemoteDescription;t.RTCPeerConnection.prototype.setRemoteDescription=function(){if(this._sctp=null,e.browser==="chrome"&&e.version>=76){const{sdpSemantics:l}=this.getConfiguration();l==="plan-b"&&Object.defineProperty(this,"sctp",{get(){return typeof this._sctp>"u"?null:this._sctp},enumerable:!0,configurable:!0})}if(n(arguments[0])){const l=r(arguments[0]),c=i(l),d=s(arguments[0],l);let f;c===0&&d===0?f=Number.POSITIVE_INFINITY:c===0||d===0?f=Math.max(c,d):f=Math.min(c,d);const h={};Object.defineProperty(h,"maxMessageSize",{get(){return f}}),this._sctp=h}return o.apply(this,arguments)}}function _f(t){if(!(t.RTCPeerConnection&&"createDataChannel"in t.RTCPeerConnection.prototype))return;function e(r,i){const s=r.send;r.send=function(){const a=arguments[0],l=a.length||a.size||a.byteLength;if(r.readyState==="open"&&i.sctp&&l>i.sctp.maxMessageSize)throw new TypeError("Message too large (can send a maximum of "+i.sctp.maxMessageSize+" bytes)");return s.apply(r,arguments)}}const n=t.RTCPeerConnection.prototype.createDataChannel;t.RTCPeerConnection.prototype.createDataChannel=function(){const i=n.apply(this,arguments);return e(i,this),i},ha(t,"datachannel",r=>(e(r.channel,r.target),r))}function c0(t){if(!t.RTCPeerConnection||"connectionState"in t.RTCPeerConnection.prototype)return;const e=t.RTCPeerConnection.prototype;Object.defineProperty(e,"connectionState",{get(){return{completed:"connected",checking:"connecting"}[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(e,"onconnectionstatechange",{get(){return this._onconnectionstatechange||null},set(n){this._onconnectionstatechange&&(this.removeEventListener("connectionstatechange",this._onconnectionstatechange),delete this._onconnectionstatechange),n&&this.addEventListener("connectionstatechange",this._onconnectionstatechange=n)},enumerable:!0,configurable:!0}),["setLocalDescription","setRemoteDescription"].forEach(n=>{const r=e[n];e[n]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=i=>{const s=i.target;if(s._lastConnectionState!==s.connectionState){s._lastConnectionState=s.connectionState;const o=new Event("connectionstatechange",i);s.dispatchEvent(o)}return i},this.addEventListener("iceconnectionstatechange",this._connectionstatechangepoly)),r.apply(this,arguments)}})}function u0(t,e){if(!t.RTCPeerConnection||e.browser==="chrome"&&e.version>=71||e.browser==="safari"&&e._safariVersion>=13.1)return;const n=t.RTCPeerConnection.prototype.setRemoteDescription;t.RTCPeerConnection.prototype.setRemoteDescription=function(i){if(i&&i.sdp&&i.sdp.indexOf(`
a=extmap-allow-mixed`)!==-1){const s=i.sdp.split(`
`).filter(o=>o.trim()!=="a=extmap-allow-mixed").join(`
`);t.RTCSessionDescription&&i instanceof t.RTCSessionDescription?arguments[0]=new t.RTCSessionDescription({type:i.type,sdp:s}):i.sdp=s}return n.apply(this,arguments)}}function xf(t,e){if(!(t.RTCPeerConnection&&t.RTCPeerConnection.prototype))return;const n=t.RTCPeerConnection.prototype.addIceCandidate;!n||n.length===0||(t.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?(e.browser==="chrome"&&e.version<78||e.browser==="firefox"&&e.version<68||e.browser==="safari")&&arguments[0]&&arguments[0].candidate===""?Promise.resolve():n.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())})}function Af(t,e){if(!(t.RTCPeerConnection&&t.RTCPeerConnection.prototype))return;const n=t.RTCPeerConnection.prototype.setLocalDescription;!n||n.length===0||(t.RTCPeerConnection.prototype.setLocalDescription=function(){let i=arguments[0]||{};if(typeof i!="object"||i.type&&i.sdp)return n.apply(this,arguments);if(i={type:i.type,sdp:i.sdp},!i.type)switch(this.signalingState){case"stable":case"have-local-offer":case"have-remote-pranswer":i.type="offer";break;default:i.type="answer";break}return i.sdp||i.type!=="offer"&&i.type!=="answer"?n.apply(this,[i]):(i.type==="offer"?this.createOffer:this.createAnswer).apply(this).then(o=>n.apply(this,[o]))})}const C$=Object.freeze(Object.defineProperty({__proto__:null,removeExtmapAllowMixed:u0,shimAddIceCandidateNullOrEmpty:xf,shimConnectionState:c0,shimMaxMessageSize:Tf,shimParameterlessSetLocalDescription:Af,shimRTCIceCandidate:Cf,shimRTCIceCandidateRelayProtocol:l0,shimSendThrowTypeError:_f},Symbol.toStringTag,{value:"Module"}));function T$({window:t}={},e={shimChrome:!0,shimFirefox:!0,shimSafari:!0}){const n=NN,r=v$(t),i={browserDetails:r,commonShim:C$,extractVersion:Uc,disableLog:g$,disableWarnings:y$,sdp:E$};switch(r.browser){case"chrome":if(!O_||!o0||!e.shimChrome)return n("Chrome shim is not included in this adapter release."),i;if(r.version===null)return n("Chrome shim can not determine version, not shimming."),i;n("adapter.js shimming chrome."),i.browserShim=O_,xf(t,r),Af(t),MN(t,r),ON(t),o0(t,r),LN(t),jN(t,r),VN(t),FN(t),UN(t,r),Cf(t),l0(t),c0(t),Tf(t,r),_f(t),u0(t,r);break;case"firefox":if(!L_||!a0||!e.shimFirefox)return n("Firefox shim is not included in this adapter release."),i;n("adapter.js shimming firefox."),i.browserShim=L_,xf(t,r),Af(t),qN(t,r),a0(t,r),GN(t),WN(t),$N(t),zN(t),YN(t),QN(t),KN(t),HN(t),JN(t),Cf(t),c0(t),Tf(t,r),_f(t);break;case"safari":if(!V_||!e.shimSafari)return n("Safari shim is not included in this adapter release."),i;n("adapter.js shimming safari."),i.browserShim=V_,xf(t,r),Af(t),r2(t),s2(t),e2(t),ZN(t),XN(t),i2(t),t2(t),o2(t),Cf(t),l0(t),Tf(t,r),_f(t),u0(t,r);break;default:n("Unsupported browser!");break}return i}T$({window:typeof window>"u"?void 0:window});var c2=t=>{throw TypeError(t)},u2=(t,e,n)=>e.has(t)||c2("Cannot "+n),_$=(t,e,n)=>(u2(t,e,"read from private field"),n?n.call(t):e.get(t)),x$=(t,e,n)=>e.has(t)?c2("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),A$=(t,e,n,r)=>(u2(t,e,"write to private field"),e.set(t,n),n);const Fm=[["Aztec","M"],["Codabar","L"],["Code39","L"],["Code93","L"],["Code128","L"],["DataBar","L"],["DataBarExpanded","L"],["DataMatrix","M"],["EAN-8","L"],["EAN-13","L"],["ITF","L"],["MaxiCode","M"],["PDF417","M"],["QRCode","M"],["UPC-A","L"],["UPC-E","L"],["MicroQRCode","M"],["rMQRCode","M"],["DXFilmEdge","L"],["DataBarLimited","L"]],Bm=Fm.map(([t])=>t),I$=Bm.filter((t,e)=>Fm[e][1]==="L"),b$=Bm.filter((t,e)=>Fm[e][1]==="M");function d0(t){switch(t){case"Linear-Codes":return I$.reduce((e,n)=>e|d0(n),0);case"Matrix-Codes":return b$.reduce((e,n)=>e|d0(n),0);case"Any":return(1<<Fm.length)-1;case"None":return 0;default:return 1<<Bm.indexOf(t)}}function S$(t){if(t===0)return"None";const e=31-Math.clz32(t);return Bm[e]}function R$(t){return t.reduce((e,n)=>e|d0(n),0)}const P$=["LocalAverage","GlobalHistogram","FixedThreshold","BoolCast"];function k$(t){return P$.indexOf(t)}const F_=["Unknown","ASCII","ISO8859_1","ISO8859_2","ISO8859_3","ISO8859_4","ISO8859_5","ISO8859_6","ISO8859_7","ISO8859_8","ISO8859_9","ISO8859_10","ISO8859_11","ISO8859_13","ISO8859_14","ISO8859_15","ISO8859_16","Cp437","Cp1250","Cp1251","Cp1252","Cp1256","Shift_JIS","Big5","GB2312","GB18030","EUC_JP","EUC_KR","UTF16BE","UTF16BE","UTF8","UTF16LE","UTF32BE","UTF32LE","BINARY"];function N$(t){return t==="UnicodeBig"?F_.indexOf("UTF16BE"):F_.indexOf(t)}const D$=["Text","Binary","Mixed","GS1","ISO15434","UnknownECI"];function M$(t){return D$[t]}const O$=["Ignore","Read","Require"];function L$(t){return O$.indexOf(t)}const V$=["Plain","ECI","HRI","Hex","Escaped"];function F$(t){return V$.indexOf(t)}const kp={formats:[],tryHarder:!0,tryRotate:!0,tryInvert:!0,tryDownscale:!0,tryDenoise:!1,binarizer:"LocalAverage",isPure:!1,downscaleFactor:3,downscaleThreshold:500,minLineCount:2,maxNumberOfSymbols:255,tryCode39ExtendedMode:!0,returnErrors:!1,eanAddOnSymbol:"Ignore",textMode:"HRI",characterSet:"Unknown"};function B_(t){return{...t,formats:R$(t.formats),binarizer:k$(t.binarizer),eanAddOnSymbol:L$(t.eanAddOnSymbol),textMode:F$(t.textMode),characterSet:N$(t.characterSet)}}function B$(t){return{...t,format:S$(t.format),contentType:M$(t.contentType),eccLevel:t.ecLevel}}const j$={locateFile:(t,e)=>{const n=t.match(/_(.+?)\.wasm$/);return n?`https://fastly.jsdelivr.net/npm/zxing-wasm@2.1.2/dist/${n[1]}/${t}`:e+t}},ay=new WeakMap;function U$(t,e){return Object.is(t,e)||Object.keys(t).length===Object.keys(e).length&&Object.keys(t).every(n=>Object.prototype.hasOwnProperty.call(e,n)&&t[n]===e[n])}function d2(t,{overrides:e,equalityFn:n=U$,fireImmediately:r=!1}={}){var i;const[s,o]=(i=ay.get(t))!=null?i:[j$],a=e??s;let l;if(r){if(o&&(l=n(s,a)))return o;const c=t({...a});return ay.set(t,[a,c]),c}(l??n(s,a))||ay.set(t,[a])}async function q$(t,e,n=kp){const r={...kp,...n},i=await d2(t,{fireImmediately:!0});let s,o;if("width"in e&&"height"in e&&"data"in e){const{data:l,data:{byteLength:c},width:d,height:f}=e;o=i._malloc(c),i.HEAPU8.set(l,o),s=i.readBarcodesFromPixmap(o,d,f,B_(r))}else{let l,c;if("buffer"in e)[l,c]=[e.byteLength,e];else if("byteLength"in e)[l,c]=[e.byteLength,new Uint8Array(e)];else if("size"in e)[l,c]=[e.size,new Uint8Array(await e.arrayBuffer())];else throw new TypeError("Invalid input type");o=i._malloc(l),i.HEAPU8.set(c,o),s=i.readBarcodesFromImage(o,l,B_(r))}i._free(o);const a=[];for(let l=0;l<s.size();++l)a.push(B$(s.get(l)));return a}({...kp,formats:[...kp.formats]});var h2=async function(t={}){var e,n=t,r,i,s=new Promise((_,E)=>{r=_,i=E}),o=typeof window=="object",a=typeof Bun<"u",l=typeof WorkerGlobalScope<"u";typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string"&&process.type!="renderer";var c="./this.program",d="";function f(_){return n.locateFile?n.locateFile(_,d):d+_}var h,g;(o||l||a)&&(l?d=self.location.href:typeof document<"u"&&document.currentScript&&(d=document.currentScript.src),d.startsWith("blob:")?d="":d=d.slice(0,d.replace(/[?#].*/,"").lastIndexOf("/")+1),l&&(g=_=>{var E=new XMLHttpRequest;return E.open("GET",_,!1),E.responseType="arraybuffer",E.send(null),new Uint8Array(E.response)}),h=async _=>{var E=await fetch(_,{credentials:"same-origin"});if(E.ok)return E.arrayBuffer();throw new Error(E.status+" : "+E.url)});var T=console.log.bind(console),y=console.error.bind(console),I,C,w=!1,A,R,O,B,S,b,k,D;function V(){var _=C.buffer;A=new Int8Array(_),O=new Int16Array(_),n.HEAPU8=R=new Uint8Array(_),B=new Uint16Array(_),S=new Int32Array(_),b=new Uint32Array(_),k=new Float32Array(_),D=new Float64Array(_)}function F(){if(n.preRun)for(typeof n.preRun=="function"&&(n.preRun=[n.preRun]);n.preRun.length;)Ee(n.preRun.shift());ge(xe)}function M(){m.ya()}function te(){if(n.postRun)for(typeof n.postRun=="function"&&(n.postRun=[n.postRun]);n.postRun.length;)we(n.postRun.shift());ge(be)}var re=0,ee=null;function pe(_){var E;re++,(E=n.monitorRunDependencies)===null||E===void 0||E.call(n,re)}function G(_){var E;if(re--,(E=n.monitorRunDependencies)===null||E===void 0||E.call(n,re),re==0&&ee){var P=ee;ee=null,P()}}function Z(_){var E;(E=n.onAbort)===null||E===void 0||E.call(n,_),_="Aborted("+_+")",y(_),w=!0,_+=". Build with -sASSERTIONS for more info.";var P=new WebAssembly.RuntimeError(_);throw i(P),P}var ae;function se(){return f("zxing_reader.wasm")}function ue(_){if(_==ae&&I)return new Uint8Array(I);if(g)return g(_);throw"both async and sync fetching of the wasm failed"}async function he(_){if(!I)try{var E=await h(_);return new Uint8Array(E)}catch{}return ue(_)}async function ke(_,E){try{var P=await he(_),L=await WebAssembly.instantiate(P,E);return L}catch(j){y(`failed to asynchronously prepare wasm: ${j}`),Z(j)}}async function Me(_,E,P){if(!_&&typeof WebAssembly.instantiateStreaming=="function")try{var L=fetch(E,{credentials:"same-origin"}),j=await WebAssembly.instantiateStreaming(L,P);return j}catch(U){y(`wasm streaming compile failed: ${U}`),y("falling back to ArrayBuffer instantiation")}return ke(E,P)}function Te(){return{a:u}}async function ne(){function _(U,z){return m=U.exports,C=m.xa,V(),va=m.Ba,G(),m}pe();function E(U){return _(U.instance)}var P=Te();if(n.instantiateWasm)return new Promise((U,z)=>{n.instantiateWasm(P,($,X)=>{U(_($))})});ae!=null||(ae=se());try{var L=await Me(I,ae,P),j=E(L);return j}catch(U){return i(U),Promise.reject(U)}}var ge=_=>{for(;_.length>0;)_.shift()(n)},be=[],we=_=>be.push(_),xe=[],Ee=_=>xe.push(_),de=_=>Lt(_),ye=()=>Ge(),dt=[],rt=0,Rt=_=>{var E=new nn(_);return E.get_caught()||(E.set_caught(!0),rt--),E.set_rethrown(!1),dt.push(E),Gt(_),W(_)},He=0,ht=()=>{K(0,0);var _=dt.pop();qt(_.excPtr),He=0};class nn{constructor(E){this.excPtr=E,this.ptr=E-24}set_type(E){b[this.ptr+4>>2]=E}get_type(){return b[this.ptr+4>>2]}set_destructor(E){b[this.ptr+8>>2]=E}get_destructor(){return b[this.ptr+8>>2]}set_caught(E){E=E?1:0,A[this.ptr+12]=E}get_caught(){return A[this.ptr+12]!=0}set_rethrown(E){E=E?1:0,A[this.ptr+13]=E}get_rethrown(){return A[this.ptr+13]!=0}init(E,P){this.set_adjusted_ptr(0),this.set_type(E),this.set_destructor(P)}set_adjusted_ptr(E){b[this.ptr+16>>2]=E}get_adjusted_ptr(){return b[this.ptr+16>>2]}}var yr=_=>Xe(_),ui=_=>{var E=He;if(!E)return yr(0),0;var P=new nn(E);P.set_adjusted_ptr(E);var L=P.get_type();if(!L)return yr(0),E;for(var j of _){if(j===0||j===L)break;var U=P.ptr+16;if(ts(j,L,U))return yr(j),E}return yr(L),E},sr=()=>ui([]),di=_=>ui([_]),go=(_,E)=>ui([_,E]),Tt=()=>{var _=dt.pop();_||Z("no exception to throw");var E=_.excPtr;throw _.get_rethrown()||(dt.push(_),_.set_rethrown(!0),_.set_caught(!1),rt++),He=E,He},ft=(_,E,P)=>{var L=new nn(_);throw L.init(E,P),He=_,rt++,He},hi=()=>rt,vr=_=>{throw He||(He=_),He},yo=()=>Z(""),Wi={},or=_=>{for(;_.length;){var E=_.pop(),P=_.pop();P(E)}};function wr(_){return this.fromWireType(b[_>>2])}var Er={},yn={},vn={},oc=n.InternalError=class extends Error{constructor(_){super(_),this.name="InternalError"}},Ae=_=>{throw new oc(_)},Be=(_,E,P)=>{_.forEach($=>vn[$]=E);function L($){var X=P($);X.length!==_.length&&Ae("Mismatched type converter count");for(var oe=0;oe<_.length;++oe)sn(_[oe],X[oe])}var j=new Array(E.length),U=[],z=0;E.forEach(($,X)=>{yn.hasOwnProperty($)?j[X]=yn[$]:(U.push($),Er.hasOwnProperty($)||(Er[$]=[]),Er[$].push(()=>{j[X]=yn[$],++z,z===U.length&&L(j)}))}),U.length===0&&L(j)},Qe=_=>{var E=Wi[_];delete Wi[_];var P=E.rawConstructor,L=E.rawDestructor,j=E.fields,U=j.map(z=>z.getterReturnType).concat(j.map(z=>z.setterArgumentType));Be([_],U,z=>{var $={};return j.forEach((X,oe)=>{var ce=X.fieldName,_e=z[oe],We=z[oe].optional,Ke=X.getter,mt=X.getterContext,Vt=z[oe+j.length],Pt=X.setter,$t=X.setterContext;$[ce]={read:Ci=>_e.fromWireType(Ke(mt,Ci)),write:(Ci,Pn)=>{var lr=[];Pt($t,Ci,Vt.toWireType(lr,Pn)),or(lr)},optional:We}}),[{name:E.name,fromWireType:X=>{var oe={};for(var ce in $)oe[ce]=$[ce].read(X);return L(X),oe},toWireType:(X,oe)=>{for(var ce in $)if(!(ce in oe)&&!$[ce].optional)throw new TypeError(`Missing field: "${ce}"`);var _e=P();for(ce in $)$[ce].write(_e,oe[ce]);return X!==null&&X.push(L,_e),_e},argPackAdvance:ar,readValueFromPointer:wr,destructorFunction:L}]})},Ut=(_,E,P,L,j)=>{},rn=()=>{for(var _=new Array(256),E=0;E<256;++E)_[E]=String.fromCharCode(E);Cr=_},Cr,at=_=>{for(var E="",P=_;R[P];)E+=Cr[R[P++]];return E},Yi=n.BindingError=class extends Error{constructor(_){super(_),this.name="BindingError"}},qe=_=>{throw new Yi(_)};function Td(_,E){let P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};var L=E.name;if(_||qe(`type "${L}" must have a positive integer typeid pointer`),yn.hasOwnProperty(_)){if(P.ignoreDuplicateRegistrations)return;qe(`Cannot register type '${L}' twice`)}if(yn[_]=E,delete vn[_],Er.hasOwnProperty(_)){var j=Er[_];delete Er[_],j.forEach(U=>U())}}function sn(_,E){let P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Td(_,E,P)}var ar=8,Kt=(_,E,P,L)=>{E=at(E),sn(_,{name:E,fromWireType:function(j){return!!j},toWireType:function(j,U){return U?P:L},argPackAdvance:ar,readValueFromPointer:function(j){return this.fromWireType(R[j])},destructorFunction:null})},_d=_=>({count:_.count,deleteScheduled:_.deleteScheduled,preservePointerOnDelete:_.preservePointerOnDelete,ptr:_.ptr,ptrType:_.ptrType,smartPtr:_.smartPtr,smartPtrType:_.smartPtrType}),fi=_=>{function E(P){return P.$$.ptrType.registeredClass.name}qe(E(_)+" instance already deleted")},pi=!1,xd=_=>{},jm=_=>{_.smartPtr?_.smartPtrType.rawDestructor(_.smartPtr):_.ptrType.registeredClass.rawDestructor(_.ptr)},mi=_=>{_.count.value-=1;var E=_.count.value===0;E&&jm(_)},vo=_=>typeof FinalizationRegistry>"u"?(vo=E=>E,_):(pi=new FinalizationRegistry(E=>{mi(E.$$)}),vo=E=>{var P=E.$$,L=!!P.smartPtr;if(L){var j={$$:P};pi.register(E,j,E)}return E},xd=E=>pi.unregister(E),vo(_)),Um=()=>{let _=gi.prototype;Object.assign(_,{isAliasOf(P){if(!(this instanceof gi)||!(P instanceof gi))return!1;var L=this.$$.ptrType.registeredClass,j=this.$$.ptr;P.$$=P.$$;for(var U=P.$$.ptrType.registeredClass,z=P.$$.ptr;L.baseClass;)j=L.upcast(j),L=L.baseClass;for(;U.baseClass;)z=U.upcast(z),U=U.baseClass;return L===U&&j===z},clone(){if(this.$$.ptr||fi(this),this.$$.preservePointerOnDelete)return this.$$.count.value+=1,this;var P=vo(Object.create(Object.getPrototypeOf(this),{$$:{value:_d(this.$$)}}));return P.$$.count.value+=1,P.$$.deleteScheduled=!1,P},delete(){this.$$.ptr||fi(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&qe("Object already scheduled for deletion"),xd(this),mi(this.$$),this.$$.preservePointerOnDelete||(this.$$.smartPtr=void 0,this.$$.ptr=void 0)},isDeleted(){return!this.$$.ptr},deleteLater(){return this.$$.ptr||fi(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&qe("Object already scheduled for deletion"),this.$$.deleteScheduled=!0,this}});const E=Symbol.dispose;E&&(_[E]=_.delete)};function gi(){}var fa=(_,E)=>Object.defineProperty(E,"name",{value:_}),pa={},wo=(_,E,P)=>{if(_[E].overloadTable===void 0){var L=_[E];_[E]=function(){for(var j=arguments.length,U=new Array(j),z=0;z<j;z++)U[z]=arguments[z];return _[E].overloadTable.hasOwnProperty(U.length)||qe(`Function '${P}' called with an invalid number of arguments (${U.length}) - expects one of (${_[E].overloadTable})!`),_[E].overloadTable[U.length].apply(this,U)},_[E].overloadTable=[],_[E].overloadTable[L.argCount]=L}},Tr=(_,E,P)=>{n.hasOwnProperty(_)?((P===void 0||n[_].overloadTable!==void 0&&n[_].overloadTable[P]!==void 0)&&qe(`Cannot register public name '${_}' twice`),wo(n,_,_),n[_].overloadTable.hasOwnProperty(P)&&qe(`Cannot register multiple overloads of a function with the same number of arguments (${P})!`),n[_].overloadTable[P]=E):(n[_]=E,n[_].argCount=P)},Ad=48,Id=57,ac=_=>{_=_.replace(/[^a-zA-Z0-9_]/g,"$");var E=_.charCodeAt(0);return E>=Ad&&E<=Id?`_${_}`:_};function lc(_,E,P,L,j,U,z,$){this.name=_,this.constructor=E,this.instancePrototype=P,this.rawDestructor=L,this.baseClass=j,this.getActualType=U,this.upcast=z,this.downcast=$,this.pureVirtualFunctions=[]}var ma=(_,E,P)=>{for(;E!==P;)E.upcast||qe(`Expected null or instance of ${P.name}, got an instance of ${E.name}`),_=E.upcast(_),E=E.baseClass;return _};function bd(_,E){if(E===null)return this.isReference&&qe(`null is not a valid ${this.name}`),0;E.$$||qe(`Cannot pass "${embindRepr(E)}" as a ${this.name}`),E.$$.ptr||qe(`Cannot pass deleted object as a pointer of type ${this.name}`);var P=E.$$.ptrType.registeredClass,L=ma(E.$$.ptr,P,this.registeredClass);return L}function qm(_,E){var P;if(E===null)return this.isReference&&qe(`null is not a valid ${this.name}`),this.isSmartPointer?(P=this.rawConstructor(),_!==null&&_.push(this.rawDestructor,P),P):0;(!E||!E.$$)&&qe(`Cannot pass "${embindRepr(E)}" as a ${this.name}`),E.$$.ptr||qe(`Cannot pass deleted object as a pointer of type ${this.name}`),!this.isConst&&E.$$.ptrType.isConst&&qe(`Cannot convert argument of type ${E.$$.smartPtrType?E.$$.smartPtrType.name:E.$$.ptrType.name} to parameter type ${this.name}`);var L=E.$$.ptrType.registeredClass;if(P=ma(E.$$.ptr,L,this.registeredClass),this.isSmartPointer)switch(E.$$.smartPtr===void 0&&qe("Passing raw pointer to smart pointer is illegal"),this.sharingPolicy){case 0:E.$$.smartPtrType===this?P=E.$$.smartPtr:qe(`Cannot convert argument of type ${E.$$.smartPtrType?E.$$.smartPtrType.name:E.$$.ptrType.name} to parameter type ${this.name}`);break;case 1:P=E.$$.smartPtr;break;case 2:if(E.$$.smartPtrType===this)P=E.$$.smartPtr;else{var j=E.clone();P=this.rawShare(P,_r.toHandle(()=>j.delete())),_!==null&&_.push(this.rawDestructor,P)}break;default:qe("Unsupporting sharing policy")}return P}function ga(_,E){if(E===null)return this.isReference&&qe(`null is not a valid ${this.name}`),0;E.$$||qe(`Cannot pass "${embindRepr(E)}" as a ${this.name}`),E.$$.ptr||qe(`Cannot pass deleted object as a pointer of type ${this.name}`),E.$$.ptrType.isConst&&qe(`Cannot convert argument of type ${E.$$.ptrType.name} to parameter type ${this.name}`);var P=E.$$.ptrType.registeredClass,L=ma(E.$$.ptr,P,this.registeredClass);return L}var cc=(_,E,P)=>{if(E===P)return _;if(P.baseClass===void 0)return null;var L=cc(_,E,P.baseClass);return L===null?null:P.downcast(L)},uc={},Eo=(_,E)=>{for(E===void 0&&qe("ptr should not be undefined");_.baseClass;)E=_.upcast(E),_=_.baseClass;return E},yi=(_,E)=>(E=Eo(_,E),uc[E]),Qi=(_,E)=>{(!E.ptrType||!E.ptr)&&Ae("makeClassHandle requires ptr and ptrType");var P=!!E.smartPtrType,L=!!E.smartPtr;return P!==L&&Ae("Both smartPtrType and smartPtr must be specified"),E.count={value:1},vo(Object.create(_,{$$:{value:E,writable:!0}}))};function Gm(_){var E=this.getPointee(_);if(!E)return this.destructor(_),null;var P=yi(this.registeredClass,E);if(P!==void 0){if(P.$$.count.value===0)return P.$$.ptr=E,P.$$.smartPtr=_,P.clone();var L=P.clone();return this.destructor(_),L}function j(){return this.isSmartPointer?Qi(this.registeredClass.instancePrototype,{ptrType:this.pointeeType,ptr:E,smartPtrType:this,smartPtr:_}):Qi(this.registeredClass.instancePrototype,{ptrType:this,ptr:_})}var U=this.registeredClass.getActualType(E),z=pa[U];if(!z)return j.call(this);var $;this.isConst?$=z.constPointerType:$=z.pointerType;var X=cc(E,this.registeredClass,$.registeredClass);return X===null?j.call(this):this.isSmartPointer?Qi($.registeredClass.instancePrototype,{ptrType:$,ptr:X,smartPtrType:this,smartPtr:_}):Qi($.registeredClass.instancePrototype,{ptrType:$,ptr:X})}var Sd=()=>{Object.assign(Co.prototype,{getPointee(_){return this.rawGetPointee&&(_=this.rawGetPointee(_)),_},destructor(_){var E;(E=this.rawDestructor)===null||E===void 0||E.call(this,_)},argPackAdvance:ar,readValueFromPointer:wr,fromWireType:Gm})};function Co(_,E,P,L,j,U,z,$,X,oe,ce){this.name=_,this.registeredClass=E,this.isReference=P,this.isConst=L,this.isSmartPointer=j,this.pointeeType=U,this.sharingPolicy=z,this.rawGetPointee=$,this.rawConstructor=X,this.rawShare=oe,this.rawDestructor=ce,!j&&E.baseClass===void 0?L?(this.toWireType=bd,this.destructorFunction=null):(this.toWireType=ga,this.destructorFunction=null):this.toWireType=qm}var dc=(_,E,P)=>{n.hasOwnProperty(_)||Ae("Replacing nonexistent public symbol"),n[_].overloadTable!==void 0&&P!==void 0?n[_].overloadTable[P]=E:(n[_]=E,n[_].argCount=P)},ya=[],va,Ve=_=>{var E=ya[_];return E||(ya[_]=E=va.get(_)),E},Rd=function(_,E){let P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];if(_.includes("j"))return dynCallLegacy(_,E,P);var L=Ve(E),j=L(...P);return j},$m=function(_,E){let P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return function(){for(var L=arguments.length,j=new Array(L),U=0;U<L;U++)j[U]=arguments[U];return Rd(_,E,j,P)}},jn=function(_,E){_=at(_);function P(){if(_.includes("j"))return $m(_,E);var j=Ve(E);return j}var L=P();return typeof L!="function"&&qe(`unknown function pointer with signature ${_}: ${E}`),L};class Pd extends Error{}var hc=_=>{var E=x(_),P=at(E);return N(E),P},wa=(_,E)=>{var P=[],L={};function j(U){if(!L[U]&&!yn[U]){if(vn[U]){vn[U].forEach(j);return}P.push(U),L[U]=!0}}throw E.forEach(j),new Pd(`${_}: `+P.map(hc).join([", "]))},vi=(_,E,P,L,j,U,z,$,X,oe,ce,_e,We)=>{ce=at(ce),U=jn(j,U),$&&($=jn(z,$)),oe&&(oe=jn(X,oe)),We=jn(_e,We);var Ke=ac(ce);Tr(Ke,function(){wa(`Cannot construct ${ce} due to unbound types`,[L])}),Be([_,E,P],L?[L]:[],mt=>{mt=mt[0];var Vt,Pt;L?(Vt=mt.registeredClass,Pt=Vt.instancePrototype):Pt=gi.prototype;var $t=fa(ce,function(){if(Object.getPrototypeOf(this)!==Ci)throw new Yi(`Use 'new' to construct ${ce}`);if(Pn.constructor_body===void 0)throw new Yi(`${ce} has no accessible constructor`);for(var WE=arguments.length,ih=new Array(WE),sh=0;sh<WE;sh++)ih[sh]=arguments[sh];var YE=Pn.constructor_body[ih.length];if(YE===void 0)throw new Yi(`Tried to invoke ctor of ${ce} with invalid number of parameters (${ih.length}) - expected (${Object.keys(Pn.constructor_body).toString()}) parameters instead!`);return YE.apply(this,ih)}),Ci=Object.create(Pt,{constructor:{value:$t}});$t.prototype=Ci;var Pn=new lc(ce,$t,Ci,We,Vt,U,$,oe);if(Pn.baseClass){var lr,rh;(rh=(lr=Pn.baseClass).__derivedClasses)!==null&&rh!==void 0||(lr.__derivedClasses=[]),Pn.baseClass.__derivedClasses.push(Pn)}var oD=new Co(ce,Pn,!0,!1,!1),$E=new Co(ce+"*",Pn,!1,!1,!1),zE=new Co(ce+" const*",Pn,!1,!0,!1);return pa[_]={pointerType:$E,constPointerType:zE},dc(Ke,$t),[oD,$E,zE]})},Un=(_,E)=>{for(var P=[],L=0;L<_;L++)P.push(b[E+L*4>>2]);return P};function Ea(_){for(var E=1;E<_.length;++E)if(_[E]!==null&&_[E].destructorFunction===void 0)return!0;return!1}function Ki(_,E,P,L,j,U){var z=E.length;z<2&&qe("argTypes array size mismatch! Must at least get return value and 'this' types!");var $=E[1]!==null&&P!==null,X=Ea(E),oe=E[0].name!=="void",ce=z-2,_e=new Array(ce),We=[],Ke=[],mt=function(){Ke.length=0;var Vt;We.length=$?2:1,We[0]=j,$&&(Vt=E[1].toWireType(Ke,this),We[1]=Vt);for(var Pt=0;Pt<ce;++Pt)_e[Pt]=E[Pt+2].toWireType(Ke,Pt<0||arguments.length<=Pt?void 0:arguments[Pt]),We.push(_e[Pt]);var $t=L(...We);function Ci(Pn){if(X)or(Ke);else for(var lr=$?1:2;lr<E.length;lr++){var rh=lr===1?Vt:_e[lr-2];E[lr].destructorFunction!==null&&E[lr].destructorFunction(rh)}if(oe)return E[0].fromWireType(Pn)}return Ci($t)};return fa(_,mt)}var kd=(_,E,P,L,j,U)=>{var z=Un(E,P);j=jn(L,j),Be([],[_],$=>{$=$[0];var X=`constructor ${$.name}`;if($.registeredClass.constructor_body===void 0&&($.registeredClass.constructor_body=[]),$.registeredClass.constructor_body[E-1]!==void 0)throw new Yi(`Cannot register multiple constructors with identical number of parameters (${E-1}) for class '${$.name}'! Overload resolution is currently only performed using the parameter count, not actual type info!`);return $.registeredClass.constructor_body[E-1]=()=>{wa(`Cannot construct ${$.name} due to unbound types`,z)},Be([],z,oe=>(oe.splice(1,0,null),$.registeredClass.constructor_body[E-1]=Ki(X,oe,null,j,U),[])),[]})},tt=_=>{_=_.trim();const E=_.indexOf("(");return E===-1?_:_.slice(0,E)},Ca=(_,E,P,L,j,U,z,$,X,oe)=>{var ce=Un(P,L);E=at(E),E=tt(E),U=jn(j,U),Be([],[_],_e=>{_e=_e[0];var We=`${_e.name}.${E}`;E.startsWith("@@")&&(E=Symbol[E.substring(2)]),$&&_e.registeredClass.pureVirtualFunctions.push(E);function Ke(){wa(`Cannot call ${We} due to unbound types`,ce)}var mt=_e.registeredClass.instancePrototype,Vt=mt[E];return Vt===void 0||Vt.overloadTable===void 0&&Vt.className!==_e.name&&Vt.argCount===P-2?(Ke.argCount=P-2,Ke.className=_e.name,mt[E]=Ke):(wo(mt,E,We),mt[E].overloadTable[P-2]=Ke),Be([],ce,Pt=>{var $t=Ki(We,Pt,_e,U,z);return mt[E].overloadTable===void 0?($t.argCount=P-2,mt[E]=$t):mt[E].overloadTable[P-2]=$t,[]}),[]})},wi=[],wn=[],fc=_=>{_>9&&--wn[_+1]===0&&(wn[_]=void 0,wi.push(_))},Nd=()=>wn.length/2-5-wi.length,zm=()=>{wn.push(0,1,void 0,1,null,1,!0,1,!1,1),n.count_emval_handles=Nd},_r={toValue:_=>(_||qe(`Cannot use deleted val. handle = ${_}`),wn[_]),toHandle:_=>{switch(_){case void 0:return 2;case null:return 4;case!0:return 6;case!1:return 8;default:{const E=wi.pop()||wn.length;return wn[E]=_,wn[E+1]=1,E}}}},Dd={name:"emscripten::val",fromWireType:_=>{var E=_r.toValue(_);return fc(_),E},toWireType:(_,E)=>_r.toHandle(E),argPackAdvance:ar,readValueFromPointer:wr,destructorFunction:null},Wm=_=>sn(_,Dd),To=(_,E)=>{switch(E){case 4:return function(P){return this.fromWireType(k[P>>2])};case 8:return function(P){return this.fromWireType(D[P>>3])};default:throw new TypeError(`invalid float width (${E}): ${_}`)}},Ur=(_,E,P)=>{E=at(E),sn(_,{name:E,fromWireType:L=>L,toWireType:(L,j)=>j,argPackAdvance:ar,readValueFromPointer:To(E,P),destructorFunction:null})},Md=(_,E,P,L,j,U,z,$)=>{var X=Un(E,P);_=at(_),_=tt(_),j=jn(L,j),Tr(_,function(){wa(`Cannot call ${_} due to unbound types`,X)},E-1),Be([],X,oe=>{var ce=[oe[0],null].concat(oe.slice(1));return dc(_,Ki(_,ce,null,j,U),E-1),[]})},Od=(_,E,P)=>{switch(E){case 1:return P?L=>A[L]:L=>R[L];case 2:return P?L=>O[L>>1]:L=>B[L>>1];case 4:return P?L=>S[L>>2]:L=>b[L>>2];default:throw new TypeError(`invalid integer width (${E}): ${_}`)}},Ld=(_,E,P,L,j)=>{E=at(E);var U=ce=>ce;if(L===0){var z=32-8*P;U=ce=>ce<<z>>>z}var $=E.includes("unsigned"),X=(ce,_e)=>{},oe;$?oe=function(ce,_e){return X(_e,this.name),_e>>>0}:oe=function(ce,_e){return X(_e,this.name),_e},sn(_,{name:E,fromWireType:U,toWireType:oe,argPackAdvance:ar,readValueFromPointer:Od(E,P,L!==0),destructorFunction:null})},Hi=(_,E,P)=>{var L=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],j=L[E];function U(z){var $=b[z>>2],X=b[z+4>>2];return new j(A.buffer,X,$)}P=at(P),sn(_,{name:P,fromWireType:U,argPackAdvance:ar,readValueFromPointer:U},{ignoreDuplicateRegistrations:!0})},Ym=Object.assign({optional:!0},Dd),Qm=(_,E)=>{sn(_,Ym)},Km=(_,E,P,L)=>{if(!(L>0))return 0;for(var j=P,U=P+L-1,z=0;z<_.length;++z){var $=_.charCodeAt(z);if($>=55296&&$<=57343){var X=_.charCodeAt(++z);$=65536+(($&1023)<<10)|X&1023}if($<=127){if(P>=U)break;E[P++]=$}else if($<=2047){if(P+1>=U)break;E[P++]=192|$>>6,E[P++]=128|$&63}else if($<=65535){if(P+2>=U)break;E[P++]=224|$>>12,E[P++]=128|$>>6&63,E[P++]=128|$&63}else{if(P+3>=U)break;E[P++]=240|$>>18,E[P++]=128|$>>12&63,E[P++]=128|$>>6&63,E[P++]=128|$&63}}return E[P]=0,P-j},En=(_,E,P)=>Km(_,R,E,P),Vd=_=>{for(var E=0,P=0;P<_.length;++P){var L=_.charCodeAt(P);L<=127?E++:L<=2047?E+=2:L>=55296&&L<=57343?(E+=4,++P):E+=3}return E},Fd=typeof TextDecoder<"u"?new TextDecoder:void 0,_o=function(_){let E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:NaN;for(var L=E+P,j=E;_[j]&&!(j>=L);)++j;if(j-E>16&&_.buffer&&Fd)return Fd.decode(_.subarray(E,j));for(var U="";E<j;){var z=_[E++];if(!(z&128)){U+=String.fromCharCode(z);continue}var $=_[E++]&63;if((z&224)==192){U+=String.fromCharCode((z&31)<<6|$);continue}var X=_[E++]&63;if((z&240)==224?z=(z&15)<<12|$<<6|X:z=(z&7)<<18|$<<12|X<<6|_[E++]&63,z<65536)U+=String.fromCharCode(z);else{var oe=z-65536;U+=String.fromCharCode(55296|oe>>10,56320|oe&1023)}}return U},Ta=(_,E)=>_?_o(R,_,E):"",Bd=(_,E)=>{E=at(E),sn(_,{name:E,fromWireType(P){for(var L=b[P>>2],j=P+4,U,$,z=j,$=0;$<=L;++$){var X=j+$;if($==L||R[X]==0){var oe=X-z,ce=Ta(z,oe);U===void 0?U=ce:(U+="\0",U+=ce),z=X+1}}return N(P),U},toWireType(P,L){L instanceof ArrayBuffer&&(L=new Uint8Array(L));var j,U=typeof L=="string";U||ArrayBuffer.isView(L)&&L.BYTES_PER_ELEMENT==1||qe("Cannot pass non-string to std::string"),U?j=Vd(L):j=L.length;var z=q(4+j+1),$=z+4;return b[z>>2]=j,U?En(L,$,j+1):R.set(L,$),P!==null&&P.push(N,z),z},argPackAdvance:ar,readValueFromPointer:wr,destructorFunction(P){N(P)}})},Ji=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0,xo=(_,E)=>{for(var P=_,L=P>>1,j=L+E/2;!(L>=j)&&B[L];)++L;if(P=L<<1,P-_>32&&Ji)return Ji.decode(R.subarray(_,P));for(var U="",z=0;!(z>=E/2);++z){var $=O[_+z*2>>1];if($==0)break;U+=String.fromCharCode($)}return U},jd=(_,E,P)=>{if(P!=null||(P=2147483647),P<2)return 0;P-=2;for(var L=E,j=P<_.length*2?P/2:_.length,U=0;U<j;++U){var z=_.charCodeAt(U);O[E>>1]=z,E+=2}return O[E>>1]=0,E-L},pc=_=>_.length*2,pt=(_,E)=>{for(var P=0,L="";!(P>=E/4);){var j=S[_+P*4>>2];if(j==0)break;if(++P,j>=65536){var U=j-65536;L+=String.fromCharCode(55296|U>>10,56320|U&1023)}else L+=String.fromCharCode(j)}return L},Hm=(_,E,P)=>{if(P!=null||(P=2147483647),P<4)return 0;for(var L=E,j=L+P-4,U=0;U<_.length;++U){var z=_.charCodeAt(U);if(z>=55296&&z<=57343){var $=_.charCodeAt(++U);z=65536+((z&1023)<<10)|$&1023}if(S[E>>2]=z,E+=4,E+4>j)break}return S[E>>2]=0,E-L},Jm=_=>{for(var E=0,P=0;P<_.length;++P){var L=_.charCodeAt(P);L>=55296&&L<=57343&&++P,E+=4}return E},Ud=(_,E,P)=>{P=at(P);var L,j,U,z;E===2?(L=xo,j=jd,z=pc,U=$=>B[$>>1]):E===4&&(L=pt,j=Hm,z=Jm,U=$=>b[$>>2]),sn(_,{name:P,fromWireType:$=>{for(var X=b[$>>2],oe,ce=$+4,_e=0;_e<=X;++_e){var We=$+4+_e*E;if(_e==X||U(We)==0){var Ke=We-ce,mt=L(ce,Ke);oe===void 0?oe=mt:(oe+="\0",oe+=mt),ce=We+E}}return N($),oe},toWireType:($,X)=>{typeof X!="string"&&qe(`Cannot pass non-string to C++ string type ${P}`);var oe=z(X),ce=q(4+oe+E);return b[ce>>2]=oe/E,j(X,ce+4,oe+E),$!==null&&$.push(N,ce),ce},argPackAdvance:ar,readValueFromPointer:wr,destructorFunction($){N($)}})},qd=(_,E,P,L,j,U)=>{Wi[_]={name:at(E),rawConstructor:jn(P,L),rawDestructor:jn(j,U),fields:[]}},Gd=(_,E,P,L,j,U,z,$,X,oe)=>{Wi[_].fields.push({fieldName:at(E),getterReturnType:P,getter:jn(L,j),getterContext:U,setterArgumentType:z,setter:jn($,X),setterContext:oe})},_a=(_,E)=>{E=at(E),sn(_,{isVoid:!0,name:E,argPackAdvance:0,fromWireType:()=>{},toWireType:(P,L)=>{}})},xa=[],xr=(_,E,P,L)=>(_=xa[_],E=_r.toValue(E),_(null,E,P,L)),$d={},Zm=_=>{var E=$d[_];return E===void 0?at(_):E},Zi=()=>{if(typeof globalThis=="object")return globalThis;function _(E){E.$$$embind_global$$$=E;var P=typeof $$$embind_global$$$=="object"&&E.$$$embind_global$$$==E;return P||delete E.$$$embind_global$$$,P}if(typeof $$$embind_global$$$=="object"||(typeof global=="object"&&_(global)?$$$embind_global$$$=global:typeof self=="object"&&_(self)&&($$$embind_global$$$=self),typeof $$$embind_global$$$=="object"))return $$$embind_global$$$;throw Error("unable to get global object.")},zd=_=>_===0?_r.toHandle(Zi()):(_=Zm(_),_r.toHandle(Zi()[_])),mc=_=>{var E=xa.length;return xa.push(_),E},Ao=(_,E)=>{var P=yn[_];return P===void 0&&qe(`${E} has unknown type ${hc(_)}`),P},Wd=(_,E)=>{for(var P=new Array(_),L=0;L<_;++L)P[L]=Ao(b[E+L*4>>2],`parameter ${L}`);return P},Aa=(_,E,P)=>{var L=[],j=_.toWireType(L,P);return L.length&&(b[E>>2]=_r.toHandle(L)),j},Xm=Reflect.construct,Yd=(_,E,P)=>{var L=Wd(_,E),j=L.shift();_--;var U=new Array(_),z=(X,oe,ce,_e)=>{for(var We=0,Ke=0;Ke<_;++Ke)U[Ke]=L[Ke].readValueFromPointer(_e+We),We+=L[Ke].argPackAdvance;var mt=P===1?Xm(oe,U):oe.apply(X,U);return Aa(j,ce,mt)},$=`methodCaller<(${L.map(X=>X.name).join(", ")}) => ${j.name}>`;return mc(fa($,z))},Io=_=>{_>9&&(wn[_+1]+=1)},Qd=_=>{var E=_r.toValue(_);or(E),fc(_)},Kd=(_,E)=>{_=Ao(_,"_emval_take_value");var P=_.readValueFromPointer(E);return _r.toHandle(P)},gc=(_,E,P,L)=>{var j=new Date().getFullYear(),U=new Date(j,0,1),z=new Date(j,6,1),$=U.getTimezoneOffset(),X=z.getTimezoneOffset(),oe=Math.max($,X);b[_>>2]=oe*60,S[E>>2]=+($!=X);var ce=Ke=>{var mt=Ke>=0?"-":"+",Vt=Math.abs(Ke),Pt=String(Math.floor(Vt/60)).padStart(2,"0"),$t=String(Vt%60).padStart(2,"0");return`UTC${mt}${Pt}${$t}`},_e=ce($),We=ce(X);X<$?(En(_e,P,17),En(We,L,17)):(En(_e,L,17),En(We,P,17))},yc=()=>2147483648,Hd=(_,E)=>Math.ceil(_/E)*E,Ia=_=>{var E=C.buffer,P=(_-E.byteLength+65535)/65536|0;try{return C.grow(P),V(),1}catch{}},Jd=_=>{var E=R.length;_>>>=0;var P=yc();if(_>P)return!1;for(var L=1;L<=4;L*=2){var j=E*(1+.2/L);j=Math.min(j,_+100663296);var U=Math.min(P,Hd(Math.max(_,j),65536)),z=Ia(U);if(z)return!0}return!1},ba={},Ei=()=>c||"./this.program",Xi=()=>{if(!Xi.strings){var _=(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",E={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:_,_:Ei()};for(var P in ba)ba[P]===void 0?delete E[P]:E[P]=ba[P];var L=[];for(var P in E)L.push(`${P}=${E[P]}`);Xi.strings=L}return Xi.strings},Zd=(_,E)=>{var P=0,L=0;for(var j of Xi()){var U=E+P;b[_+L>>2]=U,P+=En(j,U,1/0)+1,L+=4}return 0},Xd=(_,E)=>{var P=Xi();b[_>>2]=P.length;var L=0;for(var j of P)L+=Vd(j)+1;return b[E>>2]=L,0},eh=_=>52;function Sa(_,E,P,L,j){return 70}var Cn=[null,[],[]],th=(_,E)=>{var P=Cn[_];E===0||E===10?((_===1?T:y)(_o(P)),P.length=0):P.push(E)},nh=(_,E,P,L)=>{for(var j=0,U=0;U<P;U++){var z=b[E>>2],$=b[E+4>>2];E+=8;for(var X=0;X<$;X++)th(_,R[z+X]);j+=$}return b[L>>2]=j,0},es=_=>_;rn(),Um(),Sd(),zm(),n.noExitRuntime&&n.noExitRuntime,n.print&&(T=n.print),n.printErr&&(y=n.printErr),n.wasmBinary&&(I=n.wasmBinary),n.arguments&&n.arguments,n.thisProgram&&(c=n.thisProgram);var u={s:Rt,w:ht,a:sr,j:di,m:go,N:Tt,p:ft,da:hi,d:vr,_:yo,sa:Qe,Z:Ut,na:Kt,qa:vi,pa:kd,F:Ca,la:Wm,R:Ur,S:Md,y:Ld,t:Hi,ra:Qm,ma:Bd,O:Ud,K:qd,ta:Gd,oa:_a,V:xr,ua:fc,wa:zd,$:Yd,T:Io,va:Qd,ka:Kd,aa:gc,ea:Jd,ba:Zd,ca:Xd,fa:eh,X:Sa,Q:nh,I:z2,C:Y2,U:R2,P:eD,q:U2,b:A2,D:$2,ia:K2,c:b2,ha:H2,h:S2,i:M2,r:L2,M:G2,v:F2,E:j2,J:q2,A:Q2,H:tD,W:iD,k:k2,f:P2,e:I2,g:vc,L:X2,l:D2,ja:W2,o:V2,x:O2,u:B2,ga:Z2,B:J2,n:N2,G:nD,Y:rD,z:es},m=await ne();m.ya;var x=m.za,N=n._free=m.Aa,q=n._malloc=m.Ca,W=m.Da,K=m.Ea,Xe=m.Fa,Lt=m.Ga,Ge=m.Ha,qt=m.Ia,Gt=m.Ja,ts=m.Ka;n.dynCall_viijii=m.La;var qn=n.dynCall_vij=m.Ma;n.dynCall_jiji=m.Na;var Ra=n.dynCall_jiiii=m.Oa;n.dynCall_iiiiij=m.Pa,n.dynCall_iiiiijj=m.Qa,n.dynCall_iiiiiijj=m.Ra;function vc(_,E,P,L){var j=ye();try{Ve(_)(E,P,L)}catch(U){if(de(j),U!==U+0)throw U;K(1,0)}}function A2(_,E){var P=ye();try{return Ve(_)(E)}catch(L){if(de(P),L!==L+0)throw L;K(1,0)}}function I2(_,E,P){var L=ye();try{Ve(_)(E,P)}catch(j){if(de(L),j!==j+0)throw j;K(1,0)}}function b2(_,E,P){var L=ye();try{return Ve(_)(E,P)}catch(j){if(de(L),j!==j+0)throw j;K(1,0)}}function S2(_,E,P,L){var j=ye();try{return Ve(_)(E,P,L)}catch(U){if(de(j),U!==U+0)throw U;K(1,0)}}function R2(_,E,P,L,j){var U=ye();try{return Ve(_)(E,P,L,j)}catch(z){if(de(U),z!==z+0)throw z;K(1,0)}}function P2(_,E){var P=ye();try{Ve(_)(E)}catch(L){if(de(P),L!==L+0)throw L;K(1,0)}}function k2(_){var E=ye();try{Ve(_)()}catch(P){if(de(E),P!==P+0)throw P;K(1,0)}}function N2(_,E,P,L,j,U,z,$,X,oe,ce){var _e=ye();try{Ve(_)(E,P,L,j,U,z,$,X,oe,ce)}catch(We){if(de(_e),We!==We+0)throw We;K(1,0)}}function D2(_,E,P,L,j){var U=ye();try{Ve(_)(E,P,L,j)}catch(z){if(de(U),z!==z+0)throw z;K(1,0)}}function M2(_,E,P,L,j){var U=ye();try{return Ve(_)(E,P,L,j)}catch(z){if(de(U),z!==z+0)throw z;K(1,0)}}function O2(_,E,P,L,j,U,z){var $=ye();try{Ve(_)(E,P,L,j,U,z)}catch(X){if(de($),X!==X+0)throw X;K(1,0)}}function L2(_,E,P,L,j,U){var z=ye();try{return Ve(_)(E,P,L,j,U)}catch($){if(de(z),$!==$+0)throw $;K(1,0)}}function V2(_,E,P,L,j,U){var z=ye();try{Ve(_)(E,P,L,j,U)}catch($){if(de(z),$!==$+0)throw $;K(1,0)}}function F2(_,E,P,L,j,U,z){var $=ye();try{return Ve(_)(E,P,L,j,U,z)}catch(X){if(de($),X!==X+0)throw X;K(1,0)}}function B2(_,E,P,L,j,U,z,$){var X=ye();try{Ve(_)(E,P,L,j,U,z,$)}catch(oe){if(de(X),oe!==oe+0)throw oe;K(1,0)}}function j2(_,E,P,L,j,U,z,$){var X=ye();try{return Ve(_)(E,P,L,j,U,z,$)}catch(oe){if(de(X),oe!==oe+0)throw oe;K(1,0)}}function U2(_){var E=ye();try{return Ve(_)()}catch(P){if(de(E),P!==P+0)throw P;K(1,0)}}function q2(_,E,P,L,j,U,z,$,X){var oe=ye();try{return Ve(_)(E,P,L,j,U,z,$,X)}catch(ce){if(de(oe),ce!==ce+0)throw ce;K(1,0)}}function G2(_,E,P,L,j,U,z){var $=ye();try{return Ve(_)(E,P,L,j,U,z)}catch(X){if(de($),X!==X+0)throw X;K(1,0)}}function $2(_,E,P,L){var j=ye();try{return Ve(_)(E,P,L)}catch(U){if(de(j),U!==U+0)throw U;K(1,0)}}function z2(_,E,P,L){var j=ye();try{return Ve(_)(E,P,L)}catch(U){if(de(j),U!==U+0)throw U;K(1,0)}}function W2(_,E,P,L,j,U,z,$){var X=ye();try{Ve(_)(E,P,L,j,U,z,$)}catch(oe){if(de(X),oe!==oe+0)throw oe;K(1,0)}}function Y2(_,E,P,L,j,U){var z=ye();try{return Ve(_)(E,P,L,j,U)}catch($){if(de(z),$!==$+0)throw $;K(1,0)}}function Q2(_,E,P,L,j,U,z,$,X,oe){var ce=ye();try{return Ve(_)(E,P,L,j,U,z,$,X,oe)}catch(_e){if(de(ce),_e!==_e+0)throw _e;K(1,0)}}function K2(_,E,P){var L=ye();try{return Ve(_)(E,P)}catch(j){if(de(L),j!==j+0)throw j;K(1,0)}}function H2(_,E,P,L,j){var U=ye();try{return Ve(_)(E,P,L,j)}catch(z){if(de(U),z!==z+0)throw z;K(1,0)}}function J2(_,E,P,L,j,U,z,$,X,oe){var ce=ye();try{Ve(_)(E,P,L,j,U,z,$,X,oe)}catch(_e){if(de(ce),_e!==_e+0)throw _e;K(1,0)}}function Z2(_,E,P,L,j,U,z,$,X){var oe=ye();try{Ve(_)(E,P,L,j,U,z,$,X)}catch(ce){if(de(oe),ce!==ce+0)throw ce;K(1,0)}}function X2(_,E,P,L,j,U,z){var $=ye();try{Ve(_)(E,P,L,j,U,z)}catch(X){if(de($),X!==X+0)throw X;K(1,0)}}function eD(_,E,P,L){var j=ye();try{return Ve(_)(E,P,L)}catch(U){if(de(j),U!==U+0)throw U;K(1,0)}}function tD(_,E,P,L,j,U,z,$,X,oe,ce,_e){var We=ye();try{return Ve(_)(E,P,L,j,U,z,$,X,oe,ce,_e)}catch(Ke){if(de(We),Ke!==Ke+0)throw Ke;K(1,0)}}function nD(_,E,P,L,j,U,z,$,X,oe,ce,_e,We,Ke,mt,Vt){var Pt=ye();try{Ve(_)(E,P,L,j,U,z,$,X,oe,ce,_e,We,Ke,mt,Vt)}catch($t){if(de(Pt),$t!==$t+0)throw $t;K(1,0)}}function rD(_,E,P,L){var j=ye();try{qn(_,E,P,L)}catch(U){if(de(j),U!==U+0)throw U;K(1,0)}}function iD(_,E,P,L,j){var U=ye();try{return Ra(_,E,P,L,j)}catch(z){if(de(U),z!==z+0)throw z;K(1,0)}}function eg(){if(re>0){ee=eg;return}if(F(),re>0){ee=eg;return}function _(){var E;n.calledRun=!0,!w&&(M(),r(n),(E=n.onRuntimeInitialized)===null||E===void 0||E.call(n),te())}n.setStatus?(n.setStatus("Running..."),setTimeout(()=>{setTimeout(()=>n.setStatus(""),1),_()},1)):_()}function sD(){if(n.preInit)for(typeof n.preInit=="function"&&(n.preInit=[n.preInit]);n.preInit.length>0;)n.preInit.shift()()}return sD(),eg(),e=s,e};function G$(t){return d2(h2,t)}async function $$(t,e){return q$(h2,t,e)}const f2=[["aztec","Aztec"],["code_128","Code128"],["code_39","Code39"],["code_93","Code93"],["codabar","Codabar"],["databar","DataBar"],["databar_expanded","DataBarExpanded"],["databar_limited","DataBarLimited"],["data_matrix","DataMatrix"],["dx_film_edge","DXFilmEdge"],["ean_13","EAN-13"],["ean_8","EAN-8"],["itf","ITF"],["maxi_code","MaxiCode"],["micro_qr_code","MicroQRCode"],["pdf417","PDF417"],["qr_code","QRCode"],["rm_qr_code","rMQRCode"],["upc_a","UPC-A"],["upc_e","UPC-E"],["linear_codes","Linear-Codes"],["matrix_codes","Matrix-Codes"],["any","Any"]],z$=[...f2,["unknown"]].map(t=>t[0]),h0=new Map(f2);function W$(t){for(const[e,n]of h0)if(t===n)return e;return"unknown"}function Y$(t){if(p2(t))return{width:t.naturalWidth,height:t.naturalHeight};if(m2(t))return{width:t.width.baseVal.value,height:t.height.baseVal.value};if(g2(t))return{width:t.videoWidth,height:t.videoHeight};if(v2(t))return{width:t.width,height:t.height};if(E2(t))return{width:t.displayWidth,height:t.displayHeight};if(y2(t))return{width:t.width,height:t.height};if(w2(t))return{width:t.width,height:t.height};throw new TypeError("The provided value is not of type '(Blob or HTMLCanvasElement or HTMLImageElement or HTMLVideoElement or ImageBitmap or ImageData or OffscreenCanvas or SVGImageElement or VideoFrame)'.")}function p2(t){var e,n;try{return t instanceof((n=(e=t==null?void 0:t.ownerDocument)==null?void 0:e.defaultView)==null?void 0:n.HTMLImageElement)}catch{return!1}}function m2(t){var e,n;try{return t instanceof((n=(e=t==null?void 0:t.ownerDocument)==null?void 0:e.defaultView)==null?void 0:n.SVGImageElement)}catch{return!1}}function g2(t){var e,n;try{return t instanceof((n=(e=t==null?void 0:t.ownerDocument)==null?void 0:e.defaultView)==null?void 0:n.HTMLVideoElement)}catch{return!1}}function y2(t){var e,n;try{return t instanceof((n=(e=t==null?void 0:t.ownerDocument)==null?void 0:e.defaultView)==null?void 0:n.HTMLCanvasElement)}catch{return!1}}function v2(t){try{return t instanceof ImageBitmap||Object.prototype.toString.call(t)==="[object ImageBitmap]"}catch{return!1}}function w2(t){try{return t instanceof OffscreenCanvas||Object.prototype.toString.call(t)==="[object OffscreenCanvas]"}catch{return!1}}function E2(t){try{return t instanceof VideoFrame||Object.prototype.toString.call(t)==="[object VideoFrame]"}catch{return!1}}function Q$(t){try{return t instanceof Blob||Object.prototype.toString.call(t)==="[object Blob]"}catch{return!1}}function K$(t){try{return t instanceof ImageData||Object.prototype.toString.call(t)==="[object ImageData]"}catch{return!1}}function H$(t,e){try{const n=new OffscreenCanvas(t,e);if(n.getContext("2d")instanceof OffscreenCanvasRenderingContext2D)return n;throw void 0}catch{const n=document.createElement("canvas");return n.width=t,n.height=e,n}}async function C2(t){if(p2(t)&&!await ez(t))throw new DOMException("Failed to load or decode HTMLImageElement.","InvalidStateError");if(m2(t)&&!await tz(t))throw new DOMException("Failed to load or decode SVGImageElement.","InvalidStateError");if(E2(t)&&nz(t))throw new DOMException("VideoFrame is closed.","InvalidStateError");if(g2(t)&&(t.readyState===0||t.readyState===1))throw new DOMException("Invalid element or state.","InvalidStateError");if(v2(t)&&iz(t))throw new DOMException("The image source is detached.","InvalidStateError");const{width:e,height:n}=Y$(t);if(e===0||n===0)return null;const r=H$(e,n).getContext("2d");r.drawImage(t,0,0);try{return r.getImageData(0,0,e,n)}catch{throw new DOMException("Source would taint origin.","SecurityError")}}async function J$(t){let e;try{e=await createImageBitmap(t)}catch{try{if(globalThis.Image){e=new Image;let n="";try{n=URL.createObjectURL(t),e.src=n,await e.decode()}finally{URL.revokeObjectURL(n)}}else return t}catch{throw new DOMException("Failed to load or decode Blob.","InvalidStateError")}}return await C2(e)}function Z$(t){const{width:e,height:n}=t;if(e===0||n===0)return null;const r=t.getContext("2d");try{return r.getImageData(0,0,e,n)}catch{throw new DOMException("Source would taint origin.","SecurityError")}}async function X$(t){if(Q$(t))return await J$(t);if(K$(t)){if(rz(t))throw new DOMException("The image data has been detached.","InvalidStateError");return t}return y2(t)||w2(t)?Z$(t):await C2(t)}async function ez(t){try{return await t.decode(),!0}catch{return!1}}async function tz(t){var e;try{return await((e=t.decode)==null?void 0:e.call(t)),!0}catch{return!1}}function nz(t){return t.format===null}function rz(t){return t.data.buffer.byteLength===0}function iz(t){return t.width===0&&t.height===0}function j_(t,e){return sz(t)?new DOMException(`${e}: ${t.message}`,t.name):oz(t)?new t.constructor(`${e}: ${t.message}`):new Error(`${e}: ${t}`)}function sz(t){return t instanceof DOMException||Object.prototype.toString.call(t)==="[object DOMException]"}function oz(t){return t instanceof Error||Object.prototype.toString.call(t)==="[object Error]"}var If;class f0{constructor(e={}){x$(this,If);var n;try{const r=(n=e==null?void 0:e.formats)==null?void 0:n.filter(i=>i!=="unknown");if((r==null?void 0:r.length)===0)throw new TypeError("Hint option provided, but is empty.");for(const i of r??[])if(!h0.has(i))throw new TypeError(`Failed to read the 'formats' property from 'BarcodeDetectorOptions': The provided value '${i}' is not a valid enum value of type BarcodeFormat.`);A$(this,If,r??[]),G$({fireImmediately:!0}).catch(()=>{})}catch(r){throw j_(r,"Failed to construct 'BarcodeDetector'")}}static async getSupportedFormats(){return z$.filter(e=>e!=="unknown")}async detect(e){try{const n=await X$(e);if(n===null)return[];let r;const i={tryCode39ExtendedMode:!1,textMode:"Plain",formats:_$(this,If).map(s=>h0.get(s))};try{r=await $$(n,i)}catch(s){throw console.error(s),new DOMException("Barcode detection service unavailable.","NotSupportedError")}return r.map(s=>{const{topLeft:{x:o,y:a},topRight:{x:l,y:c},bottomLeft:{x:d,y:f},bottomRight:{x:h,y:g}}=s.position,T=Math.min(o,l,d,h),y=Math.min(a,c,f,g),I=Math.max(o,l,d,h),C=Math.max(a,c,f,g);return{boundingBox:new DOMRectReadOnly(T,y,I-T,C-y),rawValue:s.text,format:W$(s.format),cornerPoints:[{x:o,y:a},{x:l,y:c},{x:h,y:g},{x:d,y:f}]}})}catch(n){throw j_(n,"Failed to execute 'detect' on 'BarcodeDetector'")}}}If=new WeakMap;globalThis.BarcodeDetector!=null||(globalThis.BarcodeDetector=f0);function az(t){const{onClick:e,disabled:n,className:r}=t,i={cursor:n?"default":"pointer",stroke:n?"grey":"yellow",strokeLineJoin:"round",strokeLineCap:"round",strokeWidth:1.5,...t.style};return Y.createElement("svg",{onClick:n?void 0:e,className:r,style:i,width:"28px",height:"28px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Y.createElement("path",{d:"M3 3L6.00007 6.00007M21 21L19.8455 19.8221M9.74194 4.06811C9.83646 4.04279 9.93334 4.02428 10.0319 4.01299C10.1453 4 10.2683 4 10.5141 4H13.5327C13.7786 4 13.9015 4 14.015 4.01299C14.6068 4.08078 15.1375 4.40882 15.4628 4.90782C15.5252 5.00345 15.5802 5.11345 15.6901 5.33333C15.7451 5.44329 15.7726 5.49827 15.8037 5.54609C15.9664 5.79559 16.2318 5.95961 16.5277 5.9935C16.5844 6 16.6459 6 16.7688 6H17.8234C18.9435 6 19.5036 6 19.9314 6.21799C20.3077 6.40973 20.6137 6.71569 20.8055 7.09202C21.0234 7.51984 21.0234 8.0799 21.0234 9.2V15.3496M19.8455 19.8221C19.4278 20 18.8702 20 17.8234 20H6.22344C5.10333 20 4.54328 20 4.11546 19.782C3.73913 19.5903 3.43317 19.2843 3.24142 18.908C3.02344 18.4802 3.02344 17.9201 3.02344 16.8V9.2C3.02344 8.0799 3.02344 7.51984 3.24142 7.09202C3.43317 6.71569 3.73913 6.40973 4.11546 6.21799C4.51385 6.015 5.0269 6.00103 6.00007 6.00007M19.8455 19.8221L14.5619 14.5619M14.5619 14.5619C14.0349 15.4243 13.0847 16 12 16C10.3431 16 9 14.6569 9 13C9 11.9153 9.57566 10.9651 10.4381 10.4381M14.5619 14.5619L10.4381 10.4381M10.4381 10.4381L6.00007 6.00007"}))}function lz(t){const{onClick:e,disabled:n,className:r}=t,i={cursor:n?"default":"pointer",stroke:n?"grey":"yellow",strokeLineJoin:"round",strokeLineCap:"round",strokeWidth:1.5,...t.style};return Y.createElement("svg",{onClick:n?void 0:e,className:r,style:i,width:"28px",height:"28px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Y.createElement("path",{d:"M12 16C13.6569 16 15 14.6569 15 13C15 11.3431 13.6569 10 12 10C10.3431 10 9 11.3431 9 13C9 14.6569 10.3431 16 12 16Z"}),Y.createElement("path",{d:"M3 16.8V9.2C3 8.0799 3 7.51984 3.21799 7.09202C3.40973 6.71569 3.71569 6.40973 4.09202 6.21799C4.51984 6 5.0799 6 6.2 6H7.25464C7.37758 6 7.43905 6 7.49576 5.9935C7.79166 5.95961 8.05705 5.79559 8.21969 5.54609C8.25086 5.49827 8.27836 5.44328 8.33333 5.33333C8.44329 5.11342 8.49827 5.00346 8.56062 4.90782C8.8859 4.40882 9.41668 4.08078 10.0085 4.01299C10.1219 4 10.2448 4 10.4907 4H13.5093C13.7552 4 13.8781 4 13.9915 4.01299C14.5833 4.08078 15.1141 4.40882 15.4394 4.90782C15.5017 5.00345 15.5567 5.11345 15.6667 5.33333C15.7216 5.44329 15.7491 5.49827 15.7803 5.54609C15.943 5.79559 16.2083 5.95961 16.5042 5.9935C16.561 6 16.6224 6 16.7454 6H17.8C18.9201 6 19.4802 6 19.908 6.21799C20.2843 6.40973 20.5903 6.71569 20.782 7.09202C21 7.51984 21 8.0799 21 9.2V16.8C21 17.9201 21 18.4802 20.782 18.908C20.5903 19.2843 20.2843 19.5903 19.908 19.782C19.4802 20 18.9201 20 17.8 20H6.2C5.0799 20 4.51984 20 4.09202 19.782C3.71569 19.5903 3.40973 19.2843 3.21799 18.908C3 18.4802 3 17.9201 3 16.8Z"}))}function cz(t){const{scanning:e,startScanning:n,stopScanning:r}=t,[i,s]=v.useState(!1);function o(){s(!0),e?r():n(),setTimeout(()=>s(!1),1e3)}return Y.createElement("div",{style:{bottom:85,right:8,position:"absolute",zIndex:2,cursor:i?"default":"pointer"}},e?Y.createElement(az,{disabled:i,onClick:o}):Y.createElement(lz,{disabled:i,onClick:o}))}function uz(t){const{onClick:e,className:n,style:r}=t;return Y.createElement("svg",{onClick:e,width:"30px",height:"30px",viewBox:"0 0 24 24",className:n,style:r,xmlns:"http://www.w3.org/2000/svg"},Y.createElement("path",{strokeWidth:.2,stroke:"yellow",fill:"yellow",d:"M13.225 9l5.025-7h-7.972l-3.3 11h5.359l-2.452 8.648.75.364L20.374 9zm.438 3H8.322l2.7-9H16.3l-5.025 7h7.101l-6.7 8.953z"}))}function dz(t){const{onClick:e,className:n,style:r}=t;return Y.createElement("svg",{onClick:e,width:"30px",height:"30px",viewBox:"0 0 24 24",className:n,style:r,xmlns:"http://www.w3.org/2000/svg"},Y.createElement("path",{strokeWidth:.2,stroke:"yellow",fill:"yellow",d:"M14.516 15.158l.714.714-4.595 6.14-.75-.364L12.337 13H6.978L8.22 8.861l.803.803L8.322 12h3.036l1.793 1.792-1.475 5.16zm5.984 4.05L4.793 3.5l.707-.707 3.492 3.492L10.278 2h7.972l-5.025 7h7.149l-3.71 4.957 4.543 4.543zM12.707 10l3.243 3.243L18.376 10zM9.795 7.088l2.079 2.079L16.3 3h-5.278z"}))}function hz(t){const{status:e,scanning:n,torchToggle:r}=t;function i(s){r(s)}return n&&r?Y.createElement("div",{style:{bottom:35,right:8,position:"absolute",zIndex:2,cursor:"pointer"}},e?Y.createElement(dz,{onClick:()=>i(!1)}):Y.createElement(uz,{onClick:()=>i(!0)})):null}function fz(t){const{onClick:e,className:n,disabled:r=!1}=t,i={cursor:r?"default":"pointer",stroke:r?"grey":"yellow",fill:r?"grey":"yellow",...t.style};return Y.createElement("svg",{onClick:r?void 0:e,width:"30px",height:"30px",viewBox:"0 0 24 24",className:n,style:i,xmlns:"http://www.w3.org/2000/svg"},Y.createElement("path",{strokeWidth:.3,d:"M16.279,17.039c-1.396,1.209 -3.216,1.941 -5.206,1.941c-4.393,0 -7.96,-3.567 -7.96,-7.96c-0,-4.393 3.567,-7.96 7.96,-7.96c4.393,0 7.96,3.567 7.96,7.96c-0,2.044 -0.772,3.909 -2.04,5.319l0.165,0.165c1.194,1.194 2.388,2.388 3.583,3.582c0.455,0.456 -0.252,1.163 -0.707,0.708l-3.755,-3.755Zm1.754,-6.019c-0,-3.841 -3.119,-6.96 -6.96,-6.96c-3.842,0 -6.96,3.119 -6.96,6.96c-0,3.841 3.118,6.96 6.96,6.96c3.841,0 6.96,-3.119 6.96,-6.96Zm-7.46,0.5l-1.5,0c-0.645,0 -0.643,-1 -0,-1l1.5,0l-0,-1.5c-0,-0.645 1,-0.643 1,0l-0,1.5l1.5,0c0.645,0 0.643,1 -0,1l-1.5,0l-0,1.5c-0,0.645 -1,0.643 -1,0l-0,-1.5Z"}))}function pz(t){const{onClick:e,className:n,disabled:r=!1}=t,i={cursor:r?"default":"pointer",stroke:r?"grey":"yellow",fill:r?"grey":"yellow",...t.style};return Y.createElement("svg",{onClick:r?void 0:e,width:"30px",height:"30px",viewBox:"0 0 24 24",className:n,style:i,xmlns:"http://www.w3.org/2000/svg"},Y.createElement("path",{strokeWidth:.3,d:"M16.279,17.039c-1.396,1.209 -3.216,1.941 -5.206,1.941c-4.393,0 -7.96,-3.567 -7.96,-7.96c-0,-4.393 3.567,-7.96 7.96,-7.96c4.393,0 7.96,3.567 7.96,7.96c-0,2.044 -0.772,3.909 -2.04,5.319l0.165,0.165c1.194,1.194 2.388,2.388 3.583,3.582c0.455,0.456 -0.252,1.163 -0.707,0.708l-3.755,-3.755Zm1.754,-6.019c-0,-3.841 -3.119,-6.96 -6.96,-6.96c-3.842,0 -6.96,3.119 -6.96,6.96c-0,3.841 3.118,6.96 6.96,6.96c3.841,0 6.96,-3.119 6.96,-6.96Zm-4.96,-0.5c0.645,0 0.643,1 -0,1l-4,0c-0.645,0 -0.643,-1 -0,-1l4,0Z"}))}function mz(t){const{scanning:e,capabilities:n,onZoom:r,value:i}=t;if(!e||!r)return null;const s=(n.max-n.min)/3;return Y.createElement(v.Fragment,null,Y.createElement("div",{style:{bottom:130,right:8,position:"absolute",zIndex:2,cursor:"pointer"}},Y.createElement(pz,{disabled:i<=n.min,onClick:function(){r(Math.max(i-s,n.min))}})),Y.createElement("div",{style:{bottom:180,right:8,position:"absolute",zIndex:2,cursor:"pointer"}},Y.createElement(fz,{disabled:i>=n.max,onClick:function(){r(Math.min(i+s,n.max))}})))}const os={fullContainer:{width:"100%",height:"100%",position:"relative",display:"flex",alignItems:"center",justifyContent:"center",overflow:"hidden"},innerContainer:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",position:"relative"},overlay:{position:"absolute",top:0,right:0,bottom:0,left:0,pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},borderBox:{position:"relative",width:"70%",aspectRatio:"1 / 1",border:"2px dashed rgba(239, 68, 68, 0.4)",borderRadius:"0.5rem"},cornerTopLeft:{position:"absolute",width:"15%",height:"15%",border:"4px solid #ef4444",top:0,left:0,borderBottomColor:"transparent",borderRightColor:"transparent",borderTopLeftRadius:"0.5rem"},cornerTopRight:{position:"absolute",width:"15%",height:"15%",border:"4px solid #ef4444",top:0,right:0,borderBottomColor:"transparent",borderLeftColor:"transparent",borderTopRightRadius:"0.5rem"},cornerBottomLeft:{position:"absolute",width:"15%",height:"15%",border:"4px solid #ef4444",bottom:0,left:0,borderTopColor:"transparent",borderRightColor:"transparent",borderBottomLeftRadius:"0.5rem"},cornerBottomRight:{position:"absolute",width:"15%",height:"15%",border:"4px solid #ef4444",bottom:0,right:0,borderTopColor:"transparent",borderLeftColor:"transparent",borderBottomRightRadius:"0.5rem"}};function gz(t){const{scanning:e,capabilities:n,onOff:r,torch:i,zoom:s,startScanning:o,stopScanning:a}=t;return Y.createElement("div",{style:os.fullContainer},Y.createElement("div",{style:os.innerContainer},Y.createElement("div",{style:os.overlay},Y.createElement("div",{style:os.borderBox},Y.createElement("div",{style:os.cornerTopLeft}),Y.createElement("div",{style:os.cornerTopRight}),Y.createElement("div",{style:os.cornerBottomLeft}),Y.createElement("div",{style:os.cornerBottomRight}))),r&&Y.createElement(cz,{scanning:e,startScanning:o,stopScanning:a}),i&&n.torch&&Y.createElement(hz,{scanning:e,status:i.status,torchToggle:i.toggle}),s&&n.zoom&&Y.createElement(mz,{scanning:e,capabilities:n.zoom,value:s.value,onZoom:s.onChange})))}const yz="data:audio/mp3;base64,//PkZAAhghE0AKToAJra/n0FQygAAAGIkYJgmCYXBMAAGCTJz3zhCEM//z//1hz//8MMMMN08ssV6e5DDWIQreAgCvFKy8bXgIKMkUDDBgzJwIBtkRMQAocxIFdxghQGKDoEziAzQxOBOdH92i/iGi+zDCAEIX46a73HrSybZw1x3JZjXp7dSNy/P68rjcbt7p7fakMP5LVMyzCaj1pjvejYYAIDgDGzECjEAk1Jl3559HIon8hzlfPVTCvGJZzfcKSxXfyMWM88//9VKSxXdtnb9vomOuuRyiWVYbf+X8zp6fKGHIdycuWMMMMMMKSnp+6wsYc/9f/7z7rPPWHN556p6fP8MMMP///PPP/7+GHK9PT6p7f/unldP2np7YeHjweiYA4GLNAgAiI7u57n5//oc5/yfk6znOcPhwOBwggHCMpA4HA4KEyHOc5znO+hPIc5//+fqJh8XQPh90JU5xQinOf//87/zvP+ggAYuhCKHxdA+Hxd0EA4KKHA4ciB3kOXfXB/gmf8p/B96lAMKAgAADU+BujARHgwdisgHMfAUHAiceBg4ASBgZBiBIBH4ZaHOJsLhf8R+HYEciIgYSwj/+Bi7EqBh+AcBn5P6Bh4TuBmrAMBiZH7gaLEWgew//PkZFMlyek60MpYAShzqqZhm6gCUWeEUWAewEWYGN4X4GDEPwGE8S4GDoOIGAYKgIQOkz//gGARAUB+CwGxTwMAACAEgyAwdAlAxKhzAxXiZ///AxcEwAwJjDAziCAAwQgdAwRgdAsJQDAmAcGzYDwAhZIAKAcIQB4GT9TQMJ9/4Gi1Fv/AcAYUqKBAwGgNAwVBAAwGhwAwdBlAxFg1AwlgzAwNBuAkJQDBgEEDEqGECgChFgBgL//CIswYYH//+HKCpk4K0C9AaKKCAOBeMcR4X9C44BwABCgGAsGYCgTwHAcAwXAiAwSAQV///CJP9lwMBQAwAAAWGo5lVLCcaeneVhJAVGai3//ioaUEf//gaTAYGCj8BnEwfrIqDcsIQb/vmhU/8fAs0G8YGGwKST8Igj4GCATipksVzY8p//90FWJwh45AkX//4fCF9wMEgkL3uQc+gbGJ8t4MBAMBP/hEXf9FRuWBcAfIFjYzQdoLCBwh7IWVlxaX/w8oMCP/+EQT5poGB1Ir90DhiV6af/jFYBpT2BgoQyyt2M0ToBdEaZyzt8nTo3xdNDCTSd//o6F06CjooxRr4jVF/0bOKD6OMUNDRxiMUVFR0FFQPhGXRjDpr4MAEA4wIQUhYOIw//PkZE4nrg08sOx4ACQ0CopD2aAAlwTTBxQeMcwd8w8gZTAgABXwGABOkzpI0wAQAExnWfP4x8ZjKunWdZ1o1Qe6lFGKCNULORQCELAAPnRUf/GIx/0FHGfo3SdZ0qP2cukXKLlRtBKFgAQwCkwJgFRYBEEATmDsLSY2QiQYCEnEra+UZo6F1aKMRr6GhoaP/+j//ov+i+hjLqBgMkYoqChoo1GqCjoY06TpRqjjLOYzRRmMuizmgdKhdF8kjTAAAPMCwGswzglgwAJfzqxmioKH/////////////+ijLOAwFmN0f/////////Q///8ZjP/9DGYyFwIDBeB3MA4AlBWidKM5spykAUAQOCakK+udGqN8VDYjTRuN//0bVX//6Kio4xQFv//nf//kKOoAEIB6SY6hcxenp85///4/DEPf/84Xvl4vF4dwtxfEJgCYQHMSgKCROp4+fn////L4tQf0unz89OecLxeL0ul09y6enzp4dIhKAQFA5hKfLu1nU7/Wr71rRKJUBQSUVt////l08GUPVWgAAYAeNKsxbQNAAhQx3/oKGMM6dZ1Yy6sajMbfKio7lNcv0sScZ47lNcw32ekVFMP9fp/f+mklI6at6u/dBMQuW6y+C5BcgwAA//PkZEomGg1HYGe0riWsCqbEwiY0BJFJMxrCcxGgQ2VK8xxCF1wsABgQBBgQBAYAFCkYCgALkK4fJ00E5ctJN1Uxy5au3XoGcM4dSN0EYZwzhW0WCh1PZwzhnFFQxtnbO2d0Kt6CdXbruggkTEX5Rs4TEQUVsdVXaCcuWXIBQUGmwmgoAGcJiM4dSioHQdBnEY+hjcbov//jcb/43G43G/jCRibfxugdBnDqULO2duvQumztncbo4xGKKNxugooxGIxQULoOgFgUMTA/jbrxiMDmETL+eLhcPThzOeeOZfL5fIcBYuXD/OHv8t//LJFxjxQYHHKDGFkZMtlmKM0RgQfbVtxFIHbQBDRuzRguEI1c9XZ/rWmrZfVU3Oc/9utNNygRQkCoHlAYstNN6DJ1IINpoINppv+WG/+g2mmnUmmmpBAoJIJhnwB5xkymn606Df/t000xhU03UXC5Ol8uFyXy+Xy/l8v5w4cLk4XAvwAYUvl/QL5fTdlKZkEEEEGumaKaX00zIOemf6CH///ywI3LKpiQ2Ef4xYWMSDyI0XwzikpL0ajVHZ3j9DGIjeuXcNfjn96/S/TUz/X/vX////5K/r+v7Jn+LlAoGZOIQIwMKBQM/yppKYURmhGZkR2b//PkZE0mHg1HEG8wyiD7mlwAyDU8nJHi5htakZmZGNiRcpkJhBmUmZYQcM1VDEEBggNDV/ASEZRYKFZIhkXKLlKmk7IVTKmZNJ5KhiqVUqpX+k7+qlVKyV/ZIqZDFDWTJlFyi5TJpKhiXKBQyZzIS5JhBoayV/AQWVpGWkcYTV5O/rIVSv8/0nkr+v6/vyR/X9f1/ZN8kf5/n99/n+f5/lTKmf9/mRP8yFUqpWSv4yJUqpX9kj/MmZNJ5K/z/P9J5P/v6yFUz/CEoywgUMqZkz/FssECIsVq0aPRrRRatFFFykQZJ2Ukl///5KjmksOaA7ALROJLDnEsLbq3GTMVrwb/0dGzmM0DlfBlHQOmrdR0MYi92TX6b/cmDHLclyUVYO/4O8sFTKFTKFf8yhUyhUyhXzKlDKlCsr/+ZUoVlSsr/+ZQqZUoZUoceMfcoZUoZUoVlfOPGcmDHKcpynKg9yXJcr3JclyXJclyYO+DXJclyfgxFZVb3KcqD/g2MxzsY72L9LubPR0dCyf5K5NNd+Tv9GXRdV0XJclyfcl/n+k8kf6SX/iVynvXf///4Mg/1OkxguYzmM5jMcLHMxwwGhgNCwXMLAcwMXTLi1MD7w7tmTdBvMmE0xQFzCwHMDAd//PkZGMpigkmAGOUvCfTgcgAuC+ITswMFzC4oMLhYMByn0xvU+p9Tr0xUxf/0xv///1PBYDhgNTFTFTGTGTGTGTGTGTGTGC4GTFMDAcLAdMVMVMULAcMBpgYDhcDGFwsYXFBikLGFwMGA4MBxgcDKfTEMUoAx2BisD+mKp5Tv1OkxkxkxkxkxkxkxkxlO0xVPJi/6nv////U7CwHTFTFTGTGTGTGU+p71PpjJipihYDpipi/6n1Ov//C4GC4GTGTGTGTFU8WBSZdLhWB//yKlotyLZFiLf8tyyRUipFSKkVGRBZQMiWC3yx//wxUGKsSvDFQGHUAL3QMsHDFIYpCYy2Bmagy6BjLgy6Bh3od58DCLAizBgRb+EQiyEQiwGBFuDAi3/////20QqSBJf/qcumv/////wMZdGXAYMu1gYy6MuBEZdBgy4BjLgy6BjLgy6BjLgy6BjLQy6DBlz2cJDLgRGXAMZdGXAYMuhMZcCIy6sJGaoGMuppwNRl3WBjLgy63wiEWAwIt/+EQi0IhFsDCLAi0GBFkGBFgMJCqaqYAgAYIhBBvwf7kwcqRq7V3IctacvlN6NxqgooxRRuNRiijEZjMGRuMvz9FGozQ+1X2qe1T1S//+VhaWAtKwtML//PkZEIkbgcaAHc1xCJrjeAAtfuUAtLAWf///mWePH95ZFgsyssvM88+jzO6K+z7OM48sH+WDiweZx5YOK+zxWLGJWsa6xadAv02fTZLSpsFpvLSga0tMgWgUgWmwgUmyWl8tMgWWmLSoFJsoFlpSwsmyBg4HhEdgwHAYPBwGDgeBg8HwMHg4DB4PBgOAwcOwMHLwDn5lAwcDgiDgYDwMHA/4MB3//+EQeDAdwiDwYLPhEWQYLODBYERZBgt8Ii34GLBaB5pfAZ0FvEAQ/UfwxULlx+IXx+8f5CELH8fxKhAIDFoHBEDRc3////gwHgaRXgMHYMB2EU/gwZ/gYbw3gY3QbgYNgbgYiAbgwN3/+EQbBEG4MBuDAbAwG4RBtAwbg2////+B9B6F//////////hEdD//////////8DRahEQGCInMNg3LBElgNjDciCwG/lgNiwGxWG///mG4bf/+WA3Kw3KyIMNw2Kw3MNg3MNg3MNiIMiQ2OK0xMiA3KyJLAEZgRARmBEDEYFwBBgEgEeomowol5YAJKwCDAIAJ8sAE+gGBgCJYAQUZ/13LubMu5dyiYOAhKwEFGf9AOoz/g4CFAIol/lgAjysAgsAElYBP////lgJksBM//lgRUxF//PkZGApggsIAHt2wiNLoggAqCz8RFSwIqYioipkjEjHCCSN/+WJg5iYOYmPK5krmTmZk5mZ8sTJYmf8yJiNiIisi/ywRmRkZkZGZGRmRERkREZERGRERkREZERGxEf///hETIMEyBiZEyBiZEzwiJgDEwU4DV2gQGFOBgmP8GAiAwRAiBgIgYCIGAi/4MBHAwRgjAwRgjwMEQIgMcgY8DBGCMDBGCMDEyJn///+BiYQIBlObj4eYLIwsjAOBGFkYBoEQ84eULIw88LIA88PKHnw8sPKFkeHlANAiAaFUDAiMYPIHmDzBZBhZB///8GBOA1sH/Awni7AwnhPCITwYE/CKzBgt8Ig8GA4Ig6EQdww4Yb+F1sIgtwYCwGAsAwWAsBgLAYCwDBYCwDBaHUDF+VEDKgC2BgtBaDAWgYLQW////gYLAWQMFgLAMFoLcGAt////4RMABmBSj4NgwMOGHBsHhdcLrwbB4XXC6+F14YcLrww4Ng8MOGHBsHww4Ng8AUC4AoMQMC4fgw3wutV4QIsAgFYIBWCCVgHeVgHeWABCwAIVgH+YBwB5aRAstKgV6Ba1oMg9avtUVN/qdLWciD/cqD3Jg6DFPuTB/////lYAn//mC8C+YLwL5gvgvGC//PkZFEpLgMKYXt2xB5LogAArbdc+C8VgvlYL/mC8C+YLwL5YBfMNgNkwXixDWoHPMc4VUxVA2TBeDZPYXzXl815fK14sLxYXvK1//NeXzXl815fMtdDLSw3UsMtLCstMtLDLSwsFhWWlgt//8sFhW6f/////+WF7zXl8sL5ry+Vrxry+WF/wMLwX4MC+EQv/AwvBfAxsjYAyqpKA0lpLAwvBfBgXv///4RA2DANAYGgNgYGgNgYGwN+EQvf/BgXwYF//8DC+F4Dd6NgGBf4AgFwbB0MMF1wuuDYMBsGwusDYOBsHA2Dvg2DQuuDYOhdcMMF14YYDGYDEGwfhhgbB0MN///4RBaEQWgZByoYRWYMFvwiDsGwaF1gbB34GDwdC64XW/w1aKxDVgatir4YcLrQbBwNg7////////////+ESfgZPyff/////////4MFmBvvMAERZ8CC5adNj02E2S0qbCBSBZaYtN///oFlpU2QMXIFAYuQK9AtAo7IxLTpsIFJs/5aZRxQawaxGfIg9CsrI+PUqkWdOHp7ODsOl6cOHZ4dsulfLI9/8BAAgMBACsBLACVgBjoAWAE5OTM6WDAR0zodMdHCsJLASWAjzCQgsBJhASWAjysI8wkJMICU//PkZFkeqgcaYDd1th6DogAAqCuIxQwtDA5MdMULgyY6YqnXqdep5TpMdMVRNRL/UT9AN6jCiSjKAZRNRhAMomgFQDfCIJwYCQiCAiCMGAkGAgDBJUA3eVAMEgj////8SrDFIYqh5g8kPMHkDzB5OFkYeYPJ+HlDzB5+AYVQDibCyIPLLEZIsjIliWS0WywWyyWuWCyWJaLZbLJYDHgLAItFvy3///4eYPKBlQTh5QYEODBb//hhoNg7/C62DYPFUKwKsVgNWBq8VkVcVkVUVYrH//hGff/8Iz8GT7//////wiX4ML3gwvgwvf4ML3gZeqoHVGyBl4vgZfL2F1oNg4Lrg2DcLrg2DQw0Lrhh8Lr4YcMNBsGhdcGBcMOGGAFGAGMQsF1guuGG4XXV/4uQXOLmF1kL/8lCXkuSk4O8/FzHzuP0hIucf/CIFAMCgFPgYFAKAwCgGBQCgGHYO4GBVM4GgQI4RCMEQKQOtQjUI1CNcI14MqDKwDIAGQDzh5wsjDyw8uHmDzYeUPN+DEYRRhFEIowYgDQgIhWDApgwKAwKQYFAYFQMKkYDOxHAzsRgMKBUGBX/h5v+Hm4ecPNh5A8wBwjhZHhZAHlDzBZAFkAeQPKHnCyILIAsih5QsgDz//PkZLQgIgsMAFp1xCGLogAAA2rkB5w8oeYLIQ8kPMHkCyGHnAMKoGmAgFkUPMHmDYAtfHPHNkr/JYl8c8lCWHPHMkqSo5onMAkBDnfJX//8IgDBgBhEdAaxSQMHUGAEIgAV4risCcipBOMVRVBO////hEvAxsAwvf////8MPDDww4XWC64XXDDww4YcMPC6wYb/wYGgiGwMplMDYhTCIaCIaBga/////8GA+EQdgYPB4MB4GDwdhEH8Ig8Ig8GA6EQcEQf8DBxlBjoAweDuFwgCQXiL//iLiKCKCL4XCiKRFwEgoRT4iqpMQU1FMy4xMDCqqqqqqqr////xuDd8fv/DVwrArEIg6EQdhEHAYPBwMB+ERYBi0WAwWAZ0FoGLYOB+JfgZ0FoGdBaDBYbn+WHm9xW7/Nzzc83PLDzc8reWlA7S0oHamx//6BflpU2C0qbBaf/8yk/ysn+VkMhTKQrKVk8yE8rIVkKyYsAn/5WC+YICmCApWCGTkxtKMcVWlgFMEBTBAX////0C0C0C/////////LTFpvTZLTlpv/0Ci0xaYtOgWmymyWkAxcWmTZTYTY8tMmygUWmLTIFpsFpv9NnywLmLCx2RgWmQKTZ98UjnzZ1/++D4M6/////3//PkZOgjIg8IAFcbxCaTogAAoCuIzfJ8vfJ8Wcs5fBnD5//++L5f////////6nCKv//+o0o0FUYwqDNGCwgUMKC0VVGkVv//4Yf8LrxVCriqDVoasDVuKsNWw1bisBqwVkVkVX//gy/4YYMMGGhhgwwNg4LrhdcLrAYWGAA0zBsH4Ng3C6/////4MAoGBQIDAKBgUCAwCgYEAsDAoEAwKBAYBYMAoGBQIBgUCYGBQIBgUCwiBAYBYMAoRAgRAoGBBMBooCAYFAkIgTEUxFv/EWxFxFhFoi0LhQuFiLCL/EWqTEFNRTMuMTAwqqqq//////8TWJriV/hERAwRgYiEYGIhGBmIRgYiEYMEQMEcDMSiA1GYwMR+UDMTkA7KIgMRGIGGM0SIrRGjRlhEV4jxov8rR/5YRFhEdQSViCsR5iRJWIKxPlgQYgSViSsR5WJMQJLC78IiKERF4REeERGEREERHwMRGOBmIRhERhERAwRAYiEQGIhGBmIRAajkgG5TEEREDBHwYIwYI4REXCIV/4MCmDArgwKAYUO/gYVCkGBUGBTgYUCsGBUIhUDCoUCIVBgVBgVBgUhEKQMKhUDCoUBgVAwoFAYFcGBQDI6oA5+qQiFAMjBUGBXCyEPIFkOH//PkZPMj6gr6AFdVwifkBdwAoC2Ilh5/8PPh5Qsih5IeUA0TAZrE8PP////wMRiIIqID8piAxEIwMxCMDEQjCIj//BiIDRo8Iogii/4MKwYVhEoESkDEiIGJEgYlfBgmDBIMEAYgSBiBIREAwSERH/8I7wPfuCO4I7v/8GBvAw3Bv/////gwN34RBuBg2BuBg2BuBg2BuEQbhEG+EQbAwG4MBtwiDaDAbhEGwMBuDAbAwG4GDYG8DBsDcDBuNwDRWDcIg2AwbA34RBv///CINvCINgMRIN/////wiG4DDeG+TEFNRTMuMTAwqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq/zB4OLAP8rBxWDisHlYOKxb5WLTFgsMWiw18LDOnjPxZoxadDOgsLAtLAbKymVhsrDZWG/LAb8w2GywGysNlgNFgNGFwuBQuWnTZLToFFpisLJsFp0Cy0voFAQLFZkMCAQwIBCsC/5WBCwBCwBCwBCsCeVgUwIBCwBDEwEMCAQrAhgUClgCFgTlgCGJgJ5gQTGJwKWAKYFApgQTGBQL5kY0HMjQYnAhWJvKwIWAIVgQrApYAhWBPBgECIEBgE/8IgXhECQiBAMCkcDEwEwMCAQGAQIhoIhsGBsIhvgwN//PkZN4irgr2AAOVqiUThegAnCtMgwNwiG/8IhuDA1hENhENgYbKYHb2IBhoNhENAwN////8IhsDKZS////8IhuBhspgc0KQRDWEQ3///CNf4GAIMDAwgAwAAwhAwAwYAIgwiHBgAMAYGAAGHv///CIBqBqESDEIgRYGoGHBiDEIgGoGgMAYgxgwgxCIETwYFYMCoMCuDApBgU8DCoU//gY3G//wYFOBhUKBEKQYFfBgV8IhSEQoBkYK8IhT/wMKhXBgUCIU4RCoRCvgYVCsDCp3A1SqAYFAiFP////gY3G1TEFNRTMuMTAwVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVgwCAwCBEC///////8IgUIgWEQIBgUCAwTQMCAQDAoEhECAYFIwGaRMBotWAasdwH/KqBmhFgaKI4GRgKVpjCBTCBPMJHNMFMIFKwnlgJ5hUxhUwGWlpAMuMuWLTFpvQKQLQKLTIFJsoFIFFZb/8woQwoT///MIF8rC+WAphAphAppgpYClgsmwBC6bHoFFpUCi0wGXFguWCwFLgUsgX6BZaVNj0Ci03//+EQKEQKEQLCIFAxMBcDAgFAwIBQYBODAKBgUCAYEAuDAKBgUCAYFAgRAngwCgwCwiBIRAmE//PkZN4iogj2AFdVxiUrhewAhOkwQIBgQ0gbOI4GRhOBiYCgYEAv////CIFAyMBQYBf///CIF8IgUDAgFBgEAwIRwMCCcDEwFAwIBf///CIEQGMDGEXCKBpCIDCEQDCAsYInDFQMMAuYSoTQMVfBlf//+DKfBgAiGDAQMIMIgCIQYADAEGAgwP////8ItgNu2/8DAAAiABgHhECBgQGEQARA8GAeEQIMABECEQIMAwYBBgCDAARA4GAAgYACDAARAwiAgwDhED4RABEBCIGBgDoH2dgZwCBgAP//BhX/+DCiTEFNRTMuMTAwqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqF1ww////////hdeGGDDBhwjeF102E2fTYAowMLjE0zTDfyyMYjEDJTwMLSwFi0/gQLoFIFpsegWmyBQsWlQL9ApNgtIWn8tMgX6BaBX+WmQL9Nn02f9NktIgUgWmwWl9Avy06bCBSbJaUtImyWkQKLTIFgYWoFFpAKFwMLzZgwAwvLTIFlpU2fQLQK///4Yf4YaF1sLrg2DAuuDYNDDQw4NgwLrhh4XXC64Ng3C60MNwbB4XWC64YcMODYPCJYDlMQBlwRLg2DOF1v/////PkZM0eKgz0AE+UuCnLFfAAk3Fsg2DAYX/ww//4YaGGDDhdbDDACFwMuXA2DADlygusDYOBsGhhv//wNU/CKQusF1oXX+F1wuuGGC6wXWDDBdbC6wXXhHv//4AHIFgC0BZAA4Ba4FkADwFsC3AtQAOcC0BYAtgAcAA9+BYAsgW4FvgWOABwC1oq+it4RT0VVG0VFGkVywo1/RWU4U59TlFb1GvRX////QK9Nj/9AtNn02fTY9NhNlAr/QK//TYTZLSJsIFemx///oF/5aZNj02U2C0yBaBfoFAS6bKBfoFVTEFNRTMuMTAwVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVQiA8GAO/4RAf//////wYA4GAO+EQHAwB4GDoB4GA4HQRB0BhlDIBpEAcBgPDIBgPAeDAHIFAYuLTpspsJsFpi0haRApAtAstIYKClgF/ysF/ysE/ysF//LAJ6plTlYC1ZUypmqtWVK1VqyplSFgBaqqcwAAVIqcrEBAAKmMBERCQhwD5iICIQEyABMAABBVGXF4gIA4DLAAWAEQgLVSsBaq1ZUv+YKClgELAJ////5YBP//LAL5WC+Vgn+WAX/LT+gW//PkZMIhLgrsAFt1yiD7FiB6A9qwmwViybCbCbCBSBabCBSBabPpsegWmwWn9ApApApNgCGBmEwWlLSpsf////hEHgYOB3////4GDkiBxMHhEdgYOB4GDwcBg4HW23gooFYHd/+BnAz8O8Vv//FaBm4rBWh38es2zbAtD1m2PVBqBrBqBrAF7AF3/5el84MkuHTgyy+dL0dRnEajMIyOn8RsZ5HGG/kbIpHIkYUiD0y2WctlZaWSwrKx6FZbxnL54ul04eLhw9Ol84dl86cOHT3Ipb5Z8qKpVx6/j0EkLctVTEFNRTMuMTAwgWQLQAHgLf/////4Fn+EQESEcIgInCIRW9TkrCzH0YIjjWtI+YeCD0woLCBQwsKRWUaRVCBZFZRtRtFRTlTlThRtAr0C0C//02E2fTZQK/0Ck2f9TlFRTlTlFT/9TlFVFRFb/9ThThynIQbWkAREue5S11rKdlkDEVABh61ExYPU+tOD4MQgcn4iwigivxFRFoXDcRQLhoiwioXCeAkFBcNiL8RURQBIKEVEWiLBcKIqIpEXC4QReIoIpCIKAQMxFAFAsIuIr/4YYLr//ww4XWBgwC64XX/hhgw3hhwuv8MNhhguvhdcAUYgaYTAAoWDDg2DQbBg//PkZPYe6gzuADd1uDKsBhBAe89cYYdGjtDT2hDmlD2leaOv9oX0OX/0NNLplNf8ewakNWGrTfTRpphNJtfaeh7T1/tStdtTpqN532lpX/1/kmQ5eaf2hoaV9paGleJAvd0rer2pWu1ar2vk56vVrV5Hj1Nop+/lfv5Zpkem5kX/2vtata2rq783nbvtbW6VjW6a2rq13+rO6VysV58K7tbp0ru6Vrtqa1a67tr6sau1ulYrnfa2v927Vrt21NSuN5X927/D4diAQANh4gEIfxB+IQG/D/4gDw/iGIRD+HRATEFNRTMuMTAwqqqqqqqqqqqqqqqqqiIEK/ititFX///8VcVuK38VsVhXBOQTpq/qm8QCAcBmIxgdfFZCHECpxFBFAuFEUC4cLhsRTEVEUDVoDQD+KrFYirFX+KwKoVgVUVUVeKwGrhWRWBViqFYDV4rMViKyGroauBg/A0YThVgNAEVQqw1fisis4quKxxWYrAatxWIqoqg1dFYxVxWIrAavAaAArIrAqoqhWYrIqvxWMVYrARCADhcKoVYavDVgqhV4qorIrHFWKuKxFViscVUVYasAaAfFY/4YcMNhdfwuuGGC64YfDDA2DwusANygbBwAxhAECwNg8MOF1hD4//PkZOkc4g7yBjd1sDNkDhgqYwtcYoUyiQ0NCkxQ0NCQkSIbGKIyRGEo5mUaNEhGKEHMmaGhI0UokORvMmZmZSZSiMZQkRnKKZkzRoSNCQpQ0NEZoaNFJkhh3KOUJEhIcoSJCQkIzlDlEjMDMyMpQ0JCQzNCRGaNCRISEZoZihoaIwlEHKNGiMzFEjRmSIwlHMyZmcyiGyMxRyhIkIxRSZokSEYGBkiRojAPESNGjQxvKHMmMoSKTJCQkIwlFKLDYWGhoZhYWAAUGBsAwsMDYUAcK4XDPhQVwwLAH/DfgHC6TEFNRaqqBgjwYI//wYI/8GCL///+DBFhERgwRcIiPAzGYgMRKIDcskBgjAxEIwYI4GiRwNEjhFH4MRwYjA0aOEUf8Io/BiLgxGEUYRRQij/BiKDEYMR+DBGBiMRQiIgYIwiIwYIgiIgMRGIDUSjhEReEREBiIRAwR/wYI/8IiP4MEcGCIIiOERH8GCIIiMIiIIiODBHBgjBgjwiIoREcIiOEREDBFCKiAxHJcIiMGCMGCLwYI8IiPhERgwRAwRAYjEUIiIGCP/AxGIgiIsGCL//4REYMEXhERBERhExhExAzyAZiEWDBGERGeKsVsVRVFcVwTnFcVxVgnYqipFUV//PkZPkcfgzeAFaVxDgUBgAgatvIYrgnYqgnQJyK4riqK4rwTsVor4rQAjABAgnQritFSKoqQTsE5C1haxfF7F4XQtULSFqC1i4LwWkXIWkXRdF+LwqAnME4iqCdwToVuK+HAERWAkAlgJB0OB3Doc8OYc8VCsVgIB3DuHAERUAkAkHMOBwOAIisO4dwEAEAEg6AkAl4CeHA4AkKhXioBIOiv8OB3F+LgWkXxeF8XouxcF0XBeF8XBdF8XhdAdouC8AEsXYWsXOKsVBU/FaKmK/FTxXFbFUVPiv/8VfxXitVTEFNRTMuMTAwVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVAXX/8MN/wwwYf//DDBh4Yf/+DYODDfCIFAwKBQiaANFgUDAgFAwIBcADwFuBY/At8C1wLfgAdAtwLGBawLcC3AsgWeBYwLX4XW8LrBhgiFgMlhYLrhh4XWhdb8MOGGhdcMP4YaF1gw8LrwuvhhoYYLrYXWDDBdcGwfC60MN/ww8GwZ4XXC64GZQsF1wbBnDD4XXg2DcLrBdaDYPhhgusF1uGGC64YfhhoNg0LrQwwYcMNC62F1/g2DYXW4XXC6+GH8DTIW4YeB/wR/wjwR+DP/y06bJaRAtAtAtAs//PkZNwY2grqBFW1xDhTRegABLBstL6BRaVAstN5aYtN/psIFf5aQtIgWgUWk8tImyWkQL9Avy0qbKbKbJaf02f/0CkCy05adAsC3K7+mx5aVAv0C/TZ8tOmymwB2pspsFpPLSlpy0qbCBSBXlpk2E2E2C0paUtP6Bfpslp0CkCy0ibJaZAosWQLLTJsemwgUmz6BZaYtOgUWmLTpsJsoFJslpPLT+mwmz//6Bfpsf6BSBSbCBXoFeWk9NhNhAr0Cy0/+WnTZ8tJ/oFf6bP+myWn//8tMmz/lpf//////8sPTEFNRTMuMTAwVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVBgJwiCYMBP//gwE//////wiCAMEgkIggIqIDKpUCIIgwE8IzA4j+EYhGAZMIyDJA5gGRhGcIyDIhEQiIGAgwIRDwiAGAAwYMHBghGAZMGRCMhGYRgGRA5gIyDIwZPBk/wZIRmEY/gyOBxIMgIzCMgcTgwRBgjwYJBgngwTwYJhEQBiBGERMIrwOouAxAgGCQYIhERhEQDBGDBAREgwTCIgGCQYJgwSDBHwiI4MEAwSBiRHCIkGCYGJEQiI/Bgn4REYREeBiBIH6XhERhETwogoy04mpZibFmJuWYmx8n//PkZN4ZrgrkAFZUyDcjofgAA9qc0HafZ8HwNrjaG3xtjaDtJwTo+D55Ow7fxNRNSyLPlqJsAr/lmA/FmWYm5acTQVgTkVQTnBOQTgVxVBOBVFWK4J3FUE7gBABOwToVQTsVhUFcVRXBOhUBORWiuKkVYrCqK+KoqgnQrAnEV+K8E7FQE5xWBOQToVQTsVRW8V4qRUFYVgTsVhXioKgrCqKwqAnYqCtBOhUioK+CcisK8VRUFSKnirFQVBVFcE6FcVoJwKoqCrFXFUE7gnAqiuCcQTsE7xU8VP8VYrgnYrCuTEFNRTMuMTAwqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqn3/l/J/8vHL5f/BhwCETgGpIDOATgEIOFoDcHzgEIDgC+pG7eve1S/6tat7rXupDXSStWoIpGS4TSMQNIySMwpIyAaRkkZ8GJGdBtbwYkZ63tCKRkoIpGWDEjLCKRmEkjOvsEUjJOsIpGa6bOrgxIzsEkjIGJGYUkZVKCKRmqoDkgEjMJJGSYMSMAikZJ3qhp0dq9ru3X1I36FujPbXuxwKbr//waABfg0AC6DUDUDXBqBoAmQawJiGrhqDUGoN//PkZL8USgKcAAblrroTgfQAbhtQAag1QawaYNIAuQa12Lv9si7F2NnXa2Vsi7i/DZl2tlL9l+vL8tlUTUTUTUYQDIBlGUAyifqJKJqJ+p5Mf/U7TETEU7CxkxVO1PKdqeU8u4vq2ddnrsbM2Zs/tl9s67V2NlbIu5sgaA1Q14ExAmAaA0BrDVDXhpgTPDQGuBMA0gTKGgCYgTHDQGrDUGgNcNQaw1hoAmcNIaRIAtALVEgC1gteI8FpBaBIAtcRwkAWgFpBaILVBaIkAWgRwjhIiPEeDXwa/4NUGr+DRwaKBgX/8IhP//wiF8GBMGBP/wYEhEKEQmEQuDAoGFTAwLgwLhG/4MvCM8GSDJCNwZQOXg2DwbB8MPDDhhuGGBsHhh8Lrf4MCQYFCIUGJgiE8GBQMIFhELDDhdaGHhdYGwaGGDDhhuDYMBsHg2D8MMGHBsH8GwYDYMhEKEQgMCeDAsIhAiFBgQIhAYFhEKDAkGBMIhYGEC4GFCBELgYUKDAuEQsGBQMKEwiEBgUGBcIhQYFwYFAwgWDAoRC8GBAYE4RCgwKEQvhEJgYUIBhQkIhAiECIUGBIMC4RCgwJCIUGBAiFgaYLwiEA5cGXCNhGBGwZAw4Ng0MPBkqNqcoqorlh//PkZP8cygrkAFI0wjo7lfAAjhq4SnPor//psoFemygWmwWm/0C0Ci05adApNn/TZQLU5RU9FRFVFdTn1OFG1Gywv/UbUa9Ff0VoFgCwBbAtQLUCzAtgAchHAN8ImAbgBvwDd4RwjQDeAN8I0ImEQEQAbwRgiQjBHhHAN0A3vgG6Ab/CIhEgG5AN6EQESAbmEYI4RABvYRoRABuYRgDehEQiAiIRABvcA3QiQDfwjwDfCICPCJCJCJ4RwiYRwjBEwDehEYRgDfCNCOEQEQEcI+BagAd4FrAscCxAswLfwLAFgC1wLNVMQU1FMy4xMDBVVVVVVVVVBlBkwO3wZAZMIz//////+DJwO0IwI0DsA7cGUI34Rn4RgMuEZgywZQjAZP/hGAcmDKEYDIB28GQGQGXhGgcgRoMgRoHYBywZAZYMmBygyQYFCIUDChQYE4MCgaYJ/gwKEQsGBAiEBgXAwgQLrhdcGwcGHBsGA2Dgw4YYGwZC6/hdYMMF14YcLrYYcMPDDhdYGweF1oYb4MCwYEwYEgwJBgTCIQGBIRC/BgQDCBcIhAMKFhEKDAsGBQYFAwgTgwKDAoMCQiEgwIBhAnCIUGBQiFwiEBicIhAiFhEIgIoBooGieDPA+4GeDPCP//PkZOobXgrkAEY0jjazieQgBKKIBGgyBGhGhGgyAdoMmEaDIB2gyhGwZYMsI0GSDIEaDKB2QOWEaDKB2hGgygcoHYBygdkDtgygcngyAyhG4MgMgRgRmDJCNBkA7QjAZIRoRoMuByhGgyAyAyhGwZYHKByAcgMgRoHIEbCNCNA7fCNA7AZAO0GSEYEaDLA7cDthGgyAyAyQjAOwGUIyDKEYEaEYEYEaEbA5AZQZAZAZIMgRkGXBlBkCMgyAyQZYMngcmEb8GUGQIyDIBywZAZOEZhGBGwO2EbwjcI3hGYMqTEFNRTMuMTAwqqqqqqqqqqqqqqqqqqqqquDqz8GMDQIvBj///+DGDEGAMAifBj8IuEThFCIEQGPCLwiQYBFCKESDCETBhhGAZGEZ4MjgcSEY4GoRQigxCIEQGPCKBiBrgxwiBEwMIRAY4MQNMIkImDEGIRYMIRYRAYhFBjwYwNQYgwBgBh4GAMQiwYgxA0gahFBgBjgYBFhFhFCKEWBgEWEUGEIgMQYQMYRAMQigxhFBh4GkIgRIRYRAY4RIMQYgYhFA18IoMQYQihFhEgwhFCIDEGIRQieBiEUIoRQYhEwYDAFwGrBog0waAaQawacGsGiDQp9MZMVT3piJjJjK//PkZOYZBgjoaUJQ0DprofQgbhq0dep71PqeU69TpMdMVT6n1OlPKdJjpiKdFZkxlPKdJiJj+mKp/0xFPBoAmYaw0BpwJhDSBMQ1BqAmIEzDSGgNXDRDRhp+GsNMNAEyAmYagJkBMA1BpDXAmECZhoDXhqAmYawJjgTICZBrDSGsNAExDVDQGqGgNHDWBMIaQ0BrAmcCYgTHAmIEzDWGgNYaOBMw0BqDSBMYaA04aA1hqwJhw0ATKGqBM8NYEz4aQJkGoNMNIag1+GsCY+BMQJlDVw0cCYfDXw1ho4aQ0gTCTEFNRTMuMTAwqqoD37wjuhHf/////hGf////hHf/gycEZwRn4MnYMncIzsGTwOdOA507A507hGeEZ8GTuDJ4Rn4HPn4Mn4RnhGcDJwM3YM3gzdBm6DNwR3QjvA927Bm//Bm7Bm/Bm8GbgZvBm4GboR3gzeEd+DN8GbvBm6EZ+Bzp4Mn4HOnBGfA588IzsDnTgZPCM8Iz+EZ/CM4DnTgOdPBk8Iz4RJwGTidBi7AycTgiT4RJ8GE6ESdhEngZPJwGTieDCcESfwYToMJ3AycTwiTsDJ5OhEnwibwYb+ETdwibwibvCJuwYb/4RN/Btf/jYGyNv8bHLUtSzE0/LQBW//PkZPQcHgjQAFKVrjfDmgAge1eMLITcshNy1LX8si0LUTQtCyLQTUteWQmvLItSz4mgmnTJops0umEymDSPsnR9HwfB8k7Pvn0fAvwtcLXF/F+L4vQtQWuFoC0BaReF7AeBfwtcXBdF4XheFwXAtAui9C1haRdi6LwvirgnUE6FcVBVisKgrCvioK+KoqiqAhh3AQFXhwVYrFYCWHMOioVAI4dFWHPDgCAdDgdDmHcBIBEO+HRWAiKsBMO4dFQCAdATw6HBWHBWAgHBUHMOf/gICsOCoV4qw7+KxWHA6KhVTEFNRTMuMTAwVVVVVVVVVVVVVVVVVVVVC11Fz1+NP+/Xkqpr9OfuhQ6lZNWf+XsZc/si+KNoOj/Ntai9j7IISgZAklTqQhjToNTeQoreRdaSDODWvYAVFaWWkQmVuZPP8bRUzq896vc+XS6mm5gnnW7JLnV4z9N5XnW4k86x+uyHyxnWkmdborzraff2SvOtvljOtjd/5XRW8MivOsry/K3gUzrFPS1eFTOttTsul1+lLGdbV3c53h51mdbK7xPOr1SpnWlM63kedZnV4XPK86onnW7myrnWTmRTOqascoabXd/L+yuzS95dv1efjhl92ntYyTuIb6wuWRZFmWRa//PkZOcb/gqMACDf1LTLofggA9qc/gKRZiblqWYm3E24moSQnR9BJj6JwfBaFqWZZFoWvLUshNPxNuWn6bTZHgozRTSaNAY5oGjFQVgTkE6FUVorioK8VBXBO8VRUioAhxVioK4qAnIrYrCqKsVRVBORXBORVFcVcVwTgVBUBORUisK4rCoKwrxXFYE4FYVATjFcVhX4rcVBVFQV4rxVFSKwqCpFcV+K8VhXFYV4qivFUE4FaCdivBORUBOfBOgToE6FUVYqisKgqCtxWFbFQVxXisKgqRU4qioKuKwqCvxVBkH/4Mgf4Rg4RgfgxZBizhFYEVuDFvhFbBi3CKyEVsGLf/4MgAxaDFoGsWYMWgaxYBrFngxaDFnCKwIrAYswNas+DFgRWYGtWYMWBFZgxbgaxbgxZCKwGLIRWgxZCK2EVmDFmDFgMW4GtW8IrAYtBi3Bi0GLAYsCK0IrQit4MWeEVgRW+DFsI9cDW9AYtgxZhFaBrVgMWgxaDFvCKwIrIGtWhFaBrFuEVvBi3hFZA1i0IrYMWYMWAxaEVkGLAisCKzBizCK0DWrIRg+EYIRgQjABkHwODABkDhGDwODBgyAEYIRoRvww4YcKILYKILfhRg5htjY4OQbQ2hNAH8su//PkZP8cRgjWAFAUYjwDofQAi9pcJry1E1LUsuWvE2E0LQTcB+E2LMTctQFEEcWnFYVwTkAI4rRWFYE6BOhWwToBBAQgnIrisETANwIiAb/COEQEbgG+EcA38A3wjhGCMEeEaEeKoJwK4J2KoARBVBOIJ1FWKoJ0CcCuCdRWFcV4rioK4rAnYJ2K0V8VYr8E4xWFUVBVFQE6FXBORWFSKorxVFcVwToE5wTvBOoqwToVIJziuKwJxAQgnUVBUgnAqQCaCdxWirFaKwrRWFcE7FfFeK4rgnIrAnYrCoKoqgnAqCrip4qgnCr/////8Iu8BjvP4Ry5/8Izggc4Zw4RnD/hGcP8GThBk4eDJwgycIMnDwjOD4MnBA3eu9hF3kGO8gx3vBjvAN3jvMGO8CLvAY72DHeAbvXe+DHehF3kGO8gbvHeBF3oG713gG713vgx3oMd5BjvAi7wGO9A3eu8BjvMDd470Iu9wN3jvQY7wGO9wN3jvIRd4Bu9d6Bu9d6DHeAbvHewi7yEXecGO9BjvQN3rvIG7zykGO9A3eO9CLvYMd6EXegx3gG7x3kDd470Dd472DHewY7yDHeAKomwmhZFkAof8tCy4m5aCbcTUswFYsy0/LQTX9NBqBgJgYaY//PkZPcaTdCuAFgWlkI0DfQAe9r8Jxz6CShr8++JsArgjxNBNC0LQsyyLMsgRxallyyLIsi0LUTUtS0AVwFPia8si0LMTXiacsxNizLMTYTcsi1LMsy0E2LUsuJqJvxNyy/E1LMteWgm4mpZlkJuWRZFmWnLQTfgncVATkVcVQTsVIqQToVxWFeK4rwTmATCsCcAnQJyKoriqKwrxWiqKoqwToVRWBORWBOBVFSKgq4qAnAqAnArRVgnIJ3FYVQAgCriqK4qYqivBOsVoJwKgJ3FYVBWFfBOIqCoCcivipxUFSCd4qRV4rCvFaCc/BOhW8VxWFUVhX4r1eX/+DHgaYMOEX/CJgwwYQY8GODH/wYf4RAiQiAxCKBj4GAMYRQiwYcGEGMIoMfhECIBgEXAwCJhEA1BjhF+BhCIDEGARYGoRAYgxCLwYeESEUGMDEIoGAMAiAwBiBrCJ8GMGGEWEUGIRYMAYAxCKBiBgBqDDA1wiBEBiDAIsGIMANANMIoMAYhEBh4GMGMGARfAxBj8GAMANYRAYBFAwCIBhgYhEwNQMYGIRAMAiwNYRQi4RQYwYgahEBiBqBgESEUIqa6Z6bTBpGkmUwmkwaZpJlNCkifmkaaaBymgm0wmRPxSDTTa//PkZOYYTgboZUAQIkCEFgAAe898YTZpJtMJhNilphNdMJhMGgmemDSNJNmkaX6aNJN9MJhMc0E2mzSNJMpg0umU2mDS5oJlNJtNJnpg0DSTBoml0wmzTE8TRpGgm00mkzzRNNMJg0jQTSb/NFNdNGl02KTzRTfTPTSbTKZNLphNJpNmgmUymkwaaaTKZ/TSYTBoJr/ifptMpr9MJlNptMpg0kymumEwmf+mEwmOmkymTT5ppv80eaHTCYTHTSaNBNJtN80/0yaBoJo0k2aPTPNA0OaSaTJoplMJv9MgBAB4MBUGwbwVwUBkFAYDAU4NBoMBqhAELk//h/y1/vz6/6zMnEglwqnIsVSHBzAMMIqXiLgxS8ucoLCKl7VwipeupwYpeAxS8Z22hSl4U+qE1L2goKUva1GUJqXqwkpeAxS81IQpS8smBqXql6E1LyEVLxdEJqXoSUvAmpeJhFS8rpH3CKl6EVLxPWFKXgDUvVL1LCal4kuDFL2EVLxFlPClLyEVL2FKXhdwYpeswGpeqXkGKXqLAxS8wYpeqWk8KUvATUvQYpehJS9Bil6yoUpegipeZT2x1vN5NR2X3KrRuXjFmaS0AUCyE1BHflmWZacTYsvy05ZgAIs+WQCqJoWZ//PkZOwZ+gaYBgbm6EQMAfQAe9r8ZCbiaFkWv5ZibialoArlryyDtCSnyfR8hrE7PpNmiaIxDTGKafTJalqJoJoWQm4mnLUtSzE1LUsxNyy4mpZlqJpy14mgD8WpagKvLIEcJuWnLItBNhNhNxNgH8tSyLMTflmA/iaCaFqJqWf4mxZFmCdCvFWKwqivgnQJzFfwToAIwqgnOKgqCoK4J2KwqisKwJwKwqCqKgJwK4rYqirgnIJ2K8VhVwTmKorYrioK4JwKwrRWFQE5FUE6BOwTgV4qYqiuCdAnYqAnMVBVFUVATkVBVirioKoqCviuK8VwTjxWFfivFUVxXBOcVuKvFaKoqiuCdeEW3Bjb/gxvhFvCLYGN8GNwi3CLf8DbtuEW//CM7+DG+EW+DG8DbNgi3CLfA2zYItwY3gbZuDG8GT/Bk+DJ+DJ/hGdCM+EZwMnQZP8GT8GToRngc6dBk4IzwZOBk8GTvhGdBk+DG8Dbt8DbtgY2CLbBjYGNwi2A2zYDbN4RbhFtA2zcDbNwNu3CLaEW4RbeEW2DG8DbNwY3BjYDbNgY3A2zYItwi3CLbgbdvA27YGN/CLaDG4RbgxsDG4Rb8ItsI7oR3cGb00m0wmTT6aTZoJgUpMc0kwaa//PkZNcYqeLUAAAUHjw8DgQAe88cYTXTXNBpXiQdfLVpLJoaCSJs0TQNAbRpJpDWleaGlDmlfQ9fQ7tBZoa0IeOw3Ccq44TcHgrufDVzQNA0Om0wmDTNE0EymkymumU2mU0aSY6ZE8NFMmiaaYNDptMGn+aJpdNptNps0OmU0J50wNtMGmmEz/zQTJpppNplMJlM9M8FAYCoKAAApgqDIMACwAQbBsAMGQAQaCkGg0GgyCkGeCgNABwAAUgrwA+CoAQNAeHCAOAeAyIQHBwgDg4QYDAGgMEEOEAeA0Q4DxAHh0PEMGYMBsFQYDPgoDMGQV4NBqryAZfhGfwjMDl4Rv/wjcGT/4R/CPBH//hH4H3gzv4M7A+/gzoR4GdBnAf+DPBnwj4M7BnwivA1QIpCKcIpgaqDFgaqBogMWBqgGqgxQinA0XBi8IqEUCKBFcD7/CPwj0I+DPA/8GfBnQZ8I+EeCPwZ4R6EfhGcI0GSDIDJCNCMBkgdsIwGQDkBk4HIEZgy4RoHZwZQjcDtCMgcoRgRoRgHKDJBl4RgHIDKDIEYEaEZgyYMoRsIwGQGQIwGUGUI3A5AZMI2EaDLBlwjQZQjAjAZQoqIqqN+pypx/qNIqoqqNKNKcqchwGrCAPqN//PkZOsaCgjiBUZRnkhEBfAgw9tw+iu1RUqp2qNUNalOVG1GkV/U58sLU48sLLCiwFU4hAYA+qQQgasVhVIYQNWKwmAKpvasNoHIDm4OQHIDlGwNgbH4D+JuWQm4mhZFoJsWgm4I4TcbA2xtA5ODnGyNoHJ+NgHKDl/LMBXLUtS04mvLQteAqCaCbFoWQmha8bQ2Acg2ht8bI2RsjaGyNrjYGwNvjbByja/GxFYE4ipBOIrwTiK4J2KuK8BAK4rAnAJwKkE4FYE7FUVgEIqgIRVBO4qRXFQVBVBOMVwCcE5itBOoqAnQqCpBOIrxVBOoJ0KwJxgnQrCuKsVBXioCcCqCdAnYJyKsVYqipBOgjwiAj/8InhH4RMIkIioAC4RiJCMRP////CNk//Blkv4M6F8I9C/8GWT/8I2SwjZOEbJQZZIGWShGyYMsnwj0P///CPQ/hGyQRsn8I2SCNkgOyVkoMsnhGyQMslCNkoMsl4MsnhGyXCNk4MsmEbJ/wZZP8I2SA7JWTgyyQMiKDIieEYiAcRIihGIkIxFwZEUIxEA4iREgcRYihGIoHESIkDiJEUIxFwjEQIxEwZEWDIihGIoRiKEYiHcYJRIr9kzDmO5cIaApXE/NA0TTTKZGym/0//PkZMQWjdCsAwAWCsQ8Cfwoe89cyaXTKZACgKxsmybQFQCyPQPUbRtA9x6QAoegHKmRtClpk0RSkwaCYE/GyaaZ6ZFJTaaTCbTabTBomgmk2mxS0x0waSaTI2gcgOcT0T5MiedM9M9NCfCeGgNhMJlNJoT1MdNJhMjaNPptNGkmhtpnmgmv+KQmRSE0aaY6ZTKZTRoJg0U0aBopg0emU1/xPzTTaa5o80DRTZoJs0TRNEUhMikJs0P0x0wmkwmUymkwaKb5pppNJg0OaInhpGgmeaSbTBp9N/ptNJo0DTNAbOCkGAwGABgA4NgwAAAMAPBgAQKAyDAZgoCkFINAABWAEDAUBTAABgMBTgqACDcGAAQYDAUqLUlVt///+Bj4MIRcGH/hE//hEwY/wi8GPBj8GH8IgRcIv4RYMQi+DAIsIsIn8GHCLCJCJ/BhBgBpgwwifhFhEhF/gwCIDAGIMIMAMQYBFhFBgDH4GAMQiQNAYAwwYBECIAMIAMAAiHBgAMIAiAIg4MABgABhADAhEAGAARCBhCEQhEIMABh6EQAwIMABgCEQwMAQYD4MDCIcGACIQiHwYGDAhEOEQ4MAENB8hJD7PsnXJ0fZ98+D6LItQR3PgnZHmgPYYRopk0xj//PkZMkU/gLsKkITrkL0CfzIetvgJtNdNGkmkwCPLITf8s+WpaFmApAjgFUsyz49jSTCaGMmkyaRZlkJsWpaiagKBZlmWomh8c+CdcnROj4Pk+Akh9E6DsJ0fJ8c+OTs+idk4J2Tg+j7Pr8nB9nwfAa59k7598+D74Sk+eEkFQdDmKsOhwBEVYCeAiAmAiHcBEV4CYCIWmCHF6FqC0haRcF4XYvxfF2LwvC+FqC0xcC0C/FwLSFoF0XBfi7C0xei8LwvcLQLoWoXheC0BaIWoXBdiNiMY6cZ8RkZxnjqOojAz4zx0HUdBGozjoMw6iMjpxdi+L4uC5F/xd/haIui/bZ/+DGBp4RYMQYgw8Ivgw/CJ4RfBh/hECKBgEUGODH8InhFwY4GoMcIgRIMcInCIBrBhCIESESBp+DEGARfhEA1gxBjBj4RAYQYgxgYwiYRcIgMAiAwBjCJgYAawYYRQMQMAYhFgagYhEA0AxA1A1CJBhBgEXwMQNAihFhFAxwYAwgaYMPCJA1hEBiBrwYQiwYwiBFwYhFgxgawihFCLA0gYAwCKESBoBpCJ4MIRcGOEVB9ALR8BJj7/PonB9HyEoJwfZ9E4Dt5OeTnlqJtxNAH7nwfHPonJ8E759E6PoJI//PkZOAWKgjoZUAQYka0Ffgge9VcfZOCdE7J0To+Cc8JWTo+D7J0EqPoO0+T5PsJSfJ9n0TkJUfJOeTknPPo+z6J2Ts+ycE759/k7Pg+z5J2TonBOeTkJUTg+T5DtJ0Tvk5Pjk5DXPg+idH2HYfR9E6PgnR9k5JyfZ9cnR9cNYJSfROidE6Ps+Cdn0fB8E6DtPs+CdHwfH5OAlR8nyfB98+SdE4J0ff5OidH2TknfPkJMfYSg+Cd8+D6PsnP/JwTk++fYSQO0+D5J0fZ8HwTjn2AWDgdAL8ApALQCkO8GACwMgyAVBiAVhzwY4BeDIMgFMOh0ArDgc4BeAV4cgFsOhz/wP225HGw7wCsO4M8AqHP/+DEGQ7/8OgzgFoM4Bf4MhwO4BT4cDmHcGfDnw78GcVhUFTFXFeKoqYJ3isKuKkVgTsVoqCsKwrCoKsVQTqKorYWoXhfxeF/xdi58XOL4WmLnFYVQToE4FXiuK0VwTnFQVRVFcVhU4JzFfDgdhzBnDuHfALgyDAMQZBgGQCgBUAoDAMh3BkAsDMGcGAYgxBn+HAC0ArwCwMAS5adAry0yBSBfoFBVaKqKwVUVrRXUa9FUOEqVUjV3ySPLkvkzlNlNn02E2S06pvVKWACECpW//PkZN8VDgj+zymq5krb1ewAxJvkqe1XysDVFSqlVIo2o0ispyFVoqKNIrKcqNKcKcFhSjaKiKyKhYWiv6nCnCKijajSnPorKNKcKcqcIrqNoqKNqcKNoqKNKNqNKcIqKN//orf6BSbKbKBSBXlp0CvQKTYTZ/0C/LTxFxFoigioigCLC4cRYRWItEXC4cRcI0IoFwwXCiKwjQXC8LhRFcRcRQRSFwoikRcLhxFRFguHiKRF8E7FYVhVBOgCYVRUACKKgqgE0E6ACJFYVoJ0CcgnQrAnMVwTgE6ioKoRwDdhHhG4RARgDcCMEaEYIiAbwRIRuESEcIwRwiYRwjQjBEgWoFuBa4FngWkIQQigwhEwigx/CL/4RfCKEQGP/wYiEUwYHwYGDAwYAGA4RCEQBEGB0rCNcGU4RrBlcIsGGDCESBiEWDCBhCIEWBiDAGHCKEUGEGEGMIgMAiwigxCIDADQGIRfCIEQDXgYYRfBgBoESEXwY/CJCKEQIsGIRODEGIRQYgw8IgRYMMGAGGDEDGDAIoMcDQIkGMGGBrgwCKDAIsIkDUDWDGDDA1hE4RQMQYgwBhhFBhBh4MAMYRMIoRAiAxBjhF4mhZFpxNBNy0LQTUTXhKglR9FqWpaAP5Zi//PkZNYXkgTkGEJwlkXcDfQAe9r8bCa/k5JwTriacsizBHE6CSH1w7efHLPgjuJqWnLITYTX8tRNAH/ialqJuJuWZaFkCO4m5aE7J2TonB8E559nyEnJyfB8FmJrxNxNhNS1E3LT8sxNC0E0LTlqJuWQm3E15ZiaFqWRZiaCagP5aCblkKoqCsCdioKoqwToE6FcVwAhRWBOIrCpFbgnEVRVFUVIJ2K4rAnIqioKgrcV4riuK0E4FcVQTsVxUBOoJ3FUE7itFYE7FYVRXFUVwTkVoqAnYJxBO4rReF4XYWsLWLoui4LwuC9AdsLQL0LQA9C8Lgvi6LguBahfFwXAtIvQQ4vCqKwrxX/8E5xXit4JwKzBnwj+DF+F1guvBiQYkDRIR8I/gz8Gd4R/wYsGLBi8I8DPBneDPBnwZ/8I8DP8I8B/0Gd+DPA+8I/+Ef+DOgzvwj4R/hHoM+Ee4M4D74M+Ef/A/7gfcDPBn4R7BnfCPgz4M7Bngf8DPwjwR6B/3CPwj0Gfgz+EfBnhH8GfwioRQGIBqgRUDVAYoGiBFcIoBqoMWEUA1UDRYRUIqEUA1WBooGiAaqBogRUGJwigM8I/gz+DOCPwj/Bnwj3BnBHgZ4M4I+DOhHhNCz5aiaCb//PkZM0YugrgAAASBEUEBfQAe9rclmWompZ8shNyzLMsy1LMBUAfhNxNicBJCcE5J0JpyyLMTcBVLXloCO5aCagKACiAqflqWYmvE3E3BHlmArFnxNRNC1LUBS5aFoWhZFmWR8k5CTnxz4PonZ8E5Pg+j4LUshNQH4TYtSzLMshNBNhNSyAViyE0FQE4FYVoJ0CcRUgnYqisKoJxFWAhiuKgrCtFUE7FQE5iqKgqRVFWKorwTsVxVFYE7FTFTBOxVgnAqRXBOPisK4BOK0VoriuK0E5BOxUivFcE5FYE5FQVBXFQE6FQVBVFYVxWioCcCoLovi4LoWiL0LSL+LouBaIvBahdi6LoWgEMFoC1hacXxdC14uipiqKn8VPFbiqKsVb//Bm/+EXgx4RdhFb///hE1/8GLP//CKwIrQjoGa/wPewZqEdYM1wZqDNAetgzWEd8GagzYM2DN4M1wjoI7Bm+DNhHcD3rA9awZuEdwZvCOwjsGaA964M1A978I7hHQR0DNge98I6hHYR1wZrBmwPWgPWwZsI7wjqB63COvgzQR3BmwZsGaget8D3rCOgZoGa4R1gzYM0EdwZsI6CO+DN4R1wZsD3oGaBmwjqEdAzXCO/4R0DNAzYR0WgI8TQT//PkZL4XFgTcAE6Tekf8EfQAe9t8YTXiagKwCsJuWXLMTUtC1LMTT8TYTUJP+fAdomomoD8JuWoCgWoI7iaFkJqJqfZ8hrk4CSE5Pk+Cdk5PgnBOT7JwTg+uWZaiaCbcsgFAsy0LPlmJsWYmom5ZFmWpaibiaAjy15ZFkWQm5Zll+JsJqJvy1E0CThJz65OQlJ8H2TknZOT759k6J3z4PgTQTcsy0LITflmWfLUsiyLITYTcTT8syzLQsi0LMEcWZa8tSyE1LTibibFqWYI/8shNCyE1LQsy1LUTUBTLLloWXLUsiyLUtBN+JqJvy1E05Z8TcsxNeWn/LTnxydHwfZ9n1ydk4PsnHJyfR9E4JwTgnB8k4588nB9cnR8c+D7PjxV4q4r8VsVgTgE4/itFShX/xV4rirxVFWKoq4qfxX8E6xVxUBOYrCtwTvwTj/xV8E5/irBOsVuKwqRXFTFQVorCrFf/xWioKwrCtioCcxUFUVAToE4FUVxWFQVhUBO4rgnUVIJyKkVgToE4ipFUVoq4qisKsE64qCoCdxUFUVxXFUE78VxWFQV4qiuKgqiuK4CCK2KoqirBOATsE4FWK4qxVFUVhVFYE4gnIriuCcQTiK4rCoCdCtirBORUiqK2//PkZLAWsgzuADQNNkZj/fjIe9r8K/FXFUVwSE5aiaAKgmhaFpxNQkp8n3z5PsJOGsffLQsyyE1LItS1E1Af+CPLMTUTfibFmJoWQmxanzydHwTsnASknBaCalqWom5ZcsxNyc8nASsnHDt59BrhJgkpOicBKg7D7JyfZ8E5Pk+Cd8EeWXE0LQsiyLQtSyLIsi0LUTYsy0E3LITQshNiyLUsiy4I78shNy0LMVcE6ipgnArRVgncE4wTsVIrCqCcCtBOYrwTgE7iuKwqCoKwrcE7BOQTqKgqiqFpBEC1gPYD3F0X4WoLTF0Xxei6FqC0BaAtQWgXxdwtWFqC0haBW/FQVRUBOBUFcE6ioCcAnEVRX4rYrxWFUVBViuLsXgtAuC6FoBDBaYvi7F8XxexdF8XhcFyI//gx//CJBhgxhEwY/+EXwYgx8ImDH8GPhE8GPhEwigwhFwNQNQNfhE+DGDAGHCIBrhEhEBh4RQMAY/gYBFBhhEAxCIDCEUDEDHBiEUIoRQY+DCBp4McGEIgGgMcGIGMGIGIGgRQYgxCKBiBjBgDGESDADWBgEUDEIuDADWBpBiEUDEDDgYgwBgDEDQDUGIGgRAYQYAxCKBhCKEThEBgBiEUGIRQMQiQiwNAY//PkZKwWNgjoZUAQREakFfQAe9t8YMfwi4GBaFoJsWpaFlyyBHctCzE25ZiaFoAocsy1E24Sk+idk6LMTYTYTQsyyLUtCyLQTUswFYJMGuTg+CdHwErPotAFAsuJtxNCz4m4mvBHiafloWZZ8YppBqzTNI0jTNBMpg0jTTZZFqWfE3Af/xNf+WomhZ8suWZZCb8tC1LQtS14m/LQtBNhNOfR8hKCc8nHJ2EqCUE5CSHxydk6Pg+D7Ps+Sdk6LUTQTcTcTctSz4mwmha8TXlmJvyy5ZiaFl+WpZFoWZa8TQshNCz4mhalmJsWfLQsuWRactBNRNC1E1LLlly0E2PgJWfR8h2H2fJOSdnx+fXPs+T5PgNbnzz6Po+T7JwTk+z4PonROglJ84qCvxXxUirFX4q4qeCd1f8InCI/4R/CP//4RMI/CMEYI4RAR8I8IjCJ4REI/gG8ESEfCOERCP4R/+EaERCPCNCNCI4BvQjYRMHINobIOfjZBzDZG3xtja42gcw2PwcvG2Nng5+NgbY2wcn42htDYGwNrjYGwNsbX42vxscbI2gc3Bzg5Qcg2uNvjaGwNgbI2+Dl4OUbI2Qc42RsjbBy//g5eAboR4RwjQDeCP+EcI8IwBuwjwjBEBEA//PkZKoZMgrqADXt9EV8FfQAe9scG+EThEBGCMESESEbhEQjwjwjwjBHCIwiQDcCNCI/hHE0/LQBSLITf/lqWoSvk7LT8BWLMtRNAk58E7Po+CyLQTcsyyLUsi0Afi1LUTUTUtBNS05aFkWpZHzwkoSgnB9HwfQSsTYsizLQtRNRNgFf/8NcJWEmAWCdn0To+T4CUHyGtxNiyLT/lmJqJqJqWgmpZFqJsWgmwmwmwmv5ZiaibiactBNv/yyLTiaFkWZagKgCmJqWQmgmom3E0LTibAKfE0LLiuKgrYqipBO4JzFUE5BORXBOhVioKwqRWBOYJyKkE6BOIrYqCqCcxVxVFUV8E4FSCdcVgAgCuKkLTBDC6CHi+LwuRfha4uC+FpF8XQtAWgB2wtAWoXBchaBfwtQWnFSCdxVxXFUVhUFYV4rgnOK3wTiKir//1eDCsf//7/+wOYd///ei/f6lmiqGXpyOlCSRm+yP3UtDhFIzqBhwCFHAGFHABYGcAnAAMOAAYcAAw4BYKOAIROANgicAQYcABE4AAzgE4B+1wmcAwYcAK+sDOADgFLCJwAlWBnABwABnABwDWraETgEDOADgDBiRkgoJpGaP+64RSMoRSMGBiRkkwMSMlq7AxIy4//PkZJUYEgieBFw3fkL8FgAied8AROAAicA8DOATgAGHAAROAFwM4BOAGBhwADDgAGHANQUcAgicAYROAfgw4AIkbPNNNpo0TSNBNJgUs0l7lomEwmRSOaRp80zQFK4nvTInnTEGgwGwAwYmOmkyaInppJpMJg0k1+KUaaaTCb42U0mBsGiaSaNNNpo0OaKZNE0jTTSY5oGmaZpJrphM9MGkmDQTCZBzpg0OKR+mBtdMJobfTSbTfG2KSaBpGgaZomiaBomn02mOmkwmjSNPpjmmaKZNA0zSNFNCeClJkT40DTTCY5oJk0kyaJpdMppMdMdN80TR6ZTXTfNJNmimumem+aKZTKaTaaTRops0kwaZppk0+aSa6ZTKYTfTfTPTHTKa5omgmEyaJo9NmkaRp/pnmmaf6aNNMplMplMdMpv8TxMJlNplNJn9MdM1OM6hWa/EjiRiRiO/xIcSP+GgCZQ1+GvDRDV//4aP///4I8EwTwTBLwS/4AHgnBHBHgiwR4JgAgS4IwAYPA8ADg+AAAAFwfB4L4WADC2AGAGFwsFwuD2FgAcAPC+F/B8L4X/B7B4L4WwuD+AGDwXACAAC2D2AEFgfCwAAAAXB8LhcLeDwXCwPYPA+ACACD+AH4XwA//PkZJMVIgb2ejVLxkBMEgTIe898vwv4X/ACB/C4WwtgBg/gA4PA9gBeFhLRTXTRomkmP0yJ6J+mPy0NA0OvibNDQmfzTNNMjaFKNATxMiemiaRoGkmE2mkwmTRTHNBMGiaCZTSZTZomh0PaV9fX2hoX14kzSmOaCY5pJr80U0aPTfNFMps0jSNJMmiaSaTKb6aTKYNLphMpg0eaJoGkJ8aBoppMppMJg00xzTTabNFNJpNJpNpnpg0DT6bTRoppoJMWrSh/690NQ5paV5D2le/LND2hoQxDF/rzR1/r/aWhfaWleQxfXmheaevNDS0tLQ0ryGoch/X15D+vLy+0oc0ry/19DUOXuvIc0oav9oXkNX1/r3X18QCGHQGQHB8PiAPAaHgPDsBgcH+Hqv//+DJ0GNuEW4MbQY2wZO4Rn///4R34R3Qjv//8Gbv//8GbgZuwZvCO4GbsD37+Ed3A586DJ4Rn8DnToRn8GTsGT8GToRn4HOngyf4HOnBGeDJ0IzgjOCM8DnTwjOgydwOdP4RnYMncDbtwY2A27cItgNs3CLeDGwMbwY3CLaEWwRbQi3A27eDG0GN4G2bBFvA2zcItgY3A27YGN4G2bAxtA58/gc6eDJwHOnAyfCM7A588//PkZLMYngTSAFAUhEYcDfggw9V8DnzwOdOBk8IzuEZ4MnAyfgychsy7F3oE13Nl9sy7myrsL6qqOU5anCqkHqNDI3KVUTEU8GNU7U6gxyHKchyVV/Xa2Zspfds3rubK2VsjZmztk9djZi/TZV2NnXYu0vsm0yaBoDZNEbA2k0aKZNjmwbH/Nvm2bRtGyBVArD1G0bQPUevg9h6/+PRzZNkCrzZNgesegesermyPQPXzbHpNvm0PQPUPSbJs82TaHqAtj082h6DaNn8eo2DbHrHpNjj1m1zYHqNo2jYNnmwbPNgek2ja5sj0D1m0bJs80xtJlMdMCeps0U0meaaa6b5p/mmmU3zRTfNFN/pgHPzQNPmkaaaTXTKbTRoJk0zS6b/NBNdNJlNGj02aH6Z4IgAEEYJ4I+CMEQJcEUEXBOpHDX/w1Q0Q1Q1cNWGvw0Q0/hp/AmIaA0cCYhow0w1/w0hoDRhpw1w1BrgTLDXw1BrhrDQGgNQEzAmOGuGiGgNfgTHDQGoCZw1w0BrDWBMIEzDVDTDUGgNfAFwGjBrg1A1YNcGsAXAaQaABcBqg1g1QagaINYaoEyw1Bow1YaA1hoDSBMw1gTICYQJkGrDQGoNGGmGsNcNQawJkGuBM4aIa//PkZKAYngTsATQNQkKMFgDifh7AYagJkGsCZ+GkNWGiGsNAaYaOGgCYgTENQaw0Yaw1Q1Q0/hqw1BkAfmkaCb6ZTCY6bNBNLwmqGA5fzSTCb/lgwXOmMmMmTQ5pmkmUwmkymfzRTaZFJ6aNM002NrppMpg0kwKQmE2m0yKUaKaE95o9MJj9N9NJk0UymOaSaE/TabNNNmmmk2mU2aHTKZTCaNDjaTJoGimkyNvpk0TRTHTf6bTRopg001+mU0aXNBMjYNA0k2mjR5pfps0U100mUz0ym02mDRTHTaaTRpplMc0kz0ySA000mDSTKbNI002mzQTHTaYTf//NA0zQTBodNJk0UyKSaaZNJMprmkaP5oGmKUmEymUyaCbTHNBMJlN80DRNBMmkm/00mUwaZpprplNpvmiaJo80+aSa//TaY/6ZaH//wY4ReEX4RIMfwiAxBh/BhCJ/+ESDDwYcIn+EQIoMAiQYAw8IsGIGGETBj4MP4MQiAxhEAwAxAxBjBiEUIgMIMcDCDAGIMcGMDEGGBgEUDTwNfAx4MAiwiQYgwBgEUIgMIRAiQYhFwYAwBhA1CKDEIoGoGgMQi4MeDADGEQIkIgGMDCDAIoMAiQiAYwYYMQNQigwCJBiDEGAR//PkZJwV+gzoZUAQRkZsCfQAe9tcQYgx8GEGIMQiwMAY4MANAMcIoMSyE1E1/LMTUtCz5OD5PkJJz5Pk+uA/FqWRaib8TUTUTQtC05alqWYm4momgI8TYsxNCzE3LUtQFEsgFM+z6J0fB8nz+TsNcnB9BK+Tk+g7CdhJT6LTiaFqWYI7lqWoCvy05ZlnxNy0/LUshNBNvwR4moCj+Wv5ZlkJqWpalkCOE1E1LQsiyLITUBULLlqWZZlmJsWhZcsi1/4CiWpalkJqJuWvLXlkJsJpyy4mwm5ZlmJuWXLUTQteWgmgmwCsJoWfE3LMsiyLP8TTlkJuAolqJryzE1LTibCbloJuWhZFoWYmxZ8TcXIvxeC0i+FrF0B2i4L8LSL4uBaIDyCHF8XRfF6FqgiwtIuYWoXIrYqAncVvxVip8VIqCvUxPqtFbFf/4q/8V/8V/iririr8VATjxXipxWgnYq+KwqfFTFQVoq+KsVBW8VhUisKuK0VRXivFYE4FTBOhVFcVRV4riuCdCuCdCtwTiCcCqCcgnYqxWFcVIJwKsVxWisK8VxVgnArYqRWFeK0V4qgnQrgnYrfBOoqAnAq4J0CciqKviuK3BOoJyKsE4FUVoqisK2KwrAnArgBAFSK4//PkZJ0VagjyJgGtbkOkFfwAbh4AqRViuK4J0KgrCrFUVxVjOEeDQgjlcT4T40xtjaNI0uaI2QciGNJIl4kJZtCGIaSckIm6GL3TQ2zRTY2UwmjSNE0fxS02aY2BsJs0/+mzSE8TQpHTKZTaaG0aQpApZp/mmm+aHTfTCZGwNgUk0E0aRp/ilJlNJgT5MmkJ9zQNA0TQTH6ZG2mk0mk0mk3zQTKY/G3zQTHTabTBpGgmU0aKaTJpJpNJtMphNjYTfNE0emkymE2mEyaCbNBNfmkaJpdNJnpg0k0mDTTCbTaZTBp80k2aCbTfNE00yaCb6bTZoplMmmaKZTKaTJpmiaHTXNJNdMDbTab6Y6Z6ZNNMJhMJhN9NJrmim02m0ymU300aPTSa6Y//5pJpNdN/9NppxWxU4Jx/xWxU/xU4qcV/ipiuKwqxWFbioK/8VIqivFTwTkVgTkVor4JxFXxX8VcVxUFQE4FaCcwTvBOIqwToVuKwqCtFUVYqxXxWFeK0E7FQVYrwTnwTsV4rCqCcfFaCcRVFQE5gnAr4JyK4r4Jz4J0Koqip4rCvisKoJ3xWBOME7iuKgriuKgrAnAqgnArxXiqCcgnYJzFQVQTmAEIVYrwToAIYrwTiKkVQTkE5//PkZK4XGgzsADQNAkIcCfwAe898FXFTFYVxXxUFQVkzzS5oilg5TTTY2kyaJpJtNGgJ8aKaTQ2k2aCaNI0eaSYNJM/tKHEiQxfJG09MmgaSYTRppg0TRNNMJlMptMCfppNprmiaA2jQNLmmaRppk0jRFLNP9NJhMGmaQpZpJhNCkGkmE0J+mxSk0m0x02mjRTKbTCZ42EwaQpJpptNprmgaRpmim00J4mzSNM0kymkyKWmE0muaKYGwNjmgafTPNE0U0mUwJ7+mem01+J8mhSk2mjRTSb6aTCbNBM9MpjpjppMpk0E2mE2mE2mjSTfTaZ6YNFMcT1MpnprptNmim0wmE100aSaTRo9MGjzTTHTaaTfTSaNLpoFMAAFYNBQGwAvwAYM4NgqqkjaAN3d3d3etERNK5CZ/3Ctf8AaiAc/u7vaIn/+8XPv//+GDKv8W1/+AC8K4Yw+94xe940jgceOBwOcRaxGwH4EuNIjBfxazB8HhkwVjIAII/vDkjG/wAcJPeF5e98hNgSYLWMFvhZ73pX06aoehpmh01hMJtM9K3TKY9E10x+memvlIpZM9MUTCbShbUrtM+n5ophNZuXK+0wmemumMCemkmvc0Uwm/lJJlLe5oJZI0SyW6R0mE//PkZLcXlgrzECFvrEmMEfgAfh7k2aORpbTYUo9SBNsekGYNVKgqg6hrUXK4Q42DOwPWbILEzBSumEgkWJPU8S72G5wUuGDwguEKa1Q0UykS3Bn7FJNgg5qoEgpsGabBtGabZt7NrKCNgLYes1idmabBtm2bZsBRm0PQbF9mwPSPUBbMwzB6QojYM42ePTzbMwzR6TaNs1eBVNv81yDUJ2QYhJtD0m0PVe+x6T2M8HsbFwsh6B6D7HpugT2uZhO6HqZhmE7ISZhhkFNcghtmybBnnsD1Ho49ZtG2bZs5PVBc2EEepCaEHNjj1EJHq5smabZtmwbNEEPR+bJse9z2PY2T1SN0rdNJq6yXI06COvNJj9MGmkkGmUj7pI0TToNGlEsNEnCW10ymi5FtNFKpvps0kz0uW3aaTF00mTSzdNJu0KFYz1KjaGAhyoQCFGM//zFARgIUZ/oZpdCttay6M5drW1joSj6Ekk1b7J7R7aoQNlPrWBKLTTzOsGT5yYxLrtHTy2iUxEkES0HIBVD066VjGj31odPkkSjJtbWs6OIjKmlXHR9K5MTv5pdZolE10kk2lly74TFx5KTXeTGLrS6ExiucvJSSDUdXZm3NLn1rtYBCUEoRj77WOhCPc+g5//PkZJ8XPgzoAABMTrz8BfQyY9ONGxJULutaa1TE5LHxWEo+XecmMa3p0kqBCR6qOFaFUGpNJIIjqVi0ylBqJIkiSJIkmJj605EkSRJPetWAyVacmodBUVhGfrAZPF0AUrgRLNiqDU4VHo8h6HRObJJNdqlRBMFT0qdNE0WZhmay2tCuOY6oieWieianCnVSbzjd7SGhrLi6eUSeLcZTWqdML5PM50uOGJms9VqtYU6hrgrm4V0frUzTvYsiegR2FOkqUxSKdVCpmRCSkIAUZ4VPhqEKgFDU2VhUiIhUaIg0RAkTBYEjYBUbBMuCJgLAkCUBUinABgBE3/9EQqFRM0s0qzktk9ZFqqFC6RULE11JVDkd8Y1vVFOx9oUIpZ8Vnq5klkxBTUUzLjEwMKqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq";var qc=t=>t instanceof Date,T2=t=>t==null;const _2=t=>typeof t=="object";var U_=t=>!T2(t)&&!Array.isArray(t)&&_2(t)&&!qc(t),q_=t=>T2(t)||!_2(t);function x2(t,e){if(q_(t)||q_(e))return t===e;if(qc(t)&&qc(e))return t.getTime()===e.getTime();const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(const i of n){const s=t[i];if(!r.includes(i))return!1;if(i!=="ref"){const o=e[i];if(qc(s)&&qc(o)||U_(s)&&U_(o)||Array.isArray(s)&&Array.isArray(o)?!x2(s,o):s!==o)return!1}}return!0}const vz={facingMode:"environment",width:{min:640,ideal:720,max:1920},height:{min:640,ideal:720,max:1080}},wz={finder:!0,torch:!0,tracker:void 0,onOff:!1,zoom:!1},Ez={width:"100%",height:"100%",position:"relative",display:"flex",alignItems:"center",justifyContent:"center",overflow:"hidden",aspectRatio:"1/1"},Cz={width:"100%",height:"100%",objectFit:"cover",overflow:"hidden"};function Gh(t){if(t===null)throw new Error("Canvas should always be defined when component is mounted.");const e=t.getContext("2d");if(e===null)throw new Error("Canvas 2D context should be non-null");e.clearRect(0,0,t.width,t.height)}function Tz(t){var e;const{onScan:n,constraints:r,formats:i=["qr_code"],paused:s=!1,components:o,children:a,styles:l,classNames:c,allowMultiple:d,scanDelay:f,onError:h,sound:g}=t,T=v.useRef(null),y=v.useRef(null),I=v.useRef(null),C=v.useMemo(()=>({...vz,...r}),[r]),w=v.useMemo(()=>({...wz,...o}),[o]),[A,R]=v.useState(!1),[O,B]=v.useState(!0),[S,b]=v.useState(C),k=function(){const re=v.useRef(Promise.resolve({type:"stop",data:{}})),ee=v.useRef(null),pe=v.useRef(null),[G,Z]=v.useState({}),[ae,se]=v.useState({}),ue=v.useCallback(async(ne,ge)=>{var be,we,xe;if(!window.isSecureContext)throw new Error("camera access is only permitted in secure context. Use HTTPS or localhost rather than HTTP.");if(((be=navigator==null?void 0:navigator.mediaDevices)===null||be===void 0?void 0:be.getUserMedia)===void 0)throw new Error("this browser has no Stream API support");const Ee=await navigator.mediaDevices.getUserMedia({audio:!1,video:ge});ne.srcObject!==void 0?ne.srcObject=Ee:ne.mozSrcObject!==void 0?ne.mozSrcObject=Ee:window.URL.createObjectURL?ne.src=window.URL.createObjectURL(Ee):window.webkitURL?ne.src=window.webkitURL.createObjectURL(Ee):ne.src=Ee.id,await Promise.race([ne.play(),new Promise(ye=>setTimeout(ye,3e3)).then(()=>{throw new Error("Loading camera stream timed out after 3 seconds.")})]),await new Promise(ye=>setTimeout(ye,500));const[de]=Ee.getVideoTracks();return se(de.getSettings()),Z((xe=(we=de==null?void 0:de.getCapabilities)===null||we===void 0?void 0:we.call(de))!==null&&xe!==void 0?xe:{}),ee.current=Ee,pe.current=de,{type:"start",data:{videoEl:ne,stream:Ee,constraints:ge}}},[]),he=v.useCallback(async(ne,ge)=>{ne.src="",ne.srcObject=null,ne.load();for(const be of ge.getTracks())ge.removeTrack(be),be.stop();return ee.current=null,pe.current=null,se({}),{type:"stop",data:{}}},[]),ke=v.useCallback(async(ne,{constraints:ge,restart:be=!1})=>{if(re.current=re.current.then(we=>{if(we.type==="start"){const{data:{videoEl:xe,stream:Ee,constraints:de}}=we;return be||ne!==xe||ge!==de?he(xe,Ee).then(()=>ue(ne,ge)):we}return ue(ne,ge)}),(await re.current).type==="stop")throw new Error("Something went wrong with the camera task queue (start task).")},[ue,he]),Me=v.useCallback(async()=>{if(re.current=re.current.then(ne=>{if(ne.type==="stop")return ne;const{data:{videoEl:ge,stream:be}}=ne;return he(ge,be)}),(await re.current).type==="start")throw new Error("Something went wrong with the camera task queue (stop task).")},[he]),Te=v.useCallback(async ne=>{const ge=pe.current;if(!ge)throw new Error("No active video track found.");{ne.advanced&&ne.advanced[0].zoom&&ge.getCapabilities().torch&&await ge.applyConstraints({advanced:[{torch:!1}]}),await ge.applyConstraints(ne);const be=ge.getCapabilities(),we=ge.getSettings();Z(be),se(we)}},[]);return v.useEffect(()=>()=>{(async()=>await Me())()},[Me]),{capabilities:G,settings:ae,startCamera:ke,stopCamera:Me,updateConstraints:Te}}(),{startScanning:D,stopScanning:V}=function(re){const{videoElementRef:ee,onScan:pe,onFound:G,retryDelay:Z=100,scanDelay:ae=0,formats:se=[],allowMultiple:ue=!1,sound:he=!0}=re,ke=v.useRef(new f0({formats:se})),Me=v.useRef(null),Te=v.useRef(null);v.useEffect(()=>{ke.current=new f0({formats:se})},[se]),v.useEffect(()=>{typeof window<"u"&&he&&(Me.current=new Audio(typeof he=="string"?he:yz))},[he]);const ne=v.useCallback(ge=>async be=>{if(ee.current!==null&&ee.current.readyState>1){const{lastScan:we,contentBefore:xe,lastScanHadContent:Ee}=ge;if(be-we<Z)Te.current=window.requestAnimationFrame(ne(ge));else{const de=await ke.current.detect(ee.current),ye=de.some(He=>!xe.includes(He.rawValue)),dt=de.length>0;let rt=ge.lastOnScan;(ye||ue&&dt&&be-rt>=ae)&&(he&&Me.current&&Me.current.paused&&Me.current.play().catch(He=>console.error("Error playing the sound",He)),rt=be,pe(de)),dt&&G(de),!dt&&Ee&&G(de);const Rt={lastScan:be,lastOnScan:rt,lastScanHadContent:dt,contentBefore:ye?de.map(He=>He.rawValue):xe};Te.current=window.requestAnimationFrame(ne(Rt))}}},[ee.current,pe,G,Z]);return{startScanning:v.useCallback(()=>{const ge=performance.now(),be={lastScan:ge,lastOnScan:ge,contentBefore:[],lastScanHadContent:!1};Te.current=window.requestAnimationFrame(ne(be))},[ne]),stopScanning:v.useCallback(()=>{Te.current!==null&&(window.cancelAnimationFrame(Te.current),Te.current=null)},[])}}({videoElementRef:T,onScan:n,onFound:re=>function(ee,pe,G,Z){const ae=G;if(ae==null)throw new Error("onFound handler should only be called when component is mounted. Thus tracking canvas is always defined.");const se=pe;if(se==null)throw new Error("onFound handler should only be called when component is mounted. Thus video element is always defined.");if(ee.length===0||Z===void 0)Gh(ae);else{const ue=se.offsetWidth,he=se.offsetHeight,ke=se.videoWidth,Me=se.videoHeight,Te=Math.max(ue/ke,he/Me),ne=ke*Te,ge=Me*Te,be=ne/ke,we=ge/Me,xe=(ue-ne)/2,Ee=(he-ge)/2,de=({x:Rt,y:He})=>({x:Math.floor(Rt*be),y:Math.floor(He*we)}),ye=({x:Rt,y:He})=>({x:Math.floor(Rt+xe),y:Math.floor(He+Ee)}),dt=ee.map(Rt=>{const{boundingBox:He,cornerPoints:ht}=Rt,{x:nn,y:yr}=ye(de({x:He.x,y:He.y})),{x:ui,y:sr}=de({x:He.width,y:He.height});return{...Rt,cornerPoints:ht.map(di=>ye(de(di))),boundingBox:DOMRectReadOnly.fromRect({x:nn,y:yr,width:ui,height:sr})}});ae.width=se.offsetWidth,ae.height=se.offsetHeight;const rt=ae.getContext("2d");if(rt===null)throw new Error("onFound handler should only be called when component is mounted. Thus tracking canvas 2D context is always defined.");Z(dt,rt)}}(re,T.current,I.current,w.tracker),formats:i,retryDelay:w.tracker===void 0?500:10,scanDelay:f,allowMultiple:d,sound:g});v.useEffect(()=>(R(!0),()=>{R(!1)}),[]),v.useEffect(()=>{A&&(V(),D())},[o==null?void 0:o.tracker]),v.useEffect(()=>{if(!x2(C,S)){const re=C;r!=null&&r.deviceId&&delete re.facingMode,b(re)}},[r]);const F=v.useMemo(()=>({constraints:S,shouldStream:A&&!s}),[S,A,s]),M=async()=>{const re=T.current;if(re==null)throw new Error("Video should be defined when component is mounted.");const ee=y.current;if(ee==null)throw new Error("Canvas should be defined when component is mounted.");const pe=ee.getContext("2d");if(pe==null)throw new Error("Canvas should be defined when component is mounted.");if(F.shouldStream){await k.stopCamera(),B(!1);try{await k.startCamera(re,F),re?B(!0):await k.stopCamera()}catch(G){h==null||h(G),console.error("error",G)}}else ee.width=re.videoWidth,ee.height=re.videoHeight,pe.drawImage(re,0,0,re.videoWidth,re.videoHeight),await k.stopCamera(),B(!1)};v.useEffect(()=>{(async()=>await M())()},[F]);const te=v.useMemo(()=>F.shouldStream&&O,[F.shouldStream,O]);return v.useEffect(()=>{if(te){if(y.current===void 0)throw new Error("shouldScan effect should only be triggered when component is mounted. Thus pause frame canvas is defined");if(Gh(y.current),I.current===void 0)throw new Error("shouldScan effect should only be triggered when component is mounted. Thus tracking canvas is defined");if(Gh(I.current),T.current==null)throw new Error("shouldScan effect should only be triggered when component is mounted. Thus video element is defined");D()}},[te]),Y.createElement("div",{style:{...Ez,...l==null?void 0:l.container},className:c==null?void 0:c.container},Y.createElement("video",{ref:T,style:{...Cz,...l==null?void 0:l.video,visibility:s?"hidden":"visible"},className:c==null?void 0:c.video,autoPlay:!0,muted:!0,playsInline:!0}),Y.createElement("canvas",{ref:y,style:{display:s?"block":"none",position:"absolute",width:"100%",height:"100%"}}),Y.createElement("canvas",{ref:I,style:{position:"absolute",width:"100%",height:"100%"}}),Y.createElement("div",{style:{position:"absolute",width:"100%",height:"100%"}},w.finder&&Y.createElement(gz,{scanning:O,capabilities:k.capabilities,onOff:w.onOff,zoom:w.zoom&&k.settings.zoom?{value:k.settings.zoom,onChange:async re=>{const ee={...S,advanced:[{zoom:re}]};await k.updateConstraints(ee)}}:void 0,torch:w.torch?{status:(e=k.settings.torch)!==null&&e!==void 0&&e,toggle:async re=>{const ee={...S,advanced:[{torch:re}]};await k.updateConstraints(ee)}}:void 0,startScanning:async()=>await M(),stopScanning:async()=>{await k.stopCamera(),Gh(I.current),B(!1)}}),a))}const _z=()=>{const[t,e]=v.useState(""),[n,r]=v.useState(null),[i,s]=v.useState(null),[o,a]=v.useState(!1),l=ho(),c=async h=>{if(!o){e(JSON.stringify(h)),a(!0),r(null),s(null);try{if(!Array.isArray(h)||!h[0]||typeof h[0].rawValue!="string")throw new Error("Invalid QR scan result format");const g=h[0].rawValue;console.log("QR Code scanned rawValue:",g);const T=g.split(":");if(T.length<3||T[0]!=="LOYALTY")throw new Error("Invalid QR code format - must be LOYALTY:email:uid");const y=T[1],I=T[2];if(!I)throw new Error("No user ID found in QR code");const C=_i(kn,"users",I),w=await Pv(fp(up(kn,"users"),kh("email","==",y),kh("id","==",I)));if(w.empty)throw new Error("No user found for this QR code");const R=w.docs[0].data();console.log("Current user data:",{name:R.name,email:R.email,currentPurchases:R.purchases||0,purchaseLimit:R.purchaseLimit||5}),await o5(kn,async D=>{const V=await D.get(C);if(!V.exists())throw new Error("User not found");const F=V.data(),te=(F.purchases||0)+1,re=F.purchaseLimit||5,ee=te>=re;D.update(C,{purchases:te,isRewardReady:ee,lastScanAt:new Date})}),s(y),r(!0);const B=(await Pv(fp(up(kn,"users"),kh("email","==",y),kh("id","==",I)))).docs[0].data(),S=(B==null?void 0:B.purchases)||0,b=(B==null?void 0:B.purchaseLimit)||5;let k=`Loyalty point added! Total purchases: ${S}`;if(S>=b)k+=" - Reward ready! 🎉";else{const D=b-S;k+=` - ${D} more to earn reward`}At({title:"Success",description:k}),l("/dashboard")}catch(g){console.error("Error processing QR scan:",g);let T="Failed to process loyalty point";g instanceof Error&&(T=g.message),r(!1),At({title:"Error",description:T,variant:"destructive"})}finally{a(!1)}}},d=h=>{console.error("Scanner error:",h),e("Error scanning QR code"),r(!1),At({title:"Scanner Error",description:"Camera error - please check permissions",variant:"destructive"})},f=()=>{e(""),r(null),s(null),a(!1)};return p.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-black via-gray-900 to-red-950 relative overflow-hidden",children:[p.jsxs("div",{className:"absolute inset-0 opacity-10",children:[p.jsx("div",{className:"absolute top-20 right-10 w-40 h-40 bg-red-500 rounded-full blur-3xl animate-pulse"}),p.jsx("div",{className:"absolute bottom-32 left-10 w-32 h-32 bg-red-600 rounded-full blur-3xl animate-pulse delay-1000"})]}),p.jsxs("div",{className:"relative z-10 min-h-screen flex flex-col",children:[p.jsx("div",{className:"bg-gray-900/80 backdrop-blur-sm border-b border-red-900/30 sticky top-0 z-10",children:p.jsx("div",{className:"p-6 flex items-center justify-between",children:p.jsxs("div",{className:"flex items-center",children:[p.jsx(ai,{to:"/dashboard",className:"text-red-400 hover:text-red-300 transition-colors",children:p.jsx($l,{className:"w-6 h-6"})}),p.jsx("h1",{className:"ml-4 text-2xl font-bold text-white",children:"Scan Loyalty QR"})]})})}),p.jsx("div",{className:"flex-1 flex flex-col items-center justify-center px-6",children:p.jsxs("div",{className:"w-full max-w-md bg-gray-900/80 backdrop-blur-sm border border-red-900/30 rounded-2xl p-8 shadow-2xl flex flex-col items-center",children:[p.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Scan a User's QR Code"}),p.jsxs("div",{className:"relative w-full flex flex-col items-center",children:[p.jsx("div",{style:{width:300,height:300,margin:"20px auto"},children:p.jsx(Tz,{onScan:c,onError:d})}),o&&p.jsx("div",{className:"absolute top-2 left-2 bg-blue-500 text-white text-xs px-2 py-1 rounded-full",children:"Processing..."})]}),t&&p.jsx("div",{className:"mt-4 p-3 bg-gray-800/50 border border-gray-700 rounded-lg text-white",children:p.jsxs("div",{className:"text-center",children:[p.jsx("div",{className:"text-sm text-gray-300 mb-2",children:"Scanned:"}),p.jsx("div",{className:"text-xs font-mono text-gray-400 break-all",children:t})]})}),n===!0&&p.jsx("div",{className:"mt-4 p-3 bg-green-900/50 border border-green-700 rounded-lg text-green-400 font-semibold",children:p.jsxs("div",{className:"text-center",children:[p.jsx("div",{className:"text-lg mb-1",children:"✅ QR Code Verified & Updated!"}),p.jsx("div",{className:"text-sm text-green-300",children:"Loyalty point added for user"}),i&&p.jsx("div",{className:"text-xs text-green-400 mt-1 font-mono",children:i})]})}),n===!1&&p.jsx("div",{className:"mt-4 p-3 bg-red-900/50 border border-red-700 rounded-lg text-red-400 font-semibold",children:p.jsxs("div",{className:"text-center",children:[p.jsx("div",{className:"text-lg mb-1",children:"❌ QR Code Not Recognized"}),p.jsx("div",{className:"text-sm text-red-300",children:"No user found for this QR code"})]})}),p.jsx("div",{className:"mt-6 flex gap-3",children:p.jsx(fn,{onClick:f,disabled:!t&&!n,variant:"outline",className:"border-red-500 text-red-400 hover:bg-red-500/20",children:"Reset Scanner"})})]})})]})]})},xz=new e9,Az=()=>p.jsx(n9,{client:xz,children:p.jsx(k8,{children:p.jsxs(tq,{children:[p.jsx(S6,{}),p.jsx(rU,{}),p.jsx(rq,{}),p.jsx(J9,{basename:"/vaporwave-loyalty-club",children:p.jsxs($9,{children:[p.jsx(Gr,{path:"/",element:p.jsx(kG,{})}),p.jsx(Gr,{path:"/register",element:p.jsx(MG,{})}),p.jsx(Gr,{path:"/login",element:p.jsx(OG,{})}),p.jsx(Gr,{path:"/dashboard",element:p.jsx(M7,{})}),p.jsx(Gr,{path:"/rewards",element:p.jsx(O7,{})}),p.jsx(Gr,{path:"/settings",element:p.jsx(L7,{})}),p.jsx(Gr,{path:"/users",element:p.jsx(p$,{})}),p.jsx(Gr,{path:"/scan",element:p.jsx(_z,{})}),p.jsx(Gr,{path:"*",element:p.jsx(m$,{})})]})})]})})});hI(document.getElementById("root")).render(p.jsx(Az,{}));
