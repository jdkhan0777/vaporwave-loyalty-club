var RE=t=>{throw TypeError(t)};var Wm=(t,e,n)=>e.has(t)||RE("Cannot "+n);var J=(t,e,n)=>(Wm(t,e,"read from private field"),n?n.call(t):e.get(t)),He=(t,e,n)=>e.has(t)?RE("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),Ne=(t,e,n,r)=>(Wm(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),an=(t,e,n)=>(Wm(t,e,"access private method"),n);var Xd=(t,e,n,r)=>({set _(i){Ne(t,e,i,n)},get _(){return J(t,e,r)}});function k_(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function n0(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var N_={exports:{}},_p={},D_={exports:{}},Le={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uu=Symbol.for("react.element"),X2=Symbol.for("react.portal"),eN=Symbol.for("react.fragment"),tN=Symbol.for("react.strict_mode"),nN=Symbol.for("react.profiler"),rN=Symbol.for("react.provider"),iN=Symbol.for("react.context"),sN=Symbol.for("react.forward_ref"),oN=Symbol.for("react.suspense"),aN=Symbol.for("react.memo"),lN=Symbol.for("react.lazy"),PE=Symbol.iterator;function cN(t){return t===null||typeof t!="object"?null:(t=PE&&t[PE]||t["@@iterator"],typeof t=="function"?t:null)}var M_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O_=Object.assign,L_={};function Ll(t,e,n){this.props=t,this.context=e,this.refs=L_,this.updater=n||M_}Ll.prototype.isReactComponent={};Ll.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ll.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function V_(){}V_.prototype=Ll.prototype;function r0(t,e,n){this.props=t,this.context=e,this.refs=L_,this.updater=n||M_}var i0=r0.prototype=new V_;i0.constructor=r0;O_(i0,Ll.prototype);i0.isPureReactComponent=!0;var kE=Array.isArray,F_=Object.prototype.hasOwnProperty,s0={current:null},B_={key:!0,ref:!0,__self:!0,__source:!0};function j_(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)F_.call(e,r)&&!B_.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Uu,type:t,key:s,ref:o,props:i,_owner:s0.current}}function uN(t,e){return{$$typeof:Uu,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function o0(t){return typeof t=="object"&&t!==null&&t.$$typeof===Uu}function dN(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var NE=/\/+/g;function Qm(t,e){return typeof t=="object"&&t!==null&&t.key!=null?dN(""+t.key):e.toString(36)}function Vh(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Uu:case X2:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Qm(o,0):r,kE(i)?(n="",t!=null&&(n=t.replace(NE,"$&/")+"/"),Vh(i,e,n,"",function(c){return c})):i!=null&&(o0(i)&&(i=uN(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(NE,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",kE(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+Qm(s,a);o+=Vh(s,e,n,l,i)}else if(l=cN(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+Qm(s,a++),o+=Vh(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function eh(t,e,n){if(t==null)return t;var r=[],i=0;return Vh(t,r,"","",function(s){return e.call(n,s,i++)}),r}function hN(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Rn={current:null},Fh={transition:null},fN={ReactCurrentDispatcher:Rn,ReactCurrentBatchConfig:Fh,ReactCurrentOwner:s0};function U_(){throw Error("act(...) is not supported in production builds of React.")}Le.Children={map:eh,forEach:function(t,e,n){eh(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return eh(t,function(){e++}),e},toArray:function(t){return eh(t,function(e){return e})||[]},only:function(t){if(!o0(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Le.Component=Ll;Le.Fragment=eN;Le.Profiler=nN;Le.PureComponent=r0;Le.StrictMode=tN;Le.Suspense=oN;Le.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fN;Le.act=U_;Le.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=O_({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=s0.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)F_.call(e,l)&&!B_.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Uu,type:t.type,key:i,ref:s,props:r,_owner:o}};Le.createContext=function(t){return t={$$typeof:iN,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:rN,_context:t},t.Consumer=t};Le.createElement=j_;Le.createFactory=function(t){var e=j_.bind(null,t);return e.type=t,e};Le.createRef=function(){return{current:null}};Le.forwardRef=function(t){return{$$typeof:sN,render:t}};Le.isValidElement=o0;Le.lazy=function(t){return{$$typeof:lN,_payload:{_status:-1,_result:t},_init:hN}};Le.memo=function(t,e){return{$$typeof:aN,type:t,compare:e===void 0?null:e}};Le.startTransition=function(t){var e=Fh.transition;Fh.transition={};try{t()}finally{Fh.transition=e}};Le.unstable_act=U_;Le.useCallback=function(t,e){return Rn.current.useCallback(t,e)};Le.useContext=function(t){return Rn.current.useContext(t)};Le.useDebugValue=function(){};Le.useDeferredValue=function(t){return Rn.current.useDeferredValue(t)};Le.useEffect=function(t,e){return Rn.current.useEffect(t,e)};Le.useId=function(){return Rn.current.useId()};Le.useImperativeHandle=function(t,e,n){return Rn.current.useImperativeHandle(t,e,n)};Le.useInsertionEffect=function(t,e){return Rn.current.useInsertionEffect(t,e)};Le.useLayoutEffect=function(t,e){return Rn.current.useLayoutEffect(t,e)};Le.useMemo=function(t,e){return Rn.current.useMemo(t,e)};Le.useReducer=function(t,e,n){return Rn.current.useReducer(t,e,n)};Le.useRef=function(t){return Rn.current.useRef(t)};Le.useState=function(t){return Rn.current.useState(t)};Le.useSyncExternalStore=function(t,e,n){return Rn.current.useSyncExternalStore(t,e,n)};Le.useTransition=function(){return Rn.current.useTransition()};Le.version="18.3.1";D_.exports=Le;var T=D_.exports;const Q=n0(T),q_=k_({__proto__:null,default:Q},[T]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pN=T,mN=Symbol.for("react.element"),gN=Symbol.for("react.fragment"),yN=Object.prototype.hasOwnProperty,vN=pN.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,wN={key:!0,ref:!0,__self:!0,__source:!0};function G_(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)yN.call(e,r)&&!wN.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:mN,type:t,key:s,ref:o,props:i,_owner:vN.current}}_p.Fragment=gN;_p.jsx=G_;_p.jsxs=G_;N_.exports=_p;var m=N_.exports,z_={exports:{}},tr={},$_={exports:{}},W_={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(G,Z){var ae=G.length;G.push(Z);e:for(;0<ae;){var se=ae-1>>>1,ue=G[se];if(0<i(ue,Z))G[se]=Z,G[ae]=ue,ae=se;else break e}}function n(G){return G.length===0?null:G[0]}function r(G){if(G.length===0)return null;var Z=G[0],ae=G.pop();if(ae!==Z){G[0]=ae;e:for(var se=0,ue=G.length,he=ue>>>1;se<he;){var Pe=2*(se+1)-1,De=G[Pe],Te=Pe+1,te=G[Te];if(0>i(De,ae))Te<ue&&0>i(te,De)?(G[se]=te,G[Te]=ae,se=Te):(G[se]=De,G[Pe]=ae,se=Pe);else if(Te<ue&&0>i(te,ae))G[se]=te,G[Te]=ae,se=Te;else break e}}return Z}function i(G,Z){var ae=G.sortIndex-Z.sortIndex;return ae!==0?ae:G.id-Z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],d=1,f=null,h=3,y=!1,A=!1,g=!1,I=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(G){for(var Z=n(c);Z!==null;){if(Z.callback===null)r(c);else if(Z.startTime<=G)r(c),Z.sortIndex=Z.expirationTime,e(l,Z);else break;Z=n(c)}}function R(G){if(g=!1,_(G),!A)if(n(l)!==null)A=!0,re(O);else{var Z=n(c);Z!==null&&pe(R,Z.startTime-G)}}function O(G,Z){A=!1,g&&(g=!1,E(S),S=-1),y=!0;var ae=h;try{for(_(Z),f=n(l);f!==null&&(!(f.expirationTime>Z)||G&&!V());){var se=f.callback;if(typeof se=="function"){f.callback=null,h=f.priorityLevel;var ue=se(f.expirationTime<=Z);Z=t.unstable_now(),typeof ue=="function"?f.callback=ue:f===n(l)&&r(l),_(Z)}else r(l);f=n(l)}if(f!==null)var he=!0;else{var Pe=n(c);Pe!==null&&pe(R,Pe.startTime-Z),he=!1}return he}finally{f=null,h=ae,y=!1}}var B=!1,b=null,S=-1,k=5,D=-1;function V(){return!(t.unstable_now()-D<k)}function F(){if(b!==null){var G=t.unstable_now();D=G;var Z=!0;try{Z=b(!0,G)}finally{Z?M():(B=!1,b=null)}}else B=!1}var M;if(typeof v=="function")M=function(){v(F)};else if(typeof MessageChannel<"u"){var ee=new MessageChannel,ie=ee.port2;ee.port1.onmessage=F,M=function(){ie.postMessage(null)}}else M=function(){I(F,0)};function re(G){b=G,B||(B=!0,M())}function pe(G,Z){S=I(function(){G(t.unstable_now())},Z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(G){G.callback=null},t.unstable_continueExecution=function(){A||y||(A=!0,re(O))},t.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<G?Math.floor(1e3/G):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(G){switch(h){case 1:case 2:case 3:var Z=3;break;default:Z=h}var ae=h;h=Z;try{return G()}finally{h=ae}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(G,Z){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var ae=h;h=G;try{return Z()}finally{h=ae}},t.unstable_scheduleCallback=function(G,Z,ae){var se=t.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?se+ae:se):ae=se,G){case 1:var ue=-1;break;case 2:ue=250;break;case 5:ue=1073741823;break;case 4:ue=1e4;break;default:ue=5e3}return ue=ae+ue,G={id:d++,callback:Z,priorityLevel:G,startTime:ae,expirationTime:ue,sortIndex:-1},ae>se?(G.sortIndex=ae,e(c,G),n(l)===null&&G===n(c)&&(g?(E(S),S=-1):g=!0,pe(R,ae-se))):(G.sortIndex=ue,e(l,G),A||y||(A=!0,re(O))),G},t.unstable_shouldYield=V,t.unstable_wrapCallback=function(G){var Z=h;return function(){var ae=h;h=Z;try{return G.apply(this,arguments)}finally{h=ae}}}})(W_);$_.exports=W_;var EN=$_.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CN=T,Xn=EN;function ne(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Q_=new Set,ru={};function Xo(t,e){gl(t,e),gl(t+"Capture",e)}function gl(t,e){for(ru[t]=e,t=0;t<e.length;t++)Q_.add(e[t])}var Di=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Zg=Object.prototype.hasOwnProperty,TN=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,DE={},ME={};function _N(t){return Zg.call(ME,t)?!0:Zg.call(DE,t)?!1:TN.test(t)?ME[t]=!0:(DE[t]=!0,!1)}function AN(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function xN(t,e,n,r){if(e===null||typeof e>"u"||AN(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Pn(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var tn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){tn[t]=new Pn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];tn[e]=new Pn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){tn[t]=new Pn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){tn[t]=new Pn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){tn[t]=new Pn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){tn[t]=new Pn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){tn[t]=new Pn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){tn[t]=new Pn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){tn[t]=new Pn(t,5,!1,t.toLowerCase(),null,!1,!1)});var a0=/[\-:]([a-z])/g;function l0(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(a0,l0);tn[e]=new Pn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(a0,l0);tn[e]=new Pn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(a0,l0);tn[e]=new Pn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){tn[t]=new Pn(t,1,!1,t.toLowerCase(),null,!1,!1)});tn.xlinkHref=new Pn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){tn[t]=new Pn(t,1,!1,t.toLowerCase(),null,!0,!0)});function c0(t,e,n,r){var i=tn.hasOwnProperty(e)?tn[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(xN(e,n,i,r)&&(n=null),r||i===null?_N(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var zi=CN.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,th=Symbol.for("react.element"),Da=Symbol.for("react.portal"),Ma=Symbol.for("react.fragment"),u0=Symbol.for("react.strict_mode"),Xg=Symbol.for("react.profiler"),Y_=Symbol.for("react.provider"),K_=Symbol.for("react.context"),d0=Symbol.for("react.forward_ref"),ey=Symbol.for("react.suspense"),ty=Symbol.for("react.suspense_list"),h0=Symbol.for("react.memo"),cs=Symbol.for("react.lazy"),H_=Symbol.for("react.offscreen"),OE=Symbol.iterator;function pc(t){return t===null||typeof t!="object"?null:(t=OE&&t[OE]||t["@@iterator"],typeof t=="function"?t:null)}var wt=Object.assign,Ym;function Ac(t){if(Ym===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Ym=e&&e[1]||""}return`
`+Ym+t}var Km=!1;function Hm(t,e){if(!t||Km)return"";Km=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Km=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Ac(t):""}function IN(t){switch(t.tag){case 5:return Ac(t.type);case 16:return Ac("Lazy");case 13:return Ac("Suspense");case 19:return Ac("SuspenseList");case 0:case 2:case 15:return t=Hm(t.type,!1),t;case 11:return t=Hm(t.type.render,!1),t;case 1:return t=Hm(t.type,!0),t;default:return""}}function ny(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ma:return"Fragment";case Da:return"Portal";case Xg:return"Profiler";case u0:return"StrictMode";case ey:return"Suspense";case ty:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case K_:return(t.displayName||"Context")+".Consumer";case Y_:return(t._context.displayName||"Context")+".Provider";case d0:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case h0:return e=t.displayName||null,e!==null?e:ny(t.type)||"Memo";case cs:e=t._payload,t=t._init;try{return ny(t(e))}catch{}}return null}function SN(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ny(e);case 8:return e===u0?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Gs(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function J_(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function bN(t){var e=J_(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function nh(t){t._valueTracker||(t._valueTracker=bN(t))}function Z_(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=J_(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Ef(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function ry(t,e){var n=e.checked;return wt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function LE(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Gs(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function X_(t,e){e=e.checked,e!=null&&c0(t,"checked",e,!1)}function iy(t,e){X_(t,e);var n=Gs(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?sy(t,e.type,n):e.hasOwnProperty("defaultValue")&&sy(t,e.type,Gs(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function VE(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function sy(t,e,n){(e!=="number"||Ef(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var xc=Array.isArray;function Qa(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Gs(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function oy(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ne(91));return wt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function FE(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(ne(92));if(xc(n)){if(1<n.length)throw Error(ne(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Gs(n)}}function eA(t,e){var n=Gs(e.value),r=Gs(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function BE(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function tA(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ay(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?tA(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var rh,nA=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(rh=rh||document.createElement("div"),rh.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=rh.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function iu(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Fc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},RN=["Webkit","ms","Moz","O"];Object.keys(Fc).forEach(function(t){RN.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Fc[e]=Fc[t]})});function rA(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Fc.hasOwnProperty(t)&&Fc[t]?(""+e).trim():e+"px"}function iA(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=rA(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var PN=wt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ly(t,e){if(e){if(PN[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ne(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ne(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ne(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ne(62))}}function cy(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var uy=null;function f0(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var dy=null,Ya=null,Ka=null;function jE(t){if(t=zu(t)){if(typeof dy!="function")throw Error(ne(280));var e=t.stateNode;e&&(e=bp(e),dy(t.stateNode,t.type,e))}}function sA(t){Ya?Ka?Ka.push(t):Ka=[t]:Ya=t}function oA(){if(Ya){var t=Ya,e=Ka;if(Ka=Ya=null,jE(t),e)for(t=0;t<e.length;t++)jE(e[t])}}function aA(t,e){return t(e)}function lA(){}var Jm=!1;function cA(t,e,n){if(Jm)return t(e,n);Jm=!0;try{return aA(t,e,n)}finally{Jm=!1,(Ya!==null||Ka!==null)&&(lA(),oA())}}function su(t,e){var n=t.stateNode;if(n===null)return null;var r=bp(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(ne(231,e,typeof n));return n}var hy=!1;if(Di)try{var mc={};Object.defineProperty(mc,"passive",{get:function(){hy=!0}}),window.addEventListener("test",mc,mc),window.removeEventListener("test",mc,mc)}catch{hy=!1}function kN(t,e,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var Bc=!1,Cf=null,Tf=!1,fy=null,NN={onError:function(t){Bc=!0,Cf=t}};function DN(t,e,n,r,i,s,o,a,l){Bc=!1,Cf=null,kN.apply(NN,arguments)}function MN(t,e,n,r,i,s,o,a,l){if(DN.apply(this,arguments),Bc){if(Bc){var c=Cf;Bc=!1,Cf=null}else throw Error(ne(198));Tf||(Tf=!0,fy=c)}}function ea(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function uA(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function UE(t){if(ea(t)!==t)throw Error(ne(188))}function ON(t){var e=t.alternate;if(!e){if(e=ea(t),e===null)throw Error(ne(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return UE(i),t;if(s===r)return UE(i),e;s=s.sibling}throw Error(ne(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(ne(189))}}if(n.alternate!==r)throw Error(ne(190))}if(n.tag!==3)throw Error(ne(188));return n.stateNode.current===n?t:e}function dA(t){return t=ON(t),t!==null?hA(t):null}function hA(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=hA(t);if(e!==null)return e;t=t.sibling}return null}var fA=Xn.unstable_scheduleCallback,qE=Xn.unstable_cancelCallback,LN=Xn.unstable_shouldYield,VN=Xn.unstable_requestPaint,St=Xn.unstable_now,FN=Xn.unstable_getCurrentPriorityLevel,p0=Xn.unstable_ImmediatePriority,pA=Xn.unstable_UserBlockingPriority,_f=Xn.unstable_NormalPriority,BN=Xn.unstable_LowPriority,mA=Xn.unstable_IdlePriority,Ap=null,Jr=null;function jN(t){if(Jr&&typeof Jr.onCommitFiberRoot=="function")try{Jr.onCommitFiberRoot(Ap,t,void 0,(t.current.flags&128)===128)}catch{}}var Dr=Math.clz32?Math.clz32:GN,UN=Math.log,qN=Math.LN2;function GN(t){return t>>>=0,t===0?32:31-(UN(t)/qN|0)|0}var ih=64,sh=4194304;function Ic(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Af(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Ic(a):(s&=o,s!==0&&(r=Ic(s)))}else o=n&~i,o!==0?r=Ic(o):s!==0&&(r=Ic(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Dr(e),i=1<<n,r|=t[n],e&=~i;return r}function zN(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $N(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Dr(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=zN(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function py(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function gA(){var t=ih;return ih<<=1,!(ih&4194240)&&(ih=64),t}function Zm(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function qu(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Dr(e),t[e]=n}function WN(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Dr(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function m0(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Dr(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Xe=0;function yA(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var vA,g0,wA,EA,CA,my=!1,oh=[],bs=null,Rs=null,Ps=null,ou=new Map,au=new Map,hs=[],QN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function GE(t,e){switch(t){case"focusin":case"focusout":bs=null;break;case"dragenter":case"dragleave":Rs=null;break;case"mouseover":case"mouseout":Ps=null;break;case"pointerover":case"pointerout":ou.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":au.delete(e.pointerId)}}function gc(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=zu(e),e!==null&&g0(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function YN(t,e,n,r,i){switch(e){case"focusin":return bs=gc(bs,t,e,n,r,i),!0;case"dragenter":return Rs=gc(Rs,t,e,n,r,i),!0;case"mouseover":return Ps=gc(Ps,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return ou.set(s,gc(ou.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,au.set(s,gc(au.get(s)||null,t,e,n,r,i)),!0}return!1}function TA(t){var e=bo(t.target);if(e!==null){var n=ea(e);if(n!==null){if(e=n.tag,e===13){if(e=uA(n),e!==null){t.blockedOn=e,CA(t.priority,function(){wA(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Bh(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=gy(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);uy=r,n.target.dispatchEvent(r),uy=null}else return e=zu(n),e!==null&&g0(e),t.blockedOn=n,!1;e.shift()}return!0}function zE(t,e,n){Bh(t)&&n.delete(e)}function KN(){my=!1,bs!==null&&Bh(bs)&&(bs=null),Rs!==null&&Bh(Rs)&&(Rs=null),Ps!==null&&Bh(Ps)&&(Ps=null),ou.forEach(zE),au.forEach(zE)}function yc(t,e){t.blockedOn===e&&(t.blockedOn=null,my||(my=!0,Xn.unstable_scheduleCallback(Xn.unstable_NormalPriority,KN)))}function lu(t){function e(i){return yc(i,t)}if(0<oh.length){yc(oh[0],t);for(var n=1;n<oh.length;n++){var r=oh[n];r.blockedOn===t&&(r.blockedOn=null)}}for(bs!==null&&yc(bs,t),Rs!==null&&yc(Rs,t),Ps!==null&&yc(Ps,t),ou.forEach(e),au.forEach(e),n=0;n<hs.length;n++)r=hs[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<hs.length&&(n=hs[0],n.blockedOn===null);)TA(n),n.blockedOn===null&&hs.shift()}var Ha=zi.ReactCurrentBatchConfig,xf=!0;function HN(t,e,n,r){var i=Xe,s=Ha.transition;Ha.transition=null;try{Xe=1,y0(t,e,n,r)}finally{Xe=i,Ha.transition=s}}function JN(t,e,n,r){var i=Xe,s=Ha.transition;Ha.transition=null;try{Xe=4,y0(t,e,n,r)}finally{Xe=i,Ha.transition=s}}function y0(t,e,n,r){if(xf){var i=gy(t,e,n,r);if(i===null)lg(t,e,r,If,n),GE(t,r);else if(YN(i,t,e,n,r))r.stopPropagation();else if(GE(t,r),e&4&&-1<QN.indexOf(t)){for(;i!==null;){var s=zu(i);if(s!==null&&vA(s),s=gy(t,e,n,r),s===null&&lg(t,e,r,If,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else lg(t,e,r,null,n)}}var If=null;function gy(t,e,n,r){if(If=null,t=f0(r),t=bo(t),t!==null)if(e=ea(t),e===null)t=null;else if(n=e.tag,n===13){if(t=uA(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return If=t,null}function _A(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(FN()){case p0:return 1;case pA:return 4;case _f:case BN:return 16;case mA:return 536870912;default:return 16}default:return 16}}var _s=null,v0=null,jh=null;function AA(){if(jh)return jh;var t,e=v0,n=e.length,r,i="value"in _s?_s.value:_s.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return jh=i.slice(t,1<r?1-r:void 0)}function Uh(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ah(){return!0}function $E(){return!1}function nr(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?ah:$E,this.isPropagationStopped=$E,this}return wt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ah)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ah)},persist:function(){},isPersistent:ah}),e}var Vl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},w0=nr(Vl),Gu=wt({},Vl,{view:0,detail:0}),ZN=nr(Gu),Xm,eg,vc,xp=wt({},Gu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:E0,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==vc&&(vc&&t.type==="mousemove"?(Xm=t.screenX-vc.screenX,eg=t.screenY-vc.screenY):eg=Xm=0,vc=t),Xm)},movementY:function(t){return"movementY"in t?t.movementY:eg}}),WE=nr(xp),XN=wt({},xp,{dataTransfer:0}),eD=nr(XN),tD=wt({},Gu,{relatedTarget:0}),tg=nr(tD),nD=wt({},Vl,{animationName:0,elapsedTime:0,pseudoElement:0}),rD=nr(nD),iD=wt({},Vl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),sD=nr(iD),oD=wt({},Vl,{data:0}),QE=nr(oD),aD={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},lD={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},cD={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function uD(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=cD[t])?!!e[t]:!1}function E0(){return uD}var dD=wt({},Gu,{key:function(t){if(t.key){var e=aD[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Uh(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?lD[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:E0,charCode:function(t){return t.type==="keypress"?Uh(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Uh(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),hD=nr(dD),fD=wt({},xp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),YE=nr(fD),pD=wt({},Gu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:E0}),mD=nr(pD),gD=wt({},Vl,{propertyName:0,elapsedTime:0,pseudoElement:0}),yD=nr(gD),vD=wt({},xp,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),wD=nr(vD),ED=[9,13,27,32],C0=Di&&"CompositionEvent"in window,jc=null;Di&&"documentMode"in document&&(jc=document.documentMode);var CD=Di&&"TextEvent"in window&&!jc,xA=Di&&(!C0||jc&&8<jc&&11>=jc),KE=" ",HE=!1;function IA(t,e){switch(t){case"keyup":return ED.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function SA(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Oa=!1;function TD(t,e){switch(t){case"compositionend":return SA(e);case"keypress":return e.which!==32?null:(HE=!0,KE);case"textInput":return t=e.data,t===KE&&HE?null:t;default:return null}}function _D(t,e){if(Oa)return t==="compositionend"||!C0&&IA(t,e)?(t=AA(),jh=v0=_s=null,Oa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return xA&&e.locale!=="ko"?null:e.data;default:return null}}var AD={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function JE(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!AD[t.type]:e==="textarea"}function bA(t,e,n,r){sA(r),e=Sf(e,"onChange"),0<e.length&&(n=new w0("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Uc=null,cu=null;function xD(t){BA(t,0)}function Ip(t){var e=Fa(t);if(Z_(e))return t}function ID(t,e){if(t==="change")return e}var RA=!1;if(Di){var ng;if(Di){var rg="oninput"in document;if(!rg){var ZE=document.createElement("div");ZE.setAttribute("oninput","return;"),rg=typeof ZE.oninput=="function"}ng=rg}else ng=!1;RA=ng&&(!document.documentMode||9<document.documentMode)}function XE(){Uc&&(Uc.detachEvent("onpropertychange",PA),cu=Uc=null)}function PA(t){if(t.propertyName==="value"&&Ip(cu)){var e=[];bA(e,cu,t,f0(t)),cA(xD,e)}}function SD(t,e,n){t==="focusin"?(XE(),Uc=e,cu=n,Uc.attachEvent("onpropertychange",PA)):t==="focusout"&&XE()}function bD(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ip(cu)}function RD(t,e){if(t==="click")return Ip(e)}function PD(t,e){if(t==="input"||t==="change")return Ip(e)}function kD(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Or=typeof Object.is=="function"?Object.is:kD;function uu(t,e){if(Or(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Zg.call(e,i)||!Or(t[i],e[i]))return!1}return!0}function e1(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function t1(t,e){var n=e1(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=e1(n)}}function kA(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?kA(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function NA(){for(var t=window,e=Ef();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Ef(t.document)}return e}function T0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function ND(t){var e=NA(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&kA(n.ownerDocument.documentElement,n)){if(r!==null&&T0(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=t1(n,s);var o=t1(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var DD=Di&&"documentMode"in document&&11>=document.documentMode,La=null,yy=null,qc=null,vy=!1;function n1(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;vy||La==null||La!==Ef(r)||(r=La,"selectionStart"in r&&T0(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),qc&&uu(qc,r)||(qc=r,r=Sf(yy,"onSelect"),0<r.length&&(e=new w0("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=La)))}function lh(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Va={animationend:lh("Animation","AnimationEnd"),animationiteration:lh("Animation","AnimationIteration"),animationstart:lh("Animation","AnimationStart"),transitionend:lh("Transition","TransitionEnd")},ig={},DA={};Di&&(DA=document.createElement("div").style,"AnimationEvent"in window||(delete Va.animationend.animation,delete Va.animationiteration.animation,delete Va.animationstart.animation),"TransitionEvent"in window||delete Va.transitionend.transition);function Sp(t){if(ig[t])return ig[t];if(!Va[t])return t;var e=Va[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in DA)return ig[t]=e[n];return t}var MA=Sp("animationend"),OA=Sp("animationiteration"),LA=Sp("animationstart"),VA=Sp("transitionend"),FA=new Map,r1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function no(t,e){FA.set(t,e),Xo(e,[t])}for(var sg=0;sg<r1.length;sg++){var og=r1[sg],MD=og.toLowerCase(),OD=og[0].toUpperCase()+og.slice(1);no(MD,"on"+OD)}no(MA,"onAnimationEnd");no(OA,"onAnimationIteration");no(LA,"onAnimationStart");no("dblclick","onDoubleClick");no("focusin","onFocus");no("focusout","onBlur");no(VA,"onTransitionEnd");gl("onMouseEnter",["mouseout","mouseover"]);gl("onMouseLeave",["mouseout","mouseover"]);gl("onPointerEnter",["pointerout","pointerover"]);gl("onPointerLeave",["pointerout","pointerover"]);Xo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Xo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Xo("onBeforeInput",["compositionend","keypress","textInput","paste"]);Xo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Xo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Xo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),LD=new Set("cancel close invalid load scroll toggle".split(" ").concat(Sc));function i1(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,MN(r,e,void 0,t),t.currentTarget=null}function BA(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;i1(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;i1(i,a,c),s=l}}}if(Tf)throw t=fy,Tf=!1,fy=null,t}function at(t,e){var n=e[_y];n===void 0&&(n=e[_y]=new Set);var r=t+"__bubble";n.has(r)||(jA(e,t,2,!1),n.add(r))}function ag(t,e,n){var r=0;e&&(r|=4),jA(n,t,r,e)}var ch="_reactListening"+Math.random().toString(36).slice(2);function du(t){if(!t[ch]){t[ch]=!0,Q_.forEach(function(n){n!=="selectionchange"&&(LD.has(n)||ag(n,!1,t),ag(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[ch]||(e[ch]=!0,ag("selectionchange",!1,e))}}function jA(t,e,n,r){switch(_A(e)){case 1:var i=HN;break;case 4:i=JN;break;default:i=y0}n=i.bind(null,e,n,t),i=void 0,!hy||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function lg(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=bo(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}cA(function(){var c=s,d=f0(n),f=[];e:{var h=FA.get(t);if(h!==void 0){var y=w0,A=t;switch(t){case"keypress":if(Uh(n)===0)break e;case"keydown":case"keyup":y=hD;break;case"focusin":A="focus",y=tg;break;case"focusout":A="blur",y=tg;break;case"beforeblur":case"afterblur":y=tg;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=WE;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=eD;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=mD;break;case MA:case OA:case LA:y=rD;break;case VA:y=yD;break;case"scroll":y=ZN;break;case"wheel":y=wD;break;case"copy":case"cut":case"paste":y=sD;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=YE}var g=(e&4)!==0,I=!g&&t==="scroll",E=g?h!==null?h+"Capture":null:h;g=[];for(var v=c,_;v!==null;){_=v;var R=_.stateNode;if(_.tag===5&&R!==null&&(_=R,E!==null&&(R=su(v,E),R!=null&&g.push(hu(v,R,_)))),I)break;v=v.return}0<g.length&&(h=new y(h,A,null,n,d),f.push({event:h,listeners:g}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",y=t==="mouseout"||t==="pointerout",h&&n!==uy&&(A=n.relatedTarget||n.fromElement)&&(bo(A)||A[Mi]))break e;if((y||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,y?(A=n.relatedTarget||n.toElement,y=c,A=A?bo(A):null,A!==null&&(I=ea(A),A!==I||A.tag!==5&&A.tag!==6)&&(A=null)):(y=null,A=c),y!==A)){if(g=WE,R="onMouseLeave",E="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(g=YE,R="onPointerLeave",E="onPointerEnter",v="pointer"),I=y==null?h:Fa(y),_=A==null?h:Fa(A),h=new g(R,v+"leave",y,n,d),h.target=I,h.relatedTarget=_,R=null,bo(d)===c&&(g=new g(E,v+"enter",A,n,d),g.target=_,g.relatedTarget=I,R=g),I=R,y&&A)t:{for(g=y,E=A,v=0,_=g;_;_=xa(_))v++;for(_=0,R=E;R;R=xa(R))_++;for(;0<v-_;)g=xa(g),v--;for(;0<_-v;)E=xa(E),_--;for(;v--;){if(g===E||E!==null&&g===E.alternate)break t;g=xa(g),E=xa(E)}g=null}else g=null;y!==null&&s1(f,h,y,g,!1),A!==null&&I!==null&&s1(f,I,A,g,!0)}}e:{if(h=c?Fa(c):window,y=h.nodeName&&h.nodeName.toLowerCase(),y==="select"||y==="input"&&h.type==="file")var O=ID;else if(JE(h))if(RA)O=PD;else{O=bD;var B=SD}else(y=h.nodeName)&&y.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(O=RD);if(O&&(O=O(t,c))){bA(f,O,n,d);break e}B&&B(t,h,c),t==="focusout"&&(B=h._wrapperState)&&B.controlled&&h.type==="number"&&sy(h,"number",h.value)}switch(B=c?Fa(c):window,t){case"focusin":(JE(B)||B.contentEditable==="true")&&(La=B,yy=c,qc=null);break;case"focusout":qc=yy=La=null;break;case"mousedown":vy=!0;break;case"contextmenu":case"mouseup":case"dragend":vy=!1,n1(f,n,d);break;case"selectionchange":if(DD)break;case"keydown":case"keyup":n1(f,n,d)}var b;if(C0)e:{switch(t){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else Oa?IA(t,n)&&(S="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(S="onCompositionStart");S&&(xA&&n.locale!=="ko"&&(Oa||S!=="onCompositionStart"?S==="onCompositionEnd"&&Oa&&(b=AA()):(_s=d,v0="value"in _s?_s.value:_s.textContent,Oa=!0)),B=Sf(c,S),0<B.length&&(S=new QE(S,t,null,n,d),f.push({event:S,listeners:B}),b?S.data=b:(b=SA(n),b!==null&&(S.data=b)))),(b=CD?TD(t,n):_D(t,n))&&(c=Sf(c,"onBeforeInput"),0<c.length&&(d=new QE("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:c}),d.data=b))}BA(f,e)})}function hu(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Sf(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=su(t,n),s!=null&&r.unshift(hu(t,s,i)),s=su(t,e),s!=null&&r.push(hu(t,s,i))),t=t.return}return r}function xa(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function s1(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=su(n,s),l!=null&&o.unshift(hu(n,l,a))):i||(l=su(n,s),l!=null&&o.push(hu(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var VD=/\r\n?/g,FD=/\u0000|\uFFFD/g;function o1(t){return(typeof t=="string"?t:""+t).replace(VD,`
`).replace(FD,"")}function uh(t,e,n){if(e=o1(e),o1(t)!==e&&n)throw Error(ne(425))}function bf(){}var wy=null,Ey=null;function Cy(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Ty=typeof setTimeout=="function"?setTimeout:void 0,BD=typeof clearTimeout=="function"?clearTimeout:void 0,a1=typeof Promise=="function"?Promise:void 0,jD=typeof queueMicrotask=="function"?queueMicrotask:typeof a1<"u"?function(t){return a1.resolve(null).then(t).catch(UD)}:Ty;function UD(t){setTimeout(function(){throw t})}function cg(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),lu(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);lu(e)}function ks(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function l1(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Fl=Math.random().toString(36).slice(2),Kr="__reactFiber$"+Fl,fu="__reactProps$"+Fl,Mi="__reactContainer$"+Fl,_y="__reactEvents$"+Fl,qD="__reactListeners$"+Fl,GD="__reactHandles$"+Fl;function bo(t){var e=t[Kr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Mi]||n[Kr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=l1(t);t!==null;){if(n=t[Kr])return n;t=l1(t)}return e}t=n,n=t.parentNode}return null}function zu(t){return t=t[Kr]||t[Mi],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Fa(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ne(33))}function bp(t){return t[fu]||null}var Ay=[],Ba=-1;function ro(t){return{current:t}}function lt(t){0>Ba||(t.current=Ay[Ba],Ay[Ba]=null,Ba--)}function it(t,e){Ba++,Ay[Ba]=t.current,t.current=e}var zs={},mn=ro(zs),On=ro(!1),jo=zs;function yl(t,e){var n=t.type.contextTypes;if(!n)return zs;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Ln(t){return t=t.childContextTypes,t!=null}function Rf(){lt(On),lt(mn)}function c1(t,e,n){if(mn.current!==zs)throw Error(ne(168));it(mn,e),it(On,n)}function UA(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(ne(108,SN(t)||"Unknown",i));return wt({},n,r)}function Pf(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||zs,jo=mn.current,it(mn,t),it(On,On.current),!0}function u1(t,e,n){var r=t.stateNode;if(!r)throw Error(ne(169));n?(t=UA(t,e,jo),r.__reactInternalMemoizedMergedChildContext=t,lt(On),lt(mn),it(mn,t)):lt(On),it(On,n)}var xi=null,Rp=!1,ug=!1;function qA(t){xi===null?xi=[t]:xi.push(t)}function zD(t){Rp=!0,qA(t)}function io(){if(!ug&&xi!==null){ug=!0;var t=0,e=Xe;try{var n=xi;for(Xe=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}xi=null,Rp=!1}catch(i){throw xi!==null&&(xi=xi.slice(t+1)),fA(p0,io),i}finally{Xe=e,ug=!1}}return null}var ja=[],Ua=0,kf=null,Nf=0,ur=[],dr=0,Uo=null,Ii=1,Si="";function xo(t,e){ja[Ua++]=Nf,ja[Ua++]=kf,kf=t,Nf=e}function GA(t,e,n){ur[dr++]=Ii,ur[dr++]=Si,ur[dr++]=Uo,Uo=t;var r=Ii;t=Si;var i=32-Dr(r)-1;r&=~(1<<i),n+=1;var s=32-Dr(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Ii=1<<32-Dr(e)+i|n<<i|r,Si=s+t}else Ii=1<<s|n<<i|r,Si=t}function _0(t){t.return!==null&&(xo(t,1),GA(t,1,0))}function A0(t){for(;t===kf;)kf=ja[--Ua],ja[Ua]=null,Nf=ja[--Ua],ja[Ua]=null;for(;t===Uo;)Uo=ur[--dr],ur[dr]=null,Si=ur[--dr],ur[dr]=null,Ii=ur[--dr],ur[dr]=null}var Hn=null,Yn=null,pt=!1,kr=null;function zA(t,e){var n=fr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function d1(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Hn=t,Yn=ks(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Hn=t,Yn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Uo!==null?{id:Ii,overflow:Si}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=fr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Hn=t,Yn=null,!0):!1;default:return!1}}function xy(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Iy(t){if(pt){var e=Yn;if(e){var n=e;if(!d1(t,e)){if(xy(t))throw Error(ne(418));e=ks(n.nextSibling);var r=Hn;e&&d1(t,e)?zA(r,n):(t.flags=t.flags&-4097|2,pt=!1,Hn=t)}}else{if(xy(t))throw Error(ne(418));t.flags=t.flags&-4097|2,pt=!1,Hn=t}}}function h1(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Hn=t}function dh(t){if(t!==Hn)return!1;if(!pt)return h1(t),pt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Cy(t.type,t.memoizedProps)),e&&(e=Yn)){if(xy(t))throw $A(),Error(ne(418));for(;e;)zA(t,e),e=ks(e.nextSibling)}if(h1(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ne(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Yn=ks(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Yn=null}}else Yn=Hn?ks(t.stateNode.nextSibling):null;return!0}function $A(){for(var t=Yn;t;)t=ks(t.nextSibling)}function vl(){Yn=Hn=null,pt=!1}function x0(t){kr===null?kr=[t]:kr.push(t)}var $D=zi.ReactCurrentBatchConfig;function wc(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ne(309));var r=n.stateNode}if(!r)throw Error(ne(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(ne(284));if(!n._owner)throw Error(ne(290,t))}return t}function hh(t,e){throw t=Object.prototype.toString.call(e),Error(ne(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function f1(t){var e=t._init;return e(t._payload)}function WA(t){function e(E,v){if(t){var _=E.deletions;_===null?(E.deletions=[v],E.flags|=16):_.push(v)}}function n(E,v){if(!t)return null;for(;v!==null;)e(E,v),v=v.sibling;return null}function r(E,v){for(E=new Map;v!==null;)v.key!==null?E.set(v.key,v):E.set(v.index,v),v=v.sibling;return E}function i(E,v){return E=Os(E,v),E.index=0,E.sibling=null,E}function s(E,v,_){return E.index=_,t?(_=E.alternate,_!==null?(_=_.index,_<v?(E.flags|=2,v):_):(E.flags|=2,v)):(E.flags|=1048576,v)}function o(E){return t&&E.alternate===null&&(E.flags|=2),E}function a(E,v,_,R){return v===null||v.tag!==6?(v=yg(_,E.mode,R),v.return=E,v):(v=i(v,_),v.return=E,v)}function l(E,v,_,R){var O=_.type;return O===Ma?d(E,v,_.props.children,R,_.key):v!==null&&(v.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===cs&&f1(O)===v.type)?(R=i(v,_.props),R.ref=wc(E,v,_),R.return=E,R):(R=Yh(_.type,_.key,_.props,null,E.mode,R),R.ref=wc(E,v,_),R.return=E,R)}function c(E,v,_,R){return v===null||v.tag!==4||v.stateNode.containerInfo!==_.containerInfo||v.stateNode.implementation!==_.implementation?(v=vg(_,E.mode,R),v.return=E,v):(v=i(v,_.children||[]),v.return=E,v)}function d(E,v,_,R,O){return v===null||v.tag!==7?(v=Vo(_,E.mode,R,O),v.return=E,v):(v=i(v,_),v.return=E,v)}function f(E,v,_){if(typeof v=="string"&&v!==""||typeof v=="number")return v=yg(""+v,E.mode,_),v.return=E,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case th:return _=Yh(v.type,v.key,v.props,null,E.mode,_),_.ref=wc(E,null,v),_.return=E,_;case Da:return v=vg(v,E.mode,_),v.return=E,v;case cs:var R=v._init;return f(E,R(v._payload),_)}if(xc(v)||pc(v))return v=Vo(v,E.mode,_,null),v.return=E,v;hh(E,v)}return null}function h(E,v,_,R){var O=v!==null?v.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return O!==null?null:a(E,v,""+_,R);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case th:return _.key===O?l(E,v,_,R):null;case Da:return _.key===O?c(E,v,_,R):null;case cs:return O=_._init,h(E,v,O(_._payload),R)}if(xc(_)||pc(_))return O!==null?null:d(E,v,_,R,null);hh(E,_)}return null}function y(E,v,_,R,O){if(typeof R=="string"&&R!==""||typeof R=="number")return E=E.get(_)||null,a(v,E,""+R,O);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case th:return E=E.get(R.key===null?_:R.key)||null,l(v,E,R,O);case Da:return E=E.get(R.key===null?_:R.key)||null,c(v,E,R,O);case cs:var B=R._init;return y(E,v,_,B(R._payload),O)}if(xc(R)||pc(R))return E=E.get(_)||null,d(v,E,R,O,null);hh(v,R)}return null}function A(E,v,_,R){for(var O=null,B=null,b=v,S=v=0,k=null;b!==null&&S<_.length;S++){b.index>S?(k=b,b=null):k=b.sibling;var D=h(E,b,_[S],R);if(D===null){b===null&&(b=k);break}t&&b&&D.alternate===null&&e(E,b),v=s(D,v,S),B===null?O=D:B.sibling=D,B=D,b=k}if(S===_.length)return n(E,b),pt&&xo(E,S),O;if(b===null){for(;S<_.length;S++)b=f(E,_[S],R),b!==null&&(v=s(b,v,S),B===null?O=b:B.sibling=b,B=b);return pt&&xo(E,S),O}for(b=r(E,b);S<_.length;S++)k=y(b,E,S,_[S],R),k!==null&&(t&&k.alternate!==null&&b.delete(k.key===null?S:k.key),v=s(k,v,S),B===null?O=k:B.sibling=k,B=k);return t&&b.forEach(function(V){return e(E,V)}),pt&&xo(E,S),O}function g(E,v,_,R){var O=pc(_);if(typeof O!="function")throw Error(ne(150));if(_=O.call(_),_==null)throw Error(ne(151));for(var B=O=null,b=v,S=v=0,k=null,D=_.next();b!==null&&!D.done;S++,D=_.next()){b.index>S?(k=b,b=null):k=b.sibling;var V=h(E,b,D.value,R);if(V===null){b===null&&(b=k);break}t&&b&&V.alternate===null&&e(E,b),v=s(V,v,S),B===null?O=V:B.sibling=V,B=V,b=k}if(D.done)return n(E,b),pt&&xo(E,S),O;if(b===null){for(;!D.done;S++,D=_.next())D=f(E,D.value,R),D!==null&&(v=s(D,v,S),B===null?O=D:B.sibling=D,B=D);return pt&&xo(E,S),O}for(b=r(E,b);!D.done;S++,D=_.next())D=y(b,E,S,D.value,R),D!==null&&(t&&D.alternate!==null&&b.delete(D.key===null?S:D.key),v=s(D,v,S),B===null?O=D:B.sibling=D,B=D);return t&&b.forEach(function(F){return e(E,F)}),pt&&xo(E,S),O}function I(E,v,_,R){if(typeof _=="object"&&_!==null&&_.type===Ma&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case th:e:{for(var O=_.key,B=v;B!==null;){if(B.key===O){if(O=_.type,O===Ma){if(B.tag===7){n(E,B.sibling),v=i(B,_.props.children),v.return=E,E=v;break e}}else if(B.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===cs&&f1(O)===B.type){n(E,B.sibling),v=i(B,_.props),v.ref=wc(E,B,_),v.return=E,E=v;break e}n(E,B);break}else e(E,B);B=B.sibling}_.type===Ma?(v=Vo(_.props.children,E.mode,R,_.key),v.return=E,E=v):(R=Yh(_.type,_.key,_.props,null,E.mode,R),R.ref=wc(E,v,_),R.return=E,E=R)}return o(E);case Da:e:{for(B=_.key;v!==null;){if(v.key===B)if(v.tag===4&&v.stateNode.containerInfo===_.containerInfo&&v.stateNode.implementation===_.implementation){n(E,v.sibling),v=i(v,_.children||[]),v.return=E,E=v;break e}else{n(E,v);break}else e(E,v);v=v.sibling}v=vg(_,E.mode,R),v.return=E,E=v}return o(E);case cs:return B=_._init,I(E,v,B(_._payload),R)}if(xc(_))return A(E,v,_,R);if(pc(_))return g(E,v,_,R);hh(E,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,v!==null&&v.tag===6?(n(E,v.sibling),v=i(v,_),v.return=E,E=v):(n(E,v),v=yg(_,E.mode,R),v.return=E,E=v),o(E)):n(E,v)}return I}var wl=WA(!0),QA=WA(!1),Df=ro(null),Mf=null,qa=null,I0=null;function S0(){I0=qa=Mf=null}function b0(t){var e=Df.current;lt(Df),t._currentValue=e}function Sy(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Ja(t,e){Mf=t,I0=qa=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Mn=!0),t.firstContext=null)}function mr(t){var e=t._currentValue;if(I0!==t)if(t={context:t,memoizedValue:e,next:null},qa===null){if(Mf===null)throw Error(ne(308));qa=t,Mf.dependencies={lanes:0,firstContext:t}}else qa=qa.next=t;return e}var Ro=null;function R0(t){Ro===null?Ro=[t]:Ro.push(t)}function YA(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,R0(e)):(n.next=i.next,i.next=n),e.interleaved=n,Oi(t,r)}function Oi(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var us=!1;function P0(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function KA(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ki(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ns(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,We&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Oi(t,n)}return i=r.interleaved,i===null?(e.next=e,R0(r)):(e.next=i.next,i.next=e),r.interleaved=e,Oi(t,n)}function qh(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,m0(t,n)}}function p1(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Of(t,e,n,r){var i=t.updateQueue;us=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(s!==null){var f=i.baseState;o=0,d=c=l=null,a=s;do{var h=a.lane,y=a.eventTime;if((r&h)===h){d!==null&&(d=d.next={eventTime:y,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var A=t,g=a;switch(h=e,y=n,g.tag){case 1:if(A=g.payload,typeof A=="function"){f=A.call(y,f,h);break e}f=A;break e;case 3:A.flags=A.flags&-65537|128;case 0:if(A=g.payload,h=typeof A=="function"?A.call(y,f,h):A,h==null)break e;f=wt({},f,h);break e;case 2:us=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else y={eventTime:y,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=y,l=f):d=d.next=y,o|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(d===null&&(l=f),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Go|=o,t.lanes=o,t.memoizedState=f}}function m1(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(ne(191,i));i.call(r)}}}var $u={},Zr=ro($u),pu=ro($u),mu=ro($u);function Po(t){if(t===$u)throw Error(ne(174));return t}function k0(t,e){switch(it(mu,e),it(pu,t),it(Zr,$u),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:ay(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=ay(e,t)}lt(Zr),it(Zr,e)}function El(){lt(Zr),lt(pu),lt(mu)}function HA(t){Po(mu.current);var e=Po(Zr.current),n=ay(e,t.type);e!==n&&(it(pu,t),it(Zr,n))}function N0(t){pu.current===t&&(lt(Zr),lt(pu))}var gt=ro(0);function Lf(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var dg=[];function D0(){for(var t=0;t<dg.length;t++)dg[t]._workInProgressVersionPrimary=null;dg.length=0}var Gh=zi.ReactCurrentDispatcher,hg=zi.ReactCurrentBatchConfig,qo=0,vt=null,Ft=null,Qt=null,Vf=!1,Gc=!1,gu=0,WD=0;function ln(){throw Error(ne(321))}function M0(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Or(t[n],e[n]))return!1;return!0}function O0(t,e,n,r,i,s){if(qo=s,vt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Gh.current=t===null||t.memoizedState===null?HD:JD,t=n(r,i),Gc){s=0;do{if(Gc=!1,gu=0,25<=s)throw Error(ne(301));s+=1,Qt=Ft=null,e.updateQueue=null,Gh.current=ZD,t=n(r,i)}while(Gc)}if(Gh.current=Ff,e=Ft!==null&&Ft.next!==null,qo=0,Qt=Ft=vt=null,Vf=!1,e)throw Error(ne(300));return t}function L0(){var t=gu!==0;return gu=0,t}function Gr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qt===null?vt.memoizedState=Qt=t:Qt=Qt.next=t,Qt}function gr(){if(Ft===null){var t=vt.alternate;t=t!==null?t.memoizedState:null}else t=Ft.next;var e=Qt===null?vt.memoizedState:Qt.next;if(e!==null)Qt=e,Ft=t;else{if(t===null)throw Error(ne(310));Ft=t,t={memoizedState:Ft.memoizedState,baseState:Ft.baseState,baseQueue:Ft.baseQueue,queue:Ft.queue,next:null},Qt===null?vt.memoizedState=Qt=t:Qt=Qt.next=t}return Qt}function yu(t,e){return typeof e=="function"?e(t):e}function fg(t){var e=gr(),n=e.queue;if(n===null)throw Error(ne(311));n.lastRenderedReducer=t;var r=Ft,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var d=c.lane;if((qo&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=f,o=r):l=l.next=f,vt.lanes|=d,Go|=d}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,Or(r,e.memoizedState)||(Mn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,vt.lanes|=s,Go|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function pg(t){var e=gr(),n=e.queue;if(n===null)throw Error(ne(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Or(s,e.memoizedState)||(Mn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function JA(){}function ZA(t,e){var n=vt,r=gr(),i=e(),s=!Or(r.memoizedState,i);if(s&&(r.memoizedState=i,Mn=!0),r=r.queue,V0(tx.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Qt!==null&&Qt.memoizedState.tag&1){if(n.flags|=2048,vu(9,ex.bind(null,n,r,i,e),void 0,null),Kt===null)throw Error(ne(349));qo&30||XA(n,e,i)}return i}function XA(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=vt.updateQueue,e===null?(e={lastEffect:null,stores:null},vt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function ex(t,e,n,r){e.value=n,e.getSnapshot=r,nx(e)&&rx(t)}function tx(t,e,n){return n(function(){nx(e)&&rx(t)})}function nx(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Or(t,n)}catch{return!0}}function rx(t){var e=Oi(t,1);e!==null&&Mr(e,t,1,-1)}function g1(t){var e=Gr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:yu,lastRenderedState:t},e.queue=t,t=t.dispatch=KD.bind(null,vt,t),[e.memoizedState,t]}function vu(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=vt.updateQueue,e===null?(e={lastEffect:null,stores:null},vt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function ix(){return gr().memoizedState}function zh(t,e,n,r){var i=Gr();vt.flags|=t,i.memoizedState=vu(1|e,n,void 0,r===void 0?null:r)}function Pp(t,e,n,r){var i=gr();r=r===void 0?null:r;var s=void 0;if(Ft!==null){var o=Ft.memoizedState;if(s=o.destroy,r!==null&&M0(r,o.deps)){i.memoizedState=vu(e,n,s,r);return}}vt.flags|=t,i.memoizedState=vu(1|e,n,s,r)}function y1(t,e){return zh(8390656,8,t,e)}function V0(t,e){return Pp(2048,8,t,e)}function sx(t,e){return Pp(4,2,t,e)}function ox(t,e){return Pp(4,4,t,e)}function ax(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function lx(t,e,n){return n=n!=null?n.concat([t]):null,Pp(4,4,ax.bind(null,e,t),n)}function F0(){}function cx(t,e){var n=gr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&M0(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function ux(t,e){var n=gr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&M0(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function dx(t,e,n){return qo&21?(Or(n,e)||(n=gA(),vt.lanes|=n,Go|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Mn=!0),t.memoizedState=n)}function QD(t,e){var n=Xe;Xe=n!==0&&4>n?n:4,t(!0);var r=hg.transition;hg.transition={};try{t(!1),e()}finally{Xe=n,hg.transition=r}}function hx(){return gr().memoizedState}function YD(t,e,n){var r=Ms(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},fx(t))px(e,n);else if(n=YA(t,e,n,r),n!==null){var i=bn();Mr(n,t,r,i),mx(n,e,r)}}function KD(t,e,n){var r=Ms(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(fx(t))px(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Or(a,o)){var l=e.interleaved;l===null?(i.next=i,R0(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=YA(t,e,i,r),n!==null&&(i=bn(),Mr(n,t,r,i),mx(n,e,r))}}function fx(t){var e=t.alternate;return t===vt||e!==null&&e===vt}function px(t,e){Gc=Vf=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function mx(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,m0(t,n)}}var Ff={readContext:mr,useCallback:ln,useContext:ln,useEffect:ln,useImperativeHandle:ln,useInsertionEffect:ln,useLayoutEffect:ln,useMemo:ln,useReducer:ln,useRef:ln,useState:ln,useDebugValue:ln,useDeferredValue:ln,useTransition:ln,useMutableSource:ln,useSyncExternalStore:ln,useId:ln,unstable_isNewReconciler:!1},HD={readContext:mr,useCallback:function(t,e){return Gr().memoizedState=[t,e===void 0?null:e],t},useContext:mr,useEffect:y1,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,zh(4194308,4,ax.bind(null,e,t),n)},useLayoutEffect:function(t,e){return zh(4194308,4,t,e)},useInsertionEffect:function(t,e){return zh(4,2,t,e)},useMemo:function(t,e){var n=Gr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Gr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=YD.bind(null,vt,t),[r.memoizedState,t]},useRef:function(t){var e=Gr();return t={current:t},e.memoizedState=t},useState:g1,useDebugValue:F0,useDeferredValue:function(t){return Gr().memoizedState=t},useTransition:function(){var t=g1(!1),e=t[0];return t=QD.bind(null,t[1]),Gr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=vt,i=Gr();if(pt){if(n===void 0)throw Error(ne(407));n=n()}else{if(n=e(),Kt===null)throw Error(ne(349));qo&30||XA(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,y1(tx.bind(null,r,s,t),[t]),r.flags|=2048,vu(9,ex.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Gr(),e=Kt.identifierPrefix;if(pt){var n=Si,r=Ii;n=(r&~(1<<32-Dr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=gu++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=WD++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},JD={readContext:mr,useCallback:cx,useContext:mr,useEffect:V0,useImperativeHandle:lx,useInsertionEffect:sx,useLayoutEffect:ox,useMemo:ux,useReducer:fg,useRef:ix,useState:function(){return fg(yu)},useDebugValue:F0,useDeferredValue:function(t){var e=gr();return dx(e,Ft.memoizedState,t)},useTransition:function(){var t=fg(yu)[0],e=gr().memoizedState;return[t,e]},useMutableSource:JA,useSyncExternalStore:ZA,useId:hx,unstable_isNewReconciler:!1},ZD={readContext:mr,useCallback:cx,useContext:mr,useEffect:V0,useImperativeHandle:lx,useInsertionEffect:sx,useLayoutEffect:ox,useMemo:ux,useReducer:pg,useRef:ix,useState:function(){return pg(yu)},useDebugValue:F0,useDeferredValue:function(t){var e=gr();return Ft===null?e.memoizedState=t:dx(e,Ft.memoizedState,t)},useTransition:function(){var t=pg(yu)[0],e=gr().memoizedState;return[t,e]},useMutableSource:JA,useSyncExternalStore:ZA,useId:hx,unstable_isNewReconciler:!1};function Sr(t,e){if(t&&t.defaultProps){e=wt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function by(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:wt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var kp={isMounted:function(t){return(t=t._reactInternals)?ea(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=bn(),i=Ms(t),s=ki(r,i);s.payload=e,n!=null&&(s.callback=n),e=Ns(t,s,i),e!==null&&(Mr(e,t,i,r),qh(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=bn(),i=Ms(t),s=ki(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Ns(t,s,i),e!==null&&(Mr(e,t,i,r),qh(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=bn(),r=Ms(t),i=ki(n,r);i.tag=2,e!=null&&(i.callback=e),e=Ns(t,i,r),e!==null&&(Mr(e,t,r,n),qh(e,t,r))}};function v1(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!uu(n,r)||!uu(i,s):!0}function gx(t,e,n){var r=!1,i=zs,s=e.contextType;return typeof s=="object"&&s!==null?s=mr(s):(i=Ln(e)?jo:mn.current,r=e.contextTypes,s=(r=r!=null)?yl(t,i):zs),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=kp,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function w1(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&kp.enqueueReplaceState(e,e.state,null)}function Ry(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},P0(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=mr(s):(s=Ln(e)?jo:mn.current,i.context=yl(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(by(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&kp.enqueueReplaceState(i,i.state,null),Of(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Cl(t,e){try{var n="",r=e;do n+=IN(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function mg(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Py(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var XD=typeof WeakMap=="function"?WeakMap:Map;function yx(t,e,n){n=ki(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){jf||(jf=!0,jy=r),Py(t,e)},n}function vx(t,e,n){n=ki(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Py(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Py(t,e),typeof r!="function"&&(Ds===null?Ds=new Set([this]):Ds.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function E1(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new XD;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=fM.bind(null,t,e,n),e.then(t,t))}function C1(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function T1(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=ki(-1,1),e.tag=2,Ns(n,e,1))),n.lanes|=1),t)}var eM=zi.ReactCurrentOwner,Mn=!1;function An(t,e,n,r){e.child=t===null?QA(e,null,n,r):wl(e,t.child,n,r)}function _1(t,e,n,r,i){n=n.render;var s=e.ref;return Ja(e,i),r=O0(t,e,n,r,s,i),n=L0(),t!==null&&!Mn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Li(t,e,i)):(pt&&n&&_0(e),e.flags|=1,An(t,e,r,i),e.child)}function A1(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!W0(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,wx(t,e,s,r,i)):(t=Yh(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:uu,n(o,r)&&t.ref===e.ref)return Li(t,e,i)}return e.flags|=1,t=Os(s,r),t.ref=e.ref,t.return=e,e.child=t}function wx(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(uu(s,r)&&t.ref===e.ref)if(Mn=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Mn=!0);else return e.lanes=t.lanes,Li(t,e,i)}return ky(t,e,n,r,i)}function Ex(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},it(za,$n),$n|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,it(za,$n),$n|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,it(za,$n),$n|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,it(za,$n),$n|=r;return An(t,e,i,n),e.child}function Cx(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function ky(t,e,n,r,i){var s=Ln(n)?jo:mn.current;return s=yl(e,s),Ja(e,i),n=O0(t,e,n,r,s,i),r=L0(),t!==null&&!Mn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Li(t,e,i)):(pt&&r&&_0(e),e.flags|=1,An(t,e,n,i),e.child)}function x1(t,e,n,r,i){if(Ln(n)){var s=!0;Pf(e)}else s=!1;if(Ja(e,i),e.stateNode===null)$h(t,e),gx(e,n,r),Ry(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=mr(c):(c=Ln(n)?jo:mn.current,c=yl(e,c));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&w1(e,o,r,c),us=!1;var h=e.memoizedState;o.state=h,Of(e,r,o,i),l=e.memoizedState,a!==r||h!==l||On.current||us?(typeof d=="function"&&(by(e,n,d,r),l=e.memoizedState),(a=us||v1(e,n,a,r,h,l,c))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,KA(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Sr(e.type,a),o.props=c,f=e.pendingProps,h=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=mr(l):(l=Ln(n)?jo:mn.current,l=yl(e,l));var y=n.getDerivedStateFromProps;(d=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||h!==l)&&w1(e,o,r,l),us=!1,h=e.memoizedState,o.state=h,Of(e,r,o,i);var A=e.memoizedState;a!==f||h!==A||On.current||us?(typeof y=="function"&&(by(e,n,y,r),A=e.memoizedState),(c=us||v1(e,n,c,r,h,A,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,A,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,A,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=A),o.props=r,o.state=A,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return Ny(t,e,n,r,s,i)}function Ny(t,e,n,r,i,s){Cx(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&u1(e,n,!1),Li(t,e,s);r=e.stateNode,eM.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=wl(e,t.child,null,s),e.child=wl(e,null,a,s)):An(t,e,a,s),e.memoizedState=r.state,i&&u1(e,n,!0),e.child}function Tx(t){var e=t.stateNode;e.pendingContext?c1(t,e.pendingContext,e.pendingContext!==e.context):e.context&&c1(t,e.context,!1),k0(t,e.containerInfo)}function I1(t,e,n,r,i){return vl(),x0(i),e.flags|=256,An(t,e,n,r),e.child}var Dy={dehydrated:null,treeContext:null,retryLane:0};function My(t){return{baseLanes:t,cachePool:null,transitions:null}}function _x(t,e,n){var r=e.pendingProps,i=gt.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),it(gt,i&1),t===null)return Iy(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Mp(o,r,0,null),t=Vo(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=My(n),e.memoizedState=Dy,t):B0(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return tM(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Os(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Os(a,s):(s=Vo(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?My(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Dy,r}return s=t.child,t=s.sibling,r=Os(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function B0(t,e){return e=Mp({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function fh(t,e,n,r){return r!==null&&x0(r),wl(e,t.child,null,n),t=B0(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function tM(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=mg(Error(ne(422))),fh(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Mp({mode:"visible",children:r.children},i,0,null),s=Vo(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&wl(e,t.child,null,o),e.child.memoizedState=My(o),e.memoizedState=Dy,s);if(!(e.mode&1))return fh(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(ne(419)),r=mg(s,r,void 0),fh(t,e,o,r)}if(a=(o&t.childLanes)!==0,Mn||a){if(r=Kt,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Oi(t,i),Mr(r,t,i,-1))}return $0(),r=mg(Error(ne(421))),fh(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=pM.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Yn=ks(i.nextSibling),Hn=e,pt=!0,kr=null,t!==null&&(ur[dr++]=Ii,ur[dr++]=Si,ur[dr++]=Uo,Ii=t.id,Si=t.overflow,Uo=e),e=B0(e,r.children),e.flags|=4096,e)}function S1(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Sy(t.return,e,n)}function gg(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Ax(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(An(t,e,r.children,n),r=gt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&S1(t,n,e);else if(t.tag===19)S1(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(it(gt,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Lf(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),gg(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Lf(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}gg(e,!0,n,null,s);break;case"together":gg(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function $h(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Li(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Go|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(ne(153));if(e.child!==null){for(t=e.child,n=Os(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Os(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function nM(t,e,n){switch(e.tag){case 3:Tx(e),vl();break;case 5:HA(e);break;case 1:Ln(e.type)&&Pf(e);break;case 4:k0(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;it(Df,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(it(gt,gt.current&1),e.flags|=128,null):n&e.child.childLanes?_x(t,e,n):(it(gt,gt.current&1),t=Li(t,e,n),t!==null?t.sibling:null);it(gt,gt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Ax(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),it(gt,gt.current),r)break;return null;case 22:case 23:return e.lanes=0,Ex(t,e,n)}return Li(t,e,n)}var xx,Oy,Ix,Sx;xx=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Oy=function(){};Ix=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Po(Zr.current);var s=null;switch(n){case"input":i=ry(t,i),r=ry(t,r),s=[];break;case"select":i=wt({},i,{value:void 0}),r=wt({},r,{value:void 0}),s=[];break;case"textarea":i=oy(t,i),r=oy(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=bf)}ly(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(ru.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(ru.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&at("scroll",t),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};Sx=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ec(t,e){if(!pt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function cn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function rM(t,e,n){var r=e.pendingProps;switch(A0(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return cn(e),null;case 1:return Ln(e.type)&&Rf(),cn(e),null;case 3:return r=e.stateNode,El(),lt(On),lt(mn),D0(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(dh(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,kr!==null&&(Gy(kr),kr=null))),Oy(t,e),cn(e),null;case 5:N0(e);var i=Po(mu.current);if(n=e.type,t!==null&&e.stateNode!=null)Ix(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(ne(166));return cn(e),null}if(t=Po(Zr.current),dh(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Kr]=e,r[fu]=s,t=(e.mode&1)!==0,n){case"dialog":at("cancel",r),at("close",r);break;case"iframe":case"object":case"embed":at("load",r);break;case"video":case"audio":for(i=0;i<Sc.length;i++)at(Sc[i],r);break;case"source":at("error",r);break;case"img":case"image":case"link":at("error",r),at("load",r);break;case"details":at("toggle",r);break;case"input":LE(r,s),at("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},at("invalid",r);break;case"textarea":FE(r,s),at("invalid",r)}ly(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&uh(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&uh(r.textContent,a,t),i=["children",""+a]):ru.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&at("scroll",r)}switch(n){case"input":nh(r),VE(r,s,!0);break;case"textarea":nh(r),BE(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=bf)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=tA(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Kr]=e,t[fu]=r,xx(t,e,!1,!1),e.stateNode=t;e:{switch(o=cy(n,r),n){case"dialog":at("cancel",t),at("close",t),i=r;break;case"iframe":case"object":case"embed":at("load",t),i=r;break;case"video":case"audio":for(i=0;i<Sc.length;i++)at(Sc[i],t);i=r;break;case"source":at("error",t),i=r;break;case"img":case"image":case"link":at("error",t),at("load",t),i=r;break;case"details":at("toggle",t),i=r;break;case"input":LE(t,r),i=ry(t,r),at("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=wt({},r,{value:void 0}),at("invalid",t);break;case"textarea":FE(t,r),i=oy(t,r),at("invalid",t);break;default:i=r}ly(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?iA(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&nA(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&iu(t,l):typeof l=="number"&&iu(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(ru.hasOwnProperty(s)?l!=null&&s==="onScroll"&&at("scroll",t):l!=null&&c0(t,s,l,o))}switch(n){case"input":nh(t),VE(t,r,!1);break;case"textarea":nh(t),BE(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Gs(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Qa(t,!!r.multiple,s,!1):r.defaultValue!=null&&Qa(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=bf)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return cn(e),null;case 6:if(t&&e.stateNode!=null)Sx(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(ne(166));if(n=Po(mu.current),Po(Zr.current),dh(e)){if(r=e.stateNode,n=e.memoizedProps,r[Kr]=e,(s=r.nodeValue!==n)&&(t=Hn,t!==null))switch(t.tag){case 3:uh(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&uh(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Kr]=e,e.stateNode=r}return cn(e),null;case 13:if(lt(gt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(pt&&Yn!==null&&e.mode&1&&!(e.flags&128))$A(),vl(),e.flags|=98560,s=!1;else if(s=dh(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(ne(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(ne(317));s[Kr]=e}else vl(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;cn(e),s=!1}else kr!==null&&(Gy(kr),kr=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||gt.current&1?Bt===0&&(Bt=3):$0())),e.updateQueue!==null&&(e.flags|=4),cn(e),null);case 4:return El(),Oy(t,e),t===null&&du(e.stateNode.containerInfo),cn(e),null;case 10:return b0(e.type._context),cn(e),null;case 17:return Ln(e.type)&&Rf(),cn(e),null;case 19:if(lt(gt),s=e.memoizedState,s===null)return cn(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Ec(s,!1);else{if(Bt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Lf(t),o!==null){for(e.flags|=128,Ec(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return it(gt,gt.current&1|2),e.child}t=t.sibling}s.tail!==null&&St()>Tl&&(e.flags|=128,r=!0,Ec(s,!1),e.lanes=4194304)}else{if(!r)if(t=Lf(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ec(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!pt)return cn(e),null}else 2*St()-s.renderingStartTime>Tl&&n!==1073741824&&(e.flags|=128,r=!0,Ec(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=St(),e.sibling=null,n=gt.current,it(gt,r?n&1|2:n&1),e):(cn(e),null);case 22:case 23:return z0(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?$n&1073741824&&(cn(e),e.subtreeFlags&6&&(e.flags|=8192)):cn(e),null;case 24:return null;case 25:return null}throw Error(ne(156,e.tag))}function iM(t,e){switch(A0(e),e.tag){case 1:return Ln(e.type)&&Rf(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return El(),lt(On),lt(mn),D0(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return N0(e),null;case 13:if(lt(gt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ne(340));vl()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return lt(gt),null;case 4:return El(),null;case 10:return b0(e.type._context),null;case 22:case 23:return z0(),null;case 24:return null;default:return null}}var ph=!1,fn=!1,sM=typeof WeakSet=="function"?WeakSet:Set,me=null;function Ga(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){_t(t,e,r)}else n.current=null}function Ly(t,e,n){try{n()}catch(r){_t(t,e,r)}}var b1=!1;function oM(t,e){if(wy=xf,t=NA(),T0(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,d=0,f=t,h=null;t:for(;;){for(var y;f!==n||i!==0&&f.nodeType!==3||(a=o+i),f!==s||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(y=f.firstChild)!==null;)h=f,f=y;for(;;){if(f===t)break t;if(h===n&&++c===i&&(a=o),h===s&&++d===r&&(l=o),(y=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=y}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ey={focusedElem:t,selectionRange:n},xf=!1,me=e;me!==null;)if(e=me,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,me=t;else for(;me!==null;){e=me;try{var A=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(A!==null){var g=A.memoizedProps,I=A.memoizedState,E=e.stateNode,v=E.getSnapshotBeforeUpdate(e.elementType===e.type?g:Sr(e.type,g),I);E.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ne(163))}}catch(R){_t(e,e.return,R)}if(t=e.sibling,t!==null){t.return=e.return,me=t;break}me=e.return}return A=b1,b1=!1,A}function zc(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Ly(e,n,s)}i=i.next}while(i!==r)}}function Np(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Vy(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function bx(t){var e=t.alternate;e!==null&&(t.alternate=null,bx(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Kr],delete e[fu],delete e[_y],delete e[qD],delete e[GD])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Rx(t){return t.tag===5||t.tag===3||t.tag===4}function R1(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Rx(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Fy(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=bf));else if(r!==4&&(t=t.child,t!==null))for(Fy(t,e,n),t=t.sibling;t!==null;)Fy(t,e,n),t=t.sibling}function By(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(By(t,e,n),t=t.sibling;t!==null;)By(t,e,n),t=t.sibling}var Jt=null,Pr=!1;function ns(t,e,n){for(n=n.child;n!==null;)Px(t,e,n),n=n.sibling}function Px(t,e,n){if(Jr&&typeof Jr.onCommitFiberUnmount=="function")try{Jr.onCommitFiberUnmount(Ap,n)}catch{}switch(n.tag){case 5:fn||Ga(n,e);case 6:var r=Jt,i=Pr;Jt=null,ns(t,e,n),Jt=r,Pr=i,Jt!==null&&(Pr?(t=Jt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Jt.removeChild(n.stateNode));break;case 18:Jt!==null&&(Pr?(t=Jt,n=n.stateNode,t.nodeType===8?cg(t.parentNode,n):t.nodeType===1&&cg(t,n),lu(t)):cg(Jt,n.stateNode));break;case 4:r=Jt,i=Pr,Jt=n.stateNode.containerInfo,Pr=!0,ns(t,e,n),Jt=r,Pr=i;break;case 0:case 11:case 14:case 15:if(!fn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Ly(n,e,o),i=i.next}while(i!==r)}ns(t,e,n);break;case 1:if(!fn&&(Ga(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){_t(n,e,a)}ns(t,e,n);break;case 21:ns(t,e,n);break;case 22:n.mode&1?(fn=(r=fn)||n.memoizedState!==null,ns(t,e,n),fn=r):ns(t,e,n);break;default:ns(t,e,n)}}function P1(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new sM),e.forEach(function(r){var i=mM.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function xr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Jt=a.stateNode,Pr=!1;break e;case 3:Jt=a.stateNode.containerInfo,Pr=!0;break e;case 4:Jt=a.stateNode.containerInfo,Pr=!0;break e}a=a.return}if(Jt===null)throw Error(ne(160));Px(s,o,i),Jt=null,Pr=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){_t(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)kx(e,t),e=e.sibling}function kx(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(xr(e,t),Ur(t),r&4){try{zc(3,t,t.return),Np(3,t)}catch(g){_t(t,t.return,g)}try{zc(5,t,t.return)}catch(g){_t(t,t.return,g)}}break;case 1:xr(e,t),Ur(t),r&512&&n!==null&&Ga(n,n.return);break;case 5:if(xr(e,t),Ur(t),r&512&&n!==null&&Ga(n,n.return),t.flags&32){var i=t.stateNode;try{iu(i,"")}catch(g){_t(t,t.return,g)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&X_(i,s),cy(a,o);var c=cy(a,s);for(o=0;o<l.length;o+=2){var d=l[o],f=l[o+1];d==="style"?iA(i,f):d==="dangerouslySetInnerHTML"?nA(i,f):d==="children"?iu(i,f):c0(i,d,f,c)}switch(a){case"input":iy(i,s);break;case"textarea":eA(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var y=s.value;y!=null?Qa(i,!!s.multiple,y,!1):h!==!!s.multiple&&(s.defaultValue!=null?Qa(i,!!s.multiple,s.defaultValue,!0):Qa(i,!!s.multiple,s.multiple?[]:"",!1))}i[fu]=s}catch(g){_t(t,t.return,g)}}break;case 6:if(xr(e,t),Ur(t),r&4){if(t.stateNode===null)throw Error(ne(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(g){_t(t,t.return,g)}}break;case 3:if(xr(e,t),Ur(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{lu(e.containerInfo)}catch(g){_t(t,t.return,g)}break;case 4:xr(e,t),Ur(t);break;case 13:xr(e,t),Ur(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(q0=St())),r&4&&P1(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(fn=(c=fn)||d,xr(e,t),fn=c):xr(e,t),Ur(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(me=t,d=t.child;d!==null;){for(f=me=d;me!==null;){switch(h=me,y=h.child,h.tag){case 0:case 11:case 14:case 15:zc(4,h,h.return);break;case 1:Ga(h,h.return);var A=h.stateNode;if(typeof A.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,A.props=e.memoizedProps,A.state=e.memoizedState,A.componentWillUnmount()}catch(g){_t(r,n,g)}}break;case 5:Ga(h,h.return);break;case 22:if(h.memoizedState!==null){N1(f);continue}}y!==null?(y.return=h,me=y):N1(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=rA("display",o))}catch(g){_t(t,t.return,g)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(g){_t(t,t.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:xr(e,t),Ur(t),r&4&&P1(t);break;case 21:break;default:xr(e,t),Ur(t)}}function Ur(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Rx(n)){var r=n;break e}n=n.return}throw Error(ne(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(iu(i,""),r.flags&=-33);var s=R1(t);By(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=R1(t);Fy(t,a,o);break;default:throw Error(ne(161))}}catch(l){_t(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function aM(t,e,n){me=t,Nx(t)}function Nx(t,e,n){for(var r=(t.mode&1)!==0;me!==null;){var i=me,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||ph;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||fn;a=ph;var c=fn;if(ph=o,(fn=l)&&!c)for(me=i;me!==null;)o=me,l=o.child,o.tag===22&&o.memoizedState!==null?D1(i):l!==null?(l.return=o,me=l):D1(i);for(;s!==null;)me=s,Nx(s),s=s.sibling;me=i,ph=a,fn=c}k1(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,me=s):k1(t)}}function k1(t){for(;me!==null;){var e=me;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:fn||Np(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!fn)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Sr(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&m1(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}m1(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&lu(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ne(163))}fn||e.flags&512&&Vy(e)}catch(h){_t(e,e.return,h)}}if(e===t){me=null;break}if(n=e.sibling,n!==null){n.return=e.return,me=n;break}me=e.return}}function N1(t){for(;me!==null;){var e=me;if(e===t){me=null;break}var n=e.sibling;if(n!==null){n.return=e.return,me=n;break}me=e.return}}function D1(t){for(;me!==null;){var e=me;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Np(4,e)}catch(l){_t(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){_t(e,i,l)}}var s=e.return;try{Vy(e)}catch(l){_t(e,s,l)}break;case 5:var o=e.return;try{Vy(e)}catch(l){_t(e,o,l)}}}catch(l){_t(e,e.return,l)}if(e===t){me=null;break}var a=e.sibling;if(a!==null){a.return=e.return,me=a;break}me=e.return}}var lM=Math.ceil,Bf=zi.ReactCurrentDispatcher,j0=zi.ReactCurrentOwner,pr=zi.ReactCurrentBatchConfig,We=0,Kt=null,kt=null,en=0,$n=0,za=ro(0),Bt=0,wu=null,Go=0,Dp=0,U0=0,$c=null,Dn=null,q0=0,Tl=1/0,Ai=null,jf=!1,jy=null,Ds=null,mh=!1,As=null,Uf=0,Wc=0,Uy=null,Wh=-1,Qh=0;function bn(){return We&6?St():Wh!==-1?Wh:Wh=St()}function Ms(t){return t.mode&1?We&2&&en!==0?en&-en:$D.transition!==null?(Qh===0&&(Qh=gA()),Qh):(t=Xe,t!==0||(t=window.event,t=t===void 0?16:_A(t.type)),t):1}function Mr(t,e,n,r){if(50<Wc)throw Wc=0,Uy=null,Error(ne(185));qu(t,n,r),(!(We&2)||t!==Kt)&&(t===Kt&&(!(We&2)&&(Dp|=n),Bt===4&&fs(t,en)),Vn(t,r),n===1&&We===0&&!(e.mode&1)&&(Tl=St()+500,Rp&&io()))}function Vn(t,e){var n=t.callbackNode;$N(t,e);var r=Af(t,t===Kt?en:0);if(r===0)n!==null&&qE(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&qE(n),e===1)t.tag===0?zD(M1.bind(null,t)):qA(M1.bind(null,t)),jD(function(){!(We&6)&&io()}),n=null;else{switch(yA(r)){case 1:n=p0;break;case 4:n=pA;break;case 16:n=_f;break;case 536870912:n=mA;break;default:n=_f}n=jx(n,Dx.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Dx(t,e){if(Wh=-1,Qh=0,We&6)throw Error(ne(327));var n=t.callbackNode;if(Za()&&t.callbackNode!==n)return null;var r=Af(t,t===Kt?en:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=qf(t,r);else{e=r;var i=We;We|=2;var s=Ox();(Kt!==t||en!==e)&&(Ai=null,Tl=St()+500,Lo(t,e));do try{dM();break}catch(a){Mx(t,a)}while(!0);S0(),Bf.current=s,We=i,kt!==null?e=0:(Kt=null,en=0,e=Bt)}if(e!==0){if(e===2&&(i=py(t),i!==0&&(r=i,e=qy(t,i))),e===1)throw n=wu,Lo(t,0),fs(t,r),Vn(t,St()),n;if(e===6)fs(t,r);else{if(i=t.current.alternate,!(r&30)&&!cM(i)&&(e=qf(t,r),e===2&&(s=py(t),s!==0&&(r=s,e=qy(t,s))),e===1))throw n=wu,Lo(t,0),fs(t,r),Vn(t,St()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(ne(345));case 2:Io(t,Dn,Ai);break;case 3:if(fs(t,r),(r&130023424)===r&&(e=q0+500-St(),10<e)){if(Af(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){bn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Ty(Io.bind(null,t,Dn,Ai),e);break}Io(t,Dn,Ai);break;case 4:if(fs(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Dr(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=St()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*lM(r/1960))-r,10<r){t.timeoutHandle=Ty(Io.bind(null,t,Dn,Ai),r);break}Io(t,Dn,Ai);break;case 5:Io(t,Dn,Ai);break;default:throw Error(ne(329))}}}return Vn(t,St()),t.callbackNode===n?Dx.bind(null,t):null}function qy(t,e){var n=$c;return t.current.memoizedState.isDehydrated&&(Lo(t,e).flags|=256),t=qf(t,e),t!==2&&(e=Dn,Dn=n,e!==null&&Gy(e)),t}function Gy(t){Dn===null?Dn=t:Dn.push.apply(Dn,t)}function cM(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Or(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function fs(t,e){for(e&=~U0,e&=~Dp,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Dr(e),r=1<<n;t[n]=-1,e&=~r}}function M1(t){if(We&6)throw Error(ne(327));Za();var e=Af(t,0);if(!(e&1))return Vn(t,St()),null;var n=qf(t,e);if(t.tag!==0&&n===2){var r=py(t);r!==0&&(e=r,n=qy(t,r))}if(n===1)throw n=wu,Lo(t,0),fs(t,e),Vn(t,St()),n;if(n===6)throw Error(ne(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Io(t,Dn,Ai),Vn(t,St()),null}function G0(t,e){var n=We;We|=1;try{return t(e)}finally{We=n,We===0&&(Tl=St()+500,Rp&&io())}}function zo(t){As!==null&&As.tag===0&&!(We&6)&&Za();var e=We;We|=1;var n=pr.transition,r=Xe;try{if(pr.transition=null,Xe=1,t)return t()}finally{Xe=r,pr.transition=n,We=e,!(We&6)&&io()}}function z0(){$n=za.current,lt(za)}function Lo(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,BD(n)),kt!==null)for(n=kt.return;n!==null;){var r=n;switch(A0(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Rf();break;case 3:El(),lt(On),lt(mn),D0();break;case 5:N0(r);break;case 4:El();break;case 13:lt(gt);break;case 19:lt(gt);break;case 10:b0(r.type._context);break;case 22:case 23:z0()}n=n.return}if(Kt=t,kt=t=Os(t.current,null),en=$n=e,Bt=0,wu=null,U0=Dp=Go=0,Dn=$c=null,Ro!==null){for(e=0;e<Ro.length;e++)if(n=Ro[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Ro=null}return t}function Mx(t,e){do{var n=kt;try{if(S0(),Gh.current=Ff,Vf){for(var r=vt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Vf=!1}if(qo=0,Qt=Ft=vt=null,Gc=!1,gu=0,j0.current=null,n===null||n.return===null){Bt=1,wu=e,kt=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=en,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=a,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var y=C1(o);if(y!==null){y.flags&=-257,T1(y,o,a,s,e),y.mode&1&&E1(s,c,e),e=y,l=c;var A=e.updateQueue;if(A===null){var g=new Set;g.add(l),e.updateQueue=g}else A.add(l);break e}else{if(!(e&1)){E1(s,c,e),$0();break e}l=Error(ne(426))}}else if(pt&&a.mode&1){var I=C1(o);if(I!==null){!(I.flags&65536)&&(I.flags|=256),T1(I,o,a,s,e),x0(Cl(l,a));break e}}s=l=Cl(l,a),Bt!==4&&(Bt=2),$c===null?$c=[s]:$c.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var E=yx(s,l,e);p1(s,E);break e;case 1:a=l;var v=s.type,_=s.stateNode;if(!(s.flags&128)&&(typeof v.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Ds===null||!Ds.has(_)))){s.flags|=65536,e&=-e,s.lanes|=e;var R=vx(s,a,e);p1(s,R);break e}}s=s.return}while(s!==null)}Vx(n)}catch(O){e=O,kt===n&&n!==null&&(kt=n=n.return);continue}break}while(!0)}function Ox(){var t=Bf.current;return Bf.current=Ff,t===null?Ff:t}function $0(){(Bt===0||Bt===3||Bt===2)&&(Bt=4),Kt===null||!(Go&268435455)&&!(Dp&268435455)||fs(Kt,en)}function qf(t,e){var n=We;We|=2;var r=Ox();(Kt!==t||en!==e)&&(Ai=null,Lo(t,e));do try{uM();break}catch(i){Mx(t,i)}while(!0);if(S0(),We=n,Bf.current=r,kt!==null)throw Error(ne(261));return Kt=null,en=0,Bt}function uM(){for(;kt!==null;)Lx(kt)}function dM(){for(;kt!==null&&!LN();)Lx(kt)}function Lx(t){var e=Bx(t.alternate,t,$n);t.memoizedProps=t.pendingProps,e===null?Vx(t):kt=e,j0.current=null}function Vx(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=iM(n,e),n!==null){n.flags&=32767,kt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Bt=6,kt=null;return}}else if(n=rM(n,e,$n),n!==null){kt=n;return}if(e=e.sibling,e!==null){kt=e;return}kt=e=t}while(e!==null);Bt===0&&(Bt=5)}function Io(t,e,n){var r=Xe,i=pr.transition;try{pr.transition=null,Xe=1,hM(t,e,n,r)}finally{pr.transition=i,Xe=r}return null}function hM(t,e,n,r){do Za();while(As!==null);if(We&6)throw Error(ne(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(ne(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(WN(t,s),t===Kt&&(kt=Kt=null,en=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||mh||(mh=!0,jx(_f,function(){return Za(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=pr.transition,pr.transition=null;var o=Xe;Xe=1;var a=We;We|=4,j0.current=null,oM(t,n),kx(n,t),ND(Ey),xf=!!wy,Ey=wy=null,t.current=n,aM(n),VN(),We=a,Xe=o,pr.transition=s}else t.current=n;if(mh&&(mh=!1,As=t,Uf=i),s=t.pendingLanes,s===0&&(Ds=null),jN(n.stateNode),Vn(t,St()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(jf)throw jf=!1,t=jy,jy=null,t;return Uf&1&&t.tag!==0&&Za(),s=t.pendingLanes,s&1?t===Uy?Wc++:(Wc=0,Uy=t):Wc=0,io(),null}function Za(){if(As!==null){var t=yA(Uf),e=pr.transition,n=Xe;try{if(pr.transition=null,Xe=16>t?16:t,As===null)var r=!1;else{if(t=As,As=null,Uf=0,We&6)throw Error(ne(331));var i=We;for(We|=4,me=t.current;me!==null;){var s=me,o=s.child;if(me.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(me=c;me!==null;){var d=me;switch(d.tag){case 0:case 11:case 15:zc(8,d,s)}var f=d.child;if(f!==null)f.return=d,me=f;else for(;me!==null;){d=me;var h=d.sibling,y=d.return;if(bx(d),d===c){me=null;break}if(h!==null){h.return=y,me=h;break}me=y}}}var A=s.alternate;if(A!==null){var g=A.child;if(g!==null){A.child=null;do{var I=g.sibling;g.sibling=null,g=I}while(g!==null)}}me=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,me=o;else e:for(;me!==null;){if(s=me,s.flags&2048)switch(s.tag){case 0:case 11:case 15:zc(9,s,s.return)}var E=s.sibling;if(E!==null){E.return=s.return,me=E;break e}me=s.return}}var v=t.current;for(me=v;me!==null;){o=me;var _=o.child;if(o.subtreeFlags&2064&&_!==null)_.return=o,me=_;else e:for(o=v;me!==null;){if(a=me,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Np(9,a)}}catch(O){_t(a,a.return,O)}if(a===o){me=null;break e}var R=a.sibling;if(R!==null){R.return=a.return,me=R;break e}me=a.return}}if(We=i,io(),Jr&&typeof Jr.onPostCommitFiberRoot=="function")try{Jr.onPostCommitFiberRoot(Ap,t)}catch{}r=!0}return r}finally{Xe=n,pr.transition=e}}return!1}function O1(t,e,n){e=Cl(n,e),e=yx(t,e,1),t=Ns(t,e,1),e=bn(),t!==null&&(qu(t,1,e),Vn(t,e))}function _t(t,e,n){if(t.tag===3)O1(t,t,n);else for(;e!==null;){if(e.tag===3){O1(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ds===null||!Ds.has(r))){t=Cl(n,t),t=vx(e,t,1),e=Ns(e,t,1),t=bn(),e!==null&&(qu(e,1,t),Vn(e,t));break}}e=e.return}}function fM(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=bn(),t.pingedLanes|=t.suspendedLanes&n,Kt===t&&(en&n)===n&&(Bt===4||Bt===3&&(en&130023424)===en&&500>St()-q0?Lo(t,0):U0|=n),Vn(t,e)}function Fx(t,e){e===0&&(t.mode&1?(e=sh,sh<<=1,!(sh&130023424)&&(sh=4194304)):e=1);var n=bn();t=Oi(t,e),t!==null&&(qu(t,e,n),Vn(t,n))}function pM(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Fx(t,n)}function mM(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(ne(314))}r!==null&&r.delete(e),Fx(t,n)}var Bx;Bx=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||On.current)Mn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Mn=!1,nM(t,e,n);Mn=!!(t.flags&131072)}else Mn=!1,pt&&e.flags&1048576&&GA(e,Nf,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;$h(t,e),t=e.pendingProps;var i=yl(e,mn.current);Ja(e,n),i=O0(null,e,r,t,i,n);var s=L0();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ln(r)?(s=!0,Pf(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,P0(e),i.updater=kp,e.stateNode=i,i._reactInternals=e,Ry(e,r,t,n),e=Ny(null,e,r,!0,s,n)):(e.tag=0,pt&&s&&_0(e),An(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch($h(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=yM(r),t=Sr(r,t),i){case 0:e=ky(null,e,r,t,n);break e;case 1:e=x1(null,e,r,t,n);break e;case 11:e=_1(null,e,r,t,n);break e;case 14:e=A1(null,e,r,Sr(r.type,t),n);break e}throw Error(ne(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Sr(r,i),ky(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Sr(r,i),x1(t,e,r,i,n);case 3:e:{if(Tx(e),t===null)throw Error(ne(387));r=e.pendingProps,s=e.memoizedState,i=s.element,KA(t,e),Of(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Cl(Error(ne(423)),e),e=I1(t,e,r,n,i);break e}else if(r!==i){i=Cl(Error(ne(424)),e),e=I1(t,e,r,n,i);break e}else for(Yn=ks(e.stateNode.containerInfo.firstChild),Hn=e,pt=!0,kr=null,n=QA(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(vl(),r===i){e=Li(t,e,n);break e}An(t,e,r,n)}e=e.child}return e;case 5:return HA(e),t===null&&Iy(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Cy(r,i)?o=null:s!==null&&Cy(r,s)&&(e.flags|=32),Cx(t,e),An(t,e,o,n),e.child;case 6:return t===null&&Iy(e),null;case 13:return _x(t,e,n);case 4:return k0(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=wl(e,null,r,n):An(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Sr(r,i),_1(t,e,r,i,n);case 7:return An(t,e,e.pendingProps,n),e.child;case 8:return An(t,e,e.pendingProps.children,n),e.child;case 12:return An(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,it(Df,r._currentValue),r._currentValue=o,s!==null)if(Or(s.value,o)){if(s.children===i.children&&!On.current){e=Li(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=ki(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Sy(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(ne(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Sy(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}An(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Ja(e,n),i=mr(i),r=r(i),e.flags|=1,An(t,e,r,n),e.child;case 14:return r=e.type,i=Sr(r,e.pendingProps),i=Sr(r.type,i),A1(t,e,r,i,n);case 15:return wx(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Sr(r,i),$h(t,e),e.tag=1,Ln(r)?(t=!0,Pf(e)):t=!1,Ja(e,n),gx(e,r,i),Ry(e,r,i,n),Ny(null,e,r,!0,t,n);case 19:return Ax(t,e,n);case 22:return Ex(t,e,n)}throw Error(ne(156,e.tag))};function jx(t,e){return fA(t,e)}function gM(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fr(t,e,n,r){return new gM(t,e,n,r)}function W0(t){return t=t.prototype,!(!t||!t.isReactComponent)}function yM(t){if(typeof t=="function")return W0(t)?1:0;if(t!=null){if(t=t.$$typeof,t===d0)return 11;if(t===h0)return 14}return 2}function Os(t,e){var n=t.alternate;return n===null?(n=fr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Yh(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")W0(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Ma:return Vo(n.children,i,s,e);case u0:o=8,i|=8;break;case Xg:return t=fr(12,n,e,i|2),t.elementType=Xg,t.lanes=s,t;case ey:return t=fr(13,n,e,i),t.elementType=ey,t.lanes=s,t;case ty:return t=fr(19,n,e,i),t.elementType=ty,t.lanes=s,t;case H_:return Mp(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Y_:o=10;break e;case K_:o=9;break e;case d0:o=11;break e;case h0:o=14;break e;case cs:o=16,r=null;break e}throw Error(ne(130,t==null?t:typeof t,""))}return e=fr(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Vo(t,e,n,r){return t=fr(7,t,r,e),t.lanes=n,t}function Mp(t,e,n,r){return t=fr(22,t,r,e),t.elementType=H_,t.lanes=n,t.stateNode={isHidden:!1},t}function yg(t,e,n){return t=fr(6,t,null,e),t.lanes=n,t}function vg(t,e,n){return e=fr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function vM(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Zm(0),this.expirationTimes=Zm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Zm(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Q0(t,e,n,r,i,s,o,a,l){return t=new vM(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=fr(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},P0(s),t}function wM(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Da,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Ux(t){if(!t)return zs;t=t._reactInternals;e:{if(ea(t)!==t||t.tag!==1)throw Error(ne(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ln(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ne(171))}if(t.tag===1){var n=t.type;if(Ln(n))return UA(t,n,e)}return e}function qx(t,e,n,r,i,s,o,a,l){return t=Q0(n,r,!0,t,i,s,o,a,l),t.context=Ux(null),n=t.current,r=bn(),i=Ms(n),s=ki(r,i),s.callback=e??null,Ns(n,s,i),t.current.lanes=i,qu(t,i,r),Vn(t,r),t}function Op(t,e,n,r){var i=e.current,s=bn(),o=Ms(i);return n=Ux(n),e.context===null?e.context=n:e.pendingContext=n,e=ki(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ns(i,e,o),t!==null&&(Mr(t,i,o,s),qh(t,i,o)),o}function Gf(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function L1(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Y0(t,e){L1(t,e),(t=t.alternate)&&L1(t,e)}function EM(){return null}var Gx=typeof reportError=="function"?reportError:function(t){console.error(t)};function K0(t){this._internalRoot=t}Lp.prototype.render=K0.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ne(409));Op(t,e,null,null)};Lp.prototype.unmount=K0.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;zo(function(){Op(null,t,null,null)}),e[Mi]=null}};function Lp(t){this._internalRoot=t}Lp.prototype.unstable_scheduleHydration=function(t){if(t){var e=EA();t={blockedOn:null,target:t,priority:e};for(var n=0;n<hs.length&&e!==0&&e<hs[n].priority;n++);hs.splice(n,0,t),n===0&&TA(t)}};function H0(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Vp(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function V1(){}function CM(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=Gf(o);s.call(c)}}var o=qx(e,r,t,0,null,!1,!1,"",V1);return t._reactRootContainer=o,t[Mi]=o.current,du(t.nodeType===8?t.parentNode:t),zo(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=Gf(l);a.call(c)}}var l=Q0(t,0,!1,null,null,!1,!1,"",V1);return t._reactRootContainer=l,t[Mi]=l.current,du(t.nodeType===8?t.parentNode:t),zo(function(){Op(e,l,n,r)}),l}function Fp(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Gf(o);a.call(l)}}Op(e,o,t,i)}else o=CM(n,e,t,i,r);return Gf(o)}vA=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Ic(e.pendingLanes);n!==0&&(m0(e,n|1),Vn(e,St()),!(We&6)&&(Tl=St()+500,io()))}break;case 13:zo(function(){var r=Oi(t,1);if(r!==null){var i=bn();Mr(r,t,1,i)}}),Y0(t,1)}};g0=function(t){if(t.tag===13){var e=Oi(t,134217728);if(e!==null){var n=bn();Mr(e,t,134217728,n)}Y0(t,134217728)}};wA=function(t){if(t.tag===13){var e=Ms(t),n=Oi(t,e);if(n!==null){var r=bn();Mr(n,t,e,r)}Y0(t,e)}};EA=function(){return Xe};CA=function(t,e){var n=Xe;try{return Xe=t,e()}finally{Xe=n}};dy=function(t,e,n){switch(e){case"input":if(iy(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=bp(r);if(!i)throw Error(ne(90));Z_(r),iy(r,i)}}}break;case"textarea":eA(t,n);break;case"select":e=n.value,e!=null&&Qa(t,!!n.multiple,e,!1)}};aA=G0;lA=zo;var TM={usingClientEntryPoint:!1,Events:[zu,Fa,bp,sA,oA,G0]},Cc={findFiberByHostInstance:bo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},_M={bundleType:Cc.bundleType,version:Cc.version,rendererPackageName:Cc.rendererPackageName,rendererConfig:Cc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:zi.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=dA(t),t===null?null:t.stateNode},findFiberByHostInstance:Cc.findFiberByHostInstance||EM,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var gh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!gh.isDisabled&&gh.supportsFiber)try{Ap=gh.inject(_M),Jr=gh}catch{}}tr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=TM;tr.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!H0(e))throw Error(ne(200));return wM(t,e,null,n)};tr.createRoot=function(t,e){if(!H0(t))throw Error(ne(299));var n=!1,r="",i=Gx;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Q0(t,1,!1,null,null,n,!1,r,i),t[Mi]=e.current,du(t.nodeType===8?t.parentNode:t),new K0(e)};tr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ne(188)):(t=Object.keys(t).join(","),Error(ne(268,t)));return t=dA(e),t=t===null?null:t.stateNode,t};tr.flushSync=function(t){return zo(t)};tr.hydrate=function(t,e,n){if(!Vp(e))throw Error(ne(200));return Fp(null,t,e,!0,n)};tr.hydrateRoot=function(t,e,n){if(!H0(t))throw Error(ne(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=Gx;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=qx(e,null,t,1,n??null,i,!1,s,o),t[Mi]=e.current,du(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Lp(e)};tr.render=function(t,e,n){if(!Vp(e))throw Error(ne(200));return Fp(null,t,e,!1,n)};tr.unmountComponentAtNode=function(t){if(!Vp(t))throw Error(ne(40));return t._reactRootContainer?(zo(function(){Fp(null,null,t,!1,function(){t._reactRootContainer=null,t[Mi]=null})}),!0):!1};tr.unstable_batchedUpdates=G0;tr.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Vp(n))throw Error(ne(200));if(t==null||t._reactInternals===void 0)throw Error(ne(38));return Fp(t,e,n,!1,r)};tr.version="18.3.1-next-f1338f8080-20240426";function zx(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(zx)}catch(t){console.error(t)}}zx(),z_.exports=tr;var ta=z_.exports;const $x=n0(ta);var Wx,F1=ta;Wx=F1.createRoot,F1.hydrateRoot;const AM=1,xM=1e6;let wg=0;function IM(){return wg=(wg+1)%Number.MAX_SAFE_INTEGER,wg.toString()}const Eg=new Map,B1=t=>{if(Eg.has(t))return;const e=setTimeout(()=>{Eg.delete(t),Qc({type:"REMOVE_TOAST",toastId:t})},xM);Eg.set(t,e)},SM=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,AM)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?B1(n):t.toasts.forEach(r=>{B1(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},Kh=[];let Hh={toasts:[]};function Qc(t){Hh=SM(Hh,t),Kh.forEach(e=>{e(Hh)})}function mt({...t}){const e=IM(),n=i=>Qc({type:"UPDATE_TOAST",toast:{...i,id:e}}),r=()=>Qc({type:"DISMISS_TOAST",toastId:e});return Qc({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:i=>{i||r()}}}),{id:e,dismiss:r,update:n}}function bM(){const[t,e]=T.useState(Hh);return T.useEffect(()=>(Kh.push(e),()=>{const n=Kh.indexOf(e);n>-1&&Kh.splice(n,1)}),[t]),{...t,toast:mt,dismiss:n=>Qc({type:"DISMISS_TOAST",toastId:n})}}function Be(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function RM(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function Qx(...t){return e=>t.forEach(n=>RM(n,e))}function At(...t){return T.useCallback(Qx(...t),t)}function PM(t,e=[]){let n=[];function r(s,o){const a=T.createContext(o),l=n.length;n=[...n,o];function c(f){const{scope:h,children:y,...A}=f,g=(h==null?void 0:h[t][l])||a,I=T.useMemo(()=>A,Object.values(A));return m.jsx(g.Provider,{value:I,children:y})}function d(f,h){const y=(h==null?void 0:h[t][l])||a,A=T.useContext(y);if(A)return A;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${s}\``)}return c.displayName=s+"Provider",[c,d]}const i=()=>{const s=n.map(o=>T.createContext(o));return function(a){const l=(a==null?void 0:a[t])||s;return T.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return i.scopeName=t,[r,kM(i,...e)]}function kM(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const f=l(s)[`__scope${c}`];return{...a,...f}},{});return T.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var _l=T.forwardRef((t,e)=>{const{children:n,...r}=t,i=T.Children.toArray(n),s=i.find(NM);if(s){const o=s.props.children,a=i.map(l=>l===s?T.Children.count(o)>1?T.Children.only(null):T.isValidElement(o)?o.props.children:null:l);return m.jsx(zy,{...r,ref:e,children:T.isValidElement(o)?T.cloneElement(o,void 0,a):null})}return m.jsx(zy,{...r,ref:e,children:n})});_l.displayName="Slot";var zy=T.forwardRef((t,e)=>{const{children:n,...r}=t;if(T.isValidElement(n)){const i=MM(n);return T.cloneElement(n,{...DM(r,n.props),ref:e?Qx(e,i):i})}return T.Children.count(n)>1?T.Children.only(null):null});zy.displayName="SlotClone";var Yx=({children:t})=>m.jsx(m.Fragment,{children:t});function NM(t){return T.isValidElement(t)&&t.type===Yx}function DM(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...a)=>{s(...a),i(...a)}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}function MM(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Kx(t){const e=t+"CollectionProvider",[n,r]=PM(e),[i,s]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=y=>{const{scope:A,children:g}=y,I=Q.useRef(null),E=Q.useRef(new Map).current;return m.jsx(i,{scope:A,itemMap:E,collectionRef:I,children:g})};o.displayName=e;const a=t+"CollectionSlot",l=Q.forwardRef((y,A)=>{const{scope:g,children:I}=y,E=s(a,g),v=At(A,E.collectionRef);return m.jsx(_l,{ref:v,children:I})});l.displayName=a;const c=t+"CollectionItemSlot",d="data-radix-collection-item",f=Q.forwardRef((y,A)=>{const{scope:g,children:I,...E}=y,v=Q.useRef(null),_=At(A,v),R=s(c,g);return Q.useEffect(()=>(R.itemMap.set(v,{ref:v,...E}),()=>void R.itemMap.delete(v))),m.jsx(_l,{[d]:"",ref:_,children:I})});f.displayName=c;function h(y){const A=s(t+"CollectionConsumer",y);return Q.useCallback(()=>{const I=A.collectionRef.current;if(!I)return[];const E=Array.from(I.querySelectorAll(`[${d}]`));return Array.from(A.itemMap.values()).sort((R,O)=>E.indexOf(R.ref.current)-E.indexOf(O.ref.current))},[A.collectionRef,A.itemMap])}return[{Provider:o,Slot:l,ItemSlot:f},h,r]}function J0(t,e=[]){let n=[];function r(s,o){const a=T.createContext(o),l=n.length;n=[...n,o];const c=f=>{var E;const{scope:h,children:y,...A}=f,g=((E=h==null?void 0:h[t])==null?void 0:E[l])||a,I=T.useMemo(()=>A,Object.values(A));return m.jsx(g.Provider,{value:I,children:y})};c.displayName=s+"Provider";function d(f,h){var g;const y=((g=h==null?void 0:h[t])==null?void 0:g[l])||a,A=T.useContext(y);if(A)return A;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${s}\``)}return[c,d]}const i=()=>{const s=n.map(o=>T.createContext(o));return function(a){const l=(a==null?void 0:a[t])||s;return T.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return i.scopeName=t,[r,OM(i,...e)]}function OM(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const f=l(s)[`__scope${c}`];return{...a,...f}},{});return T.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var LM=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],nt=LM.reduce((t,e)=>{const n=T.forwardRef((r,i)=>{const{asChild:s,...o}=r,a=s?_l:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),m.jsx(a,{...o,ref:i})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function Hx(t,e){t&&ta.flushSync(()=>t.dispatchEvent(e))}function er(t){const e=T.useRef(t);return T.useEffect(()=>{e.current=t}),T.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function VM(t,e=globalThis==null?void 0:globalThis.document){const n=er(t);T.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var FM="DismissableLayer",$y="dismissableLayer.update",BM="dismissableLayer.pointerDownOutside",jM="dismissableLayer.focusOutside",j1,Jx=T.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Bp=T.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,onDismiss:a,...l}=t,c=T.useContext(Jx),[d,f]=T.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,y]=T.useState({}),A=At(e,b=>f(b)),g=Array.from(c.layers),[I]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),E=g.indexOf(I),v=d?g.indexOf(d):-1,_=c.layersWithOutsidePointerEventsDisabled.size>0,R=v>=E,O=qM(b=>{const S=b.target,k=[...c.branches].some(D=>D.contains(S));!R||k||(i==null||i(b),o==null||o(b),b.defaultPrevented||a==null||a())},h),B=GM(b=>{const S=b.target;[...c.branches].some(D=>D.contains(S))||(s==null||s(b),o==null||o(b),b.defaultPrevented||a==null||a())},h);return VM(b=>{v===c.layers.size-1&&(r==null||r(b),!b.defaultPrevented&&a&&(b.preventDefault(),a()))},h),T.useEffect(()=>{if(d)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(j1=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(d)),c.layers.add(d),U1(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=j1)}},[d,h,n,c]),T.useEffect(()=>()=>{d&&(c.layers.delete(d),c.layersWithOutsidePointerEventsDisabled.delete(d),U1())},[d,c]),T.useEffect(()=>{const b=()=>y({});return document.addEventListener($y,b),()=>document.removeEventListener($y,b)},[]),m.jsx(nt.div,{...l,ref:A,style:{pointerEvents:_?R?"auto":"none":void 0,...t.style},onFocusCapture:Be(t.onFocusCapture,B.onFocusCapture),onBlurCapture:Be(t.onBlurCapture,B.onBlurCapture),onPointerDownCapture:Be(t.onPointerDownCapture,O.onPointerDownCapture)})});Bp.displayName=FM;var UM="DismissableLayerBranch",Zx=T.forwardRef((t,e)=>{const n=T.useContext(Jx),r=T.useRef(null),i=At(e,r);return T.useEffect(()=>{const s=r.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),m.jsx(nt.div,{...t,ref:i})});Zx.displayName=UM;function qM(t,e=globalThis==null?void 0:globalThis.document){const n=er(t),r=T.useRef(!1),i=T.useRef(()=>{});return T.useEffect(()=>{const s=a=>{if(a.target&&!r.current){let l=function(){Xx(BM,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=l,e.addEventListener("click",i.current,{once:!0})):l()}else e.removeEventListener("click",i.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function GM(t,e=globalThis==null?void 0:globalThis.document){const n=er(t),r=T.useRef(!1);return T.useEffect(()=>{const i=s=>{s.target&&!r.current&&Xx(jM,n,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function U1(){const t=new CustomEvent($y);document.dispatchEvent(t)}function Xx(t,e,n,{discrete:r}){const i=n.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?Hx(i,s):i.dispatchEvent(s)}var zM=Bp,$M=Zx,gn=globalThis!=null&&globalThis.document?T.useLayoutEffect:()=>{},WM="Portal",Z0=T.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[i,s]=T.useState(!1);gn(()=>s(!0),[]);const o=n||i&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?$x.createPortal(m.jsx(nt.div,{...r,ref:e}),o):null});Z0.displayName=WM;function QM(t,e){return T.useReducer((n,r)=>e[n][r]??n,t)}var X0=t=>{const{present:e,children:n}=t,r=YM(e),i=typeof n=="function"?n({present:r.isPresent}):T.Children.only(n),s=At(r.ref,KM(i));return typeof n=="function"||r.isPresent?T.cloneElement(i,{ref:s}):null};X0.displayName="Presence";function YM(t){const[e,n]=T.useState(),r=T.useRef({}),i=T.useRef(t),s=T.useRef("none"),o=t?"mounted":"unmounted",[a,l]=QM(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return T.useEffect(()=>{const c=yh(r.current);s.current=a==="mounted"?c:"none"},[a]),gn(()=>{const c=r.current,d=i.current;if(d!==t){const h=s.current,y=yh(c);t?l("MOUNT"):y==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(d&&h!==y?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,l]),gn(()=>{if(e){let c;const d=e.ownerDocument.defaultView??window,f=y=>{const g=yh(r.current).includes(y.animationName);if(y.target===e&&g&&(l("ANIMATION_END"),!i.current)){const I=e.style.animationFillMode;e.style.animationFillMode="forwards",c=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=I)})}},h=y=>{y.target===e&&(s.current=yh(r.current))};return e.addEventListener("animationstart",h),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{d.clearTimeout(c),e.removeEventListener("animationstart",h),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:T.useCallback(c=>{c&&(r.current=getComputedStyle(c)),n(c)},[])}}function yh(t){return(t==null?void 0:t.animationName)||"none"}function KM(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Wy({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,i]=HM({defaultProp:e,onChange:n}),s=t!==void 0,o=s?t:r,a=er(n),l=T.useCallback(c=>{if(s){const f=typeof c=="function"?c(t):c;f!==t&&a(f)}else i(c)},[s,t,i,a]);return[o,l]}function HM({defaultProp:t,onChange:e}){const n=T.useState(t),[r]=n,i=T.useRef(r),s=er(e);return T.useEffect(()=>{i.current!==r&&(s(r),i.current=r)},[r,i,s]),n}var JM="VisuallyHidden",Wu=T.forwardRef((t,e)=>m.jsx(nt.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));Wu.displayName=JM;var ZM=Wu,ew="ToastProvider",[tw,XM,e4]=Kx("Toast"),[eI,q7]=J0("Toast",[e4]),[t4,jp]=eI(ew),tI=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:s=50,children:o}=t,[a,l]=T.useState(null),[c,d]=T.useState(0),f=T.useRef(!1),h=T.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${ew}\`. Expected non-empty \`string\`.`),m.jsx(tw.Provider,{scope:e,children:m.jsx(t4,{scope:e,label:n,duration:r,swipeDirection:i,swipeThreshold:s,toastCount:c,viewport:a,onViewportChange:l,onToastAdd:T.useCallback(()=>d(y=>y+1),[]),onToastRemove:T.useCallback(()=>d(y=>y-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:h,children:o})})};tI.displayName=ew;var nI="ToastViewport",n4=["F8"],Qy="toast.viewportPause",Yy="toast.viewportResume",rI=T.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=n4,label:i="Notifications ({hotkey})",...s}=t,o=jp(nI,n),a=XM(n),l=T.useRef(null),c=T.useRef(null),d=T.useRef(null),f=T.useRef(null),h=At(e,f,o.onViewportChange),y=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),A=o.toastCount>0;T.useEffect(()=>{const I=E=>{var _;r.length!==0&&r.every(R=>E[R]||E.code===R)&&((_=f.current)==null||_.focus())};return document.addEventListener("keydown",I),()=>document.removeEventListener("keydown",I)},[r]),T.useEffect(()=>{const I=l.current,E=f.current;if(A&&I&&E){const v=()=>{if(!o.isClosePausedRef.current){const B=new CustomEvent(Qy);E.dispatchEvent(B),o.isClosePausedRef.current=!0}},_=()=>{if(o.isClosePausedRef.current){const B=new CustomEvent(Yy);E.dispatchEvent(B),o.isClosePausedRef.current=!1}},R=B=>{!I.contains(B.relatedTarget)&&_()},O=()=>{I.contains(document.activeElement)||_()};return I.addEventListener("focusin",v),I.addEventListener("focusout",R),I.addEventListener("pointermove",v),I.addEventListener("pointerleave",O),window.addEventListener("blur",v),window.addEventListener("focus",_),()=>{I.removeEventListener("focusin",v),I.removeEventListener("focusout",R),I.removeEventListener("pointermove",v),I.removeEventListener("pointerleave",O),window.removeEventListener("blur",v),window.removeEventListener("focus",_)}}},[A,o.isClosePausedRef]);const g=T.useCallback(({tabbingDirection:I})=>{const v=a().map(_=>{const R=_.ref.current,O=[R,...m4(R)];return I==="forwards"?O:O.reverse()});return(I==="forwards"?v.reverse():v).flat()},[a]);return T.useEffect(()=>{const I=f.current;if(I){const E=v=>{var O,B,b;const _=v.altKey||v.ctrlKey||v.metaKey;if(v.key==="Tab"&&!_){const S=document.activeElement,k=v.shiftKey;if(v.target===I&&k){(O=c.current)==null||O.focus();return}const F=g({tabbingDirection:k?"backwards":"forwards"}),M=F.findIndex(ee=>ee===S);Cg(F.slice(M+1))?v.preventDefault():k?(B=c.current)==null||B.focus():(b=d.current)==null||b.focus()}};return I.addEventListener("keydown",E),()=>I.removeEventListener("keydown",E)}},[a,g]),m.jsxs($M,{ref:l,role:"region","aria-label":i.replace("{hotkey}",y),tabIndex:-1,style:{pointerEvents:A?void 0:"none"},children:[A&&m.jsx(Ky,{ref:c,onFocusFromOutsideViewport:()=>{const I=g({tabbingDirection:"forwards"});Cg(I)}}),m.jsx(tw.Slot,{scope:n,children:m.jsx(nt.ol,{tabIndex:-1,...s,ref:h})}),A&&m.jsx(Ky,{ref:d,onFocusFromOutsideViewport:()=>{const I=g({tabbingDirection:"backwards"});Cg(I)}})]})});rI.displayName=nI;var iI="ToastFocusProxy",Ky=T.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...i}=t,s=jp(iI,n);return m.jsx(Wu,{"aria-hidden":!0,tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:o=>{var c;const a=o.relatedTarget;!((c=s.viewport)!=null&&c.contains(a))&&r()}})});Ky.displayName=iI;var Up="Toast",r4="toast.swipeStart",i4="toast.swipeMove",s4="toast.swipeCancel",o4="toast.swipeEnd",sI=T.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:i,onOpenChange:s,...o}=t,[a=!0,l]=Wy({prop:r,defaultProp:i,onChange:s});return m.jsx(X0,{present:n||a,children:m.jsx(c4,{open:a,...o,ref:e,onClose:()=>l(!1),onPause:er(t.onPause),onResume:er(t.onResume),onSwipeStart:Be(t.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Be(t.onSwipeMove,c=>{const{x:d,y:f}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:Be(t.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Be(t.onSwipeEnd,c=>{const{x:d,y:f}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),l(!1)})})})});sI.displayName=Up;var[a4,l4]=eI(Up,{onClose(){}}),c4=T.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:i,open:s,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:c,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:h,onSwipeEnd:y,...A}=t,g=jp(Up,n),[I,E]=T.useState(null),v=At(e,ee=>E(ee)),_=T.useRef(null),R=T.useRef(null),O=i||g.duration,B=T.useRef(0),b=T.useRef(O),S=T.useRef(0),{onToastAdd:k,onToastRemove:D}=g,V=er(()=>{var ie;(I==null?void 0:I.contains(document.activeElement))&&((ie=g.viewport)==null||ie.focus()),o()}),F=T.useCallback(ee=>{!ee||ee===1/0||(window.clearTimeout(S.current),B.current=new Date().getTime(),S.current=window.setTimeout(V,ee))},[V]);T.useEffect(()=>{const ee=g.viewport;if(ee){const ie=()=>{F(b.current),c==null||c()},re=()=>{const pe=new Date().getTime()-B.current;b.current=b.current-pe,window.clearTimeout(S.current),l==null||l()};return ee.addEventListener(Qy,re),ee.addEventListener(Yy,ie),()=>{ee.removeEventListener(Qy,re),ee.removeEventListener(Yy,ie)}}},[g.viewport,O,l,c,F]),T.useEffect(()=>{s&&!g.isClosePausedRef.current&&F(O)},[s,O,g.isClosePausedRef,F]),T.useEffect(()=>(k(),()=>D()),[k,D]);const M=T.useMemo(()=>I?hI(I):null,[I]);return g.viewport?m.jsxs(m.Fragment,{children:[M&&m.jsx(u4,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:M}),m.jsx(a4,{scope:n,onClose:V,children:ta.createPortal(m.jsx(tw.ItemSlot,{scope:n,children:m.jsx(zM,{asChild:!0,onEscapeKeyDown:Be(a,()=>{g.isFocusedToastEscapeKeyDownRef.current||V(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:m.jsx(nt.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":g.swipeDirection,...A,ref:v,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:Be(t.onKeyDown,ee=>{ee.key==="Escape"&&(a==null||a(ee.nativeEvent),ee.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,V()))}),onPointerDown:Be(t.onPointerDown,ee=>{ee.button===0&&(_.current={x:ee.clientX,y:ee.clientY})}),onPointerMove:Be(t.onPointerMove,ee=>{if(!_.current)return;const ie=ee.clientX-_.current.x,re=ee.clientY-_.current.y,pe=!!R.current,G=["left","right"].includes(g.swipeDirection),Z=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,ae=G?Z(0,ie):0,se=G?0:Z(0,re),ue=ee.pointerType==="touch"?10:2,he={x:ae,y:se},Pe={originalEvent:ee,delta:he};pe?(R.current=he,vh(i4,f,Pe,{discrete:!1})):q1(he,g.swipeDirection,ue)?(R.current=he,vh(r4,d,Pe,{discrete:!1}),ee.target.setPointerCapture(ee.pointerId)):(Math.abs(ie)>ue||Math.abs(re)>ue)&&(_.current=null)}),onPointerUp:Be(t.onPointerUp,ee=>{const ie=R.current,re=ee.target;if(re.hasPointerCapture(ee.pointerId)&&re.releasePointerCapture(ee.pointerId),R.current=null,_.current=null,ie){const pe=ee.currentTarget,G={originalEvent:ee,delta:ie};q1(ie,g.swipeDirection,g.swipeThreshold)?vh(o4,y,G,{discrete:!0}):vh(s4,h,G,{discrete:!0}),pe.addEventListener("click",Z=>Z.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),u4=t=>{const{__scopeToast:e,children:n,...r}=t,i=jp(Up,e),[s,o]=T.useState(!1),[a,l]=T.useState(!1);return f4(()=>o(!0)),T.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:m.jsx(Z0,{asChild:!0,children:m.jsx(Wu,{...r,children:s&&m.jsxs(m.Fragment,{children:[i.label," ",n]})})})},d4="ToastTitle",oI=T.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return m.jsx(nt.div,{...r,ref:e})});oI.displayName=d4;var h4="ToastDescription",aI=T.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return m.jsx(nt.div,{...r,ref:e})});aI.displayName=h4;var lI="ToastAction",cI=T.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?m.jsx(dI,{altText:n,asChild:!0,children:m.jsx(nw,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${lI}\`. Expected non-empty \`string\`.`),null)});cI.displayName=lI;var uI="ToastClose",nw=T.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,i=l4(uI,n);return m.jsx(dI,{asChild:!0,children:m.jsx(nt.button,{type:"button",...r,ref:e,onClick:Be(t.onClick,i.onClose)})})});nw.displayName=uI;var dI=T.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...i}=t;return m.jsx(nt.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:e})});function hI(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),p4(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",s=r.dataset.radixToastAnnounceExclude==="";if(!i)if(s){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...hI(r))}}),e}function vh(t,e,n,{discrete:r}){const i=n.originalEvent.currentTarget,s=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?Hx(i,s):i.dispatchEvent(s)}var q1=(t,e,n=0)=>{const r=Math.abs(t.x),i=Math.abs(t.y),s=r>i;return e==="left"||e==="right"?s&&r>n:!s&&i>n};function f4(t=()=>{}){const e=er(t);gn(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function p4(t){return t.nodeType===t.ELEMENT_NODE}function m4(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Cg(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var g4=tI,fI=rI,pI=sI,mI=oI,gI=aI,yI=cI,vI=nw;function wI(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=wI(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function EI(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=wI(t))&&(r&&(r+=" "),r+=e);return r}const G1=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,z1=EI,rw=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return z1(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:s}=e,o=Object.keys(i).map(c=>{const d=n==null?void 0:n[c],f=s==null?void 0:s[c];if(d===null)return null;const h=G1(d)||G1(f);return i[c][h]}),a=n&&Object.entries(n).reduce((c,d)=>{let[f,h]=d;return h===void 0||(c[f]=h),c},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,d)=>{let{class:f,className:h,...y}=d;return Object.entries(y).every(A=>{let[g,I]=A;return Array.isArray(I)?I.includes({...s,...a}[g]):{...s,...a}[g]===I})?[...c,f,h]:c},[]);return z1(t,o,l,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y4=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),CI=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var v4={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w4=T.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:o,...a},l)=>T.createElement("svg",{ref:l,...v4,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:CI("lucide",i),...a},[...o.map(([c,d])=>T.createElement(c,d)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rr=(t,e)=>{const n=T.forwardRef(({className:r,...i},s)=>T.createElement(w4,{ref:s,iconNode:e,className:CI(`lucide-${y4(t)}`,r),...i}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bl=rr("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E4=rr("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TI=rr("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C4=rr("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hy=rr("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _I=rr("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T4=rr("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _4=rr("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A4=rr("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AI=rr("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $1=rr("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jy=rr("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xI=rr("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),iw="-",x4=t=>{const e=S4(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(iw);return a[0]===""&&a.length!==1&&a.shift(),II(a,e)||I4(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},II=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?II(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const s=t.join(iw);return(o=e.validators.find(({validator:a})=>a(s)))==null?void 0:o.classGroupId},W1=/^\[(.+)\]$/,I4=t=>{if(W1.test(t)){const e=W1.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},S4=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return R4(Object.entries(t.classGroups),n).forEach(([s,o])=>{Zy(o,r,s,e)}),r},Zy=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const s=i===""?e:Q1(e,i);s.classGroupId=n;return}if(typeof i=="function"){if(b4(i)){Zy(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([s,o])=>{Zy(o,Q1(e,s),n,r)})})},Q1=(t,e)=>{let n=t;return e.split(iw).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},b4=t=>t.isThemeGetter,R4=(t,e)=>e?t.map(([n,r])=>{const i=r.map(s=>typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([o,a])=>[e+o,a])):s);return[n,i]}):t,P4=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(s,o)=>{n.set(s,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(s){let o=n.get(s);if(o!==void 0)return o;if((o=r.get(s))!==void 0)return i(s,o),o},set(s,o){n.has(s)?n.set(s,o):i(s,o)}}},SI="!",k4=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,i=e[0],s=e.length,o=a=>{const l=[];let c=0,d=0,f;for(let I=0;I<a.length;I++){let E=a[I];if(c===0){if(E===i&&(r||a.slice(I,I+s)===e)){l.push(a.slice(d,I)),d=I+s;continue}if(E==="/"){f=I;continue}}E==="["?c++:E==="]"&&c--}const h=l.length===0?a:a.substring(d),y=h.startsWith(SI),A=y?h.substring(1):h,g=f&&f>d?f-d:void 0;return{modifiers:l,hasImportantModifier:y,baseClassName:A,maybePostfixModifierPosition:g}};return n?a=>n({className:a,parseClassName:o}):o},N4=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},D4=t=>({cache:P4(t.cacheSize),parseClassName:k4(t),...x4(t)}),M4=/\s+/,O4=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=e,s=[],o=t.trim().split(M4);let a="";for(let l=o.length-1;l>=0;l-=1){const c=o[l],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:y}=n(c);let A=!!y,g=r(A?h.substring(0,y):h);if(!g){if(!A){a=c+(a.length>0?" "+a:a);continue}if(g=r(h),!g){a=c+(a.length>0?" "+a:a);continue}A=!1}const I=N4(d).join(":"),E=f?I+SI:I,v=E+g;if(s.includes(v))continue;s.push(v);const _=i(g,A);for(let R=0;R<_.length;++R){const O=_[R];s.push(E+O)}a=c+(a.length>0?" "+a:a)}return a};function L4(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=bI(e))&&(r&&(r+=" "),r+=n);return r}const bI=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=bI(t[r]))&&(n&&(n+=" "),n+=e);return n};function V4(t,...e){let n,r,i,s=o;function o(l){const c=e.reduce((d,f)=>f(d),t());return n=D4(c),r=n.cache.get,i=n.cache.set,s=a,a(l)}function a(l){const c=r(l);if(c)return c;const d=O4(l,n);return i(l,d),d}return function(){return s(L4.apply(null,arguments))}}const ot=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},RI=/^\[(?:([a-z-]+):)?(.+)\]$/i,F4=/^\d+\/\d+$/,B4=new Set(["px","full","screen"]),j4=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,U4=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,q4=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,G4=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,z4=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ti=t=>Xa(t)||B4.has(t)||F4.test(t),rs=t=>jl(t,"length",Z4),Xa=t=>!!t&&!Number.isNaN(Number(t)),Tg=t=>jl(t,"number",Xa),Tc=t=>!!t&&Number.isInteger(Number(t)),$4=t=>t.endsWith("%")&&Xa(t.slice(0,-1)),ke=t=>RI.test(t),is=t=>j4.test(t),W4=new Set(["length","size","percentage"]),Q4=t=>jl(t,W4,PI),Y4=t=>jl(t,"position",PI),K4=new Set(["image","url"]),H4=t=>jl(t,K4,eO),J4=t=>jl(t,"",X4),_c=()=>!0,jl=(t,e,n)=>{const r=RI.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},Z4=t=>U4.test(t)&&!q4.test(t),PI=()=>!1,X4=t=>G4.test(t),eO=t=>z4.test(t),tO=()=>{const t=ot("colors"),e=ot("spacing"),n=ot("blur"),r=ot("brightness"),i=ot("borderColor"),s=ot("borderRadius"),o=ot("borderSpacing"),a=ot("borderWidth"),l=ot("contrast"),c=ot("grayscale"),d=ot("hueRotate"),f=ot("invert"),h=ot("gap"),y=ot("gradientColorStops"),A=ot("gradientColorStopPositions"),g=ot("inset"),I=ot("margin"),E=ot("opacity"),v=ot("padding"),_=ot("saturate"),R=ot("scale"),O=ot("sepia"),B=ot("skew"),b=ot("space"),S=ot("translate"),k=()=>["auto","contain","none"],D=()=>["auto","hidden","clip","visible","scroll"],V=()=>["auto",ke,e],F=()=>[ke,e],M=()=>["",Ti,rs],ee=()=>["auto",Xa,ke],ie=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],re=()=>["solid","dashed","dotted","double","none"],pe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],G=()=>["start","end","center","between","around","evenly","stretch"],Z=()=>["","0",ke],ae=()=>["auto","avoid","all","avoid-page","page","left","right","column"],se=()=>[Xa,ke];return{cacheSize:500,separator:":",theme:{colors:[_c],spacing:[Ti,rs],blur:["none","",is,ke],brightness:se(),borderColor:[t],borderRadius:["none","","full",is,ke],borderSpacing:F(),borderWidth:M(),contrast:se(),grayscale:Z(),hueRotate:se(),invert:Z(),gap:F(),gradientColorStops:[t],gradientColorStopPositions:[$4,rs],inset:V(),margin:V(),opacity:se(),padding:F(),saturate:se(),scale:se(),sepia:Z(),skew:se(),space:F(),translate:F()},classGroups:{aspect:[{aspect:["auto","square","video",ke]}],container:["container"],columns:[{columns:[is]}],"break-after":[{"break-after":ae()}],"break-before":[{"break-before":ae()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...ie(),ke]}],overflow:[{overflow:D()}],"overflow-x":[{"overflow-x":D()}],"overflow-y":[{"overflow-y":D()}],overscroll:[{overscroll:k()}],"overscroll-x":[{"overscroll-x":k()}],"overscroll-y":[{"overscroll-y":k()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Tc,ke]}],basis:[{basis:V()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ke]}],grow:[{grow:Z()}],shrink:[{shrink:Z()}],order:[{order:["first","last","none",Tc,ke]}],"grid-cols":[{"grid-cols":[_c]}],"col-start-end":[{col:["auto",{span:["full",Tc,ke]},ke]}],"col-start":[{"col-start":ee()}],"col-end":[{"col-end":ee()}],"grid-rows":[{"grid-rows":[_c]}],"row-start-end":[{row:["auto",{span:[Tc,ke]},ke]}],"row-start":[{"row-start":ee()}],"row-end":[{"row-end":ee()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ke]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ke]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...G()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...G(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...G(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[I]}],mx:[{mx:[I]}],my:[{my:[I]}],ms:[{ms:[I]}],me:[{me:[I]}],mt:[{mt:[I]}],mr:[{mr:[I]}],mb:[{mb:[I]}],ml:[{ml:[I]}],"space-x":[{"space-x":[b]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[b]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ke,e]}],"min-w":[{"min-w":[ke,e,"min","max","fit"]}],"max-w":[{"max-w":[ke,e,"none","full","min","max","fit","prose",{screen:[is]},is]}],h:[{h:[ke,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ke,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ke,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ke,e,"auto","min","max","fit"]}],"font-size":[{text:["base",is,rs]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Tg]}],"font-family":[{font:[_c]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ke]}],"line-clamp":[{"line-clamp":["none",Xa,Tg]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Ti,ke]}],"list-image":[{"list-image":["none",ke]}],"list-style-type":[{list:["none","disc","decimal",ke]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[E]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[E]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...re(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Ti,rs]}],"underline-offset":[{"underline-offset":["auto",Ti,ke]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:F()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ke]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ke]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[E]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...ie(),Y4]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Q4]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},H4]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[A]}],"gradient-via-pos":[{via:[A]}],"gradient-to-pos":[{to:[A]}],"gradient-from":[{from:[y]}],"gradient-via":[{via:[y]}],"gradient-to":[{to:[y]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[E]}],"border-style":[{border:[...re(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[E]}],"divide-style":[{divide:re()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...re()]}],"outline-offset":[{"outline-offset":[Ti,ke]}],"outline-w":[{outline:[Ti,rs]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:M()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[E]}],"ring-offset-w":[{"ring-offset":[Ti,rs]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",is,J4]}],"shadow-color":[{shadow:[_c]}],opacity:[{opacity:[E]}],"mix-blend":[{"mix-blend":[...pe(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":pe()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",is,ke]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[_]}],sepia:[{sepia:[O]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[E]}],"backdrop-saturate":[{"backdrop-saturate":[_]}],"backdrop-sepia":[{"backdrop-sepia":[O]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ke]}],duration:[{duration:se()}],ease:[{ease:["linear","in","out","in-out",ke]}],delay:[{delay:se()}],animate:[{animate:["none","spin","ping","pulse","bounce",ke]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[R]}],"scale-x":[{"scale-x":[R]}],"scale-y":[{"scale-y":[R]}],rotate:[{rotate:[Tc,ke]}],"translate-x":[{"translate-x":[S]}],"translate-y":[{"translate-y":[S]}],"skew-x":[{"skew-x":[B]}],"skew-y":[{"skew-y":[B]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ke]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ke]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":F()}],"scroll-mx":[{"scroll-mx":F()}],"scroll-my":[{"scroll-my":F()}],"scroll-ms":[{"scroll-ms":F()}],"scroll-me":[{"scroll-me":F()}],"scroll-mt":[{"scroll-mt":F()}],"scroll-mr":[{"scroll-mr":F()}],"scroll-mb":[{"scroll-mb":F()}],"scroll-ml":[{"scroll-ml":F()}],"scroll-p":[{"scroll-p":F()}],"scroll-px":[{"scroll-px":F()}],"scroll-py":[{"scroll-py":F()}],"scroll-ps":[{"scroll-ps":F()}],"scroll-pe":[{"scroll-pe":F()}],"scroll-pt":[{"scroll-pt":F()}],"scroll-pr":[{"scroll-pr":F()}],"scroll-pb":[{"scroll-pb":F()}],"scroll-pl":[{"scroll-pl":F()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ke]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Ti,rs,Tg]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},nO=V4(tO),rO=()=>{};var Y1={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kI=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},iO=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},NI={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,d=s>>2,f=(s&3)<<4|a>>4;let h=(a&15)<<2|c>>6,y=c&63;l||(y=64,o||(h=64)),r.push(n[d],n[f],n[h],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(kI(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):iO(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||c==null||f==null)throw new sO;const h=s<<2|a>>4;if(r.push(h),c!==64){const y=a<<4&240|c>>2;if(r.push(y),f!==64){const A=c<<6&192|f;r.push(A)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class sO extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const oO=function(t){const e=kI(t);return NI.encodeByteArray(e,!0)},zf=function(t){return oO(t).replace(/\./g,"")},DI=function(t){try{return NI.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aO(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lO=()=>aO().__FIREBASE_DEFAULTS__,cO=()=>{if(typeof process>"u"||typeof Y1>"u")return;const t=Y1.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},uO=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&DI(t[1]);return e&&JSON.parse(e)},qp=()=>{try{return rO()||lO()||cO()||uO()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},MI=t=>{var e,n;return(n=(e=qp())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},dO=t=>{const e=MI(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},OI=()=>{var t;return(t=qp())===null||t===void 0?void 0:t.config},LI=t=>{var e;return(e=qp())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hO{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ul(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function VI(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fO(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[zf(JSON.stringify(n)),zf(JSON.stringify(o)),""].join(".")}const Yc={};function pO(){const t={prod:[],emulator:[]};for(const e of Object.keys(Yc))Yc[e]?t.emulator.push(e):t.prod.push(e);return t}function mO(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let K1=!1;function FI(t,e){if(typeof window>"u"||typeof document>"u"||!Ul(window.location.host)||Yc[t]===e||Yc[t]||K1)return;Yc[t]=e;function n(h){return`__firebase__banner__${h}`}const r="__firebase__banner",s=pO().prod.length>0;function o(){const h=document.getElementById(r);h&&h.remove()}function a(h){h.style.display="flex",h.style.background="#7faaf0",h.style.position="fixed",h.style.bottom="5px",h.style.left="5px",h.style.padding=".5em",h.style.borderRadius="5px",h.style.alignItems="center"}function l(h,y){h.setAttribute("width","24"),h.setAttribute("id",y),h.setAttribute("height","24"),h.setAttribute("viewBox","0 0 24 24"),h.setAttribute("fill","none"),h.style.marginLeft="-6px"}function c(){const h=document.createElement("span");return h.style.cursor="pointer",h.style.marginLeft="16px",h.style.fontSize="24px",h.innerHTML=" &times;",h.onclick=()=>{K1=!0,o()},h}function d(h,y){h.setAttribute("id",y),h.innerText="Learn more",h.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",h.setAttribute("target","__blank"),h.style.paddingLeft="5px",h.style.textDecoration="underline"}function f(){const h=mO(r),y=n("text"),A=document.getElementById(y)||document.createElement("span"),g=n("learnmore"),I=document.getElementById(g)||document.createElement("a"),E=n("preprendIcon"),v=document.getElementById(E)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(h.created){const _=h.element;a(_),d(I,g);const R=c();l(v,E),_.append(v,A,I,R),document.body.appendChild(_)}s?(A.innerText="Preview backend disconnected.",v.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(v.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,A.innerText="Preview backend running in this workspace."),A.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function gO(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(yn())}function yO(){var t;const e=(t=qp())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function vO(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function wO(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function EO(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function CO(){const t=yn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function TO(){return!yO()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function _O(){try{return typeof indexedDB=="object"}catch{return!1}}function AO(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xO="FirebaseError";class $i extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=xO,Object.setPrototypeOf(this,$i.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Qu.prototype.create)}}class Qu{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?IO(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new $i(i,a,r)}}function IO(t,e){return t.replace(SO,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const SO=/\{\$([^}]+)}/g;function bO(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function $o(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(H1(s)&&H1(o)){if(!$o(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function H1(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yu(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function bc(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Rc(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function RO(t,e){const n=new PO(t,e);return n.subscribe.bind(n)}class PO{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");kO(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=_g),i.error===void 0&&(i.error=_g),i.complete===void 0&&(i.complete=_g);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function kO(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function _g(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xt(t){return t&&t._delegate?t._delegate:t}class Wo{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const So="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let NO=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new hO;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(MO(e))try{this.getOrInitializeService({instanceIdentifier:So})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=So){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=So){return this.instances.has(e)}getOptions(e=So){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:DO(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=So){return this.component?this.component.multipleInstances?e:So:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function DO(t){return t===So?void 0:t}function MO(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OO{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new NO(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Fe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Fe||(Fe={}));const LO={debug:Fe.DEBUG,verbose:Fe.VERBOSE,info:Fe.INFO,warn:Fe.WARN,error:Fe.ERROR,silent:Fe.SILENT},VO=Fe.INFO,FO={[Fe.DEBUG]:"log",[Fe.VERBOSE]:"log",[Fe.INFO]:"info",[Fe.WARN]:"warn",[Fe.ERROR]:"error"},BO=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=FO[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class sw{constructor(e){this.name=e,this._logLevel=VO,this._logHandler=BO,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Fe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?LO[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Fe.DEBUG,...e),this._logHandler(this,Fe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Fe.VERBOSE,...e),this._logHandler(this,Fe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Fe.INFO,...e),this._logHandler(this,Fe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Fe.WARN,...e),this._logHandler(this,Fe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Fe.ERROR,...e),this._logHandler(this,Fe.ERROR,...e)}}const jO=(t,e)=>e.some(n=>t instanceof n);let J1,Z1;function UO(){return J1||(J1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function qO(){return Z1||(Z1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const BI=new WeakMap,Xy=new WeakMap,jI=new WeakMap,Ag=new WeakMap,ow=new WeakMap;function GO(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Ls(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&BI.set(n,t)}).catch(()=>{}),ow.set(e,t),e}function zO(t){if(Xy.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Xy.set(t,e)}let ev={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Xy.get(t);if(e==="objectStoreNames")return t.objectStoreNames||jI.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ls(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function $O(t){ev=t(ev)}function WO(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(xg(this),e,...n);return jI.set(r,e.sort?e.sort():[e]),Ls(r)}:qO().includes(t)?function(...e){return t.apply(xg(this),e),Ls(BI.get(this))}:function(...e){return Ls(t.apply(xg(this),e))}}function QO(t){return typeof t=="function"?WO(t):(t instanceof IDBTransaction&&zO(t),jO(t,UO())?new Proxy(t,ev):t)}function Ls(t){if(t instanceof IDBRequest)return GO(t);if(Ag.has(t))return Ag.get(t);const e=QO(t);return e!==t&&(Ag.set(t,e),ow.set(e,t)),e}const xg=t=>ow.get(t);function YO(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Ls(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Ls(o.result),l.oldVersion,l.newVersion,Ls(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const KO=["get","getKey","getAll","getAllKeys","count"],HO=["put","add","delete","clear"],Ig=new Map;function X1(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Ig.get(e))return Ig.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=HO.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||KO.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&l.done]))[0]};return Ig.set(e,s),s}$O(t=>({...t,get:(e,n,r)=>X1(e,n)||t.get(e,n,r),has:(e,n)=>!!X1(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JO{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(ZO(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function ZO(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const tv="@firebase/app",eC="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vi=new sw("@firebase/app"),XO="@firebase/app-compat",eL="@firebase/analytics-compat",tL="@firebase/analytics",nL="@firebase/app-check-compat",rL="@firebase/app-check",iL="@firebase/auth",sL="@firebase/auth-compat",oL="@firebase/database",aL="@firebase/data-connect",lL="@firebase/database-compat",cL="@firebase/functions",uL="@firebase/functions-compat",dL="@firebase/installations",hL="@firebase/installations-compat",fL="@firebase/messaging",pL="@firebase/messaging-compat",mL="@firebase/performance",gL="@firebase/performance-compat",yL="@firebase/remote-config",vL="@firebase/remote-config-compat",wL="@firebase/storage",EL="@firebase/storage-compat",CL="@firebase/firestore",TL="@firebase/ai",_L="@firebase/firestore-compat",AL="firebase",xL="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nv="[DEFAULT]",IL={[tv]:"fire-core",[XO]:"fire-core-compat",[tL]:"fire-analytics",[eL]:"fire-analytics-compat",[rL]:"fire-app-check",[nL]:"fire-app-check-compat",[iL]:"fire-auth",[sL]:"fire-auth-compat",[oL]:"fire-rtdb",[aL]:"fire-data-connect",[lL]:"fire-rtdb-compat",[cL]:"fire-fn",[uL]:"fire-fn-compat",[dL]:"fire-iid",[hL]:"fire-iid-compat",[fL]:"fire-fcm",[pL]:"fire-fcm-compat",[mL]:"fire-perf",[gL]:"fire-perf-compat",[yL]:"fire-rc",[vL]:"fire-rc-compat",[wL]:"fire-gcs",[EL]:"fire-gcs-compat",[CL]:"fire-fst",[_L]:"fire-fst-compat",[TL]:"fire-vertex","fire-js":"fire-js",[AL]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eu=new Map,SL=new Map,rv=new Map;function tC(t,e){try{t.container.addComponent(e)}catch(n){Vi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Al(t){const e=t.name;if(rv.has(e))return Vi.debug(`There were multiple attempts to register component ${e}.`),!1;rv.set(e,t);for(const n of Eu.values())tC(n,t);for(const n of SL.values())tC(n,t);return!0}function aw(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function hr(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bL={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Vs=new Qu("app","Firebase",bL);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RL{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Wo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Vs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ql=xL;function UI(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:nv,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw Vs.create("bad-app-name",{appName:String(i)});if(n||(n=OI()),!n)throw Vs.create("no-options");const s=Eu.get(i);if(s){if($o(n,s.options)&&$o(r,s.config))return s;throw Vs.create("duplicate-app",{appName:i})}const o=new OO(i);for(const l of rv.values())o.addComponent(l);const a=new RL(n,r,o);return Eu.set(i,a),a}function lw(t=nv){const e=Eu.get(t);if(!e&&t===nv&&OI())return UI();if(!e)throw Vs.create("no-app",{appName:t});return e}function PL(){return Array.from(Eu.values())}function Fs(t,e,n){var r;let i=(r=IL[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Vi.warn(a.join(" "));return}Al(new Wo(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kL="firebase-heartbeat-database",NL=1,Cu="firebase-heartbeat-store";let Sg=null;function qI(){return Sg||(Sg=YO(kL,NL,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Cu)}catch(n){console.warn(n)}}}}).catch(t=>{throw Vs.create("idb-open",{originalErrorMessage:t.message})})),Sg}async function DL(t){try{const n=(await qI()).transaction(Cu),r=await n.objectStore(Cu).get(GI(t));return await n.done,r}catch(e){if(e instanceof $i)Vi.warn(e.message);else{const n=Vs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Vi.warn(n.message)}}}async function nC(t,e){try{const r=(await qI()).transaction(Cu,"readwrite");await r.objectStore(Cu).put(e,GI(t)),await r.done}catch(n){if(n instanceof $i)Vi.warn(n.message);else{const r=Vs.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Vi.warn(r.message)}}}function GI(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ML=1024,OL=30;class LL{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new FL(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=rC();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>OL){const o=BL(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Vi.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=rC(),{heartbeatsToSend:r,unsentEntries:i}=VL(this._heartbeatsCache.heartbeats),s=zf(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Vi.warn(n),""}}}function rC(){return new Date().toISOString().substring(0,10)}function VL(t,e=ML){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),iC(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),iC(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class FL{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return _O()?AO().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await DL(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return nC(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return nC(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function iC(t){return zf(JSON.stringify({version:2,heartbeats:t})).length}function BL(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jL(t){Al(new Wo("platform-logger",e=>new JO(e),"PRIVATE")),Al(new Wo("heartbeat",e=>new LL(e),"PRIVATE")),Fs(tv,eC,t),Fs(tv,eC,"esm2017"),Fs("fire-js","")}jL("");var UL="firebase",qL="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Fs(UL,qL,"app");var sC=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Bs,zI;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(b,S){function k(){}k.prototype=S.prototype,b.D=S.prototype,b.prototype=new k,b.prototype.constructor=b,b.C=function(D,V,F){for(var M=Array(arguments.length-2),ee=2;ee<arguments.length;ee++)M[ee-2]=arguments[ee];return S.prototype[V].apply(D,M)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(b,S,k){k||(k=0);var D=Array(16);if(typeof S=="string")for(var V=0;16>V;++V)D[V]=S.charCodeAt(k++)|S.charCodeAt(k++)<<8|S.charCodeAt(k++)<<16|S.charCodeAt(k++)<<24;else for(V=0;16>V;++V)D[V]=S[k++]|S[k++]<<8|S[k++]<<16|S[k++]<<24;S=b.g[0],k=b.g[1],V=b.g[2];var F=b.g[3],M=S+(F^k&(V^F))+D[0]+3614090360&4294967295;S=k+(M<<7&4294967295|M>>>25),M=F+(V^S&(k^V))+D[1]+3905402710&4294967295,F=S+(M<<12&4294967295|M>>>20),M=V+(k^F&(S^k))+D[2]+606105819&4294967295,V=F+(M<<17&4294967295|M>>>15),M=k+(S^V&(F^S))+D[3]+3250441966&4294967295,k=V+(M<<22&4294967295|M>>>10),M=S+(F^k&(V^F))+D[4]+4118548399&4294967295,S=k+(M<<7&4294967295|M>>>25),M=F+(V^S&(k^V))+D[5]+1200080426&4294967295,F=S+(M<<12&4294967295|M>>>20),M=V+(k^F&(S^k))+D[6]+2821735955&4294967295,V=F+(M<<17&4294967295|M>>>15),M=k+(S^V&(F^S))+D[7]+4249261313&4294967295,k=V+(M<<22&4294967295|M>>>10),M=S+(F^k&(V^F))+D[8]+1770035416&4294967295,S=k+(M<<7&4294967295|M>>>25),M=F+(V^S&(k^V))+D[9]+2336552879&4294967295,F=S+(M<<12&4294967295|M>>>20),M=V+(k^F&(S^k))+D[10]+4294925233&4294967295,V=F+(M<<17&4294967295|M>>>15),M=k+(S^V&(F^S))+D[11]+2304563134&4294967295,k=V+(M<<22&4294967295|M>>>10),M=S+(F^k&(V^F))+D[12]+1804603682&4294967295,S=k+(M<<7&4294967295|M>>>25),M=F+(V^S&(k^V))+D[13]+4254626195&4294967295,F=S+(M<<12&4294967295|M>>>20),M=V+(k^F&(S^k))+D[14]+2792965006&4294967295,V=F+(M<<17&4294967295|M>>>15),M=k+(S^V&(F^S))+D[15]+1236535329&4294967295,k=V+(M<<22&4294967295|M>>>10),M=S+(V^F&(k^V))+D[1]+4129170786&4294967295,S=k+(M<<5&4294967295|M>>>27),M=F+(k^V&(S^k))+D[6]+3225465664&4294967295,F=S+(M<<9&4294967295|M>>>23),M=V+(S^k&(F^S))+D[11]+643717713&4294967295,V=F+(M<<14&4294967295|M>>>18),M=k+(F^S&(V^F))+D[0]+3921069994&4294967295,k=V+(M<<20&4294967295|M>>>12),M=S+(V^F&(k^V))+D[5]+3593408605&4294967295,S=k+(M<<5&4294967295|M>>>27),M=F+(k^V&(S^k))+D[10]+38016083&4294967295,F=S+(M<<9&4294967295|M>>>23),M=V+(S^k&(F^S))+D[15]+3634488961&4294967295,V=F+(M<<14&4294967295|M>>>18),M=k+(F^S&(V^F))+D[4]+3889429448&4294967295,k=V+(M<<20&4294967295|M>>>12),M=S+(V^F&(k^V))+D[9]+568446438&4294967295,S=k+(M<<5&4294967295|M>>>27),M=F+(k^V&(S^k))+D[14]+3275163606&4294967295,F=S+(M<<9&4294967295|M>>>23),M=V+(S^k&(F^S))+D[3]+4107603335&4294967295,V=F+(M<<14&4294967295|M>>>18),M=k+(F^S&(V^F))+D[8]+1163531501&4294967295,k=V+(M<<20&4294967295|M>>>12),M=S+(V^F&(k^V))+D[13]+2850285829&4294967295,S=k+(M<<5&4294967295|M>>>27),M=F+(k^V&(S^k))+D[2]+4243563512&4294967295,F=S+(M<<9&4294967295|M>>>23),M=V+(S^k&(F^S))+D[7]+1735328473&4294967295,V=F+(M<<14&4294967295|M>>>18),M=k+(F^S&(V^F))+D[12]+2368359562&4294967295,k=V+(M<<20&4294967295|M>>>12),M=S+(k^V^F)+D[5]+4294588738&4294967295,S=k+(M<<4&4294967295|M>>>28),M=F+(S^k^V)+D[8]+2272392833&4294967295,F=S+(M<<11&4294967295|M>>>21),M=V+(F^S^k)+D[11]+1839030562&4294967295,V=F+(M<<16&4294967295|M>>>16),M=k+(V^F^S)+D[14]+4259657740&4294967295,k=V+(M<<23&4294967295|M>>>9),M=S+(k^V^F)+D[1]+2763975236&4294967295,S=k+(M<<4&4294967295|M>>>28),M=F+(S^k^V)+D[4]+1272893353&4294967295,F=S+(M<<11&4294967295|M>>>21),M=V+(F^S^k)+D[7]+4139469664&4294967295,V=F+(M<<16&4294967295|M>>>16),M=k+(V^F^S)+D[10]+3200236656&4294967295,k=V+(M<<23&4294967295|M>>>9),M=S+(k^V^F)+D[13]+681279174&4294967295,S=k+(M<<4&4294967295|M>>>28),M=F+(S^k^V)+D[0]+3936430074&4294967295,F=S+(M<<11&4294967295|M>>>21),M=V+(F^S^k)+D[3]+3572445317&4294967295,V=F+(M<<16&4294967295|M>>>16),M=k+(V^F^S)+D[6]+76029189&4294967295,k=V+(M<<23&4294967295|M>>>9),M=S+(k^V^F)+D[9]+3654602809&4294967295,S=k+(M<<4&4294967295|M>>>28),M=F+(S^k^V)+D[12]+3873151461&4294967295,F=S+(M<<11&4294967295|M>>>21),M=V+(F^S^k)+D[15]+530742520&4294967295,V=F+(M<<16&4294967295|M>>>16),M=k+(V^F^S)+D[2]+3299628645&4294967295,k=V+(M<<23&4294967295|M>>>9),M=S+(V^(k|~F))+D[0]+4096336452&4294967295,S=k+(M<<6&4294967295|M>>>26),M=F+(k^(S|~V))+D[7]+1126891415&4294967295,F=S+(M<<10&4294967295|M>>>22),M=V+(S^(F|~k))+D[14]+2878612391&4294967295,V=F+(M<<15&4294967295|M>>>17),M=k+(F^(V|~S))+D[5]+4237533241&4294967295,k=V+(M<<21&4294967295|M>>>11),M=S+(V^(k|~F))+D[12]+1700485571&4294967295,S=k+(M<<6&4294967295|M>>>26),M=F+(k^(S|~V))+D[3]+2399980690&4294967295,F=S+(M<<10&4294967295|M>>>22),M=V+(S^(F|~k))+D[10]+4293915773&4294967295,V=F+(M<<15&4294967295|M>>>17),M=k+(F^(V|~S))+D[1]+2240044497&4294967295,k=V+(M<<21&4294967295|M>>>11),M=S+(V^(k|~F))+D[8]+1873313359&4294967295,S=k+(M<<6&4294967295|M>>>26),M=F+(k^(S|~V))+D[15]+4264355552&4294967295,F=S+(M<<10&4294967295|M>>>22),M=V+(S^(F|~k))+D[6]+2734768916&4294967295,V=F+(M<<15&4294967295|M>>>17),M=k+(F^(V|~S))+D[13]+1309151649&4294967295,k=V+(M<<21&4294967295|M>>>11),M=S+(V^(k|~F))+D[4]+4149444226&4294967295,S=k+(M<<6&4294967295|M>>>26),M=F+(k^(S|~V))+D[11]+3174756917&4294967295,F=S+(M<<10&4294967295|M>>>22),M=V+(S^(F|~k))+D[2]+718787259&4294967295,V=F+(M<<15&4294967295|M>>>17),M=k+(F^(V|~S))+D[9]+3951481745&4294967295,b.g[0]=b.g[0]+S&4294967295,b.g[1]=b.g[1]+(V+(M<<21&4294967295|M>>>11))&4294967295,b.g[2]=b.g[2]+V&4294967295,b.g[3]=b.g[3]+F&4294967295}r.prototype.u=function(b,S){S===void 0&&(S=b.length);for(var k=S-this.blockSize,D=this.B,V=this.h,F=0;F<S;){if(V==0)for(;F<=k;)i(this,b,F),F+=this.blockSize;if(typeof b=="string"){for(;F<S;)if(D[V++]=b.charCodeAt(F++),V==this.blockSize){i(this,D),V=0;break}}else for(;F<S;)if(D[V++]=b[F++],V==this.blockSize){i(this,D),V=0;break}}this.h=V,this.o+=S},r.prototype.v=function(){var b=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);b[0]=128;for(var S=1;S<b.length-8;++S)b[S]=0;var k=8*this.o;for(S=b.length-8;S<b.length;++S)b[S]=k&255,k/=256;for(this.u(b),b=Array(16),S=k=0;4>S;++S)for(var D=0;32>D;D+=8)b[k++]=this.g[S]>>>D&255;return b};function s(b,S){var k=a;return Object.prototype.hasOwnProperty.call(k,b)?k[b]:k[b]=S(b)}function o(b,S){this.h=S;for(var k=[],D=!0,V=b.length-1;0<=V;V--){var F=b[V]|0;D&&F==S||(k[V]=F,D=!1)}this.g=k}var a={};function l(b){return-128<=b&&128>b?s(b,function(S){return new o([S|0],0>S?-1:0)}):new o([b|0],0>b?-1:0)}function c(b){if(isNaN(b)||!isFinite(b))return f;if(0>b)return I(c(-b));for(var S=[],k=1,D=0;b>=k;D++)S[D]=b/k|0,k*=4294967296;return new o(S,0)}function d(b,S){if(b.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(b.charAt(0)=="-")return I(d(b.substring(1),S));if(0<=b.indexOf("-"))throw Error('number format error: interior "-" character');for(var k=c(Math.pow(S,8)),D=f,V=0;V<b.length;V+=8){var F=Math.min(8,b.length-V),M=parseInt(b.substring(V,V+F),S);8>F?(F=c(Math.pow(S,F)),D=D.j(F).add(c(M))):(D=D.j(k),D=D.add(c(M)))}return D}var f=l(0),h=l(1),y=l(16777216);t=o.prototype,t.m=function(){if(g(this))return-I(this).m();for(var b=0,S=1,k=0;k<this.g.length;k++){var D=this.i(k);b+=(0<=D?D:4294967296+D)*S,S*=4294967296}return b},t.toString=function(b){if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(A(this))return"0";if(g(this))return"-"+I(this).toString(b);for(var S=c(Math.pow(b,6)),k=this,D="";;){var V=R(k,S).g;k=E(k,V.j(S));var F=((0<k.g.length?k.g[0]:k.h)>>>0).toString(b);if(k=V,A(k))return F+D;for(;6>F.length;)F="0"+F;D=F+D}},t.i=function(b){return 0>b?0:b<this.g.length?this.g[b]:this.h};function A(b){if(b.h!=0)return!1;for(var S=0;S<b.g.length;S++)if(b.g[S]!=0)return!1;return!0}function g(b){return b.h==-1}t.l=function(b){return b=E(this,b),g(b)?-1:A(b)?0:1};function I(b){for(var S=b.g.length,k=[],D=0;D<S;D++)k[D]=~b.g[D];return new o(k,~b.h).add(h)}t.abs=function(){return g(this)?I(this):this},t.add=function(b){for(var S=Math.max(this.g.length,b.g.length),k=[],D=0,V=0;V<=S;V++){var F=D+(this.i(V)&65535)+(b.i(V)&65535),M=(F>>>16)+(this.i(V)>>>16)+(b.i(V)>>>16);D=M>>>16,F&=65535,M&=65535,k[V]=M<<16|F}return new o(k,k[k.length-1]&-2147483648?-1:0)};function E(b,S){return b.add(I(S))}t.j=function(b){if(A(this)||A(b))return f;if(g(this))return g(b)?I(this).j(I(b)):I(I(this).j(b));if(g(b))return I(this.j(I(b)));if(0>this.l(y)&&0>b.l(y))return c(this.m()*b.m());for(var S=this.g.length+b.g.length,k=[],D=0;D<2*S;D++)k[D]=0;for(D=0;D<this.g.length;D++)for(var V=0;V<b.g.length;V++){var F=this.i(D)>>>16,M=this.i(D)&65535,ee=b.i(V)>>>16,ie=b.i(V)&65535;k[2*D+2*V]+=M*ie,v(k,2*D+2*V),k[2*D+2*V+1]+=F*ie,v(k,2*D+2*V+1),k[2*D+2*V+1]+=M*ee,v(k,2*D+2*V+1),k[2*D+2*V+2]+=F*ee,v(k,2*D+2*V+2)}for(D=0;D<S;D++)k[D]=k[2*D+1]<<16|k[2*D];for(D=S;D<2*S;D++)k[D]=0;return new o(k,0)};function v(b,S){for(;(b[S]&65535)!=b[S];)b[S+1]+=b[S]>>>16,b[S]&=65535,S++}function _(b,S){this.g=b,this.h=S}function R(b,S){if(A(S))throw Error("division by zero");if(A(b))return new _(f,f);if(g(b))return S=R(I(b),S),new _(I(S.g),I(S.h));if(g(S))return S=R(b,I(S)),new _(I(S.g),S.h);if(30<b.g.length){if(g(b)||g(S))throw Error("slowDivide_ only works with positive integers.");for(var k=h,D=S;0>=D.l(b);)k=O(k),D=O(D);var V=B(k,1),F=B(D,1);for(D=B(D,2),k=B(k,2);!A(D);){var M=F.add(D);0>=M.l(b)&&(V=V.add(k),F=M),D=B(D,1),k=B(k,1)}return S=E(b,V.j(S)),new _(V,S)}for(V=f;0<=b.l(S);){for(k=Math.max(1,Math.floor(b.m()/S.m())),D=Math.ceil(Math.log(k)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),F=c(k),M=F.j(S);g(M)||0<M.l(b);)k-=D,F=c(k),M=F.j(S);A(F)&&(F=h),V=V.add(F),b=E(b,M)}return new _(V,b)}t.A=function(b){return R(this,b).h},t.and=function(b){for(var S=Math.max(this.g.length,b.g.length),k=[],D=0;D<S;D++)k[D]=this.i(D)&b.i(D);return new o(k,this.h&b.h)},t.or=function(b){for(var S=Math.max(this.g.length,b.g.length),k=[],D=0;D<S;D++)k[D]=this.i(D)|b.i(D);return new o(k,this.h|b.h)},t.xor=function(b){for(var S=Math.max(this.g.length,b.g.length),k=[],D=0;D<S;D++)k[D]=this.i(D)^b.i(D);return new o(k,this.h^b.h)};function O(b){for(var S=b.g.length+1,k=[],D=0;D<S;D++)k[D]=b.i(D)<<1|b.i(D-1)>>>31;return new o(k,b.h)}function B(b,S){var k=S>>5;S%=32;for(var D=b.g.length-k,V=[],F=0;F<D;F++)V[F]=0<S?b.i(F+k)>>>S|b.i(F+k+1)<<32-S:b.i(F+k);return new o(V,b.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,zI=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=d,Bs=o}).apply(typeof sC<"u"?sC:typeof self<"u"?self:typeof window<"u"?window:{});var wh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var $I,Pc,WI,Jh,iv,QI,YI,KI;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,p,x){return u==Array.prototype||u==Object.prototype||(u[p]=x.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof wh=="object"&&wh];for(var p=0;p<u.length;++p){var x=u[p];if(x&&x.Math==Math)return x}throw Error("Cannot find global object")}var r=n(this);function i(u,p){if(p)e:{var x=r;u=u.split(".");for(var N=0;N<u.length-1;N++){var q=u[N];if(!(q in x))break e;x=x[q]}u=u[u.length-1],N=x[u],p=p(N),p!=N&&p!=null&&e(x,u,{configurable:!0,writable:!0,value:p})}}function s(u,p){u instanceof String&&(u+="");var x=0,N=!1,q={next:function(){if(!N&&x<u.length){var W=x++;return{value:p(W,u[W]),done:!1}}return N=!0,{done:!0,value:void 0}}};return q[Symbol.iterator]=function(){return q},q}i("Array.prototype.values",function(u){return u||function(){return s(this,function(p,x){return x})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(u){var p=typeof u;return p=p!="object"?p:u?Array.isArray(u)?"array":p:"null",p=="array"||p=="object"&&typeof u.length=="number"}function c(u){var p=typeof u;return p=="object"&&u!=null||p=="function"}function d(u,p,x){return u.call.apply(u.bind,arguments)}function f(u,p,x){if(!u)throw Error();if(2<arguments.length){var N=Array.prototype.slice.call(arguments,2);return function(){var q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(q,N),u.apply(p,q)}}return function(){return u.apply(p,arguments)}}function h(u,p,x){return h=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:f,h.apply(null,arguments)}function y(u,p){var x=Array.prototype.slice.call(arguments,1);return function(){var N=x.slice();return N.push.apply(N,arguments),u.apply(this,N)}}function A(u,p){function x(){}x.prototype=p.prototype,u.aa=p.prototype,u.prototype=new x,u.prototype.constructor=u,u.Qb=function(N,q,W){for(var K=Array(arguments.length-2),Ze=2;Ze<arguments.length;Ze++)K[Ze-2]=arguments[Ze];return p.prototype[q].apply(N,K)}}function g(u){const p=u.length;if(0<p){const x=Array(p);for(let N=0;N<p;N++)x[N]=u[N];return x}return[]}function I(u,p){for(let x=1;x<arguments.length;x++){const N=arguments[x];if(l(N)){const q=u.length||0,W=N.length||0;u.length=q+W;for(let K=0;K<W;K++)u[q+K]=N[K]}else u.push(N)}}class E{constructor(p,x){this.i=p,this.j=x,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function v(u){return/^[\s\xa0]*$/.test(u)}function _(){var u=a.navigator;return u&&(u=u.userAgent)?u:""}function R(u){return R[" "](u),u}R[" "]=function(){};var O=_().indexOf("Gecko")!=-1&&!(_().toLowerCase().indexOf("webkit")!=-1&&_().indexOf("Edge")==-1)&&!(_().indexOf("Trident")!=-1||_().indexOf("MSIE")!=-1)&&_().indexOf("Edge")==-1;function B(u,p,x){for(const N in u)p.call(x,u[N],N,u)}function b(u,p){for(const x in u)p.call(void 0,u[x],x,u)}function S(u){const p={};for(const x in u)p[x]=u[x];return p}const k="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(u,p){let x,N;for(let q=1;q<arguments.length;q++){N=arguments[q];for(x in N)u[x]=N[x];for(let W=0;W<k.length;W++)x=k[W],Object.prototype.hasOwnProperty.call(N,x)&&(u[x]=N[x])}}function V(u){var p=1;u=u.split(":");const x=[];for(;0<p&&u.length;)x.push(u.shift()),p--;return u.length&&x.push(u.join(":")),x}function F(u){a.setTimeout(()=>{throw u},0)}function M(){var u=Z;let p=null;return u.g&&(p=u.g,u.g=u.g.next,u.g||(u.h=null),p.next=null),p}class ee{constructor(){this.h=this.g=null}add(p,x){const N=ie.get();N.set(p,x),this.h?this.h.next=N:this.g=N,this.h=N}}var ie=new E(()=>new re,u=>u.reset());class re{constructor(){this.next=this.g=this.h=null}set(p,x){this.h=p,this.g=x,this.next=null}reset(){this.next=this.g=this.h=null}}let pe,G=!1,Z=new ee,ae=()=>{const u=a.Promise.resolve(void 0);pe=()=>{u.then(se)}};var se=()=>{for(var u;u=M();){try{u.h.call(u.g)}catch(x){F(x)}var p=ie;p.j(u),100>p.h&&(p.h++,u.next=p.g,p.g=u)}G=!1};function ue(){this.s=this.s,this.C=this.C}ue.prototype.s=!1,ue.prototype.ma=function(){this.s||(this.s=!0,this.N())},ue.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function he(u,p){this.type=u,this.g=this.target=p,this.defaultPrevented=!1}he.prototype.h=function(){this.defaultPrevented=!0};var Pe=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var u=!1,p=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const x=()=>{};a.addEventListener("test",x,p),a.removeEventListener("test",x,p)}catch{}return u}();function De(u,p){if(he.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var x=this.type=u.type,N=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=p,p=u.relatedTarget){if(O){e:{try{R(p.nodeName);var q=!0;break e}catch{}q=!1}q||(p=null)}}else x=="mouseover"?p=u.fromElement:x=="mouseout"&&(p=u.toElement);this.relatedTarget=p,N?(this.clientX=N.clientX!==void 0?N.clientX:N.pageX,this.clientY=N.clientY!==void 0?N.clientY:N.pageY,this.screenX=N.screenX||0,this.screenY=N.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:Te[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&De.aa.h.call(this)}}A(De,he);var Te={2:"touch",3:"pen",4:"mouse"};De.prototype.h=function(){De.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var te="closure_listenable_"+(1e6*Math.random()|0),ge=0;function Ie(u,p,x,N,q){this.listener=u,this.proxy=null,this.src=p,this.type=x,this.capture=!!N,this.ha=q,this.key=++ge,this.da=this.fa=!1}function we(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Ae(u){this.src=u,this.g={},this.h=0}Ae.prototype.add=function(u,p,x,N,q){var W=u.toString();u=this.g[W],u||(u=this.g[W]=[],this.h++);var K=de(u,p,N,q);return-1<K?(p=u[K],x||(p.fa=!1)):(p=new Ie(p,this.src,W,!!N,q),p.fa=x,u.push(p)),p};function Ee(u,p){var x=p.type;if(x in u.g){var N=u.g[x],q=Array.prototype.indexOf.call(N,p,void 0),W;(W=0<=q)&&Array.prototype.splice.call(N,q,1),W&&(we(p),u.g[x].length==0&&(delete u.g[x],u.h--))}}function de(u,p,x,N){for(var q=0;q<u.length;++q){var W=u[q];if(!W.da&&W.listener==p&&W.capture==!!x&&W.ha==N)return q}return-1}var ye="closure_lm_"+(1e6*Math.random()|0),ct={};function rt(u,p,x,N,q){if(Array.isArray(p)){for(var W=0;W<p.length;W++)rt(u,p[W],x,N,q);return null}return x=po(x),u&&u[te]?u.K(p,x,c(N)?!!N.capture:!!N,q):bt(u,p,x,!1,N,q)}function bt(u,p,x,N,q,W){if(!p)throw Error("Invalid event type");var K=c(q)?!!q.capture:!!q,Ze=sr(u);if(Ze||(u[ye]=Ze=new Ae(u)),x=Ze.add(p,x,N,K,W),x.proxy)return x;if(N=Ke(),x.proxy=N,N.src=u,N.listener=x,u.addEventListener)Pe||(q=K),q===void 0&&(q=!1),u.addEventListener(p.toString(),N,q);else if(u.attachEvent)u.attachEvent(yr(p.toString()),N);else if(u.addListener&&u.removeListener)u.addListener(N);else throw Error("addEventListener and attachEvent are unavailable.");return x}function Ke(){function u(x){return p.call(u.src,u.listener,x)}const p=ui;return u}function ut(u,p,x,N,q){if(Array.isArray(p))for(var W=0;W<p.length;W++)ut(u,p[W],x,N,q);else N=c(N)?!!N.capture:!!N,x=po(x),u&&u[te]?(u=u.i,p=String(p).toString(),p in u.g&&(W=u.g[p],x=de(W,x,N,q),-1<x&&(we(W[x]),Array.prototype.splice.call(W,x,1),W.length==0&&(delete u.g[p],u.h--)))):u&&(u=sr(u))&&(p=u.g[p.toString()],u=-1,p&&(u=de(p,x,N,q)),(x=-1<u?p[u]:null)&&rn(x))}function rn(u){if(typeof u!="number"&&u&&!u.da){var p=u.src;if(p&&p[te])Ee(p.i,u);else{var x=u.type,N=u.proxy;p.removeEventListener?p.removeEventListener(x,N,u.capture):p.detachEvent?p.detachEvent(yr(x),N):p.addListener&&p.removeListener&&p.removeListener(N),(x=sr(p))?(Ee(x,u),x.h==0&&(x.src=null,p[ye]=null)):we(u)}}}function yr(u){return u in ct?ct[u]:ct[u]="on"+u}function ui(u,p){if(u.da)u=!0;else{p=new De(p,this);var x=u.listener,N=u.ha||u.src;u.fa&&rn(u),u=x.call(N,p)}return u}function sr(u){return u=u[ye],u instanceof Ae?u:null}var di="__closure_events_fn_"+(1e9*Math.random()>>>0);function po(u){return typeof u=="function"?u:(u[di]||(u[di]=function(p){return u.handleEvent(p)}),u[di])}function Ct(){ue.call(this),this.i=new Ae(this),this.M=this,this.F=null}A(Ct,ue),Ct.prototype[te]=!0,Ct.prototype.removeEventListener=function(u,p,x,N){ut(this,u,p,x,N)};function dt(u,p){var x,N=u.F;if(N)for(x=[];N;N=N.F)x.push(N);if(u=u.M,N=p.type||p,typeof p=="string")p=new he(p,u);else if(p instanceof he)p.target=p.target||u;else{var q=p;p=new he(N,u),D(p,q)}if(q=!0,x)for(var W=x.length-1;0<=W;W--){var K=p.g=x[W];q=hi(K,N,!0,p)&&q}if(K=p.g=u,q=hi(K,N,!0,p)&&q,q=hi(K,N,!1,p)&&q,x)for(W=0;W<x.length;W++)K=p.g=x[W],q=hi(K,N,!1,p)&&q}Ct.prototype.N=function(){if(Ct.aa.N.call(this),this.i){var u=this.i,p;for(p in u.g){for(var x=u.g[p],N=0;N<x.length;N++)we(x[N]);delete u.g[p],u.h--}}this.F=null},Ct.prototype.K=function(u,p,x,N){return this.i.add(String(u),p,!1,x,N)},Ct.prototype.L=function(u,p,x,N){return this.i.add(String(u),p,!0,x,N)};function hi(u,p,x,N){if(p=u.i.g[String(p)],!p)return!0;p=p.concat();for(var q=!0,W=0;W<p.length;++W){var K=p[W];if(K&&!K.da&&K.capture==x){var Ze=K.listener,Lt=K.ha||K.src;K.fa&&Ee(u.i,K),q=Ze.call(Lt,N)!==!1&&q}}return q&&!N.defaultPrevented}function vr(u,p,x){if(typeof u=="function")x&&(u=h(u,x));else if(u&&typeof u.handleEvent=="function")u=h(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:a.setTimeout(u,p||0)}function mo(u){u.g=vr(()=>{u.g=null,u.i&&(u.i=!1,mo(u))},u.l);const p=u.h;u.h=null,u.m.apply(null,p)}class Wi extends ue{constructor(p,x){super(),this.m=p,this.l=x,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:mo(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function or(u){ue.call(this),this.h=u,this.g={}}A(or,ue);var wr=[];function Er(u){B(u.g,function(p,x){this.g.hasOwnProperty(x)&&rn(p)},u),u.g={}}or.prototype.N=function(){or.aa.N.call(this),Er(this)},or.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var vn=a.JSON.stringify,wn=a.JSON.parse,tc=class{stringify(u){return a.JSON.stringify(u,void 0)}parse(u){return a.JSON.parse(u,void 0)}};function xe(){}xe.prototype.h=null;function Ve(u){return u.h||(u.h=u.i())}function Qe(){}var qt={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function sn(){he.call(this,"d")}A(sn,he);function Cr(){he.call(this,"c")}A(Cr,he);var st={},Qi=null;function Ue(){return Qi=Qi||new Ct}st.La="serverreachability";function md(u){he.call(this,st.La,u)}A(md,he);function on(u){const p=Ue();dt(p,new md(p))}st.STAT_EVENT="statevent";function ar(u,p){he.call(this,st.STAT_EVENT,u),this.stat=p}A(ar,he);function Ht(u){const p=Ue();dt(p,new ar(p,u))}st.Ma="timingevent";function gd(u,p){he.call(this,st.Ma,u),this.size=p}A(gd,he);function fi(u,p){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){u()},p)}function pi(){this.g=!0}pi.prototype.xa=function(){this.g=!1};function yd(u,p,x,N,q,W){u.info(function(){if(u.g)if(W)for(var K="",Ze=W.split("&"),Lt=0;Lt<Ze.length;Lt++){var qe=Ze[Lt].split("=");if(1<qe.length){var Gt=qe[0];qe=qe[1];var zt=Gt.split("_");K=2<=zt.length&&zt[1]=="type"?K+(Gt+"="+qe+"&"):K+(Gt+"=redacted&")}}else K=null;else K=W;return"XMLHTTP REQ ("+N+") [attempt "+q+"]: "+p+`
`+x+`
`+K})}function km(u,p,x,N,q,W,K){u.info(function(){return"XMLHTTP RESP ("+N+") [ attempt "+q+"]: "+p+`
`+x+`
`+W+" "+K})}function mi(u,p,x,N){u.info(function(){return"XMLHTTP TEXT ("+p+"): "+Nm(u,x)+(N?" "+N:"")})}function go(u,p){u.info(function(){return"TIMEOUT: "+p})}pi.prototype.info=function(){};function Nm(u,p){if(!u.g)return p;if(!p)return null;try{var x=JSON.parse(p);if(x){for(u=0;u<x.length;u++)if(Array.isArray(x[u])){var N=x[u];if(!(2>N.length)){var q=N[1];if(Array.isArray(q)&&!(1>q.length)){var W=q[0];if(W!="noop"&&W!="stop"&&W!="close")for(var K=1;K<q.length;K++)q[K]=""}}}}return vn(x)}catch{return p}}var gi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},la={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ca;function yo(){}A(yo,xe),yo.prototype.g=function(){return new XMLHttpRequest},yo.prototype.i=function(){return{}},ca=new yo;function Tr(u,p,x,N){this.j=u,this.i=p,this.l=x,this.R=N||1,this.U=new or(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new vd}function vd(){this.i=null,this.g="",this.h=!1}var wd={},nc={};function rc(u,p,x){u.L=1,u.v=ga(jn(p)),u.m=x,u.P=!0,ua(u,null)}function ua(u,p){u.F=Date.now(),da(u),u.A=jn(u.v);var x=u.A,N=u.R;Array.isArray(N)||(N=[String(N)]),Rd(x.i,"t",N),u.C=0,x=u.j.J,u.h=new vd,u.g=Wd(u.j,x?p:null,!u.m),0<u.O&&(u.M=new Wi(h(u.Y,u,u.g),u.O)),p=u.U,x=u.g,N=u.ca;var q="readystatechange";Array.isArray(q)||(q&&(wr[0]=q.toString()),q=wr);for(var W=0;W<q.length;W++){var K=rt(x,q[W],N||p.handleEvent,!1,p.h||p);if(!K)break;p.g[K.key]=K}p=u.H?S(u.H):{},u.m?(u.u||(u.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,p)):(u.u="GET",u.g.ea(u.A,u.u,null,p)),on(),yd(u.i,u.u,u.A,u.l,u.R,u.m)}Tr.prototype.ca=function(u){u=u.target;const p=this.M;p&&Ar(u)==3?p.j():this.Y(u)},Tr.prototype.Y=function(u){try{if(u==this.g)e:{const zt=Ar(this.g);var p=this.g.Ba();const ts=this.g.Z();if(!(3>zt)&&(zt!=3||this.g&&(this.h.h||this.g.oa()||Vd(this.g)))){this.J||zt!=4||p==7||(p==8||0>=ts?on(3):on(2)),sc(this);var x=this.g.Z();this.X=x;t:if(Ed(this)){var N=Vd(this.g);u="";var q=N.length,W=Ar(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){yi(this),vo(this);var K="";break t}this.h.i=new a.TextDecoder}for(p=0;p<q;p++)this.h.h=!0,u+=this.h.i.decode(N[p],{stream:!(W&&p==q-1)});N.length=0,this.h.g+=u,this.C=0,K=this.h.g}else K=this.g.oa();if(this.o=x==200,km(this.i,this.u,this.A,this.l,this.R,zt,x),this.o){if(this.T&&!this.K){t:{if(this.g){var Ze,Lt=this.g;if((Ze=Lt.g?Lt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!v(Ze)){var qe=Ze;break t}}qe=null}if(x=qe)mi(this.i,this.l,x,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Yi(this,x);else{this.o=!1,this.s=3,Ht(12),yi(this),vo(this);break e}}if(this.P){x=!0;let Un;for(;!this.J&&this.C<K.length;)if(Un=Dm(this,K),Un==nc){zt==4&&(this.s=4,Ht(14),x=!1),mi(this.i,this.l,null,"[Incomplete Response]");break}else if(Un==wd){this.s=4,Ht(15),mi(this.i,this.l,K,"[Invalid Chunk]"),x=!1;break}else mi(this.i,this.l,Un,null),Yi(this,Un);if(Ed(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),zt!=4||K.length!=0||this.h.h||(this.s=1,Ht(16),x=!1),this.o=this.o&&x,!x)mi(this.i,this.l,K,"[Invalid Chunked Response]"),yi(this),vo(this);else if(0<K.length&&!this.W){this.W=!0;var Gt=this.j;Gt.g==this&&Gt.ba&&!Gt.M&&(Gt.j.info("Great, no buffering proxy detected. Bytes received: "+K.length),hc(Gt),Gt.M=!0,Ht(11))}}else mi(this.i,this.l,K,null),Yi(this,K);zt==4&&yi(this),this.o&&!this.J&&(zt==4?zd(this.j,this):(this.o=!1,da(this)))}else Gm(this.g),x==400&&0<K.indexOf("Unknown SID")?(this.s=3,Ht(12)):(this.s=0,Ht(13)),yi(this),vo(this)}}}catch{}finally{}};function Ed(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function Dm(u,p){var x=u.C,N=p.indexOf(`
`,x);return N==-1?nc:(x=Number(p.substring(x,N)),isNaN(x)?wd:(N+=1,N+x>p.length?nc:(p=p.slice(N,N+x),u.C=N+x,p)))}Tr.prototype.cancel=function(){this.J=!0,yi(this)};function da(u){u.S=Date.now()+u.I,ic(u,u.I)}function ic(u,p){if(u.B!=null)throw Error("WatchDog timer not null");u.B=fi(h(u.ba,u),p)}function sc(u){u.B&&(a.clearTimeout(u.B),u.B=null)}Tr.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(go(this.i,this.A),this.L!=2&&(on(),Ht(17)),yi(this),this.s=2,vo(this)):ic(this,this.S-u)};function vo(u){u.j.G==0||u.J||zd(u.j,u)}function yi(u){sc(u);var p=u.M;p&&typeof p.ma=="function"&&p.ma(),u.M=null,Er(u.U),u.g&&(p=u.g,u.g=null,p.abort(),p.ma())}function Yi(u,p){try{var x=u.j;if(x.G!=0&&(x.g==u||ha(x.h,u))){if(!u.K&&ha(x.h,u)&&x.G==3){try{var N=x.Da.g.parse(p)}catch{N=null}if(Array.isArray(N)&&N.length==3){var q=N;if(q[0]==0){e:if(!x.u){if(x.g)if(x.g.F+3e3<u.F)Ca(x),_o(x);else break e;dc(x),Ht(18)}}else x.za=q[1],0<x.za-x.T&&37500>q[2]&&x.F&&x.v==0&&!x.C&&(x.C=fi(h(x.Za,x),6e3));if(1>=oc(x.h)&&x.ca){try{x.ca()}catch{}x.ca=void 0}}else Ei(x,11)}else if((u.K||x.g==u)&&Ca(x),!v(p))for(q=x.Da.g.parse(p),p=0;p<q.length;p++){let qe=q[p];if(x.T=qe[0],qe=qe[1],x.G==2)if(qe[0]=="c"){x.K=qe[1],x.ia=qe[2];const Gt=qe[3];Gt!=null&&(x.la=Gt,x.j.info("VER="+x.la));const zt=qe[4];zt!=null&&(x.Aa=zt,x.j.info("SVER="+x.Aa));const ts=qe[5];ts!=null&&typeof ts=="number"&&0<ts&&(N=1.5*ts,x.L=N,x.j.info("backChannelRequestTimeoutMs_="+N)),N=x;const Un=u.g;if(Un){const Aa=Un.g?Un.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Aa){var W=N.h;W.g||Aa.indexOf("spdy")==-1&&Aa.indexOf("quic")==-1&&Aa.indexOf("h2")==-1||(W.j=W.l,W.g=new Set,W.h&&(fa(W,W.h),W.h=null))}if(N.D){const fc=Un.g?Un.g.getResponseHeader("X-HTTP-Session-Id"):null;fc&&(N.ya=fc,et(N.I,N.D,fc))}}x.G=3,x.l&&x.l.ua(),x.ba&&(x.R=Date.now()-u.F,x.j.info("Handshake RTT: "+x.R+"ms")),N=x;var K=u;if(N.qa=$d(N,N.J?N.ia:null,N.W),K.K){Oe(N.h,K);var Ze=K,Lt=N.L;Lt&&(Ze.I=Lt),Ze.B&&(sc(Ze),da(Ze)),N.g=K}else qd(N);0<x.i.length&&Ea(x)}else qe[0]!="stop"&&qe[0]!="close"||Ei(x,7);else x.G==3&&(qe[0]=="stop"||qe[0]=="close"?qe[0]=="stop"?Ei(x,7):uc(x):qe[0]!="noop"&&x.l&&x.l.ta(qe),x.v=0)}}on(4)}catch{}}var Mm=class{constructor(u,p){this.g=u,this.map=p}};function Cd(u){this.l=u||10,a.PerformanceNavigationTiming?(u=a.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function wo(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function oc(u){return u.h?1:u.g?u.g.size:0}function ha(u,p){return u.h?u.h==p:u.g?u.g.has(p):!1}function fa(u,p){u.g?u.g.add(p):u.h=p}function Oe(u,p){u.h&&u.h==p?u.h=null:u.g&&u.g.has(p)&&u.g.delete(p)}Cd.prototype.cancel=function(){if(this.i=Td(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Td(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let p=u.i;for(const x of u.g.values())p=p.concat(x.D);return p}return g(u.i)}function Om(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(l(u)){for(var p=[],x=u.length,N=0;N<x;N++)p.push(u[N]);return p}p=[],x=0;for(N in u)p[x++]=u[N];return p}function Bn(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(l(u)||typeof u=="string"){var p=[];u=u.length;for(var x=0;x<u;x++)p.push(x);return p}p=[],x=0;for(const N in u)p[x++]=N;return p}}}function _d(u,p){if(u.forEach&&typeof u.forEach=="function")u.forEach(p,void 0);else if(l(u)||typeof u=="string")Array.prototype.forEach.call(u,p,void 0);else for(var x=Bn(u),N=Om(u),q=N.length,W=0;W<q;W++)p.call(void 0,N[W],x&&x[W],u)}var ac=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function pa(u,p){if(u){u=u.split("&");for(var x=0;x<u.length;x++){var N=u[x].indexOf("="),q=null;if(0<=N){var W=u[x].substring(0,N);q=u[x].substring(N+1)}else W=u[x];p(W,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function vi(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof vi){this.h=u.h,ma(this,u.j),this.o=u.o,this.g=u.g,Ki(this,u.s),this.l=u.l;var p=u.i,x=new Eo;x.i=p.i,p.g&&(x.g=new Map(p.g),x.h=p.h),Ad(this,x),this.m=u.m}else u&&(p=String(u).match(ac))?(this.h=!1,ma(this,p[1]||"",!0),this.o=wi(p[2]||""),this.g=wi(p[3]||"",!0),Ki(this,p[4]),this.l=wi(p[5]||"",!0),Ad(this,p[6]||"",!0),this.m=wi(p[7]||"")):(this.h=!1,this.i=new Eo(null,this.h))}vi.prototype.toString=function(){var u=[],p=this.j;p&&u.push(En(p,xd,!0),":");var x=this.g;return(x||p=="file")&&(u.push("//"),(p=this.o)&&u.push(En(p,xd,!0),"@"),u.push(encodeURIComponent(String(x)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),x=this.s,x!=null&&u.push(":",String(x))),(x=this.l)&&(this.g&&x.charAt(0)!="/"&&u.push("/"),u.push(En(x,x.charAt(0)=="/"?_r:Lm,!0))),(x=this.i.toString())&&u.push("?",x),(x=this.m)&&u.push("#",En(x,Vm)),u.join("")};function jn(u){return new vi(u)}function ma(u,p,x){u.j=x?wi(p,!0):p,u.j&&(u.j=u.j.replace(/:$/,""))}function Ki(u,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);u.s=p}else u.s=null}function Ad(u,p,x){p instanceof Eo?(u.i=p,Fm(u.i,u.h)):(x||(p=En(p,Id)),u.i=new Eo(p,u.h))}function et(u,p,x){u.i.set(p,x)}function ga(u){return et(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function wi(u,p){return u?p?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function En(u,p,x){return typeof u=="string"?(u=encodeURI(u).replace(p,lc),x&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function lc(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var xd=/[#\/\?@]/g,Lm=/[#\?:]/g,_r=/[#\?]/g,Id=/[#\?@]/g,Vm=/#/g;function Eo(u,p){this.h=this.g=null,this.i=u||null,this.j=!!p}function jr(u){u.g||(u.g=new Map,u.h=0,u.i&&pa(u.i,function(p,x){u.add(decodeURIComponent(p.replace(/\+/g," ")),x)}))}t=Eo.prototype,t.add=function(u,p){jr(this),this.i=null,u=Hi(this,u);var x=this.g.get(u);return x||this.g.set(u,x=[]),x.push(p),this.h+=1,this};function Sd(u,p){jr(u),p=Hi(u,p),u.g.has(p)&&(u.i=null,u.h-=u.g.get(p).length,u.g.delete(p))}function bd(u,p){return jr(u),p=Hi(u,p),u.g.has(p)}t.forEach=function(u,p){jr(this),this.g.forEach(function(x,N){x.forEach(function(q){u.call(p,q,N,this)},this)},this)},t.na=function(){jr(this);const u=Array.from(this.g.values()),p=Array.from(this.g.keys()),x=[];for(let N=0;N<p.length;N++){const q=u[N];for(let W=0;W<q.length;W++)x.push(p[N])}return x},t.V=function(u){jr(this);let p=[];if(typeof u=="string")bd(this,u)&&(p=p.concat(this.g.get(Hi(this,u))));else{u=Array.from(this.g.values());for(let x=0;x<u.length;x++)p=p.concat(u[x])}return p},t.set=function(u,p){return jr(this),this.i=null,u=Hi(this,u),bd(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[p]),this.h+=1,this},t.get=function(u,p){return u?(u=this.V(u),0<u.length?String(u[0]):p):p};function Rd(u,p,x){Sd(u,p),0<x.length&&(u.i=null,u.g.set(Hi(u,p),g(x)),u.h+=x.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],p=Array.from(this.g.keys());for(var x=0;x<p.length;x++){var N=p[x];const W=encodeURIComponent(String(N)),K=this.V(N);for(N=0;N<K.length;N++){var q=W;K[N]!==""&&(q+="="+encodeURIComponent(String(K[N]))),u.push(q)}}return this.i=u.join("&")};function Hi(u,p){return p=String(p),u.j&&(p=p.toLowerCase()),p}function Fm(u,p){p&&!u.j&&(jr(u),u.i=null,u.g.forEach(function(x,N){var q=N.toLowerCase();N!=q&&(Sd(this,N),Rd(this,q,x))},u)),u.j=p}function Bm(u,p){const x=new pi;if(a.Image){const N=new Image;N.onload=y(Cn,x,"TestLoadImage: loaded",!0,p,N),N.onerror=y(Cn,x,"TestLoadImage: error",!1,p,N),N.onabort=y(Cn,x,"TestLoadImage: abort",!1,p,N),N.ontimeout=y(Cn,x,"TestLoadImage: timeout",!1,p,N),a.setTimeout(function(){N.ontimeout&&N.ontimeout()},1e4),N.src=u}else p(!1)}function jm(u,p){const x=new pi,N=new AbortController,q=setTimeout(()=>{N.abort(),Cn(x,"TestPingServer: timeout",!1,p)},1e4);fetch(u,{signal:N.signal}).then(W=>{clearTimeout(q),W.ok?Cn(x,"TestPingServer: ok",!0,p):Cn(x,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(q),Cn(x,"TestPingServer: error",!1,p)})}function Cn(u,p,x,N,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),N(x)}catch{}}function Pd(){this.g=new tc}function kd(u,p,x){const N=x||"";try{_d(u,function(q,W){let K=q;c(q)&&(K=vn(q)),p.push(N+W+"="+encodeURIComponent(K))})}catch(q){throw p.push(N+"type="+encodeURIComponent("_badmap")),q}}function Co(u){this.l=u.Ub||null,this.j=u.eb||!1}A(Co,xe),Co.prototype.g=function(){return new ya(this.l,this.j)},Co.prototype.i=function(u){return function(){return u}}({});function ya(u,p){Ct.call(this),this.D=u,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}A(ya,Ct),t=ya.prototype,t.open=function(u,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=p,this.readyState=1,To(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(p.body=u),(this.D||a).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ji(this)),this.readyState=0},t.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,To(this)),this.g&&(this.readyState=3,To(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Nd(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Nd(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}t.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var p=u.value?u.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!u.done}))&&(this.response=this.responseText+=p)}u.done?Ji(this):To(this),this.readyState==3&&Nd(this)}},t.Ra=function(u){this.g&&(this.response=this.responseText=u,Ji(this))},t.Qa=function(u){this.g&&(this.response=u,Ji(this))},t.ga=function(){this.g&&Ji(this)};function Ji(u){u.readyState=4,u.l=null,u.j=null,u.v=null,To(u)}t.setRequestHeader=function(u,p){this.u.append(u,p)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],p=this.h.entries();for(var x=p.next();!x.done;)x=x.value,u.push(x[0]+": "+x[1]),x=p.next();return u.join(`\r
`)};function To(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(ya.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Dd(u){let p="";return B(u,function(x,N){p+=N,p+=":",p+=x,p+=`\r
`}),p}function cc(u,p,x){e:{for(N in x){var N=!1;break e}N=!0}N||(x=Dd(x),typeof u=="string"?x!=null&&encodeURIComponent(String(x)):et(u,p,x))}function ht(u){Ct.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}A(ht,Ct);var Um=/^https?$/i,qm=["POST","PUT"];t=ht.prototype,t.Ha=function(u){this.J=u},t.ea=function(u,p,x,N){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);p=p?p.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ca.g(),this.v=this.o?Ve(this.o):Ve(ca),this.g.onreadystatechange=h(this.Ea,this);try{this.B=!0,this.g.open(p,String(u),!0),this.B=!1}catch(W){Md(this,W);return}if(u=x||"",x=new Map(this.headers),N)if(Object.getPrototypeOf(N)===Object.prototype)for(var q in N)x.set(q,N[q]);else if(typeof N.keys=="function"&&typeof N.get=="function")for(const W of N.keys())x.set(W,N.get(W));else throw Error("Unknown input type for opt_headers: "+String(N));N=Array.from(x.keys()).find(W=>W.toLowerCase()=="content-type"),q=a.FormData&&u instanceof a.FormData,!(0<=Array.prototype.indexOf.call(qm,p,void 0))||N||q||x.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[W,K]of x)this.g.setRequestHeader(W,K);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{wa(this),this.u=!0,this.g.send(u),this.u=!1}catch(W){Md(this,W)}};function Md(u,p){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=p,u.m=5,Od(u),va(u)}function Od(u){u.A||(u.A=!0,dt(u,"complete"),dt(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,dt(this,"complete"),dt(this,"abort"),va(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),va(this,!0)),ht.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Ld(this):this.bb())},t.bb=function(){Ld(this)};function Ld(u){if(u.h&&typeof o<"u"&&(!u.v[1]||Ar(u)!=4||u.Z()!=2)){if(u.u&&Ar(u)==4)vr(u.Ea,0,u);else if(dt(u,"readystatechange"),Ar(u)==4){u.h=!1;try{const K=u.Z();e:switch(K){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var x;if(!(x=p)){var N;if(N=K===0){var q=String(u.D).match(ac)[1]||null;!q&&a.self&&a.self.location&&(q=a.self.location.protocol.slice(0,-1)),N=!Um.test(q?q.toLowerCase():"")}x=N}if(x)dt(u,"complete"),dt(u,"success");else{u.m=6;try{var W=2<Ar(u)?u.g.statusText:""}catch{W=""}u.l=W+" ["+u.Z()+"]",Od(u)}}finally{va(u)}}}}function va(u,p){if(u.g){wa(u);const x=u.g,N=u.v[0]?()=>{}:null;u.g=null,u.v=null,p||dt(u,"ready");try{x.onreadystatechange=N}catch{}}}function wa(u){u.I&&(a.clearTimeout(u.I),u.I=null)}t.isActive=function(){return!!this.g};function Ar(u){return u.g?u.g.readyState:0}t.Z=function(){try{return 2<Ar(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(u){if(this.g){var p=this.g.responseText;return u&&p.indexOf(u)==0&&(p=p.substring(u.length)),wn(p)}};function Vd(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Gm(u){const p={};u=(u.g&&2<=Ar(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let N=0;N<u.length;N++){if(v(u[N]))continue;var x=V(u[N]);const q=x[0];if(x=x[1],typeof x!="string")continue;x=x.trim();const W=p[q]||[];p[q]=W,W.push(x)}b(p,function(N){return N.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Zi(u,p,x){return x&&x.internalChannelParams&&x.internalChannelParams[u]||p}function Fd(u){this.Aa=0,this.i=[],this.j=new pi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Zi("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Zi("baseRetryDelayMs",5e3,u),this.cb=Zi("retryDelaySeedMs",1e4,u),this.Wa=Zi("forwardChannelMaxRetries",2,u),this.wa=Zi("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Cd(u&&u.concurrentRequestLimit),this.Da=new Pd,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Fd.prototype,t.la=8,t.G=1,t.connect=function(u,p,x,N){Ht(0),this.W=u,this.H=p||{},x&&N!==void 0&&(this.H.OSID=x,this.H.OAID=N),this.F=this.X,this.I=$d(this,null,this.W),Ea(this)};function uc(u){if(Bd(u),u.G==3){var p=u.U++,x=jn(u.I);if(et(x,"SID",u.K),et(x,"RID",p),et(x,"TYPE","terminate"),Ao(u,x),p=new Tr(u,u.j,p),p.L=2,p.v=ga(jn(x)),x=!1,a.navigator&&a.navigator.sendBeacon)try{x=a.navigator.sendBeacon(p.v.toString(),"")}catch{}!x&&a.Image&&(new Image().src=p.v,x=!0),x||(p.g=Wd(p.j,null),p.g.ea(p.v)),p.F=Date.now(),da(p)}Xi(u)}function _o(u){u.g&&(hc(u),u.g.cancel(),u.g=null)}function Bd(u){_o(u),u.u&&(a.clearTimeout(u.u),u.u=null),Ca(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&a.clearTimeout(u.s),u.s=null)}function Ea(u){if(!wo(u.h)&&!u.s){u.s=!0;var p=u.Ga;pe||ae(),G||(pe(),G=!0),Z.add(p,u),u.B=0}}function zm(u,p){return oc(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=p.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=fi(h(u.Ga,u,p),Ta(u,u.B)),u.B++,!0)}t.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const q=new Tr(this,this.j,u);let W=this.o;if(this.S&&(W?(W=S(W),D(W,this.S)):W=this.S),this.m!==null||this.O||(q.H=W,W=null),this.P)e:{for(var p=0,x=0;x<this.i.length;x++){t:{var N=this.i[x];if("__data__"in N.map&&(N=N.map.__data__,typeof N=="string")){N=N.length;break t}N=void 0}if(N===void 0)break;if(p+=N,4096<p){p=x;break e}if(p===4096||x===this.i.length-1){p=x+1;break e}}p=1e3}else p=1e3;p=Ud(this,q,p),x=jn(this.I),et(x,"RID",u),et(x,"CVER",22),this.D&&et(x,"X-HTTP-Session-Id",this.D),Ao(this,x),W&&(this.O?p="headers="+encodeURIComponent(String(Dd(W)))+"&"+p:this.m&&cc(x,this.m,W)),fa(this.h,q),this.Ua&&et(x,"TYPE","init"),this.P?(et(x,"$req",p),et(x,"SID","null"),q.T=!0,rc(q,x,null)):rc(q,x,p),this.G=2}}else this.G==3&&(u?jd(this,u):this.i.length==0||wo(this.h)||jd(this))};function jd(u,p){var x;p?x=p.l:x=u.U++;const N=jn(u.I);et(N,"SID",u.K),et(N,"RID",x),et(N,"AID",u.T),Ao(u,N),u.m&&u.o&&cc(N,u.m,u.o),x=new Tr(u,u.j,x,u.B+1),u.m===null&&(x.H=u.o),p&&(u.i=p.D.concat(u.i)),p=Ud(u,x,1e3),x.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),fa(u.h,x),rc(x,N,p)}function Ao(u,p){u.H&&B(u.H,function(x,N){et(p,N,x)}),u.l&&_d({},function(x,N){et(p,N,x)})}function Ud(u,p,x){x=Math.min(u.i.length,x);var N=u.l?h(u.l.Na,u.l,u):null;e:{var q=u.i;let W=-1;for(;;){const K=["count="+x];W==-1?0<x?(W=q[0].g,K.push("ofs="+W)):W=0:K.push("ofs="+W);let Ze=!0;for(let Lt=0;Lt<x;Lt++){let qe=q[Lt].g;const Gt=q[Lt].map;if(qe-=W,0>qe)W=Math.max(0,q[Lt].g-100),Ze=!1;else try{kd(Gt,K,"req"+qe+"_")}catch{N&&N(Gt)}}if(Ze){N=K.join("&");break e}}}return u=u.i.splice(0,x),p.D=u,N}function qd(u){if(!u.g&&!u.u){u.Y=1;var p=u.Fa;pe||ae(),G||(pe(),G=!0),Z.add(p,u),u.v=0}}function dc(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=fi(h(u.Fa,u),Ta(u,u.v)),u.v++,!0)}t.Fa=function(){if(this.u=null,Gd(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=fi(h(this.ab,this),u)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ht(10),_o(this),Gd(this))};function hc(u){u.A!=null&&(a.clearTimeout(u.A),u.A=null)}function Gd(u){u.g=new Tr(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var p=jn(u.qa);et(p,"RID","rpc"),et(p,"SID",u.K),et(p,"AID",u.T),et(p,"CI",u.F?"0":"1"),!u.F&&u.ja&&et(p,"TO",u.ja),et(p,"TYPE","xmlhttp"),Ao(u,p),u.m&&u.o&&cc(p,u.m,u.o),u.L&&(u.g.I=u.L);var x=u.g;u=u.ia,x.L=1,x.v=ga(jn(p)),x.m=null,x.P=!0,ua(x,u)}t.Za=function(){this.C!=null&&(this.C=null,_o(this),dc(this),Ht(19))};function Ca(u){u.C!=null&&(a.clearTimeout(u.C),u.C=null)}function zd(u,p){var x=null;if(u.g==p){Ca(u),hc(u),u.g=null;var N=2}else if(ha(u.h,p))x=p.D,Oe(u.h,p),N=1;else return;if(u.G!=0){if(p.o)if(N==1){x=p.m?p.m.length:0,p=Date.now()-p.F;var q=u.B;N=Ue(),dt(N,new gd(N,x)),Ea(u)}else qd(u);else if(q=p.s,q==3||q==0&&0<p.X||!(N==1&&zm(u,p)||N==2&&dc(u)))switch(x&&0<x.length&&(p=u.h,p.i=p.i.concat(x)),q){case 1:Ei(u,5);break;case 4:Ei(u,10);break;case 3:Ei(u,6);break;default:Ei(u,2)}}}function Ta(u,p){let x=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(x*=2),x*p}function Ei(u,p){if(u.j.info("Error code "+p),p==2){var x=h(u.fb,u),N=u.Xa;const q=!N;N=new vi(N||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||ma(N,"https"),ga(N),q?Bm(N.toString(),x):jm(N.toString(),x)}else Ht(2);u.G=0,u.l&&u.l.sa(p),Xi(u),Bd(u)}t.fb=function(u){u?(this.j.info("Successfully pinged google.com"),Ht(2)):(this.j.info("Failed to ping google.com"),Ht(1))};function Xi(u){if(u.G=0,u.ka=[],u.l){const p=Td(u.h);(p.length!=0||u.i.length!=0)&&(I(u.ka,p),I(u.ka,u.i),u.h.i.length=0,g(u.i),u.i.length=0),u.l.ra()}}function $d(u,p,x){var N=x instanceof vi?jn(x):new vi(x);if(N.g!="")p&&(N.g=p+"."+N.g),Ki(N,N.s);else{var q=a.location;N=q.protocol,p=p?p+"."+q.hostname:q.hostname,q=+q.port;var W=new vi(null);N&&ma(W,N),p&&(W.g=p),q&&Ki(W,q),x&&(W.l=x),N=W}return x=u.D,p=u.ya,x&&p&&et(N,x,p),et(N,"VER",u.la),Ao(u,N),N}function Wd(u,p,x){if(p&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=u.Ca&&!u.pa?new ht(new Co({eb:x})):new ht(u.pa),p.Ha(u.J),p}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Qd(){}t=Qd.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function _a(){}_a.prototype.g=function(u,p){return new Tn(u,p)};function Tn(u,p){Ct.call(this),this.g=new Fd(p),this.l=u,this.h=p&&p.messageUrlParams||null,u=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(u?u["X-WebChannel-Content-Type"]=p.messageContentType:u={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(u?u["X-WebChannel-Client-Profile"]=p.va:u={"X-WebChannel-Client-Profile":p.va}),this.g.S=u,(u=p&&p.Sb)&&!v(u)&&(this.g.m=u),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!v(p)&&(this.g.D=p,u=this.h,u!==null&&p in u&&(u=this.h,p in u&&delete u[p])),this.j=new es(this)}A(Tn,Ct),Tn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Tn.prototype.close=function(){uc(this.g)},Tn.prototype.o=function(u){var p=this.g;if(typeof u=="string"){var x={};x.__data__=u,u=x}else this.u&&(x={},x.__data__=vn(u),u=x);p.i.push(new Mm(p.Ya++,u)),p.G==3&&Ea(p)},Tn.prototype.N=function(){this.g.l=null,delete this.j,uc(this.g),delete this.g,Tn.aa.N.call(this)};function Yd(u){sn.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var p=u.__sm__;if(p){e:{for(const x in p){u=x;break e}u=void 0}(this.i=u)&&(u=this.i,p=p!==null&&u in p?p[u]:void 0),this.data=p}else this.data=u}A(Yd,sn);function Kd(){Cr.call(this),this.status=1}A(Kd,Cr);function es(u){this.g=u}A(es,Qd),es.prototype.ua=function(){dt(this.g,"a")},es.prototype.ta=function(u){dt(this.g,new Yd(u))},es.prototype.sa=function(u){dt(this.g,new Kd)},es.prototype.ra=function(){dt(this.g,"b")},_a.prototype.createWebChannel=_a.prototype.g,Tn.prototype.send=Tn.prototype.o,Tn.prototype.open=Tn.prototype.m,Tn.prototype.close=Tn.prototype.close,KI=function(){return new _a},YI=function(){return Ue()},QI=st,iv={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},gi.NO_ERROR=0,gi.TIMEOUT=8,gi.HTTP_ERROR=6,Jh=gi,la.COMPLETE="complete",WI=la,Qe.EventType=qt,qt.OPEN="a",qt.CLOSE="b",qt.ERROR="c",qt.MESSAGE="d",Ct.prototype.listen=Ct.prototype.K,Pc=Qe,ht.prototype.listenOnce=ht.prototype.L,ht.prototype.getLastError=ht.prototype.Ka,ht.prototype.getLastErrorCode=ht.prototype.Ba,ht.prototype.getStatus=ht.prototype.Z,ht.prototype.getResponseJson=ht.prototype.Oa,ht.prototype.getResponseText=ht.prototype.oa,ht.prototype.send=ht.prototype.ea,ht.prototype.setWithCredentials=ht.prototype.Ha,$I=ht}).apply(typeof wh<"u"?wh:typeof self<"u"?self:typeof window<"u"?window:{});const oC="@firebase/firestore",aC="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}hn.UNAUTHENTICATED=new hn(null),hn.GOOGLE_CREDENTIALS=new hn("google-credentials-uid"),hn.FIRST_PARTY=new hn("first-party-uid"),hn.MOCK_USER=new hn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gl="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qo=new sw("@firebase/firestore");function Ra(){return Qo.logLevel}function fe(t,...e){if(Qo.logLevel<=Fe.DEBUG){const n=e.map(cw);Qo.debug(`Firestore (${Gl}): ${t}`,...n)}}function Fi(t,...e){if(Qo.logLevel<=Fe.ERROR){const n=e.map(cw);Qo.error(`Firestore (${Gl}): ${t}`,...n)}}function $s(t,...e){if(Qo.logLevel<=Fe.WARN){const n=e.map(cw);Qo.warn(`Firestore (${Gl}): ${t}`,...n)}}function cw(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ce(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,HI(t,r,n)}function HI(t,e,n){let r=`FIRESTORE (${Gl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Fi(r),new Error(r)}function ze(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||HI(e,i,r)}function Re(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class le extends $i{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JI{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class GL{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(hn.UNAUTHENTICATED))}shutdown(){}}class zL{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class $L{constructor(e){this.t=e,this.currentUser=hn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ze(this.o===void 0,42304);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new Xr;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Xr,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Xr)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ze(typeof r.accessToken=="string",31837,{l:r}),new JI(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ze(e===null||typeof e=="string",2055,{h:e}),new hn(e)}}class WL{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=hn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class QL{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new WL(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(hn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class lC{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class YL{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,hr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){ze(this.o===void 0,3512);const r=s=>{s.error!=null&&fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.m;return this.m=s.token,fe("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new lC(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ze(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new lC(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KL(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZI(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uw{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=KL(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}}function Me(t,e){return t<e?-1:t>e?1:0}function sv(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),i=e.codePointAt(n);if(r!==i){if(r<128&&i<128)return Me(r,i);{const s=ZI(),o=HL(s.encode(cC(t,n)),s.encode(cC(e,n)));return o!==0?o:Me(r,i)}}n+=r>65535?2:1}return Me(t.length,e.length)}function cC(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function HL(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return Me(t[n],e[n]);return Me(t.length,e.length)}function xl(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uC="__name__";class $r{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ce(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Ce(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return $r.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof $r?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=$r.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return Me(e.length,n.length)}static compareSegments(e,n){const r=$r.isNumericId(e),i=$r.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?$r.extractNumericId(e).compare($r.extractNumericId(n)):sv(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Bs.fromString(e.substring(4,e.length-2))}}class tt extends $r{construct(e,n,r){return new tt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new le(Y.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new tt(n)}static emptyPath(){return new tt([])}}const JL=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Xt extends $r{construct(e,n,r){return new Xt(e,n,r)}static isValidIdentifier(e){return JL.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Xt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===uC}static keyField(){return new Xt([uC])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new le(Y.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new le(Y.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new le(Y.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new le(Y.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Xt(n)}static emptyPath(){return new Xt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{constructor(e){this.path=e}static fromPath(e){return new ve(tt.fromString(e))}static fromName(e){return new ve(tt.fromString(e).popFirst(5))}static empty(){return new ve(tt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&tt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return tt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ve(new tt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XI(t,e,n){if(!n)throw new le(Y.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function ZL(t,e,n,r){if(e===!0&&r===!0)throw new le(Y.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function dC(t){if(!ve.isDocumentKey(t))throw new le(Y.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function hC(t){if(ve.isDocumentKey(t))throw new le(Y.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function eS(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Gp(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ce(12329,{type:typeof t})}function Fn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new le(Y.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Gp(t);throw new le(Y.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mt(t,e){const n={typeString:t};return e&&(n.value=e),n}function Ku(t,e){if(!eS(t))throw new le(Y.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,s="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(i&&typeof o!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(s!==void 0&&o!==s.value){n=`Expected '${r}' field to equal '${s.value}'`;break}}if(n)throw new le(Y.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fC=-62135596800,pC=1e6;class Je{static now(){return Je.fromMillis(Date.now())}static fromDate(e){return Je.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*pC);return new Je(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new le(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new le(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<fC)throw new le(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new le(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/pC}_compareTo(e){return this.seconds===e.seconds?Me(this.nanoseconds,e.nanoseconds):Me(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Je._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Ku(e,Je._jsonSchema))return new Je(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-fC;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Je._jsonSchemaVersion="firestore/timestamp/1.0",Je._jsonSchema={type:Mt("string",Je._jsonSchemaVersion),seconds:Mt("number"),nanoseconds:Mt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{static fromTimestamp(e){return new Se(e)}static min(){return new Se(new Je(0,0))}static max(){return new Se(new Je(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tu=-1;function XL(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Se.fromTimestamp(r===1e9?new Je(n+1,0):new Je(n,r));return new Ws(i,ve.empty(),e)}function eV(t){return new Ws(t.readTime,t.key,Tu)}class Ws{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ws(Se.min(),ve.empty(),Tu)}static max(){return new Ws(Se.max(),ve.empty(),Tu)}}function tV(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ve.comparator(t.documentKey,e.documentKey),n!==0?n:Me(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nV="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class rV{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zl(t){if(t.code!==Y.FAILED_PRECONDITION||t.message!==nV)throw t;fe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ce(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new H((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof H?n:H.resolve(n)}catch(n){return H.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):H.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):H.reject(n)}static resolve(e){return new H((n,r)=>{n(e)})}static reject(e){return new H((n,r)=>{r(e)})}static waitFor(e){return new H((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=H.resolve(!1);for(const r of e)n=n.next(i=>i?H.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new H((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const c=l;n(e[c]).next(d=>{o[c]=d,++a,a===s&&r(o)},d=>i(d))}})}static doWhile(e,n){return new H((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function iV(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function $l(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zp{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this._e(r),this.ae=r=>n.writeSequenceNumber(r))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}zp.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dw=-1;function Hu(t){return t==null}function $f(t){return t===0&&1/t==-1/0}function sV(t){return typeof t=="number"&&Number.isInteger(t)&&!$f(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tS="";function oV(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=mC(e)),e=aV(t.get(n),e);return mC(e)}function aV(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case tS:n+="";break;default:n+=s}}return n}function mC(t){return t+tS+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gC(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function so(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function nS(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{constructor(e,n){this.comparator=e,this.root=n||Zt.EMPTY}insert(e,n){return new Et(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Zt.BLACK,null,null))}remove(e){return new Et(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Zt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Eh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Eh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Eh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Eh(this.root,e,this.comparator,!0)}}class Eh{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Zt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Zt.RED,this.left=i??Zt.EMPTY,this.right=s??Zt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Zt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Zt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Zt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Zt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Zt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ce(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ce(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ce(27949);return e+(this.isRed()?0:1)}}Zt.EMPTY=null,Zt.RED=!0,Zt.BLACK=!1;Zt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ce(57766)}get value(){throw Ce(16141)}get color(){throw Ce(16727)}get left(){throw Ce(29726)}get right(){throw Ce(36894)}copy(e,n,r,i,s){return this}insert(e,n,r){return new Zt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(e){this.comparator=e,this.data=new Et(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new yC(this.data.getIterator())}getIteratorFrom(e){return new yC(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof jt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new jt(this.comparator);return n.data=e,n}}class yC{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kn{constructor(e){this.fields=e,e.sort(Xt.comparator)}static empty(){return new Kn([])}unionWith(e){let n=new jt(Xt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Kn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return xl(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new rS("Invalid base64 string: "+s):s}}(e);return new nn(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new nn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Me(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}nn.EMPTY_BYTE_STRING=new nn("");const lV=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Qs(t){if(ze(!!t,39018),typeof t=="string"){let e=0;const n=lV.exec(t);if(ze(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:It(t.seconds),nanos:It(t.nanos)}}function It(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ys(t){return typeof t=="string"?nn.fromBase64String(t):nn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iS="server_timestamp",sS="__type__",oS="__previous_value__",aS="__local_write_time__";function hw(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[sS])===null||n===void 0?void 0:n.stringValue)===iS}function $p(t){const e=t.mapValue.fields[oS];return hw(e)?$p(e):e}function _u(t){const e=Qs(t.mapValue.fields[aS].timestampValue);return new Je(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cV{constructor(e,n,r,i,s,o,a,l,c,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c,this.isUsingEmulator=d}}const Wf="(default)";class Au{constructor(e,n){this.projectId=e,this.database=n||Wf}static empty(){return new Au("","")}get isDefaultDatabase(){return this.database===Wf}isEqual(e){return e instanceof Au&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lS="__type__",cS="__max__",Ch={mapValue:{fields:{__type__:{stringValue:cS}}}},uS="__vector__",Qf="value";function Ks(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?hw(t)?4:dV(t)?9007199254740991:uV(t)?10:11:Ce(28295,{value:t})}function si(t,e){if(t===e)return!0;const n=Ks(t);if(n!==Ks(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return _u(t).isEqual(_u(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Qs(i.timestampValue),a=Qs(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Ys(i.bytesValue).isEqual(Ys(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return It(i.geoPointValue.latitude)===It(s.geoPointValue.latitude)&&It(i.geoPointValue.longitude)===It(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return It(i.integerValue)===It(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=It(i.doubleValue),a=It(s.doubleValue);return o===a?$f(o)===$f(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return xl(t.arrayValue.values||[],e.arrayValue.values||[],si);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(gC(o)!==gC(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!si(o[l],a[l])))return!1;return!0}(t,e);default:return Ce(52216,{left:t})}}function xu(t,e){return(t.values||[]).find(n=>si(n,e))!==void 0}function Il(t,e){if(t===e)return 0;const n=Ks(t),r=Ks(e);if(n!==r)return Me(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Me(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=It(s.integerValue||s.doubleValue),l=It(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return vC(t.timestampValue,e.timestampValue);case 4:return vC(_u(t),_u(e));case 5:return sv(t.stringValue,e.stringValue);case 6:return function(s,o){const a=Ys(s),l=Ys(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const d=Me(a[c],l[c]);if(d!==0)return d}return Me(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=Me(It(s.latitude),It(o.latitude));return a!==0?a:Me(It(s.longitude),It(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return wC(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,l,c,d;const f=s.fields||{},h=o.fields||{},y=(a=f[Qf])===null||a===void 0?void 0:a.arrayValue,A=(l=h[Qf])===null||l===void 0?void 0:l.arrayValue,g=Me(((c=y==null?void 0:y.values)===null||c===void 0?void 0:c.length)||0,((d=A==null?void 0:A.values)===null||d===void 0?void 0:d.length)||0);return g!==0?g:wC(y,A)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===Ch.mapValue&&o===Ch.mapValue)return 0;if(s===Ch.mapValue)return 1;if(o===Ch.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),c=o.fields||{},d=Object.keys(c);l.sort(),d.sort();for(let f=0;f<l.length&&f<d.length;++f){const h=sv(l[f],d[f]);if(h!==0)return h;const y=Il(a[l[f]],c[d[f]]);if(y!==0)return y}return Me(l.length,d.length)}(t.mapValue,e.mapValue);default:throw Ce(23264,{le:n})}}function vC(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Me(t,e);const n=Qs(t),r=Qs(e),i=Me(n.seconds,r.seconds);return i!==0?i:Me(n.nanos,r.nanos)}function wC(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=Il(n[i],r[i]);if(s)return s}return Me(n.length,r.length)}function Sl(t){return ov(t)}function ov(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Qs(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ys(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ve.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=ov(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${ov(n.fields[o])}`;return i+"}"}(t.mapValue):Ce(61005,{value:t})}function Zh(t){switch(Ks(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=$p(t);return e?16+Zh(e):16;case 5:return 2*t.stringValue.length;case 6:return Ys(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+Zh(s),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return so(r.fields,(s,o)=>{i+=s.length+Zh(o)}),i}(t.mapValue);default:throw Ce(13486,{value:t})}}function EC(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function av(t){return!!t&&"integerValue"in t}function fw(t){return!!t&&"arrayValue"in t}function CC(t){return!!t&&"nullValue"in t}function TC(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Xh(t){return!!t&&"mapValue"in t}function uV(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[lS])===null||n===void 0?void 0:n.stringValue)===uS}function Kc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return so(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Kc(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Kc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function dV(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===cS}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(e){this.value=e}static empty(){return new Sn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Xh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Kc(n)}setAll(e){let n=Xt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Kc(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Xh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return si(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Xh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){so(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Sn(Kc(this.value))}}function dS(t){const e=[];return so(t.fields,(n,r)=>{const i=new Xt([n]);if(Xh(r)){const s=dS(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Kn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Yt(e,0,Se.min(),Se.min(),Se.min(),Sn.empty(),0)}static newFoundDocument(e,n,r,i){return new Yt(e,1,n,Se.min(),r,i,0)}static newNoDocument(e,n){return new Yt(e,2,n,Se.min(),Se.min(),Sn.empty(),0)}static newUnknownDocument(e,n){return new Yt(e,3,n,Se.min(),Se.min(),Sn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Sn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Sn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Yt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Yt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yf{constructor(e,n){this.position=e,this.inclusive=n}}function _C(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=ve.comparator(ve.fromName(o.referenceValue),n.key):r=Il(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function AC(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!si(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iu{constructor(e,n="asc"){this.field=e,this.dir=n}}function hV(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hS{}class Nt extends hS{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new pV(e,n,r):n==="array-contains"?new yV(e,r):n==="in"?new vV(e,r):n==="not-in"?new wV(e,r):n==="array-contains-any"?new EV(e,r):new Nt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new mV(e,r):new gV(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Il(n,this.value)):n!==null&&Ks(this.value)===Ks(n)&&this.matchesComparison(Il(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ce(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Lr extends hS{constructor(e,n){super(),this.filters=e,this.op=n,this.he=null}static create(e,n){return new Lr(e,n)}matches(e){return fS(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function fS(t){return t.op==="and"}function pS(t){return fV(t)&&fS(t)}function fV(t){for(const e of t.filters)if(e instanceof Lr)return!1;return!0}function lv(t){if(t instanceof Nt)return t.field.canonicalString()+t.op.toString()+Sl(t.value);if(pS(t))return t.filters.map(e=>lv(e)).join(",");{const e=t.filters.map(n=>lv(n)).join(",");return`${t.op}(${e})`}}function mS(t,e){return t instanceof Nt?function(r,i){return i instanceof Nt&&r.op===i.op&&r.field.isEqual(i.field)&&si(r.value,i.value)}(t,e):t instanceof Lr?function(r,i){return i instanceof Lr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&mS(o,i.filters[a]),!0):!1}(t,e):void Ce(19439)}function gS(t){return t instanceof Nt?function(n){return`${n.field.canonicalString()} ${n.op} ${Sl(n.value)}`}(t):t instanceof Lr?function(n){return n.op.toString()+" {"+n.getFilters().map(gS).join(" ,")+"}"}(t):"Filter"}class pV extends Nt{constructor(e,n,r){super(e,n,r),this.key=ve.fromName(r.referenceValue)}matches(e){const n=ve.comparator(e.key,this.key);return this.matchesComparison(n)}}class mV extends Nt{constructor(e,n){super(e,"in",n),this.keys=yS("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class gV extends Nt{constructor(e,n){super(e,"not-in",n),this.keys=yS("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function yS(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ve.fromName(r.referenceValue))}class yV extends Nt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return fw(n)&&xu(n.arrayValue,this.value)}}class vV extends Nt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&xu(this.value.arrayValue,n)}}class wV extends Nt{constructor(e,n){super(e,"not-in",n)}matches(e){if(xu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!xu(this.value.arrayValue,n)}}class EV extends Nt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!fw(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>xu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CV{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.Pe=null}}function xC(t,e=null,n=[],r=[],i=null,s=null,o=null){return new CV(t,e,n,r,i,s,o)}function pw(t){const e=Re(t);if(e.Pe===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>lv(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Hu(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Sl(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Sl(r)).join(",")),e.Pe=n}return e.Pe}function mw(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!hV(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!mS(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!AC(t.startAt,e.startAt)&&AC(t.endAt,e.endAt)}function cv(t){return ve.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wl{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function TV(t,e,n,r,i,s,o,a){return new Wl(t,e,n,r,i,s,o,a)}function Wp(t){return new Wl(t)}function IC(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function vS(t){return t.collectionGroup!==null}function Hc(t){const e=Re(t);if(e.Te===null){e.Te=[];const n=new Set;for(const s of e.explicitOrderBy)e.Te.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new jt(Xt.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.Te.push(new Iu(s,r))}),n.has(Xt.keyField().canonicalString())||e.Te.push(new Iu(Xt.keyField(),r))}return e.Te}function ei(t){const e=Re(t);return e.Ie||(e.Ie=_V(e,Hc(t))),e.Ie}function _V(t,e){if(t.limitType==="F")return xC(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Iu(i.field,s)});const n=t.endAt?new Yf(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Yf(t.startAt.position,t.startAt.inclusive):null;return xC(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function uv(t,e){const n=t.filters.concat([e]);return new Wl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function dv(t,e,n){return new Wl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Qp(t,e){return mw(ei(t),ei(e))&&t.limitType===e.limitType}function wS(t){return`${pw(ei(t))}|lt:${t.limitType}`}function Pa(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>gS(i)).join(", ")}]`),Hu(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Sl(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Sl(i)).join(",")),`Target(${r})`}(ei(t))}; limitType=${t.limitType})`}function Yp(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):ve.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of Hc(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const c=_C(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,Hc(r),i)||r.endAt&&!function(o,a,l){const c=_C(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,Hc(r),i))}(t,e)}function AV(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function ES(t){return(e,n)=>{let r=!1;for(const i of Hc(t)){const s=xV(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function xV(t,e,n){const r=t.field.isKeyField()?ve.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),c=a.data.field(s);return l!==null&&c!==null?Il(l,c):Ce(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ce(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){so(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return nS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IV=new Et(ve.comparator);function Bi(){return IV}const CS=new Et(ve.comparator);function kc(...t){let e=CS;for(const n of t)e=e.insert(n.key,n);return e}function TS(t){let e=CS;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function ko(){return Jc()}function _S(){return Jc()}function Jc(){return new na(t=>t.toString(),(t,e)=>t.isEqual(e))}const SV=new Et(ve.comparator),bV=new jt(ve.comparator);function je(...t){let e=bV;for(const n of t)e=e.add(n);return e}const RV=new jt(Me);function PV(){return RV}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gw(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:$f(e)?"-0":e}}function AS(t){return{integerValue:""+t}}function xS(t,e){return sV(e)?AS(e):gw(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kp{constructor(){this._=void 0}}function kV(t,e,n){return t instanceof Kf?function(i,s){const o={fields:{[sS]:{stringValue:iS},[aS]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&hw(s)&&(s=$p(s)),s&&(o.fields[oS]=s),{mapValue:o}}(n,e):t instanceof Su?SS(t,e):t instanceof bu?bS(t,e):function(i,s){const o=IS(i,s),a=SC(o)+SC(i.Ee);return av(o)&&av(i.Ee)?AS(a):gw(i.serializer,a)}(t,e)}function NV(t,e,n){return t instanceof Su?SS(t,e):t instanceof bu?bS(t,e):n}function IS(t,e){return t instanceof Ru?function(r){return av(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Kf extends Kp{}class Su extends Kp{constructor(e){super(),this.elements=e}}function SS(t,e){const n=RS(e);for(const r of t.elements)n.some(i=>si(i,r))||n.push(r);return{arrayValue:{values:n}}}class bu extends Kp{constructor(e){super(),this.elements=e}}function bS(t,e){let n=RS(e);for(const r of t.elements)n=n.filter(i=>!si(i,r));return{arrayValue:{values:n}}}class Ru extends Kp{constructor(e,n){super(),this.serializer=e,this.Ee=n}}function SC(t){return It(t.integerValue||t.doubleValue)}function RS(t){return fw(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DV{constructor(e,n){this.field=e,this.transform=n}}function MV(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Su&&i instanceof Su||r instanceof bu&&i instanceof bu?xl(r.elements,i.elements,si):r instanceof Ru&&i instanceof Ru?si(r.Ee,i.Ee):r instanceof Kf&&i instanceof Kf}(t.transform,e.transform)}class OV{constructor(e,n){this.version=e,this.transformResults=n}}class pn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new pn}static exists(e){return new pn(void 0,e)}static updateTime(e){return new pn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ef(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}let Hp=class{};function PS(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Jp(t.key,pn.none()):new Ju(t.key,t.data,pn.none());{const n=t.data,r=Sn.empty();let i=new jt(Xt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new oo(t.key,r,new Kn(i.toArray()),pn.none())}}function LV(t,e,n){t instanceof Ju?function(i,s,o){const a=i.value.clone(),l=RC(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof oo?function(i,s,o){if(!ef(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=RC(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(kS(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Zc(t,e,n,r){return t instanceof Ju?function(s,o,a,l){if(!ef(s.precondition,o))return a;const c=s.value.clone(),d=PC(s.fieldTransforms,l,o);return c.setAll(d),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof oo?function(s,o,a,l){if(!ef(s.precondition,o))return a;const c=PC(s.fieldTransforms,l,o),d=o.data;return d.setAll(kS(s)),d.setAll(c),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(s,o,a){return ef(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function VV(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=IS(r.transform,i||null);s!=null&&(n===null&&(n=Sn.empty()),n.set(r.field,s))}return n||null}function bC(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&xl(r,i,(s,o)=>MV(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Ju extends Hp{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class oo extends Hp{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function kS(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function RC(t,e,n){const r=new Map;ze(t.length===n.length,32656,{Ae:n.length,Re:t.length});for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,NV(o,a,n[i]))}return r}function PC(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,kV(s,o,e))}return r}class Jp extends Hp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class NS extends Hp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FV{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&LV(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Zc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Zc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=_S();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=PS(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(Se.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),je())}isEqual(e){return this.batchId===e.batchId&&xl(this.mutations,e.mutations,(n,r)=>bC(n,r))&&xl(this.baseMutations,e.baseMutations,(n,r)=>bC(n,r))}}class yw{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){ze(e.mutations.length===r.length,58842,{Ve:e.mutations.length,me:r.length});let i=function(){return SV}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new yw(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BV{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jV{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pt,Ge;function DS(t){switch(t){case Y.OK:return Ce(64938);case Y.CANCELLED:case Y.UNKNOWN:case Y.DEADLINE_EXCEEDED:case Y.RESOURCE_EXHAUSTED:case Y.INTERNAL:case Y.UNAVAILABLE:case Y.UNAUTHENTICATED:return!1;case Y.INVALID_ARGUMENT:case Y.NOT_FOUND:case Y.ALREADY_EXISTS:case Y.PERMISSION_DENIED:case Y.FAILED_PRECONDITION:case Y.ABORTED:case Y.OUT_OF_RANGE:case Y.UNIMPLEMENTED:case Y.DATA_LOSS:return!0;default:return Ce(15467,{code:t})}}function MS(t){if(t===void 0)return Fi("GRPC error has no .code"),Y.UNKNOWN;switch(t){case Pt.OK:return Y.OK;case Pt.CANCELLED:return Y.CANCELLED;case Pt.UNKNOWN:return Y.UNKNOWN;case Pt.DEADLINE_EXCEEDED:return Y.DEADLINE_EXCEEDED;case Pt.RESOURCE_EXHAUSTED:return Y.RESOURCE_EXHAUSTED;case Pt.INTERNAL:return Y.INTERNAL;case Pt.UNAVAILABLE:return Y.UNAVAILABLE;case Pt.UNAUTHENTICATED:return Y.UNAUTHENTICATED;case Pt.INVALID_ARGUMENT:return Y.INVALID_ARGUMENT;case Pt.NOT_FOUND:return Y.NOT_FOUND;case Pt.ALREADY_EXISTS:return Y.ALREADY_EXISTS;case Pt.PERMISSION_DENIED:return Y.PERMISSION_DENIED;case Pt.FAILED_PRECONDITION:return Y.FAILED_PRECONDITION;case Pt.ABORTED:return Y.ABORTED;case Pt.OUT_OF_RANGE:return Y.OUT_OF_RANGE;case Pt.UNIMPLEMENTED:return Y.UNIMPLEMENTED;case Pt.DATA_LOSS:return Y.DATA_LOSS;default:return Ce(39323,{code:t})}}(Ge=Pt||(Pt={}))[Ge.OK=0]="OK",Ge[Ge.CANCELLED=1]="CANCELLED",Ge[Ge.UNKNOWN=2]="UNKNOWN",Ge[Ge.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ge[Ge.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ge[Ge.NOT_FOUND=5]="NOT_FOUND",Ge[Ge.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ge[Ge.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ge[Ge.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ge[Ge.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ge[Ge.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ge[Ge.ABORTED=10]="ABORTED",Ge[Ge.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ge[Ge.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ge[Ge.INTERNAL=13]="INTERNAL",Ge[Ge.UNAVAILABLE=14]="UNAVAILABLE",Ge[Ge.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UV=new Bs([4294967295,4294967295],0);function kC(t){const e=ZI().encode(t),n=new zI;return n.update(e),new Uint8Array(n.digest())}function NC(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Bs([n,r],0),new Bs([i,s],0)]}class vw{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Nc(`Invalid padding: ${n}`);if(r<0)throw new Nc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Nc(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Nc(`Invalid padding when bitmap length is 0: ${n}`);this.fe=8*e.length-n,this.ge=Bs.fromNumber(this.fe)}pe(e,n,r){let i=e.add(n.multiply(Bs.fromNumber(r)));return i.compare(UV)===1&&(i=new Bs([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const n=kC(e),[r,i]=NC(n);for(let s=0;s<this.hashCount;s++){const o=this.pe(r,i,s);if(!this.ye(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new vw(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.fe===0)return;const n=kC(e),[r,i]=NC(n);for(let s=0;s<this.hashCount;s++){const o=this.pe(r,i,s);this.we(o)}}we(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Nc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zp{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Zu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Zp(Se.min(),i,new Et(Me),Bi(),je())}}class Zu{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Zu(r,n,je(),je(),je())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tf{constructor(e,n,r,i){this.Se=e,this.removedTargetIds=n,this.key=r,this.be=i}}class OS{constructor(e,n){this.targetId=e,this.De=n}}class LS{constructor(e,n,r=nn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class DC{constructor(){this.ve=0,this.Ce=MC(),this.Fe=nn.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=je(),n=je(),r=je();return this.Ce.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Ce(38017,{changeType:s})}}),new Zu(this.Fe,this.Me,e,n,r)}ke(){this.xe=!1,this.Ce=MC()}qe(e,n){this.xe=!0,this.Ce=this.Ce.insert(e,n)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,ze(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class qV{constructor(e){this.We=e,this.Ge=new Map,this.ze=Bi(),this.je=Th(),this.Je=Th(),this.He=new Et(Me)}Ye(e){for(const n of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(n,e.be):this.Xe(n,e.key,e.be);for(const n of e.removedTargetIds)this.Xe(n,e.key,e.be)}et(e){this.forEachTarget(e,n=>{const r=this.tt(n);switch(e.state){case 0:this.nt(n)&&r.Be(e.resumeToken);break;case 1:r.Ue(),r.Oe||r.ke(),r.Be(e.resumeToken);break;case 2:r.Ue(),r.Oe||this.removeTarget(n);break;case 3:this.nt(n)&&(r.Ke(),r.Be(e.resumeToken));break;case 4:this.nt(n)&&(this.rt(n),r.Be(e.resumeToken));break;default:Ce(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Ge.forEach((r,i)=>{this.nt(i)&&n(i)})}it(e){const n=e.targetId,r=e.De.count,i=this.st(n);if(i){const s=i.target;if(cv(s))if(r===0){const o=new ve(s.path);this.Xe(n,o,Yt.newNoDocument(o,Se.min()))}else ze(r===1,20013,{expectedCount:r});else{const o=this.ot(n);if(o!==r){const a=this._t(e),l=a?this.ut(a,e,o):1;if(l!==0){this.rt(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(n,c)}}}}}_t(e){const n=e.De.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=Ys(r).toUint8Array()}catch(l){if(l instanceof rS)return $s("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new vw(o,i,s)}catch(l){return $s(l instanceof Nc?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.fe===0?null:a}ut(e,n,r){return n.De.count===r-this.ht(e,n.targetId)?0:2}ht(e,n){const r=this.We.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.We.lt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Xe(n,s,null),i++)}),i}Pt(e){const n=new Map;this.Ge.forEach((s,o)=>{const a=this.st(o);if(a){if(s.current&&cv(a.target)){const l=new ve(a.target.path);this.Tt(l).has(o)||this.It(o,l)||this.Xe(o,l,Yt.newNoDocument(l,e))}s.Ne&&(n.set(o,s.Le()),s.ke())}});let r=je();this.Je.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.st(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ze.forEach((s,o)=>o.setReadTime(e));const i=new Zp(e,n,this.He,this.ze,r);return this.ze=Bi(),this.je=Th(),this.Je=Th(),this.He=new Et(Me),i}Ze(e,n){if(!this.nt(e))return;const r=this.It(e,n.key)?2:0;this.tt(e).qe(n.key,r),this.ze=this.ze.insert(n.key,n),this.je=this.je.insert(n.key,this.Tt(n.key).add(e)),this.Je=this.Je.insert(n.key,this.dt(n.key).add(e))}Xe(e,n,r){if(!this.nt(e))return;const i=this.tt(e);this.It(e,n)?i.qe(n,1):i.Qe(n),this.Je=this.Je.insert(n,this.dt(n).delete(e)),this.Je=this.Je.insert(n,this.dt(n).add(e)),r&&(this.ze=this.ze.insert(n,r))}removeTarget(e){this.Ge.delete(e)}ot(e){const n=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let n=this.Ge.get(e);return n||(n=new DC,this.Ge.set(e,n)),n}dt(e){let n=this.Je.get(e);return n||(n=new jt(Me),this.Je=this.Je.insert(e,n)),n}Tt(e){let n=this.je.get(e);return n||(n=new jt(Me),this.je=this.je.insert(e,n)),n}nt(e){const n=this.st(e)!==null;return n||fe("WatchChangeAggregator","Detected inactive target",e),n}st(e){const n=this.Ge.get(e);return n&&n.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new DC),this.We.getRemoteKeysForTarget(e).forEach(n=>{this.Xe(e,n,null)})}It(e,n){return this.We.getRemoteKeysForTarget(e).has(n)}}function Th(){return new Et(ve.comparator)}function MC(){return new Et(ve.comparator)}const GV={asc:"ASCENDING",desc:"DESCENDING"},zV={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},$V={and:"AND",or:"OR"};class WV{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function hv(t,e){return t.useProto3Json||Hu(e)?e:{value:e}}function Hf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function VS(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function QV(t,e){return Hf(t,e.toTimestamp())}function Jn(t){return ze(!!t,49232),Se.fromTimestamp(function(n){const r=Qs(n);return new Je(r.seconds,r.nanos)}(t))}function ww(t,e){return fv(t,e).canonicalString()}function fv(t,e){const n=function(i){return new tt(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function FS(t){const e=tt.fromString(t);return ze(zS(e),10190,{key:e.toString()}),e}function Jf(t,e){return ww(t.databaseId,e.path)}function Xc(t,e){const n=FS(e);if(n.get(1)!==t.databaseId.projectId)throw new le(Y.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new le(Y.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ve(jS(n))}function BS(t,e){return ww(t.databaseId,e)}function YV(t){const e=FS(t);return e.length===4?tt.emptyPath():jS(e)}function pv(t){return new tt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function jS(t){return ze(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function OC(t,e,n){return{name:Jf(t,e),fields:n.value.mapValue.fields}}function KV(t,e){return"found"in e?function(r,i){ze(!!i.found,43571),i.found.name,i.found.updateTime;const s=Xc(r,i.found.name),o=Jn(i.found.updateTime),a=i.found.createTime?Jn(i.found.createTime):Se.min(),l=new Sn({mapValue:{fields:i.found.fields}});return Yt.newFoundDocument(s,o,a,l)}(t,e):"missing"in e?function(r,i){ze(!!i.missing,3894),ze(!!i.readTime,22933);const s=Xc(r,i.missing),o=Jn(i.readTime);return Yt.newNoDocument(s,o)}(t,e):Ce(7234,{result:e})}function HV(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:Ce(39313,{state:c})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(c,d){return c.useProto3Json?(ze(d===void 0||typeof d=="string",58123),nn.fromBase64String(d||"")):(ze(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),nn.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const d=c.code===void 0?Y.UNKNOWN:MS(c.code);return new le(d,c.message||"")}(o);n=new LS(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Xc(t,r.document.name),s=Jn(r.document.updateTime),o=r.document.createTime?Jn(r.document.createTime):Se.min(),a=new Sn({mapValue:{fields:r.document.fields}}),l=Yt.newFoundDocument(i,s,o,a),c=r.targetIds||[],d=r.removedTargetIds||[];n=new tf(c,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Xc(t,r.document),s=r.readTime?Jn(r.readTime):Se.min(),o=Yt.newNoDocument(i,s),a=r.removedTargetIds||[];n=new tf([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Xc(t,r.document),s=r.removedTargetIds||[];n=new tf([],s,i,null)}else{if(!("filter"in e))return Ce(11601,{At:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new jV(i,s),a=r.targetId;n=new OS(a,o)}}return n}function US(t,e){let n;if(e instanceof Ju)n={update:OC(t,e.key,e.value)};else if(e instanceof Jp)n={delete:Jf(t,e.key)};else if(e instanceof oo)n={update:OC(t,e.key,e.data),updateMask:sF(e.fieldMask)};else{if(!(e instanceof NS))return Ce(16599,{Rt:e.type});n={verify:Jf(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof Kf)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Su)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof bu)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Ru)return{fieldPath:o.field.canonicalString(),increment:a.Ee};throw Ce(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:QV(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Ce(27497)}(t,e.precondition)),n}function JV(t,e){return t&&t.length>0?(ze(e!==void 0,14353),t.map(n=>function(i,s){let o=i.updateTime?Jn(i.updateTime):Jn(s);return o.isEqual(Se.min())&&(o=Jn(s)),new OV(o,i.transformResults||[])}(n,e))):[]}function ZV(t,e){return{documents:[BS(t,e.path)]}}function XV(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=BS(t,i);const s=function(c){if(c.length!==0)return GS(Lr.create(c,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(c){if(c.length!==0)return c.map(d=>function(h){return{field:ka(h.field),direction:nF(h.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=hv(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{Vt:n,parent:i}}function eF(t){let e=YV(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){ze(r===1,65062);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let s=[];n.where&&(s=function(f){const h=qS(f);return h instanceof Lr&&pS(h)?h.getFilters():[h]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(h=>function(A){return new Iu(Na(A.field),function(I){switch(I){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(A.direction))}(h))}(n.orderBy));let a=null;n.limit&&(a=function(f){let h;return h=typeof f=="object"?f.value:f,Hu(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(f){const h=!!f.before,y=f.values||[];return new Yf(y,h)}(n.startAt));let c=null;return n.endAt&&(c=function(f){const h=!f.before,y=f.values||[];return new Yf(y,h)}(n.endAt)),TV(e,i,o,s,a,"F",l,c)}function tF(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ce(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function qS(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Na(n.unaryFilter.field);return Nt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Na(n.unaryFilter.field);return Nt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Na(n.unaryFilter.field);return Nt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Na(n.unaryFilter.field);return Nt.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ce(61313);default:return Ce(60726)}}(t):t.fieldFilter!==void 0?function(n){return Nt.create(Na(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ce(58110);default:return Ce(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Lr.create(n.compositeFilter.filters.map(r=>qS(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ce(1026)}}(n.compositeFilter.op))}(t):Ce(30097,{filter:t})}function nF(t){return GV[t]}function rF(t){return zV[t]}function iF(t){return $V[t]}function ka(t){return{fieldPath:t.canonicalString()}}function Na(t){return Xt.fromServerFormat(t.fieldPath)}function GS(t){return t instanceof Nt?function(n){if(n.op==="=="){if(TC(n.value))return{unaryFilter:{field:ka(n.field),op:"IS_NAN"}};if(CC(n.value))return{unaryFilter:{field:ka(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(TC(n.value))return{unaryFilter:{field:ka(n.field),op:"IS_NOT_NAN"}};if(CC(n.value))return{unaryFilter:{field:ka(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ka(n.field),op:rF(n.op),value:n.value}}}(t):t instanceof Lr?function(n){const r=n.getFilters().map(i=>GS(i));return r.length===1?r[0]:{compositeFilter:{op:iF(n.op),filters:r}}}(t):Ce(54877,{filter:t})}function sF(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function zS(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs{constructor(e,n,r,i,s=Se.min(),o=Se.min(),a=nn.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new xs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new xs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new xs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new xs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oF{constructor(e){this.gt=e}}function aF(t){const e=eF({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?dv(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lF{constructor(){this.Dn=new cF}addToCollectionParentIndex(e,n){return this.Dn.add(n),H.resolve()}getCollectionParents(e,n){return H.resolve(this.Dn.getEntries(n))}addFieldIndex(e,n){return H.resolve()}deleteFieldIndex(e,n){return H.resolve()}deleteAllFieldIndexes(e){return H.resolve()}createTargetIndexes(e,n){return H.resolve()}getDocumentsMatchingTarget(e,n){return H.resolve(null)}getIndexType(e,n){return H.resolve(0)}getFieldIndexes(e,n){return H.resolve([])}getNextCollectionGroupToUpdate(e){return H.resolve(null)}getMinOffset(e,n){return H.resolve(Ws.min())}getMinOffsetFromCollectionGroup(e,n){return H.resolve(Ws.min())}updateCollectionGroup(e,n,r){return H.resolve()}updateIndexEntries(e,n){return H.resolve()}}class cF{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new jt(tt.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new jt(tt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LC={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},$S=41943040;class Nn{static withCacheSize(e){return new Nn(e,Nn.DEFAULT_COLLECTION_PERCENTILE,Nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Nn.DEFAULT_COLLECTION_PERCENTILE=10,Nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Nn.DEFAULT=new Nn($S,Nn.DEFAULT_COLLECTION_PERCENTILE,Nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Nn.DISABLED=new Nn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bl{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new bl(0)}static ur(){return new bl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VC="LruGarbageCollector",uF=1048576;function FC([t,e],[n,r]){const i=Me(t,n);return i===0?Me(e,r):i}class dF{constructor(e){this.Tr=e,this.buffer=new jt(FC),this.Ir=0}dr(){return++this.Ir}Er(e){const n=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();FC(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class hF{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){fe(VC,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){$l(n)?fe(VC,"Ignoring IndexedDB error during garbage collection: ",n):await zl(n)}await this.Rr(3e5)})}}class fF{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.mr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return H.resolve(zp.ue);const r=new dF(n);return this.Vr.forEachTarget(e,i=>r.Er(i.sequenceNumber)).next(()=>this.Vr.gr(e,i=>r.Er(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(fe("LruGarbageCollector","Garbage collection skipped; disabled"),H.resolve(LC)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(fe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),LC):this.pr(e,n))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,n){let r,i,s,o,a,l,c;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(fe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,o=Date.now(),this.nthSequenceNumber(e,i))).next(f=>(r=f,a=Date.now(),this.removeTargets(e,r,n))).next(f=>(s=f,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(c=Date.now(),Ra()<=Fe.DEBUG&&fe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(l-a)+`ms
	Removed ${f} documents in `+(c-l)+`ms
Total Duration: ${c-d}ms`),H.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:f})))}}function pF(t,e){return new fF(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mF{constructor(){this.changes=new na(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Yt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?H.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gF{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yF{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Zc(r.mutation,i,Kn.empty(),Je.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,je()).next(()=>r))}getLocalViewOfDocuments(e,n,r=je()){const i=ko();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=kc();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=ko();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,je()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Bi();const o=Jc(),a=function(){return Jc()}();return n.forEach((l,c)=>{const d=r.get(c.key);i.has(c.key)&&(d===void 0||d.mutation instanceof oo)?s=s.insert(c.key,c):d!==void 0?(o.set(c.key,d.mutation.getFieldMask()),Zc(d.mutation,c,d.mutation.getFieldMask(),Je.now())):o.set(c.key,Kn.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((c,d)=>o.set(c,d)),n.forEach((c,d)=>{var f;return a.set(c,new gF(d,(f=o.get(c))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Jc();let i=new Et((o,a)=>o-a),s=je();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let d=r.get(l)||Kn.empty();d=a.applyToLocalView(c,d),r.set(l,d);const f=(i.get(a.batchId)||je()).add(l);i=i.insert(a.batchId,f)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,d=l.value,f=_S();d.forEach(h=>{if(!s.has(h)){const y=PS(n.get(h),r.get(h));y!==null&&f.set(h,y),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,f))}return H.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return ve.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):vS(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):H.resolve(ko());let a=Tu,l=s;return o.next(c=>H.forEach(c,(d,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),s.get(d)?H.resolve():this.remoteDocumentCache.getEntry(e,d).next(h=>{l=l.insert(d,h)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,l,c,je())).next(d=>({batchId:a,changes:TS(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ve(n)).next(r=>{let i=kc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=kc();return this.indexManager.getCollectionParents(e,s).next(a=>H.forEach(a,l=>{const c=function(f,h){return new Wl(h,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(d=>{d.forEach((f,h)=>{o=o.insert(f,h)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,c)=>{const d=c.getKey();o.get(d)===null&&(o=o.insert(d,Yt.newInvalidDocument(d)))});let a=kc();return o.forEach((l,c)=>{const d=s.get(l);d!==void 0&&Zc(d.mutation,c,Kn.empty(),Je.now()),Yp(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vF{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,n){return H.resolve(this.Br.get(n))}saveBundleMetadata(e,n){return this.Br.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Jn(i.createTime)}}(n)),H.resolve()}getNamedQuery(e,n){return H.resolve(this.Lr.get(n))}saveNamedQuery(e,n){return this.Lr.set(n.name,function(i){return{name:i.name,query:aF(i.bundledQuery),readTime:Jn(i.readTime)}}(n)),H.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wF{constructor(){this.overlays=new Et(ve.comparator),this.kr=new Map}getOverlay(e,n){return H.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ko();return H.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.wt(e,n,s)}),H.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.kr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.kr.delete(r)),H.resolve()}getOverlaysForCollection(e,n,r){const i=ko(),s=n.length+1,o=new ve(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return H.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Et((c,d)=>c-d);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let d=s.get(c.largestBatchId);d===null&&(d=ko(),s=s.insert(c.largestBatchId,d)),d.set(c.getKey(),c)}}const a=ko(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,d)=>a.set(c,d)),!(a.size()>=i)););return H.resolve(a)}wt(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.kr.get(i.largestBatchId).delete(r.key);this.kr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new BV(n,r));let s=this.kr.get(n);s===void 0&&(s=je(),this.kr.set(n,s)),this.kr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EF{constructor(){this.sessionToken=nn.EMPTY_BYTE_STRING}getSessionToken(e){return H.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,H.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ew{constructor(){this.qr=new jt(Wt.Qr),this.$r=new jt(Wt.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,n){const r=new Wt(e,n);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Wr(new Wt(e,n))}Gr(e,n){e.forEach(r=>this.removeReference(r,n))}zr(e){const n=new ve(new tt([])),r=new Wt(n,e),i=new Wt(n,e+1),s=[];return this.$r.forEachInRange([r,i],o=>{this.Wr(o),s.push(o.key)}),s}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const n=new ve(new tt([])),r=new Wt(n,e),i=new Wt(n,e+1);let s=je();return this.$r.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Wt(e,0),r=this.qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Wt{constructor(e,n){this.key=e,this.Hr=n}static Qr(e,n){return ve.comparator(e.key,n.key)||Me(e.Hr,n.Hr)}static Ur(e,n){return Me(e.Hr,n.Hr)||ve.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CF{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.er=1,this.Yr=new jt(Wt.Qr)}checkEmpty(e){return H.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new FV(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.Yr=this.Yr.add(new Wt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return H.resolve(o)}lookupMutationBatch(e,n){return H.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Xr(r),s=i<0?0:i;return H.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return H.resolve(this.mutationQueue.length===0?dw:this.er-1)}getAllMutationBatches(e){return H.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Wt(n,0),i=new Wt(n,Number.POSITIVE_INFINITY),s=[];return this.Yr.forEachInRange([r,i],o=>{const a=this.Zr(o.Hr);s.push(a)}),H.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new jt(Me);return n.forEach(i=>{const s=new Wt(i,0),o=new Wt(i,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([s,o],a=>{r=r.add(a.Hr)})}),H.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;ve.isDocumentKey(s)||(s=s.child(""));const o=new Wt(new ve(s),0);let a=new jt(Me);return this.Yr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(l.Hr)),!0)},o),H.resolve(this.ei(a))}ei(e){const n=[];return e.forEach(r=>{const i=this.Zr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){ze(this.ti(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return H.forEach(n.mutations,i=>{const s=new Wt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Yr=r})}rr(e){}containsKey(e,n){const r=new Wt(n,0),i=this.Yr.firstAfterOrEqual(r);return H.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,H.resolve()}ti(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TF{constructor(e){this.ni=e,this.docs=function(){return new Et(ve.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.ni(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return H.resolve(r?r.document.mutableCopy():Yt.newInvalidDocument(n))}getEntries(e,n){let r=Bi();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Yt.newInvalidDocument(i))}),H.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Bi();const o=n.path,a=new ve(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:d}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||tV(eV(d),r)<=0||(i.has(d.key)||Yp(n,d))&&(s=s.insert(d.key,d.mutableCopy()))}return H.resolve(s)}getAllFromCollectionGroup(e,n,r,i){Ce(9500)}ri(e,n){return H.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new _F(this)}getSize(e){return H.resolve(this.size)}}class _F extends mF{constructor(e){super(),this.Or=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Or.addEntry(e,i)):this.Or.removeEntry(r)}),H.waitFor(n)}getFromCache(e,n){return this.Or.getEntry(e,n)}getAllFromCache(e,n){return this.Or.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AF{constructor(e){this.persistence=e,this.ii=new na(n=>pw(n),mw),this.lastRemoteSnapshotVersion=Se.min(),this.highestTargetId=0,this.si=0,this.oi=new Ew,this.targetCount=0,this._i=bl.ar()}forEachTarget(e,n){return this.ii.forEach((r,i)=>n(i)),H.resolve()}getLastRemoteSnapshotVersion(e){return H.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return H.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),H.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.si&&(this.si=n),H.resolve()}hr(e){this.ii.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this._i=new bl(n),this.highestTargetId=n),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,n){return this.hr(n),this.targetCount+=1,H.resolve()}updateTargetData(e,n){return this.hr(n),H.resolve()}removeTargetData(e,n){return this.ii.delete(n.target),this.oi.zr(n.targetId),this.targetCount-=1,H.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.ii.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.ii.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),H.waitFor(s).next(()=>i)}getTargetCount(e){return H.resolve(this.targetCount)}getTargetData(e,n){const r=this.ii.get(n)||null;return H.resolve(r)}addMatchingKeys(e,n,r){return this.oi.Kr(n,r),H.resolve()}removeMatchingKeys(e,n,r){this.oi.Gr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),H.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.oi.zr(n),H.resolve()}getMatchingKeysForTargetId(e,n){const r=this.oi.Jr(n);return H.resolve(r)}containsKey(e,n){return H.resolve(this.oi.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WS{constructor(e,n){this.ai={},this.overlays={},this.ui=new zp(0),this.ci=!1,this.ci=!0,this.li=new EF,this.referenceDelegate=e(this),this.hi=new AF(this),this.indexManager=new lF,this.remoteDocumentCache=function(i){return new TF(i)}(r=>this.referenceDelegate.Pi(r)),this.serializer=new oF(n),this.Ti=new vF(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new wF,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ai[e.toKey()];return r||(r=new CF(n,this.referenceDelegate),this.ai[e.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,n,r){fe("MemoryPersistence","Starting transaction:",e);const i=new xF(this.ui.next());return this.referenceDelegate.Ii(),r(i).next(s=>this.referenceDelegate.di(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ei(e,n){return H.or(Object.values(this.ai).map(r=>()=>r.containsKey(e,n)))}}class xF extends rV{constructor(e){super(),this.currentSequenceNumber=e}}class Cw{constructor(e){this.persistence=e,this.Ai=new Ew,this.Ri=null}static Vi(e){return new Cw(e)}get mi(){if(this.Ri)return this.Ri;throw Ce(60996)}addReference(e,n,r){return this.Ai.addReference(r,n),this.mi.delete(r.toString()),H.resolve()}removeReference(e,n,r){return this.Ai.removeReference(r,n),this.mi.add(r.toString()),H.resolve()}markPotentiallyOrphaned(e,n){return this.mi.add(n.toString()),H.resolve()}removeTarget(e,n){this.Ai.zr(n.targetId).forEach(i=>this.mi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.mi.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ii(){this.Ri=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return H.forEach(this.mi,r=>{const i=ve.fromPath(r);return this.fi(e,i).next(s=>{s||n.removeEntry(i,Se.min())})}).next(()=>(this.Ri=null,n.apply(e)))}updateLimboDocument(e,n){return this.fi(e,n).next(r=>{r?this.mi.delete(n.toString()):this.mi.add(n.toString())})}Pi(e){return 0}fi(e,n){return H.or([()=>H.resolve(this.Ai.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class Zf{constructor(e,n){this.persistence=e,this.gi=new na(r=>oV(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=pF(this,n)}static Vi(e,n){return new Zf(e,n)}Ii(){}di(e){return H.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}mr(e){const n=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}yr(e){let n=0;return this.gr(e,r=>{n++}).next(()=>n)}gr(e,n){return H.forEach(this.gi,(r,i)=>this.Sr(e,r,i).next(s=>s?H.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ri(e,o=>this.Sr(e,o,n).next(a=>{a||(r++,s.removeEntry(o,Se.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.gi.set(n,e.currentSequenceNumber),H.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),H.resolve()}removeReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),H.resolve()}updateLimboDocument(e,n){return this.gi.set(n,e.currentSequenceNumber),H.resolve()}Pi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Zh(e.data.value)),n}Sr(e,n,r){return H.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.gi.get(n);return H.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tw{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Is=r,this.ds=i}static Es(e,n){let r=je(),i=je();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Tw(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IF{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SF{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return TO()?8:iV(yn())>0?6:4}()}initialize(e,n){this.gs=e,this.indexManager=n,this.As=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ps(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ys(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new IF;return this.ws(e,n,o).next(a=>{if(s.result=a,this.Rs)return this.Ss(e,n,o,a.size)})}).next(()=>s.result)}Ss(e,n,r,i){return r.documentReadCount<this.Vs?(Ra()<=Fe.DEBUG&&fe("QueryEngine","SDK will not create cache indexes for query:",Pa(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),H.resolve()):(Ra()<=Fe.DEBUG&&fe("QueryEngine","Query:",Pa(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.fs*i?(Ra()<=Fe.DEBUG&&fe("QueryEngine","The SDK decides to create cache indexes for query:",Pa(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ei(n))):H.resolve())}ps(e,n){if(IC(n))return H.resolve(null);let r=ei(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=dv(n,null,"F"),r=ei(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=je(...s);return this.gs.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.bs(n,a);return this.Ds(n,c,o,l.readTime)?this.ps(e,dv(n,null,"F")):this.vs(e,c,n,l)}))})))}ys(e,n,r,i){return IC(n)||i.isEqual(Se.min())?H.resolve(null):this.gs.getDocuments(e,r).next(s=>{const o=this.bs(n,s);return this.Ds(n,o,r,i)?H.resolve(null):(Ra()<=Fe.DEBUG&&fe("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Pa(n)),this.vs(e,o,n,XL(i,Tu)).next(a=>a))})}bs(e,n){let r=new jt(ES(e));return n.forEach((i,s)=>{Yp(e,s)&&(r=r.add(s))}),r}Ds(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}ws(e,n,r){return Ra()<=Fe.DEBUG&&fe("QueryEngine","Using full collection scan to execute query:",Pa(n)),this.gs.getDocumentsMatchingQuery(e,n,Ws.min(),r)}vs(e,n,r,i){return this.gs.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _w="LocalStore",bF=3e8;class RF{constructor(e,n,r,i){this.persistence=e,this.Cs=n,this.serializer=i,this.Fs=new Et(Me),this.Ms=new na(s=>pw(s),mw),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(r)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new yF(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Fs))}}function PF(t,e,n,r){return new RF(t,e,n,r)}async function QS(t,e){const n=Re(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.Ns(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=je();for(const c of i){o.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}for(const c of s){a.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(c=>({Bs:c,removedBatchIds:o,addedBatchIds:a}))})})}function kF(t,e){const n=Re(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Os.newChangeBuffer({trackRemovals:!0});return function(a,l,c,d){const f=c.batch,h=f.keys();let y=H.resolve();return h.forEach(A=>{y=y.next(()=>d.getEntry(l,A)).next(g=>{const I=c.docVersions.get(A);ze(I!==null,48541),g.version.compareTo(I)<0&&(f.applyToRemoteDocument(g,c),g.isValidDocument()&&(g.setReadTime(c.commitVersion),d.addEntry(g)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(l,f))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=je();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function YS(t){const e=Re(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.hi.getLastRemoteSnapshotVersion(n))}function NF(t,e){const n=Re(t),r=e.snapshotVersion;let i=n.Fs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Os.newChangeBuffer({trackRemovals:!0});i=n.Fs;const a=[];e.targetChanges.forEach((d,f)=>{const h=i.get(f);if(!h)return;a.push(n.hi.removeMatchingKeys(s,d.removedDocuments,f).next(()=>n.hi.addMatchingKeys(s,d.addedDocuments,f)));let y=h.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(f)!==null?y=y.withResumeToken(nn.EMPTY_BYTE_STRING,Se.min()).withLastLimboFreeSnapshotVersion(Se.min()):d.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(d.resumeToken,r)),i=i.insert(f,y),function(g,I,E){return g.resumeToken.approximateByteSize()===0||I.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=bF?!0:E.addedDocuments.size+E.modifiedDocuments.size+E.removedDocuments.size>0}(h,y,d)&&a.push(n.hi.updateTargetData(s,y))});let l=Bi(),c=je();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))}),a.push(DF(s,o,e.documentUpdates).next(d=>{l=d.Ls,c=d.ks})),!r.isEqual(Se.min())){const d=n.hi.getLastRemoteSnapshotVersion(s).next(f=>n.hi.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(d)}return H.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(n.Fs=i,s))}function DF(t,e,n){let r=je(),i=je();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Bi();return n.forEach((a,l)=>{const c=s.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(Se.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):fe(_w,"Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{Ls:o,ks:i}})}function MF(t,e){const n=Re(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=dw),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function OF(t,e){const n=Re(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.hi.getTargetData(r,e).next(s=>s?(i=s,H.resolve(i)):n.hi.allocateTargetId(r).next(o=>(i=new xs(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.hi.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Fs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Fs=n.Fs.insert(r.targetId,r),n.Ms.set(e,r.targetId)),r})}async function mv(t,e,n){const r=Re(t),i=r.Fs.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!$l(o))throw o;fe(_w,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Fs=r.Fs.remove(e),r.Ms.delete(i.target)}function BC(t,e,n){const r=Re(t);let i=Se.min(),s=je();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,d){const f=Re(l),h=f.Ms.get(d);return h!==void 0?H.resolve(f.Fs.get(h)):f.hi.getTargetData(c,d)}(r,o,ei(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.Cs.getDocumentsMatchingQuery(o,e,n?i:Se.min(),n?s:je())).next(a=>(LF(r,AV(e),a),{documents:a,qs:s})))}function LF(t,e,n){let r=t.xs.get(e)||Se.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.xs.set(e,r)}class jC{constructor(){this.activeTargetIds=PV()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class VF{constructor(){this.Fo=new jC,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,n,r){this.Mo[e]=n}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new jC,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FF{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UC="ConnectivityMonitor";class qC{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){fe(UC,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){fe(UC,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _h=null;function gv(){return _h===null?_h=function(){return 268435456+Math.round(2147483648*Math.random())}():_h++,"0x"+_h.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bg="RestConnection",BF={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class jF{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.$o=n+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.Ko=this.databaseId.database===Wf?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,n,r,i,s){const o=gv(),a=this.Go(e,n.toUriEncodedString());fe(bg,`Sending RPC '${e}' ${o}:`,a,r);const l={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(l,i,s);const{host:c}=new URL(a),d=Ul(c);return this.jo(e,a,l,r,d).then(f=>(fe(bg,`Received RPC '${e}' ${o}: `,f),f),f=>{throw $s(bg,`RPC '${e}' ${o} failed with error: `,f,"url: ",a,"request:",r),f})}Jo(e,n,r,i,s,o){return this.Wo(e,n,r,i,s)}zo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Gl}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}Go(e,n){const r=BF[e];return`${this.$o}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UF{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const un="WebChannelConnection";class qF extends jF{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,n,r,i,s){const o=gv();return new Promise((a,l)=>{const c=new $I;c.setWithCredentials(!0),c.listenOnce(WI.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Jh.NO_ERROR:const f=c.getResponseJson();fe(un,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(f)),a(f);break;case Jh.TIMEOUT:fe(un,`RPC '${e}' ${o} timed out`),l(new le(Y.DEADLINE_EXCEEDED,"Request time out"));break;case Jh.HTTP_ERROR:const h=c.getStatus();if(fe(un,`RPC '${e}' ${o} failed with status:`,h,"response text:",c.getResponseText()),h>0){let y=c.getResponseJson();Array.isArray(y)&&(y=y[0]);const A=y==null?void 0:y.error;if(A&&A.status&&A.message){const g=function(E){const v=E.toLowerCase().replace(/_/g,"-");return Object.values(Y).indexOf(v)>=0?v:Y.UNKNOWN}(A.status);l(new le(g,A.message))}else l(new le(Y.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new le(Y.UNAVAILABLE,"Connection failed."));break;default:Ce(9055,{c_:e,streamId:o,l_:c.getLastErrorCode(),h_:c.getLastError()})}}finally{fe(un,`RPC '${e}' ${o} completed.`)}});const d=JSON.stringify(i);fe(un,`RPC '${e}' ${o} sending request:`,i),c.send(n,"POST",d,r,15)})}P_(e,n,r){const i=gv(),s=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=KI(),a=YI(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.zo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const d=s.join("");fe(un,`Creating RPC '${e}' stream ${i}: ${d}`,l);const f=o.createWebChannel(d,l);this.T_(f);let h=!1,y=!1;const A=new UF({Ho:I=>{y?fe(un,`Not sending because RPC '${e}' stream ${i} is closed:`,I):(h||(fe(un,`Opening RPC '${e}' stream ${i} transport.`),f.open(),h=!0),fe(un,`RPC '${e}' stream ${i} sending:`,I),f.send(I))},Yo:()=>f.close()}),g=(I,E,v)=>{I.listen(E,_=>{try{v(_)}catch(R){setTimeout(()=>{throw R},0)}})};return g(f,Pc.EventType.OPEN,()=>{y||(fe(un,`RPC '${e}' stream ${i} transport opened.`),A.s_())}),g(f,Pc.EventType.CLOSE,()=>{y||(y=!0,fe(un,`RPC '${e}' stream ${i} transport closed`),A.__(),this.I_(f))}),g(f,Pc.EventType.ERROR,I=>{y||(y=!0,$s(un,`RPC '${e}' stream ${i} transport errored. Name:`,I.name,"Message:",I.message),A.__(new le(Y.UNAVAILABLE,"The operation could not be completed")))}),g(f,Pc.EventType.MESSAGE,I=>{var E;if(!y){const v=I.data[0];ze(!!v,16349);const _=v,R=(_==null?void 0:_.error)||((E=_[0])===null||E===void 0?void 0:E.error);if(R){fe(un,`RPC '${e}' stream ${i} received error:`,R);const O=R.status;let B=function(k){const D=Pt[k];if(D!==void 0)return MS(D)}(O),b=R.message;B===void 0&&(B=Y.INTERNAL,b="Unknown error status: "+O+" with message "+R.message),y=!0,A.__(new le(B,b)),f.close()}else fe(un,`RPC '${e}' stream ${i} received:`,v),A.a_(v)}}),g(a,QI.STAT_EVENT,I=>{I.stat===iv.PROXY?fe(un,`RPC '${e}' stream ${i} detected buffering proxy`):I.stat===iv.NOPROXY&&fe(un,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{A.o_()},0),A}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(n=>n===e)}}function Rg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xp(t){return new WV(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aw{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Fi=e,this.timerId=n,this.d_=r,this.E_=i,this.A_=s,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const n=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),i=Math.max(0,n-r);i>0&&fe("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.R_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,i,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GC="PersistentStream";class KS{constructor(e,n,r,i,s,o,a,l){this.Fi=e,this.w_=r,this.S_=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new Aw(e,n)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():n&&n.code===Y.RESOURCE_EXHAUSTED?(Fi(n.toString()),Fi("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):n&&n.code===Y.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(n)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),n=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.b_===n&&this.W_(r,i)},r=>{e(()=>{const i=new le(Y.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(i)})})}W_(e,n){const r=this.K_(this.b_);this.stream=this.z_(e,n),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.e_(()=>{r(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(i=>{r(()=>this.G_(i))}),this.stream.onMessage(i=>{r(()=>++this.C_==1?this.j_(i):this.onNext(i))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return fe(GC,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return n=>{this.Fi.enqueueAndForget(()=>this.b_===e?n():(fe(GC,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class GF extends KS{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}z_(e,n){return this.connection.P_("Listen",e,n)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const n=HV(this.serializer,e),r=function(s){if(!("targetChange"in s))return Se.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?Se.min():o.readTime?Jn(o.readTime):Se.min()}(e);return this.listener.J_(n,r)}H_(e){const n={};n.database=pv(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=cv(l)?{documents:ZV(s,l)}:{query:XV(s,l).Vt},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=VS(s,o.resumeToken);const c=hv(s,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(Se.min())>0){a.readTime=Hf(s,o.snapshotVersion.toTimestamp());const c=hv(s,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=tF(this.serializer,e);r&&(n.labels=r),this.k_(n)}Y_(e){const n={};n.database=pv(this.serializer),n.removeTarget=e,this.k_(n)}}class zF extends KS{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,n){return this.connection.P_("Write",e,n)}j_(e){return ze(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ze(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){ze(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const n=JV(e.writeResults,e.commitTime),r=Jn(e.commitTime);return this.listener.ta(r,n)}na(){const e={};e.database=pv(this.serializer),this.k_(e)}X_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>US(this.serializer,r))};this.k_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $F{}class WF extends $F{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ra=!1}ia(){if(this.ra)throw new le(Y.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,i){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Wo(e,fv(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new le(Y.UNKNOWN,s.toString())})}Jo(e,n,r,i,s){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Jo(e,fv(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new le(Y.UNKNOWN,o.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class QF{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(Fi(n),this._a=!1):fe("OnlineStateTracker",n)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yo="RemoteStore";class YF{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=s,this.Ea.xo(o=>{r.enqueueAndForget(async()=>{ra(this)&&(fe(Yo,"Restarting streams for network reachability change."),await async function(l){const c=Re(l);c.Ia.add(4),await Xu(c),c.Aa.set("Unknown"),c.Ia.delete(4),await em(c)}(this))})}),this.Aa=new QF(r,i)}}async function em(t){if(ra(t))for(const e of t.da)await e(!0)}async function Xu(t){for(const e of t.da)await e(!1)}function HS(t,e){const n=Re(t);n.Ta.has(e.targetId)||(n.Ta.set(e.targetId,e),bw(n)?Sw(n):Ql(n).x_()&&Iw(n,e))}function xw(t,e){const n=Re(t),r=Ql(n);n.Ta.delete(e),r.x_()&&JS(n,e),n.Ta.size===0&&(r.x_()?r.B_():ra(n)&&n.Aa.set("Unknown"))}function Iw(t,e){if(t.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Se.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ql(t).H_(e)}function JS(t,e){t.Ra.$e(e),Ql(t).Y_(e)}function Sw(t){t.Ra=new qV({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>t.Ta.get(e)||null,lt:()=>t.datastore.serializer.databaseId}),Ql(t).start(),t.Aa.aa()}function bw(t){return ra(t)&&!Ql(t).M_()&&t.Ta.size>0}function ra(t){return Re(t).Ia.size===0}function ZS(t){t.Ra=void 0}async function KF(t){t.Aa.set("Online")}async function HF(t){t.Ta.forEach((e,n)=>{Iw(t,e)})}async function JF(t,e){ZS(t),bw(t)?(t.Aa.la(e),Sw(t)):t.Aa.set("Unknown")}async function ZF(t,e,n){if(t.Aa.set("Online"),e instanceof LS&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.Ta.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.Ta.delete(a),i.Ra.removeTarget(a))}(t,e)}catch(r){fe(Yo,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Xf(t,r)}else if(e instanceof tf?t.Ra.Ye(e):e instanceof OS?t.Ra.it(e):t.Ra.et(e),!n.isEqual(Se.min()))try{const r=await YS(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.Ra.Pt(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const d=s.Ta.get(c);d&&s.Ta.set(c,d.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const d=s.Ta.get(l);if(!d)return;s.Ta.set(l,d.withResumeToken(nn.EMPTY_BYTE_STRING,d.snapshotVersion)),JS(s,l);const f=new xs(d.target,l,c,d.sequenceNumber);Iw(s,f)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){fe(Yo,"Failed to raise snapshot:",r),await Xf(t,r)}}async function Xf(t,e,n){if(!$l(e))throw e;t.Ia.add(1),await Xu(t),t.Aa.set("Offline"),n||(n=()=>YS(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{fe(Yo,"Retrying IndexedDB access"),await n(),t.Ia.delete(1),await em(t)})}function XS(t,e){return e().catch(n=>Xf(t,n,e))}async function tm(t){const e=Re(t),n=Hs(e);let r=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:dw;for(;XF(e);)try{const i=await MF(e.localStore,r);if(i===null){e.Pa.length===0&&n.B_();break}r=i.batchId,eB(e,i)}catch(i){await Xf(e,i)}eb(e)&&tb(e)}function XF(t){return ra(t)&&t.Pa.length<10}function eB(t,e){t.Pa.push(e);const n=Hs(t);n.x_()&&n.Z_&&n.X_(e.mutations)}function eb(t){return ra(t)&&!Hs(t).M_()&&t.Pa.length>0}function tb(t){Hs(t).start()}async function tB(t){Hs(t).na()}async function nB(t){const e=Hs(t);for(const n of t.Pa)e.X_(n.mutations)}async function rB(t,e,n){const r=t.Pa.shift(),i=yw.from(r,e,n);await XS(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await tm(t)}async function iB(t,e){e&&Hs(t).Z_&&await async function(r,i){if(function(o){return DS(o)&&o!==Y.ABORTED}(i.code)){const s=r.Pa.shift();Hs(r).N_(),await XS(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await tm(r)}}(t,e),eb(t)&&tb(t)}async function zC(t,e){const n=Re(t);n.asyncQueue.verifyOperationInProgress(),fe(Yo,"RemoteStore received new credentials");const r=ra(n);n.Ia.add(3),await Xu(n),r&&n.Aa.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ia.delete(3),await em(n)}async function sB(t,e){const n=Re(t);e?(n.Ia.delete(2),await em(n)):e||(n.Ia.add(2),await Xu(n),n.Aa.set("Unknown"))}function Ql(t){return t.Va||(t.Va=function(n,r,i){const s=Re(n);return s.ia(),new GF(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Zo:KF.bind(null,t),e_:HF.bind(null,t),n_:JF.bind(null,t),J_:ZF.bind(null,t)}),t.da.push(async e=>{e?(t.Va.N_(),bw(t)?Sw(t):t.Aa.set("Unknown")):(await t.Va.stop(),ZS(t))})),t.Va}function Hs(t){return t.ma||(t.ma=function(n,r,i){const s=Re(n);return s.ia(),new zF(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),e_:tB.bind(null,t),n_:iB.bind(null,t),ea:nB.bind(null,t),ta:rB.bind(null,t)}),t.da.push(async e=>{e?(t.ma.N_(),await tm(t)):(await t.ma.stop(),t.Pa.length>0&&(fe(Yo,`Stopping write stream with ${t.Pa.length} pending writes`),t.Pa=[]))})),t.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rw{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Xr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new Rw(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new le(Y.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Pw(t,e){if(Fi("AsyncQueue",`${e}: ${t}`),$l(t))return new le(Y.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class el{static emptySet(e){return new el(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||ve.comparator(n.key,r.key):(n,r)=>ve.comparator(n.key,r.key),this.keyedMap=kc(),this.sortedSet=new Et(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof el)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new el;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $C{constructor(){this.fa=new Et(ve.comparator)}track(e){const n=e.doc.key,r=this.fa.get(n);r?e.type!==0&&r.type===3?this.fa=this.fa.insert(n,e):e.type===3&&r.type!==1?this.fa=this.fa.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.fa=this.fa.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.fa=this.fa.remove(n):e.type===1&&r.type===2?this.fa=this.fa.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):Ce(63341,{At:e,ga:r}):this.fa=this.fa.insert(n,e)}pa(){const e=[];return this.fa.inorderTraversal((n,r)=>{e.push(r)}),e}}class Rl{constructor(e,n,r,i,s,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Rl(e,n,el.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Qp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oB{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}}class aB{constructor(){this.queries=WC(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(n,r){const i=Re(n),s=i.queries;i.queries=WC(),s.forEach((o,a)=>{for(const l of a.wa)l.onError(r)})})(this,new le(Y.ABORTED,"Firestore shutting down"))}}function WC(){return new na(t=>wS(t),Qp)}async function kw(t,e){const n=Re(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.Sa()&&e.ba()&&(r=2):(s=new oB,r=e.ba()?0:1);try{switch(r){case 0:s.ya=await n.onListen(i,!0);break;case 1:s.ya=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=Pw(o,`Initialization of query '${Pa(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.wa.push(e),e.va(n.onlineState),s.ya&&e.Ca(s.ya)&&Dw(n)}async function Nw(t,e){const n=Re(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.wa.indexOf(e);o>=0&&(s.wa.splice(o,1),s.wa.length===0?i=e.ba()?0:1:!s.Sa()&&e.ba()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function lB(t,e){const n=Re(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.wa)a.Ca(i)&&(r=!0);o.ya=i}}r&&Dw(n)}function cB(t,e,n){const r=Re(t),i=r.queries.get(e);if(i)for(const s of i.wa)s.onError(n);r.queries.delete(e)}function Dw(t){t.Da.forEach(e=>{e.next()})}var yv,QC;(QC=yv||(yv={})).Fa="default",QC.Cache="cache";class Mw{constructor(e,n,r){this.query=e,this.Ma=n,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=r||{}}Ca(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Rl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),n=!0):this.Ba(e,this.onlineState)&&(this.La(e),n=!0),this.Oa=e,n}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let n=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),n=!0),n}Ba(e,n){if(!e.fromCache||!this.ba())return!0;const r=n!=="Offline";return(!this.options.ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const n=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}La(e){e=Rl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==yv.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nb{constructor(e){this.key=e}}class rb{constructor(e){this.key=e}}class uB{constructor(e,n){this.query=e,this.Ha=n,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=je(),this.mutatedKeys=je(),this.Xa=ES(e),this.eu=new el(this.Xa)}get tu(){return this.Ha}nu(e,n){const r=n?n.ru:new $C,i=n?n.eu:this.eu;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,f)=>{const h=i.get(d),y=Yp(this.query,f)?f:null,A=!!h&&this.mutatedKeys.has(h.key),g=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let I=!1;h&&y?h.data.isEqual(y.data)?A!==g&&(r.track({type:3,doc:y}),I=!0):this.iu(h,y)||(r.track({type:2,doc:y}),I=!0,(l&&this.Xa(y,l)>0||c&&this.Xa(y,c)<0)&&(a=!0)):!h&&y?(r.track({type:0,doc:y}),I=!0):h&&!y&&(r.track({type:1,doc:h}),I=!0,(l||c)&&(a=!0)),I&&(y?(o=o.add(y),s=g?s.add(d):s.delete(d)):(o=o.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),s=s.delete(d.key),r.track({type:1,doc:d})}return{eu:o,ru:r,Ds:a,mutatedKeys:s}}iu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const o=e.ru.pa();o.sort((d,f)=>function(y,A){const g=I=>{switch(I){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ce(20277,{At:I})}};return g(y)-g(A)}(d.type,f.type)||this.Xa(d.doc,f.doc)),this.su(r),i=i!=null&&i;const a=n&&!i?this.ou():[],l=this.Za.size===0&&this.current&&!i?1:0,c=l!==this.Ya;return this.Ya=l,o.length!==0||c?{snapshot:new Rl(this.query,e.eu,s,o,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),_u:a}:{_u:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new $C,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=je(),this.eu.forEach(r=>{this.au(r.key)&&(this.Za=this.Za.add(r.key))});const n=[];return e.forEach(r=>{this.Za.has(r)||n.push(new rb(r))}),this.Za.forEach(r=>{e.has(r)||n.push(new nb(r))}),n}uu(e){this.Ha=e.qs,this.Za=je();const n=this.nu(e.documents);return this.applyChanges(n,!0)}cu(){return Rl.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const Ow="SyncEngine";class dB{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class hB{constructor(e){this.key=e,this.lu=!1}}class fB{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.hu={},this.Pu=new na(a=>wS(a),Qp),this.Tu=new Map,this.Iu=new Set,this.du=new Et(ve.comparator),this.Eu=new Map,this.Au=new Ew,this.Ru={},this.Vu=new Map,this.mu=bl.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function pB(t,e,n=!0){const r=cb(t);let i;const s=r.Pu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.cu()):i=await ib(r,e,n,!0),i}async function mB(t,e){const n=cb(t);await ib(n,e,!0,!1)}async function ib(t,e,n,r){const i=await OF(t.localStore,ei(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await gB(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&HS(t.remoteStore,i),a}async function gB(t,e,n,r,i){t.gu=(f,h,y)=>async function(g,I,E,v){let _=I.view.nu(E);_.Ds&&(_=await BC(g.localStore,I.query,!1).then(({documents:b})=>I.view.nu(b,_)));const R=v&&v.targetChanges.get(I.targetId),O=v&&v.targetMismatches.get(I.targetId)!=null,B=I.view.applyChanges(_,g.isPrimaryClient,R,O);return KC(g,I.targetId,B._u),B.snapshot}(t,f,h,y);const s=await BC(t.localStore,e,!0),o=new uB(e,s.qs),a=o.nu(s.documents),l=Zu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=o.applyChanges(a,t.isPrimaryClient,l);KC(t,n,c._u);const d=new dB(e,n,o);return t.Pu.set(e,d),t.Tu.has(n)?t.Tu.get(n).push(e):t.Tu.set(n,[e]),c.snapshot}async function yB(t,e,n){const r=Re(t),i=r.Pu.get(e),s=r.Tu.get(i.targetId);if(s.length>1)return r.Tu.set(i.targetId,s.filter(o=>!Qp(o,e))),void r.Pu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await mv(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&xw(r.remoteStore,i.targetId),vv(r,i.targetId)}).catch(zl)):(vv(r,i.targetId),await mv(r.localStore,i.targetId,!0))}async function vB(t,e){const n=Re(t),r=n.Pu.get(e),i=n.Tu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),xw(n.remoteStore,r.targetId))}async function wB(t,e,n){const r=IB(t);try{const i=await function(o,a){const l=Re(o),c=Je.now(),d=a.reduce((y,A)=>y.add(A.key),je());let f,h;return l.persistence.runTransaction("Locally write mutations","readwrite",y=>{let A=Bi(),g=je();return l.Os.getEntries(y,d).next(I=>{A=I,A.forEach((E,v)=>{v.isValidDocument()||(g=g.add(E))})}).next(()=>l.localDocuments.getOverlayedDocuments(y,A)).next(I=>{f=I;const E=[];for(const v of a){const _=VV(v,f.get(v.key).overlayedDocument);_!=null&&E.push(new oo(v.key,_,dS(_.value.mapValue),pn.exists(!0)))}return l.mutationQueue.addMutationBatch(y,c,E,a)}).next(I=>{h=I;const E=I.applyToLocalDocumentSet(f,g);return l.documentOverlayCache.saveOverlays(y,I.batchId,E)})}).then(()=>({batchId:h.batchId,changes:TS(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let c=o.Ru[o.currentUser.toKey()];c||(c=new Et(Me)),c=c.insert(a,l),o.Ru[o.currentUser.toKey()]=c}(r,i.batchId,n),await ed(r,i.changes),await tm(r.remoteStore)}catch(i){const s=Pw(i,"Failed to persist write");n.reject(s)}}async function sb(t,e){const n=Re(t);try{const r=await NF(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Eu.get(s);o&&(ze(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.lu=!0:i.modifiedDocuments.size>0?ze(o.lu,14607):i.removedDocuments.size>0&&(ze(o.lu,42227),o.lu=!1))}),await ed(n,r,e)}catch(r){await zl(r)}}function YC(t,e,n){const r=Re(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Pu.forEach((s,o)=>{const a=o.view.va(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=Re(o);l.onlineState=a;let c=!1;l.queries.forEach((d,f)=>{for(const h of f.wa)h.va(a)&&(c=!0)}),c&&Dw(l)}(r.eventManager,e),i.length&&r.hu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function EB(t,e,n){const r=Re(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Eu.get(e),s=i&&i.key;if(s){let o=new Et(ve.comparator);o=o.insert(s,Yt.newNoDocument(s,Se.min()));const a=je().add(s),l=new Zp(Se.min(),new Map,new Et(Me),o,a);await sb(r,l),r.du=r.du.remove(s),r.Eu.delete(e),Lw(r)}else await mv(r.localStore,e,!1).then(()=>vv(r,e,n)).catch(zl)}async function CB(t,e){const n=Re(t),r=e.batch.batchId;try{const i=await kF(n.localStore,e);ab(n,r,null),ob(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await ed(n,i)}catch(i){await zl(i)}}async function TB(t,e,n){const r=Re(t);try{const i=await function(o,a){const l=Re(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let d;return l.mutationQueue.lookupMutationBatch(c,a).next(f=>(ze(f!==null,37113),d=f.keys(),l.mutationQueue.removeMutationBatch(c,f))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,d)).next(()=>l.localDocuments.getDocuments(c,d))})}(r.localStore,e);ab(r,e,n),ob(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await ed(r,i)}catch(i){await zl(i)}}function ob(t,e){(t.Vu.get(e)||[]).forEach(n=>{n.resolve()}),t.Vu.delete(e)}function ab(t,e,n){const r=Re(t);let i=r.Ru[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ru[r.currentUser.toKey()]=i}}function vv(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Tu.get(e))t.Pu.delete(r),n&&t.hu.pu(r,n);t.Tu.delete(e),t.isPrimaryClient&&t.Au.zr(e).forEach(r=>{t.Au.containsKey(r)||lb(t,r)})}function lb(t,e){t.Iu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(xw(t.remoteStore,n),t.du=t.du.remove(e),t.Eu.delete(n),Lw(t))}function KC(t,e,n){for(const r of n)r instanceof nb?(t.Au.addReference(r.key,e),_B(t,r)):r instanceof rb?(fe(Ow,"Document no longer in limbo: "+r.key),t.Au.removeReference(r.key,e),t.Au.containsKey(r.key)||lb(t,r.key)):Ce(19791,{yu:r})}function _B(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Iu.has(r)||(fe(Ow,"New document in limbo: "+n),t.Iu.add(r),Lw(t))}function Lw(t){for(;t.Iu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Iu.values().next().value;t.Iu.delete(e);const n=new ve(tt.fromString(e)),r=t.mu.next();t.Eu.set(r,new hB(n)),t.du=t.du.insert(n,r),HS(t.remoteStore,new xs(ei(Wp(n.path)),r,"TargetPurposeLimboResolution",zp.ue))}}async function ed(t,e,n){const r=Re(t),i=[],s=[],o=[];r.Pu.isEmpty()||(r.Pu.forEach((a,l)=>{o.push(r.gu(l,e,n).then(c=>{var d;if((c||n)&&r.isPrimaryClient){const f=c?!c.fromCache:(d=n==null?void 0:n.targetChanges.get(l.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(c){i.push(c);const f=Tw.Es(l.targetId,c);s.push(f)}}))}),await Promise.all(o),r.hu.J_(i),await async function(l,c){const d=Re(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>H.forEach(c,h=>H.forEach(h.Is,y=>d.persistence.referenceDelegate.addReference(f,h.targetId,y)).next(()=>H.forEach(h.ds,y=>d.persistence.referenceDelegate.removeReference(f,h.targetId,y)))))}catch(f){if(!$l(f))throw f;fe(_w,"Failed to update sequence numbers: "+f)}for(const f of c){const h=f.targetId;if(!f.fromCache){const y=d.Fs.get(h),A=y.snapshotVersion,g=y.withLastLimboFreeSnapshotVersion(A);d.Fs=d.Fs.insert(h,g)}}}(r.localStore,s))}async function AB(t,e){const n=Re(t);if(!n.currentUser.isEqual(e)){fe(Ow,"User change. New user:",e.toKey());const r=await QS(n.localStore,e);n.currentUser=e,function(s,o){s.Vu.forEach(a=>{a.forEach(l=>{l.reject(new le(Y.CANCELLED,o))})}),s.Vu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await ed(n,r.Bs)}}function xB(t,e){const n=Re(t),r=n.Eu.get(e);if(r&&r.lu)return je().add(r.key);{let i=je();const s=n.Tu.get(e);if(!s)return i;for(const o of s){const a=n.Pu.get(o);i=i.unionWith(a.view.tu)}return i}}function cb(t){const e=Re(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=sb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=xB.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=EB.bind(null,e),e.hu.J_=lB.bind(null,e.eventManager),e.hu.pu=cB.bind(null,e.eventManager),e}function IB(t){const e=Re(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=CB.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=TB.bind(null,e),e}class ep{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Xp(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,n){return null}Fu(e,n){return null}vu(e){return PF(this.persistence,new SF,e.initialUser,this.serializer)}Du(e){return new WS(Cw.Vi,this.serializer)}bu(e){return new VF}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ep.provider={build:()=>new ep};class SB extends ep{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,n){ze(this.persistence.referenceDelegate instanceof Zf,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new hF(r,e.asyncQueue,n)}Du(e){const n=this.cacheSizeBytes!==void 0?Nn.withCacheSize(this.cacheSizeBytes):Nn.DEFAULT;return new WS(r=>Zf.Vi(r,n),this.serializer)}}class wv{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>YC(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=AB.bind(null,this.syncEngine),await sB(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new aB}()}createDatastore(e){const n=Xp(e.databaseInfo.databaseId),r=function(s){return new qF(s)}(e.databaseInfo);return function(s,o,a,l){return new WF(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new YF(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>YC(this.syncEngine,n,0),function(){return qC.C()?new qC:new FF}())}createSyncEngine(e,n){return function(i,s,o,a,l,c,d){const f=new fB(i,s,o,a,l,c);return d&&(f.fu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=Re(i);fe(Yo,"RemoteStore shutting down."),s.Ia.add(5),await Xu(s),s.Ea.shutdown(),s.Aa.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}wv.provider={build:()=>new wv};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vw{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):Fi("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bB{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new le(Y.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const n=await async function(i,s){const o=Re(i),a={documents:s.map(f=>Jf(o.serializer,f))},l=await o.Jo("BatchGetDocuments",o.serializer.databaseId,tt.emptyPath(),a,s.length),c=new Map;l.forEach(f=>{const h=KV(o.serializer,f);c.set(h.key.toString(),h)});const d=[];return s.forEach(f=>{const h=c.get(f.toString());ze(!!h,55234,{key:f}),d.push(h)}),d}(this.datastore,e);return n.forEach(r=>this.recordVersion(r)),n}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Jp(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach(n=>{e.delete(n.key.toString())}),e.forEach((n,r)=>{const i=ve.fromPath(r);this.mutations.push(new NS(i,this.precondition(i)))}),await async function(r,i){const s=Re(r),o={writes:i.map(a=>US(s.serializer,a))};await s.Wo("Commit",s.serializer.databaseId,tt.emptyPath(),o)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw Ce(50498,{Wu:e.constructor.name});n=Se.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new le(Y.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(Se.min())?pn.exists(!1):pn.updateTime(n):pn.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(Se.min()))throw new le(Y.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return pn.updateTime(n)}return pn.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RB{constructor(e,n,r,i,s){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=s,this.Gu=r.maxAttempts,this.F_=new Aw(this.asyncQueue,"transaction_retry")}zu(){this.Gu-=1,this.ju()}ju(){this.F_.g_(async()=>{const e=new bB(this.datastore),n=this.Ju(e);n&&n.then(r=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(r)}).catch(i=>{this.Hu(i)}))}).catch(r=>{this.Hu(r)})})}Ju(e){try{const n=this.updateFunction(e);return!Hu(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}Hu(e){this.Gu>0&&this.Yu(e)?(this.Gu-=1,this.asyncQueue.enqueueAndForget(()=>(this.ju(),Promise.resolve()))):this.deferred.reject(e)}Yu(e){if(e.name==="FirebaseError"){const n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!DS(n)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Js="FirestoreClient";class PB{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=hn.UNAUTHENTICATED,this.clientId=uw.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{fe(Js,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(fe(Js,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Xr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Pw(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Pg(t,e){t.asyncQueue.verifyOperationInProgress(),fe(Js,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await QS(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>{$s("Terminating Firestore due to IndexedDb database deletion"),t.terminate().then(()=>{fe("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(i=>{$s("Terminating Firestore due to IndexedDb database deletion failed",i)})}),t._offlineComponents=e}async function HC(t,e){t.asyncQueue.verifyOperationInProgress();const n=await kB(t);fe(Js,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>zC(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>zC(e.remoteStore,i)),t._onlineComponents=e}async function kB(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){fe(Js,"Using user provided OfflineComponentProvider");try{await Pg(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===Y.FAILED_PRECONDITION||i.code===Y.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;$s("Error using user provided cache. Falling back to memory cache: "+n),await Pg(t,new ep)}}else fe(Js,"Using default OfflineComponentProvider"),await Pg(t,new SB(void 0));return t._offlineComponents}async function Fw(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(fe(Js,"Using user provided OnlineComponentProvider"),await HC(t,t._uninitializedComponentsProvider._online)):(fe(Js,"Using default OnlineComponentProvider"),await HC(t,new wv))),t._onlineComponents}function NB(t){return Fw(t).then(e=>e.syncEngine)}function DB(t){return Fw(t).then(e=>e.datastore)}async function tp(t){const e=await Fw(t),n=e.eventManager;return n.onListen=pB.bind(null,e.syncEngine),n.onUnlisten=yB.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=mB.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=vB.bind(null,e.syncEngine),n}function MB(t,e,n={}){const r=new Xr;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const d=new Vw({next:h=>{d.Ou(),o.enqueueAndForget(()=>Nw(s,f));const y=h.docs.has(a);!y&&h.fromCache?c.reject(new le(Y.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&h.fromCache&&l&&l.source==="server"?c.reject(new le(Y.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(h)},error:h=>c.reject(h)}),f=new Mw(Wp(a.path),d,{includeMetadataChanges:!0,ka:!0});return kw(s,f)}(await tp(t),t.asyncQueue,e,n,r)),r.promise}function OB(t,e,n={}){const r=new Xr;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const d=new Vw({next:h=>{d.Ou(),o.enqueueAndForget(()=>Nw(s,f)),h.fromCache&&l.source==="server"?c.reject(new le(Y.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(h)},error:h=>c.reject(h)}),f=new Mw(a,d,{includeMetadataChanges:!0,ka:!0});return kw(s,f)}(await tp(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ub(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JC=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const db="firestore.googleapis.com",ZC=!0;class XC{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new le(Y.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=db,this.ssl=ZC}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:ZC;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=$S;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<uF)throw new le(Y.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}ZL("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ub((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new le(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new le(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new le(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class nm{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new XC({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new le(Y.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new le(Y.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new XC(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new GL;switch(r.type){case"firstParty":return new QL(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new le(Y.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=JC.get(n);r&&(fe("ComponentProvider","Removing Datastore"),JC.delete(n),r.terminate())}(this),Promise.resolve()}}function LB(t,e,n,r={}){var i;t=Fn(t,nm);const s=Ul(e),o=t._getSettings(),a=Object.assign(Object.assign({},o),{emulatorOptions:t._getEmulatorOptions()}),l=`${e}:${n}`;s&&(VI(`https://${l}`),FI("Firestore",!0)),o.host!==db&&o.host!==l&&$s("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c=Object.assign(Object.assign({},o),{host:l,ssl:s,emulatorOptions:r});if(!$o(c,a)&&(t._setSettings(c),r.mockUserToken)){let d,f;if(typeof r.mockUserToken=="string")d=r.mockUserToken,f=hn.MOCK_USER;else{d=fO(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const h=r.mockUserToken.sub||r.mockUserToken.user_id;if(!h)throw new le(Y.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new hn(h)}t._authCredentials=new zL(new JI(d,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yl=class hb{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new hb(this.firestore,e,this._query)}};class yt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new js(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new yt(this.firestore,e,this._key)}toJSON(){return{type:yt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Ku(n,yt._jsonSchema))return new yt(e,r||null,new ve(tt.fromString(n.referencePath)))}}yt._jsonSchemaVersion="firestore/documentReference/1.0",yt._jsonSchema={type:Mt("string",yt._jsonSchemaVersion),referencePath:Mt("string")};class js extends Yl{constructor(e,n,r){super(e,n,Wp(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new yt(this.firestore,null,new ve(e))}withConverter(e){return new js(this.firestore,e,this._path)}}function np(t,e,...n){if(t=xt(t),XI("collection","path",e),t instanceof nm){const r=tt.fromString(e,...n);return hC(r),new js(t,null,r)}{if(!(t instanceof yt||t instanceof js))throw new le(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(tt.fromString(e,...n));return hC(r),new js(t.firestore,null,r)}}function zr(t,e,...n){if(t=xt(t),arguments.length===1&&(e=uw.newId()),XI("doc","path",e),t instanceof nm){const r=tt.fromString(e,...n);return dC(r),new yt(t,null,new ve(r))}{if(!(t instanceof yt||t instanceof js))throw new le(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(tt.fromString(e,...n));return dC(r),new yt(t.firestore,t instanceof js?t.converter:null,new ve(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eT="AsyncQueue";class tT{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new Aw(this,"async_queue_retry"),this.oc=()=>{const r=Rg();r&&fe(eT,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;const n=Rg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const n=Rg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});const n=new Xr;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!$l(e))throw e;fe(eT,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){const n=this._c.then(()=>(this.nc=!0,e().catch(r=>{throw this.tc=r,this.nc=!1,Fi("INTERNAL UNHANDLED ERROR: ",nT(r)),r}).then(r=>(this.nc=!1,r))));return this._c=n,n}enqueueAfterDelay(e,n,r){this.ac(),this.sc.indexOf(e)>-1&&(n=0);const i=Rw.createAndSchedule(this,e,n,r,s=>this.lc(s));return this.ec.push(i),i}ac(){this.tc&&Ce(47125,{hc:nT(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const n of this.ec)if(n.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.ec)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){const n=this.ec.indexOf(e);this.ec.splice(n,1)}}function nT(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rT(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class ji extends nm{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new tT,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new tT(e),this._firestoreClient=void 0,await e}}}function VB(t,e){const n=typeof t=="object"?t:lw(),r=typeof t=="string"?t:Wf,i=aw(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=dO("firestore");s&&LB(i,...s)}return i}function td(t){if(t._terminated)throw new le(Y.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||FB(t),t._firestoreClient}function FB(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,c,d){return new cV(a,l,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,ub(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new PB(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Qn(nn.fromBase64String(e))}catch(n){throw new le(Y.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Qn(nn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Qn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Ku(e,Qn._jsonSchema))return Qn.fromBase64String(e.bytes)}}Qn._jsonSchemaVersion="firestore/bytes/1.0",Qn._jsonSchema={type:Mt("string",Qn._jsonSchemaVersion),bytes:Mt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nd{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new le(Y.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Xt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rm{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ti{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new le(Y.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new le(Y.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Me(this._lat,e._lat)||Me(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ti._jsonSchemaVersion}}static fromJSON(e){if(Ku(e,ti._jsonSchema))return new ti(e.latitude,e.longitude)}}ti._jsonSchemaVersion="firestore/geoPoint/1.0",ti._jsonSchema={type:Mt("string",ti._jsonSchemaVersion),latitude:Mt("number"),longitude:Mt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}toJSON(){return{type:ni._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Ku(e,ni._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new ni(e.vectorValues);throw new le(Y.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ni._jsonSchemaVersion="firestore/vectorValue/1.0",ni._jsonSchema={type:Mt("string",ni._jsonSchemaVersion),vectorValues:Mt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BB=/^__.*__$/;class jB{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new oo(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ju(e,this.data,n,this.fieldTransforms)}}class fb{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new oo(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function pb(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ce(40011,{Ec:t})}}class Bw{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Ac(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new Bw(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Rc({path:r,mc:!1});return i.fc(e),i}gc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Rc({path:r,mc:!1});return i.Ac(),i}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return rp(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(pb(this.Ec)&&BB.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class UB{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Xp(e)}Dc(e,n,r,i=!1){return new Bw({Ec:e,methodName:n,bc:r,path:Xt.emptyPath(),mc:!1,Sc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function im(t){const e=t._freezeSettings(),n=Xp(t._databaseId);return new UB(t._databaseId,!!e.ignoreUndefinedProperties,n)}function mb(t,e,n,r,i,s={}){const o=t.Dc(s.merge||s.mergeFields?2:0,e,n,i);Uw("Data must be an object, but it was:",o,r);const a=vb(r,o);let l,c;if(s.merge)l=new Kn(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const d=[];for(const f of s.mergeFields){const h=Ev(e,f,n);if(!o.contains(h))throw new le(Y.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);Eb(d,h)||d.push(h)}l=new Kn(d),c=o.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,c=o.fieldTransforms;return new jB(new Sn(a),l,c)}class sm extends rm{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof sm}}class jw extends rm{constructor(e,n){super(e),this.Cc=n}_toFieldTransform(e){const n=new Ru(e.serializer,xS(e.serializer,this.Cc));return new DV(e.path,n)}isEqual(e){return e instanceof jw&&this.Cc===e.Cc}}function gb(t,e,n,r){const i=t.Dc(1,e,n);Uw("Data must be an object, but it was:",i,r);const s=[],o=Sn.empty();so(r,(l,c)=>{const d=qw(e,l,n);c=xt(c);const f=i.gc(d);if(c instanceof sm)s.push(d);else{const h=rd(c,f);h!=null&&(s.push(d),o.set(d,h))}});const a=new Kn(s);return new fb(o,a,i.fieldTransforms)}function yb(t,e,n,r,i,s){const o=t.Dc(1,e,n),a=[Ev(e,r,n)],l=[i];if(s.length%2!=0)throw new le(Y.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<s.length;h+=2)a.push(Ev(e,s[h])),l.push(s[h+1]);const c=[],d=Sn.empty();for(let h=a.length-1;h>=0;--h)if(!Eb(c,a[h])){const y=a[h];let A=l[h];A=xt(A);const g=o.gc(y);if(A instanceof sm)c.push(y);else{const I=rd(A,g);I!=null&&(c.push(y),d.set(y,I))}}const f=new Kn(c);return new fb(d,f,o.fieldTransforms)}function qB(t,e,n,r=!1){return rd(n,t.Dc(r?4:3,e))}function rd(t,e){if(wb(t=xt(t)))return Uw("Unsupported field value:",e,t),vb(t,e);if(t instanceof rm)return function(r,i){if(!pb(i.Ec))throw i.wc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.wc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=rd(a,i.yc(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=xt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return xS(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Je.fromDate(r);return{timestampValue:Hf(i.serializer,s)}}if(r instanceof Je){const s=new Je(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Hf(i.serializer,s)}}if(r instanceof ti)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Qn)return{bytesValue:VS(i.serializer,r._byteString)};if(r instanceof yt){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.wc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:ww(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof ni)return function(o,a){return{mapValue:{fields:{[lS]:{stringValue:uS},[Qf]:{arrayValue:{values:o.toArray().map(c=>{if(typeof c!="number")throw a.wc("VectorValues must only contain numeric values.");return gw(a.serializer,c)})}}}}}}(r,i);throw i.wc(`Unsupported field value: ${Gp(r)}`)}(t,e)}function vb(t,e){const n={};return nS(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):so(t,(r,i)=>{const s=rd(i,e.Vc(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function wb(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Je||t instanceof ti||t instanceof Qn||t instanceof yt||t instanceof rm||t instanceof ni)}function Uw(t,e,n){if(!wb(n)||!eS(n)){const r=Gp(n);throw r==="an object"?e.wc(t+" a custom object"):e.wc(t+" "+r)}}function Ev(t,e,n){if((e=xt(e))instanceof nd)return e._internalPath;if(typeof e=="string")return qw(t,e);throw rp("Field path arguments must be of type string or ",t,!1,void 0,n)}const GB=new RegExp("[~\\*/\\[\\]]");function qw(t,e,n){if(e.search(GB)>=0)throw rp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new nd(...e.split("."))._internalPath}catch{throw rp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function rp(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new le(Y.INVALID_ARGUMENT,a+t+l)}function Eb(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ip{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new yt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new zB(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(om("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class zB extends ip{data(){return super.data()}}function om(t,e){return typeof e=="string"?qw(t,e):e instanceof nd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cb(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new le(Y.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Gw{}class Tb extends Gw{}function sp(t,e,...n){let r=[];e instanceof Gw&&r.push(e),r=r.concat(n),function(s){const o=s.filter(l=>l instanceof zw).length,a=s.filter(l=>l instanceof am).length;if(o>1||o>0&&a>0)throw new le(Y.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class am extends Tb{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new am(e,n,r)}_apply(e){const n=this._parse(e);return Ab(e._query,n),new Yl(e.firestore,e.converter,uv(e._query,n))}_parse(e){const n=im(e.firestore);return function(s,o,a,l,c,d,f){let h;if(c.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new le(Y.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){sT(f,d);const A=[];for(const g of f)A.push(iT(l,s,g));h={arrayValue:{values:A}}}else h=iT(l,s,f)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||sT(f,d),h=qB(a,o,f,d==="in"||d==="not-in");return Nt.create(c,d,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Ah(t,e,n){const r=e,i=om("where",t);return am._create(i,r,n)}class zw extends Gw{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new zw(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Lr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)Ab(o,l),o=uv(o,l)}(e._query,n),new Yl(e.firestore,e.converter,uv(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class $w extends Tb{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new $w(e,n)}_apply(e){const n=function(i,s,o){if(i.startAt!==null)throw new le(Y.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new le(Y.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Iu(s,o)}(e._query,this._field,this._direction);return new Yl(e.firestore,e.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new Wl(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function _b(t,e="asc"){const n=e,r=om("orderBy",t);return $w._create(r,n)}function iT(t,e,n){if(typeof(n=xt(n))=="string"){if(n==="")throw new le(Y.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!vS(e)&&n.indexOf("/")!==-1)throw new le(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(tt.fromString(n));if(!ve.isDocumentKey(r))throw new le(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return EC(t,new ve(r))}if(n instanceof yt)return EC(t,n._key);throw new le(Y.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Gp(n)}.`)}function sT(t,e){if(!Array.isArray(t)||t.length===0)throw new le(Y.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Ab(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new le(Y.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new le(Y.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class xb{convertValue(e,n="none"){switch(Ks(e)){case 0:return null;case 1:return e.booleanValue;case 2:return It(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ys(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ce(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return so(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n[Qf].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>It(o.doubleValue));return new ni(s)}convertGeoPoint(e){return new ti(It(e.latitude),It(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=$p(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(_u(e));default:return null}}convertTimestamp(e){const n=Qs(e);return new Je(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=tt.fromString(e);ze(zS(r),9688,{name:e});const i=new Au(r.get(1),r.get(3)),s=new ve(r.popFirst(5));return i.isEqual(n)||Fi(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ib(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class $B extends xb{constructor(e){super(),this.firestore=e}convertBytes(e){return new Qn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new yt(this.firestore,null,n)}}class $a{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Us extends ip{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new nf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(om("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new le(Y.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Us._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Us._jsonSchemaVersion="firestore/documentSnapshot/1.0",Us._jsonSchema={type:Mt("string",Us._jsonSchemaVersion),bundleSource:Mt("string","DocumentSnapshot"),bundleName:Mt("string"),bundle:Mt("string")};class nf extends Us{data(e={}){return super.data(e)}}class Fo{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new $a(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new nf(this._firestore,this._userDataWriter,r.key,r,new $a(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new le(Y.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new nf(i._firestore,i._userDataWriter,a.doc.key,a.doc,new $a(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new nf(i._firestore,i._userDataWriter,a.doc.key,a.doc,new $a(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,d=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:WB(a.type),doc:l,oldIndex:c,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new le(Y.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Fo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=uw.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach(s=>{s._document!==null&&(n.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function WB(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ce(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QB(t){t=Fn(t,yt);const e=Fn(t.firestore,ji);return MB(td(e),t._key).then(n=>Sb(e,t,n))}Fo._jsonSchemaVersion="firestore/querySnapshot/1.0",Fo._jsonSchema={type:Mt("string",Fo._jsonSchemaVersion),bundleSource:Mt("string","QuerySnapshot"),bundleName:Mt("string"),bundle:Mt("string")};class lm extends xb{constructor(e){super(),this.firestore=e}convertBytes(e){return new Qn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new yt(this.firestore,null,n)}}function Cv(t){t=Fn(t,Yl);const e=Fn(t.firestore,ji),n=td(e),r=new lm(e);return Cb(t._query),OB(n,t._query).then(i=>new Fo(e,r,t,i))}function oT(t,e,n){t=Fn(t,yt);const r=Fn(t.firestore,ji),i=Ib(t.converter,e,n);return Ww(r,[mb(im(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,pn.none())])}function xh(t,e,n,...r){t=Fn(t,yt);const i=Fn(t.firestore,ji),s=im(i);let o;return o=typeof(e=xt(e))=="string"||e instanceof nd?yb(s,"updateDoc",t._key,e,n,r):gb(s,"updateDoc",t._key,e),Ww(i,[o.toMutation(t._key,pn.exists(!0))])}function YB(t){return Ww(Fn(t.firestore,ji),[new Jp(t._key,pn.none())])}function kg(t,...e){var n,r,i;t=xt(t);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||rT(e[o])||(s=e[o++]);const a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(rT(e[o])){const f=e[o];e[o]=(n=f.next)===null||n===void 0?void 0:n.bind(f),e[o+1]=(r=f.error)===null||r===void 0?void 0:r.bind(f),e[o+2]=(i=f.complete)===null||i===void 0?void 0:i.bind(f)}let l,c,d;if(t instanceof yt)c=Fn(t.firestore,ji),d=Wp(t._key.path),l={next:f=>{e[o]&&e[o](Sb(c,t,f))},error:e[o+1],complete:e[o+2]};else{const f=Fn(t,Yl);c=Fn(f.firestore,ji),d=f._query;const h=new lm(c);l={next:y=>{e[o]&&e[o](new Fo(c,h,f,y))},error:e[o+1],complete:e[o+2]},Cb(t._query)}return function(h,y,A,g){const I=new Vw(g),E=new Mw(y,I,A);return h.asyncQueue.enqueueAndForget(async()=>kw(await tp(h),E)),()=>{I.Ou(),h.asyncQueue.enqueueAndForget(async()=>Nw(await tp(h),E))}}(td(c),d,a,l)}function Ww(t,e){return function(r,i){const s=new Xr;return r.asyncQueue.enqueueAndForget(async()=>wB(await NB(r),i,s)),s.promise}(td(t),e)}function Sb(t,e,n){const r=n.docs.get(e._key),i=new lm(t);return new Us(t,i,e._key,r,new $a(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KB={maxAttempts:5};function Dc(t,e){if((t=xt(t)).firestore!==e)throw new le(Y.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HB{constructor(e,n){this._firestore=e,this._transaction=n,this._dataReader=im(e)}get(e){const n=Dc(e,this._firestore),r=new $B(this._firestore);return this._transaction.lookup([n._key]).then(i=>{if(!i||i.length!==1)return Ce(24041);const s=i[0];if(s.isFoundDocument())return new ip(this._firestore,r,s.key,s,n.converter);if(s.isNoDocument())return new ip(this._firestore,r,n._key,null,n.converter);throw Ce(18433,{doc:s})})}set(e,n,r){const i=Dc(e,this._firestore),s=Ib(i.converter,n,r),o=mb(this._dataReader,"Transaction.set",i._key,s,i.converter!==null,r);return this._transaction.set(i._key,o),this}update(e,n,r,...i){const s=Dc(e,this._firestore);let o;return o=typeof(n=xt(n))=="string"||n instanceof nd?yb(this._dataReader,"Transaction.update",s._key,n,r,i):gb(this._dataReader,"Transaction.update",s._key,n),this._transaction.update(s._key,o),this}delete(e){const n=Dc(e,this._firestore);return this._transaction.delete(n._key),this}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JB extends HB{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=Dc(e,this._firestore),r=new lm(this._firestore);return super.get(e).then(i=>new Us(this._firestore,r,n._key,i._document,new $a(!1,!1),n.converter))}}function ZB(t,e,n){t=Fn(t,ji);const r=Object.assign(Object.assign({},KB),n);return function(s){if(s.maxAttempts<1)throw new le(Y.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(s,o,a){const l=new Xr;return s.asyncQueue.enqueueAndForget(async()=>{const c=await DB(s);new RB(s.asyncQueue,c,a,o,l).zu()}),l.promise}(td(t),i=>e(new JB(t,i)),r)}function XB(t){return new jw("increment",t)}(function(e,n=!0){(function(i){Gl=i})(ql),Al(new Wo("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new ji(new $L(r.getProvider("auth-internal")),new YL(o,r.getProvider("app-check-internal")),function(c,d){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new le(Y.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Au(c.options.projectId,d)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Fs(oC,aC,e),Fs(oC,aC,"esm2017")})();var Hr=function(){return Hr=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Hr.apply(this,arguments)};function id(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function e5(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}function bb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const t5=bb,Rb=new Qu("auth","Firebase",bb());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const op=new sw("@firebase/auth");function n5(t,...e){op.logLevel<=Fe.WARN&&op.warn(`Auth (${ql}): ${t}`,...e)}function rf(t,...e){op.logLevel<=Fe.ERROR&&op.error(`Auth (${ql}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vr(t,...e){throw Qw(t,...e)}function ri(t,...e){return Qw(t,...e)}function Pb(t,e,n){const r=Object.assign(Object.assign({},t5()),{[e]:n});return new Qu("auth","Firebase",r).create(e,{appName:t.name})}function Ni(t){return Pb(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Qw(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Rb.create(t,...e)}function be(t,e,...n){if(!t)throw Qw(e,...n)}function bi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw rf(e),new Error(e)}function Ui(t,e){t||bi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tv(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function r5(){return aT()==="http:"||aT()==="https:"}function aT(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i5(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(r5()||wO()||"connection"in navigator)?navigator.onLine:!0}function s5(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sd{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ui(n>e,"Short delay should be less than long delay!"),this.isMobile=gO()||EO()}get(){return i5()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yw(t,e){Ui(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kb{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;bi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;bi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;bi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o5={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a5=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],l5=new sd(3e4,6e4);function ao(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function lo(t,e,n,r,i={}){return Nb(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=Yu(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:l},s);return vO()||(c.referrerPolicy="no-referrer"),t.emulatorConfig&&Ul(t.emulatorConfig.host)&&(c.credentials="include"),kb.fetch()(await Db(t,t.config.apiHost,n,a),c)})}async function Nb(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},o5),e);try{const i=new u5(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Ih(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ih(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Ih(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Ih(t,"user-disabled",o);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw Pb(t,d,c);Vr(t,d)}}catch(i){if(i instanceof $i)throw i;Vr(t,"network-request-failed",{message:String(i)})}}async function od(t,e,n,r,i={}){const s=await lo(t,e,n,r,i);return"mfaPendingCredential"in s&&Vr(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function Db(t,e,n,r){const i=`${e}${n}?${r}`,s=t,o=s.config.emulator?Yw(t.config,i):`${t.config.apiScheme}://${i}`;return a5.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(o).toString():o}function c5(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class u5{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ri(this.auth,"network-request-failed")),l5.get())})}}function Ih(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=ri(t,e,r);return i.customData._tokenResponse=n,i}function lT(t){return t!==void 0&&t.enterprise!==void 0}class d5{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return c5(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function h5(t,e){return lo(t,"GET","/v2/recaptchaConfig",ao(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f5(t,e){return lo(t,"POST","/v1/accounts:delete",e)}async function ap(t,e){return lo(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function p5(t,e=!1){const n=xt(t),r=await n.getIdToken(e),i=Kw(r);be(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:eu(Ng(i.auth_time)),issuedAtTime:eu(Ng(i.iat)),expirationTime:eu(Ng(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Ng(t){return Number(t)*1e3}function Kw(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return rf("JWT malformed, contained fewer than 3 sections"),null;try{const i=DI(n);return i?JSON.parse(i):(rf("Failed to decode base64 JWT payload"),null)}catch(i){return rf("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function cT(t){const e=Kw(t);return be(e,"internal-error"),be(typeof e.exp<"u","internal-error"),be(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pu(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof $i&&m5(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function m5({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g5{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _v{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=eu(this.lastLoginAt),this.creationTime=eu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lp(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Pu(t,ap(n,{idToken:r}));be(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?Mb(s.providerUserInfo):[],a=v5(t.providerData,o),l=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),d=l?c:!1,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new _v(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,f)}async function y5(t){const e=xt(t);await lp(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function v5(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Mb(t){return t.map(e=>{var{providerId:n}=e,r=id(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w5(t,e){const n=await Nb(t,{},async()=>{const r=Yu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=await Db(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:a,body:r};return t.emulatorConfig&&Ul(t.emulatorConfig.host)&&(l.credentials="include"),kb.fetch()(o,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function E5(t,e){return lo(t,"POST","/v2/accounts:revokeToken",ao(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){be(e.idToken,"internal-error"),be(typeof e.idToken<"u","internal-error"),be(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):cT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){be(e.length!==0,"internal-error");const n=cT(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(be(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await w5(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new tl;return r&&(be(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(be(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(be(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new tl,this.toJSON())}_performRefresh(){return bi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ss(t,e){be(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Nr{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=id(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new g5(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new _v(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Pu(this,this.stsTokenManager.getToken(this.auth,e));return be(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return p5(this,e)}reload(){return y5(this)}_assign(e){this!==e&&(be(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Nr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){be(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await lp(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(hr(this.auth.app))return Promise.reject(Ni(this.auth));const e=await this.getIdToken();return await Pu(this,f5(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,c,d;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,y=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,A=(o=n.photoURL)!==null&&o!==void 0?o:void 0,g=(a=n.tenantId)!==null&&a!==void 0?a:void 0,I=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,E=(c=n.createdAt)!==null&&c!==void 0?c:void 0,v=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:_,emailVerified:R,isAnonymous:O,providerData:B,stsTokenManager:b}=n;be(_&&b,e,"internal-error");const S=tl.fromJSON(this.name,b);be(typeof _=="string",e,"internal-error"),ss(f,e.name),ss(h,e.name),be(typeof R=="boolean",e,"internal-error"),be(typeof O=="boolean",e,"internal-error"),ss(y,e.name),ss(A,e.name),ss(g,e.name),ss(I,e.name),ss(E,e.name),ss(v,e.name);const k=new Nr({uid:_,auth:e,email:h,emailVerified:R,displayName:f,isAnonymous:O,photoURL:A,phoneNumber:y,tenantId:g,stsTokenManager:S,createdAt:E,lastLoginAt:v});return B&&Array.isArray(B)&&(k.providerData=B.map(D=>Object.assign({},D))),I&&(k._redirectEventId=I),k}static async _fromIdTokenResponse(e,n,r=!1){const i=new tl;i.updateFromServerResponse(n);const s=new Nr({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await lp(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];be(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?Mb(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new tl;a.updateFromIdToken(r);const l=new Nr({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new _v(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uT=new Map;function Ri(t){Ui(t instanceof Function,"Expected a class definition");let e=uT.get(t);return e?(Ui(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,uT.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ob{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Ob.type="NONE";const dT=Ob;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sf(t,e,n){return`firebase:${t}:${e}:${n}`}class nl{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=sf(this.userKey,i.apiKey,s),this.fullPersistenceKey=sf("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await ap(this.auth,{idToken:e}).catch(()=>{});return n?Nr._fromGetAccountInfoResponse(this.auth,n,e):null}return Nr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new nl(Ri(dT),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||Ri(dT);const o=sf(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const d=await c._get(o);if(d){let f;if(typeof d=="string"){const h=await ap(e,{idToken:d}).catch(()=>{});if(!h)break;f=await Nr._fromGetAccountInfoResponse(e,h,d)}else f=Nr._fromJSON(e,d);c!==s&&(a=f),s=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new nl(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new nl(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hT(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Bb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Lb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Ub(e))return"Blackberry";if(qb(e))return"Webos";if(Vb(e))return"Safari";if((e.includes("chrome/")||Fb(e))&&!e.includes("edge/"))return"Chrome";if(jb(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Lb(t=yn()){return/firefox\//i.test(t)}function Vb(t=yn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Fb(t=yn()){return/crios\//i.test(t)}function Bb(t=yn()){return/iemobile/i.test(t)}function jb(t=yn()){return/android/i.test(t)}function Ub(t=yn()){return/blackberry/i.test(t)}function qb(t=yn()){return/webos/i.test(t)}function Hw(t=yn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function C5(t=yn()){var e;return Hw(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function T5(){return CO()&&document.documentMode===10}function Gb(t=yn()){return Hw(t)||jb(t)||qb(t)||Ub(t)||/windows phone/i.test(t)||Bb(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zb(t,e=[]){let n;switch(t){case"Browser":n=hT(yn());break;case"Worker":n=`${hT(yn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ql}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _5{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function A5(t,e={}){return lo(t,"GET","/v2/passwordPolicy",ao(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x5=6;class I5{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:x5,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S5{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new fT(this),this.idTokenSubscription=new fT(this),this.beforeStateQueue=new _5(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Rb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ri(n)),this._initializationPromise=this.queue(async()=>{var r,i,s;if(!this._deleted&&(this.persistenceManager=await nl.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await ap(this,{idToken:e}),r=await Nr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(hr(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return be(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await lp(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=s5()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(hr(this.app))return Promise.reject(Ni(this));const n=e?xt(e):null;return n&&be(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&be(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return hr(this.app)?Promise.reject(Ni(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return hr(this.app)?Promise.reject(Ni(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ri(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await A5(this),n=new I5(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Qu("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await E5(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ri(e)||this._popupRedirectResolver;be(n,this,"argument-error"),this.redirectPersistenceManager=await nl.create(this,[Ri(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(be(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return be(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=zb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;if(hr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&n5(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function ia(t){return xt(t)}class fT{constructor(e){this.auth=e,this.observer=null,this.addObserver=RO(n=>this.observer=n)}get next(){return be(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function b5(t){cm=t}function $b(t){return cm.loadJS(t)}function R5(){return cm.recaptchaEnterpriseScript}function P5(){return cm.gapiScript}function k5(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class N5{constructor(){this.enterprise=new D5}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class D5{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const M5="recaptcha-enterprise",Wb="NO_RECAPTCHA";class O5{constructor(e){this.type=M5,this.auth=ia(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{h5(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new d5(l);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;lT(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(c=>{o(c)}).catch(()=>{o(Wb)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new N5().execute("siteKey",{action:"verify"}):new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&lT(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=R5();l.length!==0&&(l+=a),$b(l).then(()=>{i(a,s,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function pT(t,e,n,r=!1,i=!1){const s=new O5(t);let o;if(i)o=Wb;else try{o=await s.verify(n)}catch{o=await s.verify(n,!0)}const a=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,c=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function Av(t,e,n,r,i){var s;if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await pT(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await pT(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L5(t,e){const n=aw(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if($o(s,e??{}))return i;Vr(i,"already-initialized")}return n.initialize({options:e})}function V5(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ri);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function F5(t,e,n){const r=ia(t);be(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=Qb(e),{host:o,port:a}=B5(e),l=a===null?"":`:${a}`,c={url:`${s}//${o}${l}/`},d=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){be(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),be($o(c,r.config.emulator)&&$o(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=c,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,Ul(o)?(VI(`${s}//${o}${l}`),FI("Auth",!0)):j5()}function Qb(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function B5(t){const e=Qb(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:mT(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:mT(o)}}}function mT(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function j5(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jw{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return bi("not implemented")}_getIdTokenResponse(e){return bi("not implemented")}_linkToIdToken(e,n){return bi("not implemented")}_getReauthenticationResolver(e){return bi("not implemented")}}async function U5(t,e){return lo(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function q5(t,e){return od(t,"POST","/v1/accounts:signInWithPassword",ao(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G5(t,e){return od(t,"POST","/v1/accounts:signInWithEmailLink",ao(t,e))}async function z5(t,e){return od(t,"POST","/v1/accounts:signInWithEmailLink",ao(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ku extends Jw{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new ku(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new ku(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Av(e,n,"signInWithPassword",q5);case"emailLink":return G5(e,{email:this._email,oobCode:this._password});default:Vr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Av(e,r,"signUpPassword",U5);case"emailLink":return z5(e,{idToken:n,email:this._email,oobCode:this._password});default:Vr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rl(t,e){return od(t,"POST","/v1/accounts:signInWithIdp",ao(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $5="http://localhost";class Ko extends Jw{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ko(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Vr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=id(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Ko(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return rl(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,rl(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,rl(e,n)}buildRequest(){const e={requestUri:$5,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Yu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W5(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Q5(t){const e=bc(Rc(t)).link,n=e?bc(Rc(e)).deep_link_id:null,r=bc(Rc(t)).deep_link_id;return(r?bc(Rc(r)).link:null)||r||n||e||t}class Zw{constructor(e){var n,r,i,s,o,a;const l=bc(Rc(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,d=(r=l.oobCode)!==null&&r!==void 0?r:null,f=W5((i=l.mode)!==null&&i!==void 0?i:null);be(c&&d&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=d,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.lang)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=Q5(e);try{return new Zw(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kl{constructor(){this.providerId=Kl.PROVIDER_ID}static credential(e,n){return ku._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Zw.parseLink(n);return be(r,"argument-error"),ku._fromEmailAndCode(e,r.code,r.tenantId)}}Kl.PROVIDER_ID="password";Kl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Kl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yb{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ad extends Yb{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps extends ad{constructor(){super("facebook.com")}static credential(e){return Ko._fromParams({providerId:ps.PROVIDER_ID,signInMethod:ps.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ps.credentialFromTaggedObject(e)}static credentialFromError(e){return ps.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ps.credential(e.oauthAccessToken)}catch{return null}}}ps.FACEBOOK_SIGN_IN_METHOD="facebook.com";ps.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms extends ad{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ko._fromParams({providerId:ms.PROVIDER_ID,signInMethod:ms.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ms.credentialFromTaggedObject(e)}static credentialFromError(e){return ms.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return ms.credential(n,r)}catch{return null}}}ms.GOOGLE_SIGN_IN_METHOD="google.com";ms.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs extends ad{constructor(){super("github.com")}static credential(e){return Ko._fromParams({providerId:gs.PROVIDER_ID,signInMethod:gs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return gs.credentialFromTaggedObject(e)}static credentialFromError(e){return gs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return gs.credential(e.oauthAccessToken)}catch{return null}}}gs.GITHUB_SIGN_IN_METHOD="github.com";gs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys extends ad{constructor(){super("twitter.com")}static credential(e,n){return Ko._fromParams({providerId:ys.PROVIDER_ID,signInMethod:ys.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ys.credentialFromTaggedObject(e)}static credentialFromError(e){return ys.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ys.credential(n,r)}catch{return null}}}ys.TWITTER_SIGN_IN_METHOD="twitter.com";ys.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Y5(t,e){return od(t,"POST","/v1/accounts:signUp",ao(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Nr._fromIdTokenResponse(e,r,i),o=gT(r);return new Ho({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=gT(r);return new Ho({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function gT(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cp extends $i{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,cp.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new cp(e,n,r,i)}}function Kb(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?cp._fromErrorAndOperation(t,s,e,r):s})}async function K5(t,e,n=!1){const r=await Pu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ho._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function H5(t,e,n=!1){const{auth:r}=t;if(hr(r.app))return Promise.reject(Ni(r));const i="reauthenticate";try{const s=await Pu(t,Kb(r,i,e,t),n);be(s.idToken,r,"internal-error");const o=Kw(s.idToken);be(o,r,"internal-error");const{sub:a}=o;return be(t.uid===a,r,"user-mismatch"),Ho._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Vr(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hb(t,e,n=!1){if(hr(t.app))return Promise.reject(Ni(t));const r="signIn",i=await Kb(t,r,e),s=await Ho._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function J5(t,e){return Hb(ia(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jb(t){const e=ia(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Z5(t,e,n){if(hr(t.app))return Promise.reject(Ni(t));const r=ia(t),o=await Av(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Y5).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&Jb(t),l}),a=await Ho._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function X5(t,e,n){return hr(t.app)?Promise.reject(Ni(t)):J5(xt(t),Kl.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Jb(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e3(t,e){return xt(t).setPersistence(e)}function t3(t,e,n,r){return xt(t).onIdTokenChanged(e,n,r)}function n3(t,e,n){return xt(t).beforeAuthStateChanged(e,n)}function r3(t,e,n,r){return xt(t).onAuthStateChanged(e,n,r)}function i3(t){return xt(t).signOut()}const up="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zb{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(up,"1"),this.storage.removeItem(up),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s3=1e3,o3=10;class Xb extends Zb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Gb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);T5()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,o3):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},s3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Xb.type="LOCAL";const eR=Xb;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tR extends Zb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}tR.type="SESSION";const nR=tR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a3(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class um{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new um(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async c=>c(n.origin,s)),l=await a3(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}um.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xw(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l3{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const c=Xw("",20);i.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(f){const h=f;if(h.data.eventId===c)switch(h.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(h.data.response);break;default:clearTimeout(d),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ii(){return window}function c3(t){ii().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rR(){return typeof ii().WorkerGlobalScope<"u"&&typeof ii().importScripts=="function"}async function u3(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function d3(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function h3(){return rR()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iR="firebaseLocalStorageDb",f3=1,dp="firebaseLocalStorage",sR="fbase_key";class ld{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function dm(t,e){return t.transaction([dp],e?"readwrite":"readonly").objectStore(dp)}function p3(){const t=indexedDB.deleteDatabase(iR);return new ld(t).toPromise()}function xv(){const t=indexedDB.open(iR,f3);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(dp,{keyPath:sR})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(dp)?e(r):(r.close(),await p3(),e(await xv()))})})}async function yT(t,e,n){const r=dm(t,!0).put({[sR]:e,value:n});return new ld(r).toPromise()}async function m3(t,e){const n=dm(t,!1).get(e),r=await new ld(n).toPromise();return r===void 0?null:r.value}function vT(t,e){const n=dm(t,!0).delete(e);return new ld(n).toPromise()}const g3=800,y3=3;class oR{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await xv(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>y3)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return rR()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=um._getInstance(h3()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await u3(),!this.activeServiceWorker)return;this.sender=new l3(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||d3()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await xv();return await yT(e,up,"1"),await vT(e,up),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>yT(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>m3(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>vT(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=dm(i,!1).getAll();return new ld(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),g3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}oR.type="LOCAL";const v3=oR;new sd(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w3(t,e){return e?Ri(e):(be(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eE extends Jw{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return rl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return rl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return rl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function E3(t){return Hb(t.auth,new eE(t),t.bypassAuthState)}function C3(t){const{auth:e,user:n}=t;return be(n,e,"internal-error"),H5(n,new eE(t),t.bypassAuthState)}async function T3(t){const{auth:e,user:n}=t;return be(n,e,"internal-error"),K5(n,new eE(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aR{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return E3;case"linkViaPopup":case"linkViaRedirect":return T3;case"reauthViaPopup":case"reauthViaRedirect":return C3;default:Vr(this.auth,"internal-error")}}resolve(e){Ui(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ui(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _3=new sd(2e3,1e4);class Wa extends aR{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Wa.currentPopupAction&&Wa.currentPopupAction.cancel(),Wa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return be(e,this.auth,"internal-error"),e}async onExecution(){Ui(this.filter.length===1,"Popup operations only handle one event");const e=Xw();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ri(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ri(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Wa.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ri(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,_3.get())};e()}}Wa.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A3="pendingRedirect",of=new Map;class x3 extends aR{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=of.get(this.auth._key());if(!e){try{const r=await I3(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}of.set(this.auth._key(),e)}return this.bypassAuthState||of.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function I3(t,e){const n=R3(e),r=b3(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function S3(t,e){of.set(t._key(),e)}function b3(t){return Ri(t._redirectPersistence)}function R3(t){return sf(A3,t.config.apiKey,t.name)}async function P3(t,e,n=!1){if(hr(t.app))return Promise.reject(Ni(t));const r=ia(t),i=w3(r,e),o=await new x3(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k3=10*60*1e3;class N3{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!D3(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!lR(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(ri(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=k3&&this.cachedEventUids.clear(),this.cachedEventUids.has(wT(e))}saveEventToCache(e){this.cachedEventUids.add(wT(e)),this.lastProcessedEventTime=Date.now()}}function wT(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function lR({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function D3(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return lR(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function M3(t,e={}){return lo(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O3=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,L3=/^https?/;async function V3(t){if(t.config.emulator)return;const{authorizedDomains:e}=await M3(t);for(const n of e)try{if(F3(n))return}catch{}Vr(t,"unauthorized-domain")}function F3(t){const e=Tv(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!L3.test(n))return!1;if(O3.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B3=new sd(3e4,6e4);function ET(){const t=ii().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function j3(t){return new Promise((e,n)=>{var r,i,s;function o(){ET(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{ET(),n(ri(t,"network-request-failed"))},timeout:B3.get()})}if(!((i=(r=ii().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=ii().gapi)===null||s===void 0)&&s.load)o();else{const a=k5("iframefcb");return ii()[a]=()=>{gapi.load?o():n(ri(t,"network-request-failed"))},$b(`${P5()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw af=null,e})}let af=null;function U3(t){return af=af||j3(t),af}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q3=new sd(5e3,15e3),G3="__/auth/iframe",z3="emulator/auth/iframe",$3={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},W3=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Q3(t){const e=t.config;be(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Yw(e,z3):`https://${t.config.authDomain}/${G3}`,r={apiKey:e.apiKey,appName:t.name,v:ql},i=W3.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Yu(r).slice(1)}`}async function Y3(t){const e=await U3(t),n=ii().gapi;return be(n,t,"internal-error"),e.open({where:document.body,url:Q3(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:$3,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=ri(t,"network-request-failed"),a=ii().setTimeout(()=>{s(o)},q3.get());function l(){ii().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K3={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},H3=500,J3=600,Z3="_blank",X3="http://localhost";class CT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function ej(t,e,n,r=H3,i=J3){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},K3),{width:r.toString(),height:i.toString(),top:s,left:o}),c=yn().toLowerCase();n&&(a=Fb(c)?Z3:n),Lb(c)&&(e=e||X3,l.scrollbars="yes");const d=Object.entries(l).reduce((h,[y,A])=>`${h}${y}=${A},`,"");if(C5(c)&&a!=="_self")return tj(e||"",a),new CT(null);const f=window.open(e||"",a,d);be(f,t,"popup-blocked");try{f.focus()}catch{}return new CT(f)}function tj(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nj="__/auth/handler",rj="emulator/auth/handler",ij=encodeURIComponent("fac");async function TT(t,e,n,r,i,s){be(t.config.authDomain,t,"auth-domain-config-required"),be(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ql,eventId:i};if(e instanceof Yb){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",bO(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,f]of Object.entries({}))o[d]=f}if(e instanceof ad){const d=e.getScopes().filter(f=>f!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await t._getAppCheckToken(),c=l?`#${ij}=${encodeURIComponent(l)}`:"";return`${sj(t)}?${Yu(a).slice(1)}${c}`}function sj({config:t}){return t.emulator?Yw(t,rj):`https://${t.authDomain}/${nj}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dg="webStorageSupport";class oj{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=nR,this._completeRedirectFn=P3,this._overrideRedirectResult=S3}async _openPopup(e,n,r,i){var s;Ui((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await TT(e,n,r,Tv(),i);return ej(e,o,Xw())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await TT(e,n,r,Tv(),i);return c3(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Ui(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await Y3(e),r=new N3(e);return n.register("authEvent",i=>(be(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Dg,{type:Dg},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Dg];o!==void 0&&n(!!o),Vr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=V3(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Gb()||Vb()||Hw()}}const aj=oj;var _T="@firebase/auth",AT="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lj{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){be(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cj(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function uj(t){Al(new Wo("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;be(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:zb(t)},c=new S5(r,i,s,l);return V5(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Al(new Wo("auth-internal",e=>{const n=ia(e.getProvider("auth").getImmediate());return(r=>new lj(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Fs(_T,AT,cj(t)),Fs(_T,AT,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dj=5*60,hj=LI("authIdTokenMaxAge")||dj;let xT=null;const fj=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>hj)return;const i=n==null?void 0:n.token;xT!==i&&(xT=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function pj(t=lw()){const e=aw(t,"auth");if(e.isInitialized())return e.getImmediate();const n=L5(t,{popupRedirectResolver:aj,persistence:[v3,eR,nR]}),r=LI("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=fj(s.toString());n3(n,o,()=>o(n.currentUser)),t3(n,a=>o(a))}}const i=MI("auth");return i&&F5(n,`http://${i}`),n}function mj(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}b5({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=ri("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",mj().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});uj("Browser");const gj={apiKey:"AIzaSyBS3_IVikDTZwStfJLSL2y_OvAIhFPQO3s",authDomain:"ape-shop-84c95.firebaseapp.com",projectId:"vape-shop-84c95",storageBucket:"vape-shop-84c95.appspot.com",messagingSenderId:"131179049959",appId:"1:131179049959:web:d31446fba53784c68a4342"},cR=PL().length?lw():UI(gj),xn=VB(cR),Mc=pj(cR);e3(Mc,eR).catch(t=>{console.error("Error setting auth persistence:",t)});function Ut(...t){return nO(EI(t))}const yj=g4,uR=T.forwardRef(({className:t,...e},n)=>m.jsx(fI,{ref:n,className:Ut("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));uR.displayName=fI.displayName;const vj=rw("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),dR=T.forwardRef(({className:t,variant:e,...n},r)=>m.jsx(pI,{ref:r,className:Ut(vj({variant:e}),t),...n}));dR.displayName=pI.displayName;const wj=T.forwardRef(({className:t,...e},n)=>m.jsx(yI,{ref:n,className:Ut("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));wj.displayName=yI.displayName;const hR=T.forwardRef(({className:t,...e},n)=>m.jsx(vI,{ref:n,className:Ut("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:m.jsx(xI,{className:"h-4 w-4"})}));hR.displayName=vI.displayName;const fR=T.forwardRef(({className:t,...e},n)=>m.jsx(mI,{ref:n,className:Ut("text-sm font-semibold",t),...e}));fR.displayName=mI.displayName;const pR=T.forwardRef(({className:t,...e},n)=>m.jsx(gI,{ref:n,className:Ut("text-sm opacity-90",t),...e}));pR.displayName=gI.displayName;function Ej(){const{toasts:t}=bM();return m.jsxs(yj,{children:[t.map(function({id:e,title:n,description:r,action:i,...s}){return m.jsxs(dR,{...s,children:[m.jsxs("div",{className:"grid gap-1",children:[n&&m.jsx(fR,{children:n}),r&&m.jsx(pR,{children:r})]}),i,m.jsx(hR,{})]},e)}),m.jsx(uR,{})]})}var IT=["light","dark"],Cj="(prefers-color-scheme: dark)",Tj=T.createContext(void 0),_j={setTheme:t=>{},themes:[]},Aj=()=>{var t;return(t=T.useContext(Tj))!=null?t:_j};T.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:i,defaultTheme:s,value:o,attrs:a,nonce:l})=>{let c=s==="system",d=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${a.map(A=>`'${A}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,f=i?IT.includes(s)&&s?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${s}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",h=(A,g=!1,I=!0)=>{let E=o?o[A]:A,v=g?A+"|| ''":`'${E}'`,_="";return i&&I&&!g&&IT.includes(A)&&(_+=`d.style.colorScheme = '${A}';`),n==="class"?g||E?_+=`c.add(${v})`:_+="null":E&&(_+=`d[s](n,${v})`),_},y=t?`!function(){${d}${h(t)}}()`:r?`!function(){try{${d}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${c})){var t='${Cj}',m=window.matchMedia(t);if(m.media!==t||m.matches){${h("dark")}}else{${h("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${h(o?"x[e]":"e",!0)}}${c?"":"else{"+h(s,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${e}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${h(o?"x[e]":"e",!0)}}else{${h(s,!1,!1)};}${f}}catch(t){}}();`;return T.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:y}})});var xj=t=>{switch(t){case"success":return bj;case"info":return Pj;case"warning":return Rj;case"error":return kj;default:return null}},Ij=Array(12).fill(0),Sj=({visible:t})=>Q.createElement("div",{className:"sonner-loading-wrapper","data-visible":t},Q.createElement("div",{className:"sonner-spinner"},Ij.map((e,n)=>Q.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),bj=Q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Q.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),Rj=Q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},Q.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),Pj=Q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Q.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),kj=Q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Q.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),Nj=()=>{let[t,e]=Q.useState(document.hidden);return Q.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},Iv=1,Dj=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;let{message:n,...r}=t,i=typeof(t==null?void 0:t.id)=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:Iv++,s=this.toasts.find(a=>a.id===i),o=t.dismissible===void 0?!0:t.dismissible;return s?this.toasts=this.toasts.map(a=>a.id===i?(this.publish({...a,...t,id:i,title:n}),{...a,...t,id:i,dismissible:o,title:n}):a):this.addToast({title:n,...r,dismissible:o,id:i}),i},this.dismiss=t=>(t||this.toasts.forEach(e=>{this.subscribers.forEach(n=>n({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:t,dismiss:!0})),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let n;e.loading!==void 0&&(n=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let r=t instanceof Promise?t:t(),i=n!==void 0;return r.then(async s=>{if(Oj(s)&&!s.ok){i=!1;let o=typeof e.error=="function"?await e.error(`HTTP error! status: ${s.status}`):e.error,a=typeof e.description=="function"?await e.description(`HTTP error! status: ${s.status}`):e.description;this.create({id:n,type:"error",message:o,description:a})}else if(e.success!==void 0){i=!1;let o=typeof e.success=="function"?await e.success(s):e.success,a=typeof e.description=="function"?await e.description(s):e.description;this.create({id:n,type:"success",message:o,description:a})}}).catch(async s=>{if(e.error!==void 0){i=!1;let o=typeof e.error=="function"?await e.error(s):e.error,a=typeof e.description=="function"?await e.description(s):e.description;this.create({id:n,type:"error",message:o,description:a})}}).finally(()=>{var s;i&&(this.dismiss(n),n=void 0),(s=e.finally)==null||s.call(e)}),n},this.custom=(t,e)=>{let n=(e==null?void 0:e.id)||Iv++;return this.create({jsx:t(n),id:n,...e}),n},this.subscribers=[],this.toasts=[]}},zn=new Dj,Mj=(t,e)=>{let n=(e==null?void 0:e.id)||Iv++;return zn.addToast({title:t,...e,id:n}),n},Oj=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",Lj=Mj,Vj=()=>zn.toasts;Object.assign(Lj,{success:zn.success,info:zn.info,warning:zn.warning,error:zn.error,custom:zn.custom,message:zn.message,promise:zn.promise,dismiss:zn.dismiss,loading:zn.loading},{getHistory:Vj});function Fj(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}Fj(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Sh(t){return t.label!==void 0}var Bj=3,jj="32px",Uj=4e3,qj=356,Gj=14,zj=20,$j=200;function Wj(...t){return t.filter(Boolean).join(" ")}var Qj=t=>{var e,n,r,i,s,o,a,l,c,d;let{invert:f,toast:h,unstyled:y,interacting:A,setHeights:g,visibleToasts:I,heights:E,index:v,toasts:_,expanded:R,removeToast:O,defaultRichColors:B,closeButton:b,style:S,cancelButtonStyle:k,actionButtonStyle:D,className:V="",descriptionClassName:F="",duration:M,position:ee,gap:ie,loadingIcon:re,expandByDefault:pe,classNames:G,icons:Z,closeButtonAriaLabel:ae="Close toast",pauseWhenPageIsHidden:se,cn:ue}=t,[he,Pe]=Q.useState(!1),[De,Te]=Q.useState(!1),[te,ge]=Q.useState(!1),[Ie,we]=Q.useState(!1),[Ae,Ee]=Q.useState(0),[de,ye]=Q.useState(0),ct=Q.useRef(null),rt=Q.useRef(null),bt=v===0,Ke=v+1<=I,ut=h.type,rn=h.dismissible!==!1,yr=h.className||"",ui=h.descriptionClassName||"",sr=Q.useMemo(()=>E.findIndex(xe=>xe.toastId===h.id)||0,[E,h.id]),di=Q.useMemo(()=>{var xe;return(xe=h.closeButton)!=null?xe:b},[h.closeButton,b]),po=Q.useMemo(()=>h.duration||M||Uj,[h.duration,M]),Ct=Q.useRef(0),dt=Q.useRef(0),hi=Q.useRef(0),vr=Q.useRef(null),[mo,Wi]=ee.split("-"),or=Q.useMemo(()=>E.reduce((xe,Ve,Qe)=>Qe>=sr?xe:xe+Ve.height,0),[E,sr]),wr=Nj(),Er=h.invert||f,vn=ut==="loading";dt.current=Q.useMemo(()=>sr*ie+or,[sr,or]),Q.useEffect(()=>{Pe(!0)},[]),Q.useLayoutEffect(()=>{if(!he)return;let xe=rt.current,Ve=xe.style.height;xe.style.height="auto";let Qe=xe.getBoundingClientRect().height;xe.style.height=Ve,ye(Qe),g(qt=>qt.find(sn=>sn.toastId===h.id)?qt.map(sn=>sn.toastId===h.id?{...sn,height:Qe}:sn):[{toastId:h.id,height:Qe,position:h.position},...qt])},[he,h.title,h.description,g,h.id]);let wn=Q.useCallback(()=>{Te(!0),Ee(dt.current),g(xe=>xe.filter(Ve=>Ve.toastId!==h.id)),setTimeout(()=>{O(h)},$j)},[h,O,g,dt]);Q.useEffect(()=>{if(h.promise&&ut==="loading"||h.duration===1/0||h.type==="loading")return;let xe,Ve=po;return R||A||se&&wr?(()=>{if(hi.current<Ct.current){let Qe=new Date().getTime()-Ct.current;Ve=Ve-Qe}hi.current=new Date().getTime()})():Ve!==1/0&&(Ct.current=new Date().getTime(),xe=setTimeout(()=>{var Qe;(Qe=h.onAutoClose)==null||Qe.call(h,h),wn()},Ve)),()=>clearTimeout(xe)},[R,A,pe,h,po,wn,h.promise,ut,se,wr]),Q.useEffect(()=>{let xe=rt.current;if(xe){let Ve=xe.getBoundingClientRect().height;return ye(Ve),g(Qe=>[{toastId:h.id,height:Ve,position:h.position},...Qe]),()=>g(Qe=>Qe.filter(qt=>qt.toastId!==h.id))}},[g,h.id]),Q.useEffect(()=>{h.delete&&wn()},[wn,h.delete]);function tc(){return Z!=null&&Z.loading?Q.createElement("div",{className:"sonner-loader","data-visible":ut==="loading"},Z.loading):re?Q.createElement("div",{className:"sonner-loader","data-visible":ut==="loading"},re):Q.createElement(Sj,{visible:ut==="loading"})}return Q.createElement("li",{"aria-live":h.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:rt,className:ue(V,yr,G==null?void 0:G.toast,(e=h==null?void 0:h.classNames)==null?void 0:e.toast,G==null?void 0:G.default,G==null?void 0:G[ut],(n=h==null?void 0:h.classNames)==null?void 0:n[ut]),"data-sonner-toast":"","data-rich-colors":(r=h.richColors)!=null?r:B,"data-styled":!(h.jsx||h.unstyled||y),"data-mounted":he,"data-promise":!!h.promise,"data-removed":De,"data-visible":Ke,"data-y-position":mo,"data-x-position":Wi,"data-index":v,"data-front":bt,"data-swiping":te,"data-dismissible":rn,"data-type":ut,"data-invert":Er,"data-swipe-out":Ie,"data-expanded":!!(R||pe&&he),style:{"--index":v,"--toasts-before":v,"--z-index":_.length-v,"--offset":`${De?Ae:dt.current}px`,"--initial-height":pe?"auto":`${de}px`,...S,...h.style},onPointerDown:xe=>{vn||!rn||(ct.current=new Date,Ee(dt.current),xe.target.setPointerCapture(xe.pointerId),xe.target.tagName!=="BUTTON"&&(ge(!0),vr.current={x:xe.clientX,y:xe.clientY}))},onPointerUp:()=>{var xe,Ve,Qe,qt;if(Ie||!rn)return;vr.current=null;let sn=Number(((xe=rt.current)==null?void 0:xe.style.getPropertyValue("--swipe-amount").replace("px",""))||0),Cr=new Date().getTime()-((Ve=ct.current)==null?void 0:Ve.getTime()),st=Math.abs(sn)/Cr;if(Math.abs(sn)>=zj||st>.11){Ee(dt.current),(Qe=h.onDismiss)==null||Qe.call(h,h),wn(),we(!0);return}(qt=rt.current)==null||qt.style.setProperty("--swipe-amount","0px"),ge(!1)},onPointerMove:xe=>{var Ve;if(!vr.current||!rn)return;let Qe=xe.clientY-vr.current.y,qt=xe.clientX-vr.current.x,sn=(mo==="top"?Math.min:Math.max)(0,Qe),Cr=xe.pointerType==="touch"?10:2;Math.abs(sn)>Cr?(Ve=rt.current)==null||Ve.style.setProperty("--swipe-amount",`${Qe}px`):Math.abs(qt)>Cr&&(vr.current=null)}},di&&!h.jsx?Q.createElement("button",{"aria-label":ae,"data-disabled":vn,"data-close-button":!0,onClick:vn||!rn?()=>{}:()=>{var xe;wn(),(xe=h.onDismiss)==null||xe.call(h,h)},className:ue(G==null?void 0:G.closeButton,(i=h==null?void 0:h.classNames)==null?void 0:i.closeButton)},Q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},Q.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Q.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,h.jsx||Q.isValidElement(h.title)?h.jsx||h.title:Q.createElement(Q.Fragment,null,ut||h.icon||h.promise?Q.createElement("div",{"data-icon":"",className:ue(G==null?void 0:G.icon,(s=h==null?void 0:h.classNames)==null?void 0:s.icon)},h.promise||h.type==="loading"&&!h.icon?h.icon||tc():null,h.type!=="loading"?h.icon||(Z==null?void 0:Z[ut])||xj(ut):null):null,Q.createElement("div",{"data-content":"",className:ue(G==null?void 0:G.content,(o=h==null?void 0:h.classNames)==null?void 0:o.content)},Q.createElement("div",{"data-title":"",className:ue(G==null?void 0:G.title,(a=h==null?void 0:h.classNames)==null?void 0:a.title)},h.title),h.description?Q.createElement("div",{"data-description":"",className:ue(F,ui,G==null?void 0:G.description,(l=h==null?void 0:h.classNames)==null?void 0:l.description)},h.description):null),Q.isValidElement(h.cancel)?h.cancel:h.cancel&&Sh(h.cancel)?Q.createElement("button",{"data-button":!0,"data-cancel":!0,style:h.cancelButtonStyle||k,onClick:xe=>{var Ve,Qe;Sh(h.cancel)&&rn&&((Qe=(Ve=h.cancel).onClick)==null||Qe.call(Ve,xe),wn())},className:ue(G==null?void 0:G.cancelButton,(c=h==null?void 0:h.classNames)==null?void 0:c.cancelButton)},h.cancel.label):null,Q.isValidElement(h.action)?h.action:h.action&&Sh(h.action)?Q.createElement("button",{"data-button":!0,"data-action":!0,style:h.actionButtonStyle||D,onClick:xe=>{var Ve,Qe;Sh(h.action)&&(xe.defaultPrevented||((Qe=(Ve=h.action).onClick)==null||Qe.call(Ve,xe),wn()))},className:ue(G==null?void 0:G.actionButton,(d=h==null?void 0:h.classNames)==null?void 0:d.actionButton)},h.action.label):null))};function ST(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}var Yj=t=>{let{invert:e,position:n="bottom-right",hotkey:r=["altKey","KeyT"],expand:i,closeButton:s,className:o,offset:a,theme:l="light",richColors:c,duration:d,style:f,visibleToasts:h=Bj,toastOptions:y,dir:A=ST(),gap:g=Gj,loadingIcon:I,icons:E,containerAriaLabel:v="Notifications",pauseWhenPageIsHidden:_,cn:R=Wj}=t,[O,B]=Q.useState([]),b=Q.useMemo(()=>Array.from(new Set([n].concat(O.filter(se=>se.position).map(se=>se.position)))),[O,n]),[S,k]=Q.useState([]),[D,V]=Q.useState(!1),[F,M]=Q.useState(!1),[ee,ie]=Q.useState(l!=="system"?l:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),re=Q.useRef(null),pe=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),G=Q.useRef(null),Z=Q.useRef(!1),ae=Q.useCallback(se=>{var ue;(ue=O.find(he=>he.id===se.id))!=null&&ue.delete||zn.dismiss(se.id),B(he=>he.filter(({id:Pe})=>Pe!==se.id))},[O]);return Q.useEffect(()=>zn.subscribe(se=>{if(se.dismiss){B(ue=>ue.map(he=>he.id===se.id?{...he,delete:!0}:he));return}setTimeout(()=>{$x.flushSync(()=>{B(ue=>{let he=ue.findIndex(Pe=>Pe.id===se.id);return he!==-1?[...ue.slice(0,he),{...ue[he],...se},...ue.slice(he+1)]:[se,...ue]})})})}),[]),Q.useEffect(()=>{if(l!=="system"){ie(l);return}l==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?ie("dark"):ie("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:se})=>{ie(se?"dark":"light")})},[l]),Q.useEffect(()=>{O.length<=1&&V(!1)},[O]),Q.useEffect(()=>{let se=ue=>{var he,Pe;r.every(De=>ue[De]||ue.code===De)&&(V(!0),(he=re.current)==null||he.focus()),ue.code==="Escape"&&(document.activeElement===re.current||(Pe=re.current)!=null&&Pe.contains(document.activeElement))&&V(!1)};return document.addEventListener("keydown",se),()=>document.removeEventListener("keydown",se)},[r]),Q.useEffect(()=>{if(re.current)return()=>{G.current&&(G.current.focus({preventScroll:!0}),G.current=null,Z.current=!1)}},[re.current]),O.length?Q.createElement("section",{"aria-label":`${v} ${pe}`,tabIndex:-1},b.map((se,ue)=>{var he;let[Pe,De]=se.split("-");return Q.createElement("ol",{key:se,dir:A==="auto"?ST():A,tabIndex:-1,ref:re,className:o,"data-sonner-toaster":!0,"data-theme":ee,"data-y-position":Pe,"data-x-position":De,style:{"--front-toast-height":`${((he=S[0])==null?void 0:he.height)||0}px`,"--offset":typeof a=="number"?`${a}px`:a||jj,"--width":`${qj}px`,"--gap":`${g}px`,...f},onBlur:Te=>{Z.current&&!Te.currentTarget.contains(Te.relatedTarget)&&(Z.current=!1,G.current&&(G.current.focus({preventScroll:!0}),G.current=null))},onFocus:Te=>{Te.target instanceof HTMLElement&&Te.target.dataset.dismissible==="false"||Z.current||(Z.current=!0,G.current=Te.relatedTarget)},onMouseEnter:()=>V(!0),onMouseMove:()=>V(!0),onMouseLeave:()=>{F||V(!1)},onPointerDown:Te=>{Te.target instanceof HTMLElement&&Te.target.dataset.dismissible==="false"||M(!0)},onPointerUp:()=>M(!1)},O.filter(Te=>!Te.position&&ue===0||Te.position===se).map((Te,te)=>{var ge,Ie;return Q.createElement(Qj,{key:Te.id,icons:E,index:te,toast:Te,defaultRichColors:c,duration:(ge=y==null?void 0:y.duration)!=null?ge:d,className:y==null?void 0:y.className,descriptionClassName:y==null?void 0:y.descriptionClassName,invert:e,visibleToasts:h,closeButton:(Ie=y==null?void 0:y.closeButton)!=null?Ie:s,interacting:F,position:se,style:y==null?void 0:y.style,unstyled:y==null?void 0:y.unstyled,classNames:y==null?void 0:y.classNames,cancelButtonStyle:y==null?void 0:y.cancelButtonStyle,actionButtonStyle:y==null?void 0:y.actionButtonStyle,removeToast:ae,toasts:O.filter(we=>we.position==Te.position),heights:S.filter(we=>we.position==Te.position),setHeights:k,expandByDefault:i,gap:g,loadingIcon:I,expanded:D,pauseWhenPageIsHidden:_,cn:R})}))})):null};const Kj=({...t})=>{const{theme:e="system"}=Aj();return m.jsx(Yj,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var Hj=q_.useId||(()=>{}),Jj=0;function tE(t){const[e,n]=T.useState(Hj());return gn(()=>{n(r=>r??String(Jj++))},[t]),e?`radix-${e}`:""}const Zj=["top","right","bottom","left"],Zs=Math.min,Wn=Math.max,hp=Math.round,bh=Math.floor,Xs=t=>({x:t,y:t}),Xj={left:"right",right:"left",bottom:"top",top:"bottom"},e6={start:"end",end:"start"};function Sv(t,e,n){return Wn(t,Zs(e,n))}function qi(t,e){return typeof t=="function"?t(e):t}function Gi(t){return t.split("-")[0]}function Hl(t){return t.split("-")[1]}function nE(t){return t==="x"?"y":"x"}function rE(t){return t==="y"?"height":"width"}function eo(t){return["top","bottom"].includes(Gi(t))?"y":"x"}function iE(t){return nE(eo(t))}function t6(t,e,n){n===void 0&&(n=!1);const r=Hl(t),i=iE(t),s=rE(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=fp(o)),[o,fp(o)]}function n6(t){const e=fp(t);return[bv(t),e,bv(e)]}function bv(t){return t.replace(/start|end/g,e=>e6[e])}function r6(t,e,n){const r=["left","right"],i=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:r:e?r:i;case"left":case"right":return e?s:o;default:return[]}}function i6(t,e,n,r){const i=Hl(t);let s=r6(Gi(t),n==="start",r);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map(bv)))),s}function fp(t){return t.replace(/left|right|bottom|top/g,e=>Xj[e])}function s6(t){return{top:0,right:0,bottom:0,left:0,...t}}function mR(t){return typeof t!="number"?s6(t):{top:t,right:t,bottom:t,left:t}}function pp(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function bT(t,e,n){let{reference:r,floating:i}=t;const s=eo(e),o=iE(e),a=rE(o),l=Gi(e),c=s==="y",d=r.x+r.width/2-i.width/2,f=r.y+r.height/2-i.height/2,h=r[a]/2-i[a]/2;let y;switch(l){case"top":y={x:d,y:r.y-i.height};break;case"bottom":y={x:d,y:r.y+r.height};break;case"right":y={x:r.x+r.width,y:f};break;case"left":y={x:r.x-i.width,y:f};break;default:y={x:r.x,y:r.y}}switch(Hl(e)){case"start":y[o]-=h*(n&&c?-1:1);break;case"end":y[o]+=h*(n&&c?-1:1);break}return y}const o6=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=n,a=s.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:d,y:f}=bT(c,r,l),h=r,y={},A=0;for(let g=0;g<a.length;g++){const{name:I,fn:E}=a[g],{x:v,y:_,data:R,reset:O}=await E({x:d,y:f,initialPlacement:r,placement:h,strategy:i,middlewareData:y,rects:c,platform:o,elements:{reference:t,floating:e}});d=v??d,f=_??f,y={...y,[I]:{...y[I],...R}},O&&A<=50&&(A++,typeof O=="object"&&(O.placement&&(h=O.placement),O.rects&&(c=O.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):O.rects),{x:d,y:f}=bT(c,h,l)),g=-1)}return{x:d,y:f,placement:h,strategy:i,middlewareData:y}};async function Nu(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:o,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:y=0}=qi(e,t),A=mR(y),I=a[h?f==="floating"?"reference":"floating":f],E=pp(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(I)))==null||n?I:I.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:c,rootBoundary:d,strategy:l})),v=f==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,_=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),R=await(s.isElement==null?void 0:s.isElement(_))?await(s.getScale==null?void 0:s.getScale(_))||{x:1,y:1}:{x:1,y:1},O=pp(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:v,offsetParent:_,strategy:l}):v);return{top:(E.top-O.top+A.top)/R.y,bottom:(O.bottom-E.bottom+A.bottom)/R.y,left:(E.left-O.left+A.left)/R.x,right:(O.right-E.right+A.right)/R.x}}const a6=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:s,platform:o,elements:a,middlewareData:l}=e,{element:c,padding:d=0}=qi(t,e)||{};if(c==null)return{};const f=mR(d),h={x:n,y:r},y=iE(i),A=rE(y),g=await o.getDimensions(c),I=y==="y",E=I?"top":"left",v=I?"bottom":"right",_=I?"clientHeight":"clientWidth",R=s.reference[A]+s.reference[y]-h[y]-s.floating[A],O=h[y]-s.reference[y],B=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let b=B?B[_]:0;(!b||!await(o.isElement==null?void 0:o.isElement(B)))&&(b=a.floating[_]||s.floating[A]);const S=R/2-O/2,k=b/2-g[A]/2-1,D=Zs(f[E],k),V=Zs(f[v],k),F=D,M=b-g[A]-V,ee=b/2-g[A]/2+S,ie=Sv(F,ee,M),re=!l.arrow&&Hl(i)!=null&&ee!==ie&&s.reference[A]/2-(ee<F?D:V)-g[A]/2<0,pe=re?ee<F?ee-F:ee-M:0;return{[y]:h[y]+pe,data:{[y]:ie,centerOffset:ee-ie-pe,...re&&{alignmentOffset:pe}},reset:re}}}),l6=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:y="bestFit",fallbackAxisSideDirection:A="none",flipAlignment:g=!0,...I}=qi(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const E=Gi(i),v=eo(a),_=Gi(a)===a,R=await(l.isRTL==null?void 0:l.isRTL(c.floating)),O=h||(_||!g?[fp(a)]:n6(a)),B=A!=="none";!h&&B&&O.push(...i6(a,g,A,R));const b=[a,...O],S=await Nu(e,I),k=[];let D=((r=s.flip)==null?void 0:r.overflows)||[];if(d&&k.push(S[E]),f){const ee=t6(i,o,R);k.push(S[ee[0]],S[ee[1]])}if(D=[...D,{placement:i,overflows:k}],!k.every(ee=>ee<=0)){var V,F;const ee=(((V=s.flip)==null?void 0:V.index)||0)+1,ie=b[ee];if(ie)return{data:{index:ee,overflows:D},reset:{placement:ie}};let re=(F=D.filter(pe=>pe.overflows[0]<=0).sort((pe,G)=>pe.overflows[1]-G.overflows[1])[0])==null?void 0:F.placement;if(!re)switch(y){case"bestFit":{var M;const pe=(M=D.filter(G=>{if(B){const Z=eo(G.placement);return Z===v||Z==="y"}return!0}).map(G=>[G.placement,G.overflows.filter(Z=>Z>0).reduce((Z,ae)=>Z+ae,0)]).sort((G,Z)=>G[1]-Z[1])[0])==null?void 0:M[0];pe&&(re=pe);break}case"initialPlacement":re=a;break}if(i!==re)return{reset:{placement:re}}}return{}}}};function RT(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function PT(t){return Zj.some(e=>t[e]>=0)}const c6=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=qi(t,e);switch(r){case"referenceHidden":{const s=await Nu(e,{...i,elementContext:"reference"}),o=RT(s,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:PT(o)}}}case"escaped":{const s=await Nu(e,{...i,altBoundary:!0}),o=RT(s,n.floating);return{data:{escapedOffsets:o,escaped:PT(o)}}}default:return{}}}}};async function u6(t,e){const{placement:n,platform:r,elements:i}=t,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=Gi(n),a=Hl(n),l=eo(n)==="y",c=["left","top"].includes(o)?-1:1,d=s&&l?-1:1,f=qi(e,t);let{mainAxis:h,crossAxis:y,alignmentAxis:A}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return a&&typeof A=="number"&&(y=a==="end"?A*-1:A),l?{x:y*d,y:h*c}:{x:h*c,y:y*d}}const d6=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:s,placement:o,middlewareData:a}=e,l=await u6(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:s+l.y,data:{...l,placement:o}}}}},h6=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:I=>{let{x:E,y:v}=I;return{x:E,y:v}}},...l}=qi(t,e),c={x:n,y:r},d=await Nu(e,l),f=eo(Gi(i)),h=nE(f);let y=c[h],A=c[f];if(s){const I=h==="y"?"top":"left",E=h==="y"?"bottom":"right",v=y+d[I],_=y-d[E];y=Sv(v,y,_)}if(o){const I=f==="y"?"top":"left",E=f==="y"?"bottom":"right",v=A+d[I],_=A-d[E];A=Sv(v,A,_)}const g=a.fn({...e,[h]:y,[f]:A});return{...g,data:{x:g.x-n,y:g.y-r,enabled:{[h]:s,[f]:o}}}}}},f6=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:s,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=qi(t,e),d={x:n,y:r},f=eo(i),h=nE(f);let y=d[h],A=d[f];const g=qi(a,e),I=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(l){const _=h==="y"?"height":"width",R=s.reference[h]-s.floating[_]+I.mainAxis,O=s.reference[h]+s.reference[_]-I.mainAxis;y<R?y=R:y>O&&(y=O)}if(c){var E,v;const _=h==="y"?"width":"height",R=["top","left"].includes(Gi(i)),O=s.reference[f]-s.floating[_]+(R&&((E=o.offset)==null?void 0:E[f])||0)+(R?0:I.crossAxis),B=s.reference[f]+s.reference[_]+(R?0:((v=o.offset)==null?void 0:v[f])||0)-(R?I.crossAxis:0);A<O?A=O:A>B&&(A=B)}return{[h]:y,[f]:A}}}},p6=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:s,platform:o,elements:a}=e,{apply:l=()=>{},...c}=qi(t,e),d=await Nu(e,c),f=Gi(i),h=Hl(i),y=eo(i)==="y",{width:A,height:g}=s.floating;let I,E;f==="top"||f==="bottom"?(I=f,E=h===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(E=f,I=h==="end"?"top":"bottom");const v=g-d.top-d.bottom,_=A-d.left-d.right,R=Zs(g-d[I],v),O=Zs(A-d[E],_),B=!e.middlewareData.shift;let b=R,S=O;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(S=_),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(b=v),B&&!h){const D=Wn(d.left,0),V=Wn(d.right,0),F=Wn(d.top,0),M=Wn(d.bottom,0);y?S=A-2*(D!==0||V!==0?D+V:Wn(d.left,d.right)):b=g-2*(F!==0||M!==0?F+M:Wn(d.top,d.bottom))}await l({...e,availableWidth:S,availableHeight:b});const k=await o.getDimensions(a.floating);return A!==k.width||g!==k.height?{reset:{rects:!0}}:{}}}};function hm(){return typeof window<"u"}function Jl(t){return gR(t)?(t.nodeName||"").toLowerCase():"#document"}function Zn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function li(t){var e;return(e=(gR(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function gR(t){return hm()?t instanceof Node||t instanceof Zn(t).Node:!1}function Fr(t){return hm()?t instanceof Element||t instanceof Zn(t).Element:!1}function oi(t){return hm()?t instanceof HTMLElement||t instanceof Zn(t).HTMLElement:!1}function kT(t){return!hm()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Zn(t).ShadowRoot}function cd(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=Br(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function m6(t){return["table","td","th"].includes(Jl(t))}function fm(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function sE(t){const e=oE(),n=Fr(t)?Br(t):t;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function g6(t){let e=to(t);for(;oi(e)&&!Pl(e);){if(sE(e))return e;if(fm(e))return null;e=to(e)}return null}function oE(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Pl(t){return["html","body","#document"].includes(Jl(t))}function Br(t){return Zn(t).getComputedStyle(t)}function pm(t){return Fr(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function to(t){if(Jl(t)==="html")return t;const e=t.assignedSlot||t.parentNode||kT(t)&&t.host||li(t);return kT(e)?e.host:e}function yR(t){const e=to(t);return Pl(e)?t.ownerDocument?t.ownerDocument.body:t.body:oi(e)&&cd(e)?e:yR(e)}function Du(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=yR(t),s=i===((r=t.ownerDocument)==null?void 0:r.body),o=Zn(i);if(s){const a=Rv(o);return e.concat(o,o.visualViewport||[],cd(i)?i:[],a&&n?Du(a):[])}return e.concat(i,Du(i,[],n))}function Rv(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function vR(t){const e=Br(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=oi(t),s=i?t.offsetWidth:n,o=i?t.offsetHeight:r,a=hp(n)!==s||hp(r)!==o;return a&&(n=s,r=o),{width:n,height:r,$:a}}function aE(t){return Fr(t)?t:t.contextElement}function il(t){const e=aE(t);if(!oi(e))return Xs(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:s}=vR(e);let o=(s?hp(n.width):n.width)/r,a=(s?hp(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const y6=Xs(0);function wR(t){const e=Zn(t);return!oE()||!e.visualViewport?y6:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function v6(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Zn(t)?!1:e}function Jo(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),s=aE(t);let o=Xs(1);e&&(r?Fr(r)&&(o=il(r)):o=il(t));const a=v6(s,n,r)?wR(s):Xs(0);let l=(i.left+a.x)/o.x,c=(i.top+a.y)/o.y,d=i.width/o.x,f=i.height/o.y;if(s){const h=Zn(s),y=r&&Fr(r)?Zn(r):r;let A=h,g=Rv(A);for(;g&&r&&y!==A;){const I=il(g),E=g.getBoundingClientRect(),v=Br(g),_=E.left+(g.clientLeft+parseFloat(v.paddingLeft))*I.x,R=E.top+(g.clientTop+parseFloat(v.paddingTop))*I.y;l*=I.x,c*=I.y,d*=I.x,f*=I.y,l+=_,c+=R,A=Zn(g),g=Rv(A)}}return pp({width:d,height:f,x:l,y:c})}function w6(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const s=i==="fixed",o=li(r),a=e?fm(e.floating):!1;if(r===o||a&&s)return n;let l={scrollLeft:0,scrollTop:0},c=Xs(1);const d=Xs(0),f=oi(r);if((f||!f&&!s)&&((Jl(r)!=="body"||cd(o))&&(l=pm(r)),oi(r))){const h=Jo(r);c=il(r),d.x=h.x+r.clientLeft,d.y=h.y+r.clientTop}return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+d.x,y:n.y*c.y-l.scrollTop*c.y+d.y}}function E6(t){return Array.from(t.getClientRects())}function Pv(t,e){const n=pm(t).scrollLeft;return e?e.left+n:Jo(li(t)).left+n}function C6(t){const e=li(t),n=pm(t),r=t.ownerDocument.body,i=Wn(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=Wn(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+Pv(t);const a=-n.scrollTop;return Br(r).direction==="rtl"&&(o+=Wn(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:a}}function T6(t,e){const n=Zn(t),r=li(t),i=n.visualViewport;let s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;const c=oE();(!c||c&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a,y:l}}function _6(t,e){const n=Jo(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,s=oi(t)?il(t):Xs(1),o=t.clientWidth*s.x,a=t.clientHeight*s.y,l=i*s.x,c=r*s.y;return{width:o,height:a,x:l,y:c}}function NT(t,e,n){let r;if(e==="viewport")r=T6(t,n);else if(e==="document")r=C6(li(t));else if(Fr(e))r=_6(e,n);else{const i=wR(t);r={...e,x:e.x-i.x,y:e.y-i.y}}return pp(r)}function ER(t,e){const n=to(t);return n===e||!Fr(n)||Pl(n)?!1:Br(n).position==="fixed"||ER(n,e)}function A6(t,e){const n=e.get(t);if(n)return n;let r=Du(t,[],!1).filter(a=>Fr(a)&&Jl(a)!=="body"),i=null;const s=Br(t).position==="fixed";let o=s?to(t):t;for(;Fr(o)&&!Pl(o);){const a=Br(o),l=sE(o);!l&&a.position==="fixed"&&(i=null),(s?!l&&!i:!l&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||cd(o)&&!l&&ER(t,o))?r=r.filter(d=>d!==o):i=a,o=to(o)}return e.set(t,r),r}function x6(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const o=[...n==="clippingAncestors"?fm(e)?[]:A6(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((c,d)=>{const f=NT(e,d,i);return c.top=Wn(f.top,c.top),c.right=Zs(f.right,c.right),c.bottom=Zs(f.bottom,c.bottom),c.left=Wn(f.left,c.left),c},NT(e,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function I6(t){const{width:e,height:n}=vR(t);return{width:e,height:n}}function S6(t,e,n){const r=oi(e),i=li(e),s=n==="fixed",o=Jo(t,!0,s,e);let a={scrollLeft:0,scrollTop:0};const l=Xs(0);if(r||!r&&!s)if((Jl(e)!=="body"||cd(i))&&(a=pm(e)),r){const y=Jo(e,!0,s,e);l.x=y.x+e.clientLeft,l.y=y.y+e.clientTop}else i&&(l.x=Pv(i));let c=0,d=0;if(i&&!r&&!s){const y=i.getBoundingClientRect();d=y.top+a.scrollTop,c=y.left+a.scrollLeft-Pv(i,y)}const f=o.left+a.scrollLeft-l.x-c,h=o.top+a.scrollTop-l.y-d;return{x:f,y:h,width:o.width,height:o.height}}function Mg(t){return Br(t).position==="static"}function DT(t,e){if(!oi(t)||Br(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return li(t)===n&&(n=n.ownerDocument.body),n}function CR(t,e){const n=Zn(t);if(fm(t))return n;if(!oi(t)){let i=to(t);for(;i&&!Pl(i);){if(Fr(i)&&!Mg(i))return i;i=to(i)}return n}let r=DT(t,e);for(;r&&m6(r)&&Mg(r);)r=DT(r,e);return r&&Pl(r)&&Mg(r)&&!sE(r)?n:r||g6(t)||n}const b6=async function(t){const e=this.getOffsetParent||CR,n=this.getDimensions,r=await n(t.floating);return{reference:S6(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function R6(t){return Br(t).direction==="rtl"}const P6={convertOffsetParentRelativeRectToViewportRelativeRect:w6,getDocumentElement:li,getClippingRect:x6,getOffsetParent:CR,getElementRects:b6,getClientRects:E6,getDimensions:I6,getScale:il,isElement:Fr,isRTL:R6};function k6(t,e){let n=null,r;const i=li(t);function s(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const{left:c,top:d,width:f,height:h}=t.getBoundingClientRect();if(a||e(),!f||!h)return;const y=bh(d),A=bh(i.clientWidth-(c+f)),g=bh(i.clientHeight-(d+h)),I=bh(c),v={rootMargin:-y+"px "+-A+"px "+-g+"px "+-I+"px",threshold:Wn(0,Zs(1,l))||1};let _=!0;function R(O){const B=O[0].intersectionRatio;if(B!==l){if(!_)return o();B?o(!1,B):r=setTimeout(()=>{o(!1,1e-7)},1e3)}_=!1}try{n=new IntersectionObserver(R,{...v,root:i.ownerDocument})}catch{n=new IntersectionObserver(R,v)}n.observe(t)}return o(!0),s}function N6(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=aE(t),d=i||s?[...c?Du(c):[],...Du(e)]:[];d.forEach(E=>{i&&E.addEventListener("scroll",n,{passive:!0}),s&&E.addEventListener("resize",n)});const f=c&&a?k6(c,n):null;let h=-1,y=null;o&&(y=new ResizeObserver(E=>{let[v]=E;v&&v.target===c&&y&&(y.unobserve(e),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var _;(_=y)==null||_.observe(e)})),n()}),c&&!l&&y.observe(c),y.observe(e));let A,g=l?Jo(t):null;l&&I();function I(){const E=Jo(t);g&&(E.x!==g.x||E.y!==g.y||E.width!==g.width||E.height!==g.height)&&n(),g=E,A=requestAnimationFrame(I)}return n(),()=>{var E;d.forEach(v=>{i&&v.removeEventListener("scroll",n),s&&v.removeEventListener("resize",n)}),f==null||f(),(E=y)==null||E.disconnect(),y=null,l&&cancelAnimationFrame(A)}}const D6=d6,M6=h6,O6=l6,L6=p6,V6=c6,MT=a6,F6=f6,B6=(t,e,n)=>{const r=new Map,i={platform:P6,...n},s={...i.platform,_c:r};return o6(t,e,{...i,platform:s})};var lf=typeof document<"u"?T.useLayoutEffect:T.useEffect;function mp(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!mp(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&t.$$typeof)&&!mp(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function TR(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function OT(t,e){const n=TR(t);return Math.round(e*n)/n}function Og(t){const e=T.useRef(t);return lf(()=>{e.current=t}),e}function j6(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=t,[d,f]=T.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[h,y]=T.useState(r);mp(h,r)||y(r);const[A,g]=T.useState(null),[I,E]=T.useState(null),v=T.useCallback(G=>{G!==B.current&&(B.current=G,g(G))},[]),_=T.useCallback(G=>{G!==b.current&&(b.current=G,E(G))},[]),R=s||A,O=o||I,B=T.useRef(null),b=T.useRef(null),S=T.useRef(d),k=l!=null,D=Og(l),V=Og(i),F=Og(c),M=T.useCallback(()=>{if(!B.current||!b.current)return;const G={placement:e,strategy:n,middleware:h};V.current&&(G.platform=V.current),B6(B.current,b.current,G).then(Z=>{const ae={...Z,isPositioned:F.current!==!1};ee.current&&!mp(S.current,ae)&&(S.current=ae,ta.flushSync(()=>{f(ae)}))})},[h,e,n,V,F]);lf(()=>{c===!1&&S.current.isPositioned&&(S.current.isPositioned=!1,f(G=>({...G,isPositioned:!1})))},[c]);const ee=T.useRef(!1);lf(()=>(ee.current=!0,()=>{ee.current=!1}),[]),lf(()=>{if(R&&(B.current=R),O&&(b.current=O),R&&O){if(D.current)return D.current(R,O,M);M()}},[R,O,M,D,k]);const ie=T.useMemo(()=>({reference:B,floating:b,setReference:v,setFloating:_}),[v,_]),re=T.useMemo(()=>({reference:R,floating:O}),[R,O]),pe=T.useMemo(()=>{const G={position:n,left:0,top:0};if(!re.floating)return G;const Z=OT(re.floating,d.x),ae=OT(re.floating,d.y);return a?{...G,transform:"translate("+Z+"px, "+ae+"px)",...TR(re.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:Z,top:ae}},[n,a,re.floating,d.x,d.y]);return T.useMemo(()=>({...d,update:M,refs:ie,elements:re,floatingStyles:pe}),[d,M,ie,re,pe])}const U6=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?MT({element:r.current,padding:i}).fn(n):{}:r?MT({element:r,padding:i}).fn(n):{}}}},q6=(t,e)=>({...D6(t),options:[t,e]}),G6=(t,e)=>({...M6(t),options:[t,e]}),z6=(t,e)=>({...F6(t),options:[t,e]}),$6=(t,e)=>({...O6(t),options:[t,e]}),W6=(t,e)=>({...L6(t),options:[t,e]}),Q6=(t,e)=>({...V6(t),options:[t,e]}),Y6=(t,e)=>({...U6(t),options:[t,e]});var K6="Arrow",_R=T.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...s}=t;return m.jsx(nt.svg,{...s,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:m.jsx("polygon",{points:"0,0 30,0 15,10"})})});_R.displayName=K6;var H6=_R;function J6(t,e=[]){let n=[];function r(s,o){const a=T.createContext(o),l=n.length;n=[...n,o];function c(f){const{scope:h,children:y,...A}=f,g=(h==null?void 0:h[t][l])||a,I=T.useMemo(()=>A,Object.values(A));return m.jsx(g.Provider,{value:I,children:y})}function d(f,h){const y=(h==null?void 0:h[t][l])||a,A=T.useContext(y);if(A)return A;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${s}\``)}return c.displayName=s+"Provider",[c,d]}const i=()=>{const s=n.map(o=>T.createContext(o));return function(a){const l=(a==null?void 0:a[t])||s;return T.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return i.scopeName=t,[r,Z6(i,...e)]}function Z6(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const f=l(s)[`__scope${c}`];return{...a,...f}},{});return T.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function X6(t){const[e,n]=T.useState(void 0);return gn(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let o,a;if("borderBoxSize"in s){const l=s.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,a=c.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var lE="Popper",[AR,mm]=J6(lE),[eU,xR]=AR(lE),IR=t=>{const{__scopePopper:e,children:n}=t,[r,i]=T.useState(null);return m.jsx(eU,{scope:e,anchor:r,onAnchorChange:i,children:n})};IR.displayName=lE;var SR="PopperAnchor",bR=T.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,s=xR(SR,n),o=T.useRef(null),a=At(e,o);return T.useEffect(()=>{s.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:m.jsx(nt.div,{...i,ref:a})});bR.displayName=SR;var cE="PopperContent",[tU,nU]=AR(cE),RR=T.forwardRef((t,e)=>{var te,ge,Ie,we,Ae,Ee;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:s="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:y="optimized",onPlaced:A,...g}=t,I=xR(cE,n),[E,v]=T.useState(null),_=At(e,de=>v(de)),[R,O]=T.useState(null),B=X6(R),b=(B==null?void 0:B.width)??0,S=(B==null?void 0:B.height)??0,k=r+(s!=="center"?"-"+s:""),D=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},V=Array.isArray(c)?c:[c],F=V.length>0,M={padding:D,boundary:V.filter(iU),altBoundary:F},{refs:ee,floatingStyles:ie,placement:re,isPositioned:pe,middlewareData:G}=j6({strategy:"fixed",placement:k,whileElementsMounted:(...de)=>N6(...de,{animationFrame:y==="always"}),elements:{reference:I.anchor},middleware:[q6({mainAxis:i+S,alignmentAxis:o}),l&&G6({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?z6():void 0,...M}),l&&$6({...M}),W6({...M,apply:({elements:de,rects:ye,availableWidth:ct,availableHeight:rt})=>{const{width:bt,height:Ke}=ye.reference,ut=de.floating.style;ut.setProperty("--radix-popper-available-width",`${ct}px`),ut.setProperty("--radix-popper-available-height",`${rt}px`),ut.setProperty("--radix-popper-anchor-width",`${bt}px`),ut.setProperty("--radix-popper-anchor-height",`${Ke}px`)}}),R&&Y6({element:R,padding:a}),sU({arrowWidth:b,arrowHeight:S}),h&&Q6({strategy:"referenceHidden",...M})]}),[Z,ae]=NR(re),se=er(A);gn(()=>{pe&&(se==null||se())},[pe,se]);const ue=(te=G.arrow)==null?void 0:te.x,he=(ge=G.arrow)==null?void 0:ge.y,Pe=((Ie=G.arrow)==null?void 0:Ie.centerOffset)!==0,[De,Te]=T.useState();return gn(()=>{E&&Te(window.getComputedStyle(E).zIndex)},[E]),m.jsx("div",{ref:ee.setFloating,"data-radix-popper-content-wrapper":"",style:{...ie,transform:pe?ie.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:De,"--radix-popper-transform-origin":[(we=G.transformOrigin)==null?void 0:we.x,(Ae=G.transformOrigin)==null?void 0:Ae.y].join(" "),...((Ee=G.hide)==null?void 0:Ee.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:m.jsx(tU,{scope:n,placedSide:Z,onArrowChange:O,arrowX:ue,arrowY:he,shouldHideArrow:Pe,children:m.jsx(nt.div,{"data-side":Z,"data-align":ae,...g,ref:_,style:{...g.style,animation:pe?void 0:"none"}})})})});RR.displayName=cE;var PR="PopperArrow",rU={top:"bottom",right:"left",bottom:"top",left:"right"},kR=T.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,s=nU(PR,r),o=rU[s.placedSide];return m.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:m.jsx(H6,{...i,ref:n,style:{...i.style,display:"block"}})})});kR.displayName=PR;function iU(t){return t!==null}var sU=t=>({name:"transformOrigin",options:t,fn(e){var I,E,v;const{placement:n,rects:r,middlewareData:i}=e,o=((I=i.arrow)==null?void 0:I.centerOffset)!==0,a=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[c,d]=NR(n),f={start:"0%",center:"50%",end:"100%"}[d],h=(((E=i.arrow)==null?void 0:E.x)??0)+a/2,y=(((v=i.arrow)==null?void 0:v.y)??0)+l/2;let A="",g="";return c==="bottom"?(A=o?f:`${h}px`,g=`${-l}px`):c==="top"?(A=o?f:`${h}px`,g=`${r.floating.height+l}px`):c==="right"?(A=`${-l}px`,g=o?f:`${y}px`):c==="left"&&(A=`${r.floating.width+l}px`,g=o?f:`${y}px`),{data:{x:A,y:g}}}});function NR(t){const[e,n="center"]=t.split("-");return[e,n]}var oU=IR,DR=bR,MR=RR,OR=kR,[gm,W7]=J0("Tooltip",[mm]),uE=mm(),LR="TooltipProvider",aU=700,LT="tooltip.open",[lU,VR]=gm(LR),FR=t=>{const{__scopeTooltip:e,delayDuration:n=aU,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:s}=t,[o,a]=T.useState(!0),l=T.useRef(!1),c=T.useRef(0);return T.useEffect(()=>{const d=c.current;return()=>window.clearTimeout(d)},[]),m.jsx(lU,{scope:e,isOpenDelayed:o,delayDuration:n,onOpen:T.useCallback(()=>{window.clearTimeout(c.current),a(!1)},[]),onClose:T.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>a(!0),r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:T.useCallback(d=>{l.current=d},[]),disableHoverableContent:i,children:s})};FR.displayName=LR;var BR="Tooltip",[Q7,ym]=gm(BR),kv="TooltipTrigger",cU=T.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=ym(kv,n),s=VR(kv,n),o=uE(n),a=T.useRef(null),l=At(e,a,i.onTriggerChange),c=T.useRef(!1),d=T.useRef(!1),f=T.useCallback(()=>c.current=!1,[]);return T.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),m.jsx(DR,{asChild:!0,...o,children:m.jsx(nt.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:l,onPointerMove:Be(t.onPointerMove,h=>{h.pointerType!=="touch"&&!d.current&&!s.isPointerInTransitRef.current&&(i.onTriggerEnter(),d.current=!0)}),onPointerLeave:Be(t.onPointerLeave,()=>{i.onTriggerLeave(),d.current=!1}),onPointerDown:Be(t.onPointerDown,()=>{c.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:Be(t.onFocus,()=>{c.current||i.onOpen()}),onBlur:Be(t.onBlur,i.onClose),onClick:Be(t.onClick,i.onClose)})})});cU.displayName=kv;var uU="TooltipPortal",[Y7,dU]=gm(uU,{forceMount:void 0}),kl="TooltipContent",jR=T.forwardRef((t,e)=>{const n=dU(kl,t.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...s}=t,o=ym(kl,t.__scopeTooltip);return m.jsx(X0,{present:r||o.open,children:o.disableHoverableContent?m.jsx(UR,{side:i,...s,ref:e}):m.jsx(hU,{side:i,...s,ref:e})})}),hU=T.forwardRef((t,e)=>{const n=ym(kl,t.__scopeTooltip),r=VR(kl,t.__scopeTooltip),i=T.useRef(null),s=At(e,i),[o,a]=T.useState(null),{trigger:l,onClose:c}=n,d=i.current,{onPointerInTransitChange:f}=r,h=T.useCallback(()=>{a(null),f(!1)},[f]),y=T.useCallback((A,g)=>{const I=A.currentTarget,E={x:A.clientX,y:A.clientY},v=gU(E,I.getBoundingClientRect()),_=yU(E,v),R=vU(g.getBoundingClientRect()),O=EU([..._,...R]);a(O),f(!0)},[f]);return T.useEffect(()=>()=>h(),[h]),T.useEffect(()=>{if(l&&d){const A=I=>y(I,d),g=I=>y(I,l);return l.addEventListener("pointerleave",A),d.addEventListener("pointerleave",g),()=>{l.removeEventListener("pointerleave",A),d.removeEventListener("pointerleave",g)}}},[l,d,y,h]),T.useEffect(()=>{if(o){const A=g=>{const I=g.target,E={x:g.clientX,y:g.clientY},v=(l==null?void 0:l.contains(I))||(d==null?void 0:d.contains(I)),_=!wU(E,o);v?h():_&&(h(),c())};return document.addEventListener("pointermove",A),()=>document.removeEventListener("pointermove",A)}},[l,d,o,c,h]),m.jsx(UR,{...t,ref:s})}),[fU,pU]=gm(BR,{isInside:!1}),UR=T.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:s,onPointerDownOutside:o,...a}=t,l=ym(kl,n),c=uE(n),{onClose:d}=l;return T.useEffect(()=>(document.addEventListener(LT,d),()=>document.removeEventListener(LT,d)),[d]),T.useEffect(()=>{if(l.trigger){const f=h=>{const y=h.target;y!=null&&y.contains(l.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[l.trigger,d]),m.jsx(Bp,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:m.jsxs(MR,{"data-state":l.stateAttribute,...c,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[m.jsx(Yx,{children:r}),m.jsx(fU,{scope:n,isInside:!0,children:m.jsx(ZM,{id:l.contentId,role:"tooltip",children:i||r})})]})})});jR.displayName=kl;var qR="TooltipArrow",mU=T.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=uE(n);return pU(qR,n).isInside?null:m.jsx(OR,{...i,...r,ref:e})});mU.displayName=qR;function gU(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),s=Math.abs(e.left-t.x);switch(Math.min(n,r,i,s)){case s:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function yU(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function vU(t){const{top:e,right:n,bottom:r,left:i}=t;return[{x:i,y:e},{x:n,y:e},{x:n,y:r},{x:i,y:r}]}function wU(t,e){const{x:n,y:r}=t;let i=!1;for(let s=0,o=e.length-1;s<e.length;o=s++){const a=e[s].x,l=e[s].y,c=e[o].x,d=e[o].y;l>r!=d>r&&n<(c-a)*(r-l)/(d-l)+a&&(i=!i)}return i}function EU(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),CU(e)}function CU(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const i=t[r];for(;e.length>=2;){const s=e[e.length-1],o=e[e.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))e.pop();else break}e.push(i)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const i=t[r];for(;n.length>=2;){const s=n[n.length-1],o=n[n.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))n.pop();else break}n.push(i)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var TU=FR,GR=jR;const _U=TU,AU=T.forwardRef(({className:t,sideOffset:e=4,...n},r)=>m.jsx(GR,{ref:r,sideOffset:e,className:Ut("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));AU.displayName=GR.displayName;var vm=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},wm=typeof window>"u"||"Deno"in globalThis;function br(){}function xU(t,e){return typeof t=="function"?t(e):t}function IU(t){return typeof t=="number"&&t>=0&&t!==1/0}function SU(t,e){return Math.max(t+(e||0)-Date.now(),0)}function VT(t,e){return typeof t=="function"?t(e):t}function bU(t,e){return typeof t=="function"?t(e):t}function FT(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:s,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==dE(o,e.options))return!1}else if(!Ou(e.queryKey,o))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||i&&i!==e.state.fetchStatus||s&&!s(e))}function BT(t,e){const{exact:n,status:r,predicate:i,mutationKey:s}=t;if(s){if(!e.options.mutationKey)return!1;if(n){if(Mu(e.options.mutationKey)!==Mu(s))return!1}else if(!Ou(e.options.mutationKey,s))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function dE(t,e){return((e==null?void 0:e.queryKeyHashFn)||Mu)(t)}function Mu(t){return JSON.stringify(t,(e,n)=>Nv(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function Ou(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!Ou(t[n],e[n])):!1}function zR(t,e){if(t===e)return t;const n=jT(t)&&jT(e);if(n||Nv(t)&&Nv(e)){const r=n?t:Object.keys(t),i=r.length,s=n?e:Object.keys(e),o=s.length,a=n?[]:{};let l=0;for(let c=0;c<o;c++){const d=n?c:s[c];(!n&&r.includes(d)||n)&&t[d]===void 0&&e[d]===void 0?(a[d]=void 0,l++):(a[d]=zR(t[d],e[d]),a[d]===t[d]&&t[d]!==void 0&&l++)}return i===o&&l===i?t:a}return e}function jT(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Nv(t){if(!UT(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!UT(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function UT(t){return Object.prototype.toString.call(t)==="[object Object]"}function RU(t){return new Promise(e=>{setTimeout(e,t)})}function PU(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?zR(t,e):e}function kU(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function NU(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var hE=Symbol();function $R(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===hE?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var No,vs,al,__,DU=(__=class extends vm{constructor(){super();He(this,No);He(this,vs);He(this,al);Ne(this,al,e=>{if(!wm&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){J(this,vs)||this.setEventListener(J(this,al))}onUnsubscribe(){var e;this.hasListeners()||((e=J(this,vs))==null||e.call(this),Ne(this,vs,void 0))}setEventListener(e){var n;Ne(this,al,e),(n=J(this,vs))==null||n.call(this),Ne(this,vs,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){J(this,No)!==e&&(Ne(this,No,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof J(this,No)=="boolean"?J(this,No):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},No=new WeakMap,vs=new WeakMap,al=new WeakMap,__),WR=new DU,ll,ws,cl,A_,MU=(A_=class extends vm{constructor(){super();He(this,ll,!0);He(this,ws);He(this,cl);Ne(this,cl,e=>{if(!wm&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){J(this,ws)||this.setEventListener(J(this,cl))}onUnsubscribe(){var e;this.hasListeners()||((e=J(this,ws))==null||e.call(this),Ne(this,ws,void 0))}setEventListener(e){var n;Ne(this,cl,e),(n=J(this,ws))==null||n.call(this),Ne(this,ws,e(this.setOnline.bind(this)))}setOnline(e){J(this,ll)!==e&&(Ne(this,ll,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return J(this,ll)}},ll=new WeakMap,ws=new WeakMap,cl=new WeakMap,A_),gp=new MU;function OU(){let t,e;const n=new Promise((i,s)=>{t=i,e=s});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),t(i)},n.reject=i=>{r({status:"rejected",reason:i}),e(i)},n}function LU(t){return Math.min(1e3*2**t,3e4)}function QR(t){return(t??"online")==="online"?gp.isOnline():!0}var YR=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function Lg(t){return t instanceof YR}function KR(t){let e=!1,n=0,r=!1,i;const s=OU(),o=g=>{var I;r||(h(new YR(g)),(I=t.abort)==null||I.call(t))},a=()=>{e=!0},l=()=>{e=!1},c=()=>WR.isFocused()&&(t.networkMode==="always"||gp.isOnline())&&t.canRun(),d=()=>QR(t.networkMode)&&t.canRun(),f=g=>{var I;r||(r=!0,(I=t.onSuccess)==null||I.call(t,g),i==null||i(),s.resolve(g))},h=g=>{var I;r||(r=!0,(I=t.onError)==null||I.call(t,g),i==null||i(),s.reject(g))},y=()=>new Promise(g=>{var I;i=E=>{(r||c())&&g(E)},(I=t.onPause)==null||I.call(t)}).then(()=>{var g;i=void 0,r||(g=t.onContinue)==null||g.call(t)}),A=()=>{if(r)return;let g;const I=n===0?t.initialPromise:void 0;try{g=I??t.fn()}catch(E){g=Promise.reject(E)}Promise.resolve(g).then(f).catch(E=>{var B;if(r)return;const v=t.retry??(wm?0:3),_=t.retryDelay??LU,R=typeof _=="function"?_(n,E):_,O=v===!0||typeof v=="number"&&n<v||typeof v=="function"&&v(n,E);if(e||!O){h(E);return}n++,(B=t.onFail)==null||B.call(t,n,E),RU(R).then(()=>c()?void 0:y()).then(()=>{e?h(E):A()})})};return{promise:s,cancel:o,continue:()=>(i==null||i(),s),cancelRetry:a,continueRetry:l,canStart:d,start:()=>(d()?A():y().then(A),s)}}function VU(){let t=[],e=0,n=a=>{a()},r=a=>{a()},i=a=>setTimeout(a,0);const s=a=>{e?t.push(a):i(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&i(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||o()}return l},batchCalls:a=>(...l)=>{s(()=>{a(...l)})},schedule:s,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{i=a}}}var In=VU(),Do,x_,HR=(x_=class{constructor(){He(this,Do)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),IU(this.gcTime)&&Ne(this,Do,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(wm?1/0:5*60*1e3))}clearGcTimeout(){J(this,Do)&&(clearTimeout(J(this,Do)),Ne(this,Do,void 0))}},Do=new WeakMap,x_),ul,dl,cr,dn,Bu,Mo,Rr,_i,I_,FU=(I_=class extends HR{constructor(e){super();He(this,Rr);He(this,ul);He(this,dl);He(this,cr);He(this,dn);He(this,Bu);He(this,Mo);Ne(this,Mo,!1),Ne(this,Bu,e.defaultOptions),this.setOptions(e.options),this.observers=[],Ne(this,cr,e.cache),this.queryKey=e.queryKey,this.queryHash=e.queryHash,Ne(this,ul,jU(this.options)),this.state=e.state??J(this,ul),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=J(this,dn))==null?void 0:e.promise}setOptions(e){this.options={...J(this,Bu),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&J(this,cr).remove(this)}setData(e,n){const r=PU(this.state.data,e,this.options);return an(this,Rr,_i).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(e,n){an(this,Rr,_i).call(this,{type:"setState",state:e,setStateOptions:n})}cancel(e){var r,i;const n=(r=J(this,dn))==null?void 0:r.promise;return(i=J(this,dn))==null||i.cancel(e),n?n.then(br).catch(br):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(J(this,ul))}isActive(){return this.observers.some(e=>bU(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===hE||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!SU(this.state.dataUpdatedAt,e)}onFocus(){var n;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(n=J(this,dn))==null||n.continue()}onOnline(){var n;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(n=J(this,dn))==null||n.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),J(this,cr).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(J(this,dn)&&(J(this,Mo)?J(this,dn).cancel({revert:!0}):J(this,dn).cancelRetry()),this.scheduleGc()),J(this,cr).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||an(this,Rr,_i).call(this,{type:"invalidate"})}fetch(e,n){var l,c,d;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(J(this,dn))return J(this,dn).continueRetry(),J(this,dn).promise}if(e&&this.setOptions(e),!this.options.queryFn){const f=this.observers.find(h=>h.options.queryFn);f&&this.setOptions(f.options)}const r=new AbortController,i=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(Ne(this,Mo,!0),r.signal)})},s=()=>{const f=$R(this.options,n),h={queryKey:this.queryKey,meta:this.meta};return i(h),Ne(this,Mo,!1),this.options.persister?this.options.persister(f,h,this):f(h)},o={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:s};i(o),(l=this.options.behavior)==null||l.onFetch(o,this),Ne(this,dl,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((c=o.fetchOptions)==null?void 0:c.meta))&&an(this,Rr,_i).call(this,{type:"fetch",meta:(d=o.fetchOptions)==null?void 0:d.meta});const a=f=>{var h,y,A,g;Lg(f)&&f.silent||an(this,Rr,_i).call(this,{type:"error",error:f}),Lg(f)||((y=(h=J(this,cr).config).onError)==null||y.call(h,f,this),(g=(A=J(this,cr).config).onSettled)==null||g.call(A,this.state.data,f,this)),this.scheduleGc()};return Ne(this,dn,KR({initialPromise:n==null?void 0:n.initialPromise,fn:o.fetchFn,abort:r.abort.bind(r),onSuccess:f=>{var h,y,A,g;if(f===void 0){a(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(I){a(I);return}(y=(h=J(this,cr).config).onSuccess)==null||y.call(h,f,this),(g=(A=J(this,cr).config).onSettled)==null||g.call(A,f,this.state.error,this),this.scheduleGc()},onError:a,onFail:(f,h)=>{an(this,Rr,_i).call(this,{type:"failed",failureCount:f,error:h})},onPause:()=>{an(this,Rr,_i).call(this,{type:"pause"})},onContinue:()=>{an(this,Rr,_i).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),J(this,dn).start()}},ul=new WeakMap,dl=new WeakMap,cr=new WeakMap,dn=new WeakMap,Bu=new WeakMap,Mo=new WeakMap,Rr=new WeakSet,_i=function(e){const n=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...BU(r.data,this.options),fetchMeta:e.meta??null};case"success":return{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=e.error;return Lg(i)&&i.revert&&J(this,dl)?{...J(this,dl),fetchStatus:"idle"}:{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),In.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),J(this,cr).notify({query:this,type:"updated",action:e})})},I_);function BU(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:QR(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function jU(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Wr,S_,UU=(S_=class extends vm{constructor(e={}){super();He(this,Wr);this.config=e,Ne(this,Wr,new Map)}build(e,n,r){const i=n.queryKey,s=n.queryHash??dE(i,n);let o=this.get(s);return o||(o=new FU({cache:this,queryKey:i,queryHash:s,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(i)}),this.add(o)),o}add(e){J(this,Wr).has(e.queryHash)||(J(this,Wr).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=J(this,Wr).get(e.queryHash);n&&(e.destroy(),n===e&&J(this,Wr).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){In.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return J(this,Wr).get(e)}getAll(){return[...J(this,Wr).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>FT(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>FT(e,r)):n}notify(e){In.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){In.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){In.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Wr=new WeakMap,S_),Qr,_n,Oo,Yr,as,b_,qU=(b_=class extends HR{constructor(e){super();He(this,Yr);He(this,Qr);He(this,_n);He(this,Oo);this.mutationId=e.mutationId,Ne(this,_n,e.mutationCache),Ne(this,Qr,[]),this.state=e.state||GU(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){J(this,Qr).includes(e)||(J(this,Qr).push(e),this.clearGcTimeout(),J(this,_n).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){Ne(this,Qr,J(this,Qr).filter(n=>n!==e)),this.scheduleGc(),J(this,_n).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){J(this,Qr).length||(this.state.status==="pending"?this.scheduleGc():J(this,_n).remove(this))}continue(){var e;return((e=J(this,Oo))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var i,s,o,a,l,c,d,f,h,y,A,g,I,E,v,_,R,O,B,b;Ne(this,Oo,KR({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(S,k)=>{an(this,Yr,as).call(this,{type:"failed",failureCount:S,error:k})},onPause:()=>{an(this,Yr,as).call(this,{type:"pause"})},onContinue:()=>{an(this,Yr,as).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>J(this,_n).canRun(this)}));const n=this.state.status==="pending",r=!J(this,Oo).canStart();try{if(!n){an(this,Yr,as).call(this,{type:"pending",variables:e,isPaused:r}),await((s=(i=J(this,_n).config).onMutate)==null?void 0:s.call(i,e,this));const k=await((a=(o=this.options).onMutate)==null?void 0:a.call(o,e));k!==this.state.context&&an(this,Yr,as).call(this,{type:"pending",context:k,variables:e,isPaused:r})}const S=await J(this,Oo).start();return await((c=(l=J(this,_n).config).onSuccess)==null?void 0:c.call(l,S,e,this.state.context,this)),await((f=(d=this.options).onSuccess)==null?void 0:f.call(d,S,e,this.state.context)),await((y=(h=J(this,_n).config).onSettled)==null?void 0:y.call(h,S,null,this.state.variables,this.state.context,this)),await((g=(A=this.options).onSettled)==null?void 0:g.call(A,S,null,e,this.state.context)),an(this,Yr,as).call(this,{type:"success",data:S}),S}catch(S){try{throw await((E=(I=J(this,_n).config).onError)==null?void 0:E.call(I,S,e,this.state.context,this)),await((_=(v=this.options).onError)==null?void 0:_.call(v,S,e,this.state.context)),await((O=(R=J(this,_n).config).onSettled)==null?void 0:O.call(R,void 0,S,this.state.variables,this.state.context,this)),await((b=(B=this.options).onSettled)==null?void 0:b.call(B,void 0,S,e,this.state.context)),S}finally{an(this,Yr,as).call(this,{type:"error",error:S})}}finally{J(this,_n).runNext(this)}}},Qr=new WeakMap,_n=new WeakMap,Oo=new WeakMap,Yr=new WeakSet,as=function(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),In.batch(()=>{J(this,Qr).forEach(r=>{r.onMutationUpdate(e)}),J(this,_n).notify({mutation:this,type:"updated",action:e})})},b_);function GU(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Gn,ju,R_,zU=(R_=class extends vm{constructor(e={}){super();He(this,Gn);He(this,ju);this.config=e,Ne(this,Gn,new Map),Ne(this,ju,Date.now())}build(e,n,r){const i=new qU({mutationCache:this,mutationId:++Xd(this,ju)._,options:e.defaultMutationOptions(n),state:r});return this.add(i),i}add(e){const n=Rh(e),r=J(this,Gn).get(n)??[];r.push(e),J(this,Gn).set(n,r),this.notify({type:"added",mutation:e})}remove(e){var r;const n=Rh(e);if(J(this,Gn).has(n)){const i=(r=J(this,Gn).get(n))==null?void 0:r.filter(s=>s!==e);i&&(i.length===0?J(this,Gn).delete(n):J(this,Gn).set(n,i))}this.notify({type:"removed",mutation:e})}canRun(e){var r;const n=(r=J(this,Gn).get(Rh(e)))==null?void 0:r.find(i=>i.state.status==="pending");return!n||n===e}runNext(e){var r;const n=(r=J(this,Gn).get(Rh(e)))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){In.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...J(this,Gn).values()].flat()}find(e){const n={exact:!0,...e};return this.getAll().find(r=>BT(n,r))}findAll(e={}){return this.getAll().filter(n=>BT(e,n))}notify(e){In.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return In.batch(()=>Promise.all(e.map(n=>n.continue().catch(br))))}},Gn=new WeakMap,ju=new WeakMap,R_);function Rh(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function qT(t){return{onFetch:(e,n)=>{var d,f,h,y,A;const r=e.options,i=(h=(f=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,s=((y=e.state.data)==null?void 0:y.pages)||[],o=((A=e.state.data)==null?void 0:A.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const c=async()=>{let g=!1;const I=_=>{Object.defineProperty(_,"signal",{enumerable:!0,get:()=>(e.signal.aborted?g=!0:e.signal.addEventListener("abort",()=>{g=!0}),e.signal)})},E=$R(e.options,e.fetchOptions),v=async(_,R,O)=>{if(g)return Promise.reject();if(R==null&&_.pages.length)return Promise.resolve(_);const B={queryKey:e.queryKey,pageParam:R,direction:O?"backward":"forward",meta:e.options.meta};I(B);const b=await E(B),{maxPages:S}=e.options,k=O?NU:kU;return{pages:k(_.pages,b,S),pageParams:k(_.pageParams,R,S)}};if(i&&s.length){const _=i==="backward",R=_?$U:GT,O={pages:s,pageParams:o},B=R(r,O);a=await v(O,B,_)}else{const _=t??s.length;do{const R=l===0?o[0]??r.initialPageParam:GT(r,a);if(l>0&&R==null)break;a=await v(a,R),l++}while(l<_)}return a};e.options.persister?e.fetchFn=()=>{var g,I;return(I=(g=e.options).persister)==null?void 0:I.call(g,c,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=c}}}function GT(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function $U(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var Tt,Es,Cs,hl,fl,Ts,pl,ml,P_,WU=(P_=class{constructor(t={}){He(this,Tt);He(this,Es);He(this,Cs);He(this,hl);He(this,fl);He(this,Ts);He(this,pl);He(this,ml);Ne(this,Tt,t.queryCache||new UU),Ne(this,Es,t.mutationCache||new zU),Ne(this,Cs,t.defaultOptions||{}),Ne(this,hl,new Map),Ne(this,fl,new Map),Ne(this,Ts,0)}mount(){Xd(this,Ts)._++,J(this,Ts)===1&&(Ne(this,pl,WR.subscribe(async t=>{t&&(await this.resumePausedMutations(),J(this,Tt).onFocus())})),Ne(this,ml,gp.subscribe(async t=>{t&&(await this.resumePausedMutations(),J(this,Tt).onOnline())})))}unmount(){var t,e;Xd(this,Ts)._--,J(this,Ts)===0&&((t=J(this,pl))==null||t.call(this),Ne(this,pl,void 0),(e=J(this,ml))==null||e.call(this),Ne(this,ml,void 0))}isFetching(t){return J(this,Tt).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return J(this,Es).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=J(this,Tt).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const n=this.defaultQueryOptions(t),r=J(this,Tt).build(this,n);return t.revalidateIfStale&&r.isStaleByTime(VT(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(e)}}getQueriesData(t){return J(this,Tt).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),i=J(this,Tt).get(r.queryHash),s=i==null?void 0:i.state.data,o=xU(e,s);if(o!==void 0)return J(this,Tt).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return In.batch(()=>J(this,Tt).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=J(this,Tt).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=J(this,Tt);In.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=J(this,Tt),r={type:"active",...t};return In.batch(()=>(n.findAll(t).forEach(i=>{i.reset()}),this.refetchQueries(r,e)))}cancelQueries(t={},e={}){const n={revert:!0,...e},r=In.batch(()=>J(this,Tt).findAll(t).map(i=>i.cancel(n)));return Promise.all(r).then(br).catch(br)}invalidateQueries(t={},e={}){return In.batch(()=>{if(J(this,Tt).findAll(t).forEach(r=>{r.invalidate()}),t.refetchType==="none")return Promise.resolve();const n={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(n,e)})}refetchQueries(t={},e){const n={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},r=In.batch(()=>J(this,Tt).findAll(t).filter(i=>!i.isDisabled()).map(i=>{let s=i.fetch(void 0,n);return n.throwOnError||(s=s.catch(br)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(r).then(br)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=J(this,Tt).build(this,e);return n.isStaleByTime(VT(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(br).catch(br)}fetchInfiniteQuery(t){return t.behavior=qT(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(br).catch(br)}ensureInfiniteQueryData(t){return t.behavior=qT(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return gp.isOnline()?J(this,Es).resumePausedMutations():Promise.resolve()}getQueryCache(){return J(this,Tt)}getMutationCache(){return J(this,Es)}getDefaultOptions(){return J(this,Cs)}setDefaultOptions(t){Ne(this,Cs,t)}setQueryDefaults(t,e){J(this,hl).set(Mu(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...J(this,hl).values()];let n={};return e.forEach(r=>{Ou(t,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(t,e){J(this,fl).set(Mu(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...J(this,fl).values()];let n={};return e.forEach(r=>{Ou(t,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...J(this,Cs).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=dE(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===hE&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...J(this,Cs).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){J(this,Tt).clear(),J(this,Es).clear()}},Tt=new WeakMap,Es=new WeakMap,Cs=new WeakMap,hl=new WeakMap,fl=new WeakMap,Ts=new WeakMap,pl=new WeakMap,ml=new WeakMap,P_),QU=T.createContext(void 0),YU=({client:t,children:e})=>(T.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),m.jsx(QU.Provider,{value:t,children:e}));/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Lu(){return Lu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Lu.apply(this,arguments)}var Is;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Is||(Is={}));const zT="popstate";function KU(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return Dv("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:yp(i)}return JU(e,n,null,t)}function Ot(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function JR(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function HU(){return Math.random().toString(36).substr(2,8)}function $T(t,e){return{usr:t.state,key:t.key,idx:e}}function Dv(t,e,n,r){return n===void 0&&(n=null),Lu({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Zl(e):e,{state:n,key:e&&e.key||r||HU()})}function yp(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Zl(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function JU(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=Is.Pop,l=null,c=d();c==null&&(c=0,o.replaceState(Lu({},o.state,{idx:c}),""));function d(){return(o.state||{idx:null}).idx}function f(){a=Is.Pop;let I=d(),E=I==null?null:I-c;c=I,l&&l({action:a,location:g.location,delta:E})}function h(I,E){a=Is.Push;let v=Dv(g.location,I,E);c=d()+1;let _=$T(v,c),R=g.createHref(v);try{o.pushState(_,"",R)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;i.location.assign(R)}s&&l&&l({action:a,location:g.location,delta:1})}function y(I,E){a=Is.Replace;let v=Dv(g.location,I,E);c=d();let _=$T(v,c),R=g.createHref(v);o.replaceState(_,"",R),s&&l&&l({action:a,location:g.location,delta:0})}function A(I){let E=i.location.origin!=="null"?i.location.origin:i.location.href,v=typeof I=="string"?I:yp(I);return v=v.replace(/ $/,"%20"),Ot(E,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,E)}let g={get action(){return a},get location(){return t(i,o)},listen(I){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(zT,f),l=I,()=>{i.removeEventListener(zT,f),l=null}},createHref(I){return e(i,I)},createURL:A,encodeLocation(I){let E=A(I);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:h,replace:y,go(I){return o.go(I)}};return g}var WT;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(WT||(WT={}));function ZU(t,e,n){return n===void 0&&(n="/"),XU(t,e,n,!1)}function XU(t,e,n,r){let i=typeof e=="string"?Zl(e):e,s=fE(i.pathname||"/",n);if(s==null)return null;let o=ZR(t);e8(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=d8(s);a=c8(o[l],c,r)}return a}function ZR(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(Ot(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=qs([r,l.relativePath]),d=n.concat(l);s.children&&s.children.length>0&&(Ot(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),ZR(s.children,e,d,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:a8(c,s.index),routesMeta:d})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of XR(s.path))i(s,o,l)}),e}function XR(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=XR(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function e8(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:l8(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const t8=/^:[\w-]+$/,n8=3,r8=2,i8=1,s8=10,o8=-2,QT=t=>t==="*";function a8(t,e){let n=t.split("/"),r=n.length;return n.some(QT)&&(r+=o8),e&&(r+=r8),n.filter(i=>!QT(i)).reduce((i,s)=>i+(t8.test(s)?n8:s===""?i8:s8),r)}function l8(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function c8(t,e,n){let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,d=s==="/"?e:e.slice(s.length)||"/",f=YT({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},d),h=l.route;if(!f&&c&&n&&!r[r.length-1].route.index&&(f=YT({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!f)return null;Object.assign(i,f.params),o.push({params:i,pathname:qs([s,f.pathname]),pathnameBase:m8(qs([s,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(s=qs([s,f.pathnameBase]))}return o}function YT(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=u8(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,d,f)=>{let{paramName:h,isOptional:y}=d;if(h==="*"){let g=a[f]||"";o=s.slice(0,s.length-g.length).replace(/(.)\/+$/,"$1")}const A=a[f];return y&&!A?c[h]=void 0:c[h]=(A||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:t}}function u8(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),JR(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function d8(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return JR(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function fE(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function h8(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Zl(t):t;return{pathname:n?n.startsWith("/")?n:f8(n,e):e,search:g8(r),hash:y8(i)}}function f8(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Vg(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function p8(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function eP(t,e){let n=p8(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function tP(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Zl(t):(i=Lu({},t),Ot(!i.pathname||!i.pathname.includes("?"),Vg("?","pathname","search",i)),Ot(!i.pathname||!i.pathname.includes("#"),Vg("#","pathname","hash",i)),Ot(!i.search||!i.search.includes("#"),Vg("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let f=e.length-1;if(!r&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),f-=1;i.pathname=h.join("/")}a=f>=0?e[f]:"/"}let l=h8(i,a),c=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}const qs=t=>t.join("/").replace(/\/\/+/g,"/"),m8=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),g8=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,y8=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function v8(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const nP=["post","put","patch","delete"];new Set(nP);const w8=["get",...nP];new Set(w8);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Vu(){return Vu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vu.apply(this,arguments)}const pE=T.createContext(null),E8=T.createContext(null),sa=T.createContext(null),Em=T.createContext(null),oa=T.createContext({outlet:null,matches:[],isDataRoute:!1}),rP=T.createContext(null);function C8(t,e){let{relative:n}=e===void 0?{}:e;ud()||Ot(!1);let{basename:r,navigator:i}=T.useContext(sa),{hash:s,pathname:o,search:a}=sP(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:qs([r,o])),i.createHref({pathname:l,search:a,hash:s})}function ud(){return T.useContext(Em)!=null}function dd(){return ud()||Ot(!1),T.useContext(Em).location}function iP(t){T.useContext(sa).static||T.useLayoutEffect(t)}function co(){let{isDataRoute:t}=T.useContext(oa);return t?M8():T8()}function T8(){ud()||Ot(!1);let t=T.useContext(pE),{basename:e,future:n,navigator:r}=T.useContext(sa),{matches:i}=T.useContext(oa),{pathname:s}=dd(),o=JSON.stringify(eP(i,n.v7_relativeSplatPath)),a=T.useRef(!1);return iP(()=>{a.current=!0}),T.useCallback(function(c,d){if(d===void 0&&(d={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let f=tP(c,JSON.parse(o),s,d.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:qs([e,f.pathname])),(d.replace?r.replace:r.push)(f,d.state,d)},[e,r,o,s,t])}function sP(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=T.useContext(sa),{matches:i}=T.useContext(oa),{pathname:s}=dd(),o=JSON.stringify(eP(i,r.v7_relativeSplatPath));return T.useMemo(()=>tP(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function _8(t,e){return A8(t,e)}function A8(t,e,n,r){ud()||Ot(!1);let{navigator:i}=T.useContext(sa),{matches:s}=T.useContext(oa),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=dd(),d;if(e){var f;let I=typeof e=="string"?Zl(e):e;l==="/"||(f=I.pathname)!=null&&f.startsWith(l)||Ot(!1),d=I}else d=c;let h=d.pathname||"/",y=h;if(l!=="/"){let I=l.replace(/^\//,"").split("/");y="/"+h.replace(/^\//,"").split("/").slice(I.length).join("/")}let A=ZU(t,{pathname:y}),g=R8(A&&A.map(I=>Object.assign({},I,{params:Object.assign({},a,I.params),pathname:qs([l,i.encodeLocation?i.encodeLocation(I.pathname).pathname:I.pathname]),pathnameBase:I.pathnameBase==="/"?l:qs([l,i.encodeLocation?i.encodeLocation(I.pathnameBase).pathname:I.pathnameBase])})),s,n,r);return e&&g?T.createElement(Em.Provider,{value:{location:Vu({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Is.Pop}},g):g}function x8(){let t=D8(),e=v8(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return T.createElement(T.Fragment,null,T.createElement("h2",null,"Unexpected Application Error!"),T.createElement("h3",{style:{fontStyle:"italic"}},e),n?T.createElement("pre",{style:i},n):null,null)}const I8=T.createElement(x8,null);class S8 extends T.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?T.createElement(oa.Provider,{value:this.props.routeContext},T.createElement(rP.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function b8(t){let{routeContext:e,match:n,children:r}=t,i=T.useContext(pE);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),T.createElement(oa.Provider,{value:e},r)}function R8(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let d=o.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);d>=0||Ot(!1),o=o.slice(0,Math.min(o.length,d+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=d),f.route.id){let{loaderData:h,errors:y}=n,A=f.route.loader&&h[f.route.id]===void 0&&(!y||y[f.route.id]===void 0);if(f.route.lazy||A){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((d,f,h)=>{let y,A=!1,g=null,I=null;n&&(y=a&&f.route.id?a[f.route.id]:void 0,g=f.route.errorElement||I8,l&&(c<0&&h===0?(A=!0,I=null):c===h&&(A=!0,I=f.route.hydrateFallbackElement||null)));let E=e.concat(o.slice(0,h+1)),v=()=>{let _;return y?_=g:A?_=I:f.route.Component?_=T.createElement(f.route.Component,null):f.route.element?_=f.route.element:_=d,T.createElement(b8,{match:f,routeContext:{outlet:d,matches:E,isDataRoute:n!=null},children:_})};return n&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?T.createElement(S8,{location:n.location,revalidation:n.revalidation,component:g,error:y,children:v(),routeContext:{outlet:null,matches:E,isDataRoute:!0}}):v()},null)}var oP=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(oP||{}),vp=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(vp||{});function P8(t){let e=T.useContext(pE);return e||Ot(!1),e}function k8(t){let e=T.useContext(E8);return e||Ot(!1),e}function N8(t){let e=T.useContext(oa);return e||Ot(!1),e}function aP(t){let e=N8(),n=e.matches[e.matches.length-1];return n.route.id||Ot(!1),n.route.id}function D8(){var t;let e=T.useContext(rP),n=k8(vp.UseRouteError),r=aP(vp.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function M8(){let{router:t}=P8(oP.UseNavigateStable),e=aP(vp.UseNavigateStable),n=T.useRef(!1);return iP(()=>{n.current=!0}),T.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Vu({fromRouteId:e},s)))},[t,e])}function qr(t){Ot(!1)}function O8(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Is.Pop,navigator:s,static:o=!1,future:a}=t;ud()&&Ot(!1);let l=e.replace(/^\/*/,"/"),c=T.useMemo(()=>({basename:l,navigator:s,static:o,future:Vu({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=Zl(r));let{pathname:d="/",search:f="",hash:h="",state:y=null,key:A="default"}=r,g=T.useMemo(()=>{let I=fE(d,l);return I==null?null:{location:{pathname:I,search:f,hash:h,state:y,key:A},navigationType:i}},[l,d,f,h,y,A,i]);return g==null?null:T.createElement(sa.Provider,{value:c},T.createElement(Em.Provider,{children:n,value:g}))}function L8(t){let{children:e,location:n}=t;return _8(Mv(e),n)}new Promise(()=>{});function Mv(t,e){e===void 0&&(e=[]);let n=[];return T.Children.forEach(t,(r,i)=>{if(!T.isValidElement(r))return;let s=[...e,i];if(r.type===T.Fragment){n.push.apply(n,Mv(r.props.children,s));return}r.type!==qr&&Ot(!1),!r.props.index||!r.props.children||Ot(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Mv(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ov(){return Ov=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ov.apply(this,arguments)}function V8(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function F8(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function B8(t,e){return t.button===0&&(!e||e==="_self")&&!F8(t)}const j8=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],U8="6";try{window.__reactRouterVersion=U8}catch{}const q8="startTransition",KT=q_[q8];function G8(t){let{basename:e,children:n,future:r,window:i}=t,s=T.useRef();s.current==null&&(s.current=KU({window:i,v5Compat:!0}));let o=s.current,[a,l]=T.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},d=T.useCallback(f=>{c&&KT?KT(()=>l(f)):l(f)},[l,c]);return T.useLayoutEffect(()=>o.listen(d),[o,d]),T.createElement(O8,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const z8=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",$8=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ai=T.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:c,preventScrollReset:d,viewTransition:f}=e,h=V8(e,j8),{basename:y}=T.useContext(sa),A,g=!1;if(typeof c=="string"&&$8.test(c)&&(A=c,z8))try{let _=new URL(window.location.href),R=c.startsWith("//")?new URL(_.protocol+c):new URL(c),O=fE(R.pathname,y);R.origin===_.origin&&O!=null?c=O+R.search+R.hash:g=!0}catch{}let I=C8(c,{relative:i}),E=W8(c,{replace:o,state:a,target:l,preventScrollReset:d,relative:i,viewTransition:f});function v(_){r&&r(_),_.defaultPrevented||E(_)}return T.createElement("a",Ov({},h,{href:A||I,onClick:g||s?r:v,ref:n,target:l}))});var HT;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(HT||(HT={}));var JT;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(JT||(JT={}));function W8(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,viewTransition:a}=e===void 0?{}:e,l=co(),c=dd(),d=sP(t,{relative:o});return T.useCallback(f=>{if(B8(f,n)){f.preventDefault();let h=r!==void 0?r:yp(c)===yp(d);l(t,{replace:h,state:i,preventScrollReset:s,relative:o,viewTransition:a})}},[c,l,d,r,i,n,t,s,o,a])}const cf=5,lP=T.createContext(null),Q8=({children:t})=>{const[e,n]=T.useState(null),[r,i]=T.useState(!0),[s,o]=T.useState(null),[a,l]=T.useState(!0),[c,d]=T.useState([]),[f,h]=T.useState(!1);T.useEffect(()=>{const R=zr(xn,"settings","global"),O=kg(R,B=>{if(B.exists()){const b=B.data();console.log("Global settings updated:",b),o(b)}else{const b={purchaseLimit:cf,descriptionMessage:"Complete purchases to unlock your reward!",updatedAt:Je.now(),updatedBy:"system"};oT(R,b),o(b)}l(!1)},B=>{console.error("Error listening to settings:",B),l(!1)});return()=>O()},[]),T.useEffect(()=>{if(!e||e.role!=="admin"&&e.role!=="super_admin"){d([]);return}h(!0);const R=np(xn,"users"),O=sp(R,_b("createdAt","desc")),B=kg(O,b=>{const S=[];b.forEach(k=>{const D=k.data();S.push({...D,id:k.id})}),console.log("All users updated:",S.length,"users"),d(S),h(!1)},b=>{console.error("Error listening to all users:",b),h(!1)});return()=>B()},[e==null?void 0:e.role]),T.useEffect(()=>{let R=null;const O=r3(Mc,async B=>{if(console.log("Auth state changed:",B?"User logged in":"User logged out"),B){console.log("Firebase user UID:",B.uid);const b=zr(xn,"users",B.uid);R=kg(b,S=>{if(S.exists()){const k=S.data();console.log("User data updated in real-time:",{name:k.name,purchases:k.purchases,isRewardReady:k.isRewardReady,role:k.role}),n(k)}else console.log("User document does not exist for UID:",B.uid),n(null);i(!1)},S=>{console.error("Error listening to user data:",S),n(null),i(!1)})}else console.log("No Firebase user, setting user to null"),n(null),i(!1),R&&(R(),R=null)});return()=>{O(),R&&R()}},[]);const y=async(R,O)=>{const B=await X5(Mc,R,O),b=await QB(zr(xn,"users",B.user.uid));return b.exists()?b.data():null},A=async(R,O,B,b)=>{console.log("registering user",R,O,B,b);const S=await Z5(Mc,O,B),k=(s==null?void 0:s.purchaseLimit)||cf,D={id:S.user.uid,name:R,email:O,feedback:b,purchases:0,isRewardReady:!1,createdAt:Je.now(),rewards:[],purchaseLimit:k,role:"customer"};return await oT(zr(xn,"users",S.user.uid),D),D},g=async()=>{if(!e)return;const R=zr(xn,"users",e.id),O=e.purchases+1,B=e.purchaseLimit||(s==null?void 0:s.purchaseLimit)||cf,b=O>=B;await xh(R,{purchases:XB(1),isRewardReady:b,lastScanAt:Je.now()})},I=async()=>{if(!e)return;const R=zr(xn,"users",e.id),O={rewardId:`reward_${Date.now()}`,claimedAt:Je.now()};await xh(R,{purchases:0,isRewardReady:!1,rewards:[...e.rewards||[],O]})},E=async(R,O)=>{if(!e||e.role!=="admin"&&e.role!=="super_admin")throw new Error("Only admins can update settings");const B=zr(xn,"settings","global");await xh(B,{purchaseLimit:R,descriptionMessage:O,updatedAt:Je.now(),updatedBy:e.email})},v=async(R,O)=>{if(!e||e.role!=="super_admin")throw new Error("Only super admins can update user roles");const B=zr(xn,"users",R);await xh(B,{role:O})},_=async()=>{await i3(Mc),n(null)};return m.jsx(lP.Provider,{value:{user:e,loading:r,settings:s,settingsLoading:a,allUsers:c,allUsersLoading:f,login:y,register:A,addPurchase:g,useReward:I,logout:_,updateSettings:E,updateUserRole:v},children:t})},Xl=()=>{const t=T.useContext(lP);if(!t)throw new Error("useAuth must be used within AuthProvider");return t},Y8=rw("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Dt=T.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...i},s)=>{const o=r?_l:"button";return m.jsx(o,{className:Ut(Y8({variant:e,size:n,className:t})),ref:s,...i})});Dt.displayName="Button";const K8=()=>{const[t,e]=T.useState(null),[n,r]=T.useState(!1),[i,s]=T.useState(!1),[o,a]=T.useState(""),l=()=>{const h=window.matchMedia("(display-mode: standalone)").matches,y=window.matchMedia("(display-mode: fullscreen)").matches,A=window.matchMedia("(display-mode: minimal-ui)").matches,g=navigator.standalone===!0,I=document.referrer==="",E=window.history.length<=1,v=h||y||A||g,R=new URLSearchParams(window.location.search).get("hide-install")==="true";return console.log("PWA Detection:",{isStandalone:h,isFullscreen:y,isMinimalUI:A,hasNavigatorStandalone:g,hasNoReferrer:I,hasNoHistory:E,isInstalledApp:v,forceHide:R}),v||R};T.useEffect(()=>{if(l()){s(!0),a("App is already installed");return}if(!("serviceWorker"in navigator)){a("Service Worker not supported");return}fetch("/manifest.json").then(_=>{if(!_.ok){a("Manifest not accessible");return}a("Manifest accessible")}).catch(()=>{a("Manifest fetch failed")});const y=_=>{console.log("beforeinstallprompt event fired"),_.preventDefault(),e(_),r(!0),a("Install prompt available")},A=()=>{console.log("App installed"),s(!0),r(!1),e(null),a("App installed successfully")},g=()=>{l()||setTimeout(()=>{r(!0),a("Manual install available")},2e3)};window.addEventListener("beforeinstallprompt",y),window.addEventListener("appinstalled",A),setTimeout(g,1e3);const I=window.matchMedia("(display-mode: standalone)"),E=_=>{_.matches&&(s(!0),r(!1),a("App switched to standalone mode"))};I.addEventListener("change",E);const v=setInterval(()=>{l()&&(s(!0),r(!1),a("App detected as installed"),clearInterval(v))},2e3);return()=>{window.removeEventListener("beforeinstallprompt",y),window.removeEventListener("appinstalled",A),I.removeEventListener("change",E),clearInterval(v)}},[]);const c=async()=>{if(t)try{t.prompt();const{outcome:h}=await t.userChoice;h==="accepted"?(console.log("User accepted the install prompt"),a("Install accepted")):(console.log("User dismissed the install prompt"),a("Install dismissed")),e(null),r(!1)}catch(h){console.error("Install error:",h),a("Install error: "+h)}else{const h=/Chrome/.test(navigator.userAgent),y=/Edg/.test(navigator.userAgent),A=/Safari/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent),g=/Firefox/.test(navigator.userAgent),I=/Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);let E="";I?A?E='To install: Tap the Share button (square with arrow) and select "Add to Home Screen"':h||y?E='To install: Tap the menu (three dots) and select "Add to Home screen" or "Install app"':g?E='To install: Tap the menu (three lines) and select "Add to Home Screen"':E="To install: Use your browser menu to add this site to your home screen":h||y?E='To install: Look for the install icon (plus sign) in your browser address bar, or use the menu (three dots) and select "Install app"':A?E='To install: Use the Share button in the toolbar and select "Add to Dock"':g?E='To install: Use the menu (three lines) and select "Install App"':E="To install: Use your browser menu to add this site to your desktop",alert(E),a("Manual install instructions shown")}},d=()=>{r(!1),a("Install prompt dismissed")},f=!1;return i?null:m.jsx(m.Fragment,{children:n&&m.jsx("div",{className:"fixed bottom-4 left-4 right-4 z-50 bg-gradient-to-r from-red-600 to-red-700 rounded-lg p-4 shadow-lg border border-red-500/30 backdrop-blur-sm",children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{className:"flex items-center space-x-3",children:[m.jsx(_I,{className:"w-5 h-5 text-white"}),m.jsxs("div",{children:[m.jsx("p",{className:"text-white font-semibold text-sm",children:"Install Vaporwave Loyalty Club"}),m.jsx("p",{className:"text-red-100 text-xs",children:"Get quick access and work offline"}),f]})]}),m.jsxs("div",{className:"flex items-center space-x-2",children:[m.jsx(Dt,{onClick:c,size:"sm",className:"bg-white text-red-600 hover:bg-red-50 font-semibold",children:"Install"}),m.jsx(Dt,{onClick:d,size:"sm",variant:"ghost",className:"text-white hover:bg-red-500/20",children:m.jsx(xI,{className:"w-4 h-4"})})]})]})})})},H8=()=>{const[t,e]=T.useState(!1),[n,r]=T.useState(!1),i=()=>{const s=window.matchMedia("(display-mode: standalone)").matches,o=window.matchMedia("(display-mode: fullscreen)").matches,a=window.matchMedia("(display-mode: minimal-ui)").matches,l=navigator.standalone===!0;return s||o||a||l};return T.useEffect(()=>{i()&&r(!0);const o=window.matchMedia("(display-mode: standalone)"),a=l=>{l.matches&&r(!0)};return o.addEventListener("change",a),()=>{o.removeEventListener("change",a)}},[]),n?null:m.jsxs("div",{className:"fixed top-4 right-4 z-40",children:[m.jsxs(Dt,{onClick:()=>e(!t),size:"sm",variant:"outline",className:"bg-white/90 backdrop-blur-sm border-gray-200 hover:bg-white",children:[m.jsx(T4,{className:"w-4 h-4 mr-2"}),"Install Guide"]}),t&&m.jsxs("div",{className:"absolute top-12 right-0 w-80 bg-white rounded-lg shadow-lg border border-gray-200 p-4",children:[m.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"How to Install"}),m.jsxs("div",{className:"space-y-3 text-sm text-gray-600",children:[m.jsxs("div",{children:[m.jsx("strong",{children:"Chrome/Edge (Desktop):"}),m.jsx("p",{children:'Look for the install icon (plus sign) in your browser address bar, or use the menu (three dots) and select "Install app"'})]}),m.jsxs("div",{children:[m.jsx("strong",{children:"Chrome/Edge (Mobile):"}),m.jsx("p",{children:'Tap the menu (three dots) and select "Add to Home screen" or "Install app"'})]}),m.jsxs("div",{children:[m.jsx("strong",{children:"Safari (Mobile):"}),m.jsx("p",{children:'Tap the Share button (square with arrow) and select "Add to Home Screen"'})]}),m.jsxs("div",{children:[m.jsx("strong",{children:"Safari (Desktop):"}),m.jsx("p",{children:'Use the Share button in the toolbar and select "Add to Dock"'})]}),m.jsxs("div",{children:[m.jsx("strong",{children:"Firefox:"}),m.jsx("p",{children:'Use the menu (three lines) and select "Install App" or "Add to Home Screen"'})]})]}),m.jsx(Dt,{onClick:()=>e(!1),size:"sm",className:"mt-3 w-full",children:"Got it!"})]})]})},J8=()=>{const[t,e]=T.useState(!1),n=()=>{const i=window.matchMedia("(display-mode: standalone)").matches,s=window.matchMedia("(display-mode: fullscreen)").matches,o=window.matchMedia("(display-mode: minimal-ui)").matches,a=navigator.standalone===!0;return i||s||o||a};T.useEffect(()=>{n()&&e(!0);const s=window.matchMedia("(display-mode: standalone)"),o=a=>{a.matches&&e(!0)};return s.addEventListener("change",o),()=>{s.removeEventListener("change",o)}},[]);const r=()=>{const i=/Chrome/.test(navigator.userAgent),s=/Edg/.test(navigator.userAgent),o=/Safari/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent);alert(i||s?'To install: Look for the install icon (plus sign) in your browser address bar, or use the menu (three dots) and select "Install app"':o?'To install: Tap the Share button (square with arrow) and select "Add to Home Screen"':"To install: Use your browser menu to add this site to your home screen or desktop")};return m.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-black via-gray-900 to-red-950 relative overflow-hidden",children:[m.jsxs("div",{className:"absolute inset-0 opacity-20",children:[m.jsx("div",{className:"absolute top-10 left-10 w-32 h-32 bg-red-500 rounded-full blur-3xl animate-pulse"}),m.jsx("div",{className:"absolute bottom-20 right-10 w-40 h-40 bg-red-600 rounded-full blur-3xl animate-pulse delay-1000"}),m.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-60 h-60 bg-red-700 rounded-full blur-3xl animate-pulse delay-500"})]}),m.jsxs("div",{className:"relative z-10 flex flex-col items-center justify-center min-h-screen px-6 text-center",children:[m.jsxs("div",{className:"mb-8",children:[m.jsxs("h1",{className:"text-5xl md:text-7xl font-bold text-white mb-4 tracking-tight",children:["VAPE ",m.jsx("span",{className:"text-red-500",children:"MASTER"})]}),m.jsx("div",{className:"w-32 h-1 bg-gradient-to-r from-red-500 to-red-700 mx-auto rounded-full"})]}),m.jsxs("div",{className:"mb-12 max-w-md",children:[m.jsx("h2",{className:"text-2xl md:text-3xl font-semibold text-white mb-4",children:"Loyalty Program"}),m.jsx("p",{className:"text-gray-300 text-lg leading-relaxed",children:"Join our loyalty program and get rewards! Earn points with every purchase and unlock exclusive benefits."})]}),m.jsxs("div",{className:"space-y-4 w-full max-w-sm",children:[m.jsx(ai,{to:"/register",className:"block",children:m.jsx(Dt,{className:"w-full py-4 text-lg font-semibold bg-gradient-to-r from-red-600 to-red-700 hover:from-red-700 hover:to-red-800 text-white border-none shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105",children:"Join Now"})}),m.jsx(ai,{to:"/login",className:"block",children:m.jsx(Dt,{variant:"outline",className:"w-full py-4 text-lg font-semibold bg-transparent border-2 border-red-500 text-red-400 hover:bg-red-500 hover:text-white transition-all duration-300 transform hover:scale-105",children:"Already a Member?"})}),!t&&m.jsxs(Dt,{onClick:r,variant:"outline",className:"w-full py-3 text-base font-semibold bg-transparent border-2 border-green-500 text-green-400 hover:bg-green-500 hover:text-white transition-all duration-300 transform hover:scale-105",children:[m.jsx(_I,{className:"w-4 h-4 mr-2"}),"Install App"]})]}),!t&&m.jsx("div",{className:"mt-8",children:m.jsx(H8,{})}),m.jsx("div",{className:"absolute bottom-6 text-center text-gray-500",children:m.jsx("p",{className:"text-sm",children:"Smoke responsibly  21+ only"})})]})]})},Bo=T.forwardRef(({className:t,type:e,...n},r)=>m.jsx("input",{type:e,className:Ut("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));Bo.displayName="Input";var Z8="Label",cP=T.forwardRef((t,e)=>m.jsx(nt.label,{...t,ref:e,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=t.onMouseDown)==null||i.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));cP.displayName=Z8;var uP=cP;const X8=rw("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Pi=T.forwardRef(({className:t,...e},n)=>m.jsx(uP,{ref:n,className:Ut(X8(),t),...e}));Pi.displayName=uP.displayName;const mE=T.forwardRef(({className:t,...e},n)=>m.jsx("textarea",{className:Ut("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));mE.displayName="Textarea";const e9=()=>{const[t,e]=T.useState(""),[n,r]=T.useState(""),[i,s]=T.useState(""),[o,a]=T.useState(""),[l,c]=T.useState(!1),{register:d,user:f,loading:h}=Xl(),y=co();if(!h&&f)return y("/dashboard"),null;if(h)return m.jsx("div",{className:"min-h-screen bg-gradient-to-br from-black via-gray-900 to-red-950 flex items-center justify-center",children:m.jsxs("div",{className:"text-center",children:[m.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-500 mx-auto mb-4"}),m.jsx("p",{className:"text-white text-lg",children:"Loading..."})]})});const A=async g=>{if(g.preventDefault(),!t.trim()||!n.trim()||!o.trim()){mt({title:"Missing Information",description:"Please fill in your name, email, and password.",variant:"destructive"});return}c(!0);try{await d(t.trim(),n.trim(),o.trim(),i.trim()||null),mt({title:"Welcome to Vape Master!",description:"Your loyalty card is ready!"}),y("/dashboard")}catch(I){let E="Please try again.";I&&typeof I=="object"&&"message"in I&&typeof I.message=="string"&&(E=I.message),mt({title:"Registration Failed",description:E,variant:"destructive"})}finally{c(!1)}};return m.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-black via-gray-900 to-red-950 relative overflow-hidden",children:[m.jsxs("div",{className:"absolute inset-0 opacity-10",children:[m.jsx("div",{className:"absolute top-20 right-10 w-40 h-40 bg-red-500 rounded-full blur-3xl animate-pulse"}),m.jsx("div",{className:"absolute bottom-32 left-10 w-32 h-32 bg-red-600 rounded-full blur-3xl animate-pulse delay-1000"})]}),m.jsxs("div",{className:"relative z-10 min-h-screen flex flex-col",children:[m.jsx("div",{className:"p-6",children:m.jsx(ai,{to:"/",className:"text-red-400 hover:text-red-300 transition-colors",children:m.jsx(Bl,{className:"w-6 h-6"})})}),m.jsx("div",{className:"flex-1 flex items-center justify-center px-6",children:m.jsx("div",{className:"w-full max-w-md",children:m.jsxs("div",{className:"bg-gray-900/80 backdrop-blur-sm border border-red-900/30 rounded-2xl p-8 shadow-2xl",children:[m.jsxs("div",{className:"text-center mb-8",children:[m.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Join the Club"}),m.jsx("p",{className:"text-gray-400",children:"Create your loyalty account"})]}),m.jsxs("form",{onSubmit:A,className:"space-y-6",children:[m.jsxs("div",{className:"space-y-2",children:[m.jsx(Pi,{htmlFor:"name",className:"text-white",children:"Full Name"}),m.jsx(Bo,{id:"name",type:"text",value:t,onChange:g=>e(g.target.value),placeholder:"Enter your full name",className:"bg-gray-800/50 border-gray-700 text-white placeholder-gray-400 focus:border-red-500",required:!0})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(Pi,{htmlFor:"email",className:"text-white",children:"Email"}),m.jsx(Bo,{id:"email",type:"email",value:n,onChange:g=>r(g.target.value),placeholder:"Enter your email",className:"bg-gray-800/50 border-gray-700 text-white placeholder-gray-400 focus:border-red-500",required:!0})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(Pi,{htmlFor:"password",className:"text-white",children:"Password"}),m.jsx(Bo,{id:"password",type:"password",value:o,onChange:g=>a(g.target.value),placeholder:"Create a password",className:"bg-gray-800/50 border-gray-700 text-white placeholder-gray-400 focus:border-red-500",required:!0})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(Pi,{htmlFor:"feedback",className:"text-white",children:"Feedback (Optional)"}),m.jsx(mE,{id:"feedback",value:i,onChange:g=>s(g.target.value),placeholder:"Tell us about your experience...",className:"bg-gray-800/50 border-gray-700 text-white placeholder-gray-400 focus:border-red-500 min-h-[100px]"})]}),m.jsx(Dt,{type:"submit",className:"w-full py-3 bg-gradient-to-r from-red-600 to-red-700 hover:from-red-700 hover:to-red-800 text-white font-semibold",disabled:l,children:l?"Creating Account...":"Create Account"})]}),m.jsx("div",{className:"mt-6 text-center",children:m.jsxs("p",{className:"text-gray-400",children:["Already have an account?"," ",m.jsx(ai,{to:"/login",className:"text-red-400 hover:text-red-300 transition-colors font-semibold",children:"Sign in"})]})})]})})})]})]})},t9=()=>{const[t,e]=T.useState(""),[n,r]=T.useState(""),[i,s]=T.useState(!1),{login:o,user:a,loading:l}=Xl(),c=co();if(!l&&a)return c("/dashboard"),null;if(l)return m.jsx("div",{className:"min-h-screen bg-gradient-to-br from-black via-gray-900 to-red-950 flex items-center justify-center",children:m.jsxs("div",{className:"text-center",children:[m.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-500 mx-auto mb-4"}),m.jsx("p",{className:"text-white text-lg",children:"Loading..."})]})});const d=async f=>{if(f.preventDefault(),!t.trim()||!n.trim()){mt({title:"Missing Information",description:"Please enter your email and password.",variant:"destructive"});return}s(!0);try{const h=await o(t.trim(),n.trim());h?(mt({title:"Welcome back!",description:`Good to see you again, ${h.name}!`}),c("/dashboard")):mt({title:"User Not Found",description:"No account found with this email. Please register first.",variant:"destructive"})}catch(h){let y="Please try again.";h&&typeof h=="object"&&"message"in h&&typeof h.message=="string"&&(y=h.message),mt({title:"Login Failed",description:y,variant:"destructive"})}finally{s(!1)}};return m.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-black via-gray-900 to-red-950 relative overflow-hidden",children:[m.jsxs("div",{className:"absolute inset-0 opacity-10",children:[m.jsx("div",{className:"absolute top-20 right-10 w-40 h-40 bg-red-500 rounded-full blur-3xl animate-pulse"}),m.jsx("div",{className:"absolute bottom-32 left-10 w-32 h-32 bg-red-600 rounded-full blur-3xl animate-pulse delay-1000"})]}),m.jsxs("div",{className:"relative z-10 min-h-screen flex flex-col",children:[m.jsx("div",{className:"p-6",children:m.jsx(ai,{to:"/",className:"text-red-400 hover:text-red-300 transition-colors",children:m.jsx(Bl,{className:"w-6 h-6"})})}),m.jsx("div",{className:"flex-1 flex items-center justify-center px-6",children:m.jsx("div",{className:"w-full max-w-md",children:m.jsxs("div",{className:"bg-gray-900/80 backdrop-blur-sm border border-red-900/30 rounded-2xl p-8 shadow-2xl",children:[m.jsxs("div",{className:"text-center mb-8",children:[m.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Welcome Back"}),m.jsx("p",{className:"text-gray-400",children:"Sign in to your loyalty account"})]}),m.jsxs("form",{onSubmit:d,className:"space-y-6",children:[m.jsxs("div",{className:"space-y-2",children:[m.jsx(Pi,{htmlFor:"email",className:"text-white",children:"Email"}),m.jsx(Bo,{id:"email",type:"email",value:t,onChange:f=>e(f.target.value),placeholder:"Enter your email",className:"bg-gray-800/50 border-gray-700 text-white placeholder-gray-400 focus:border-red-500",required:!0})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(Pi,{htmlFor:"password",className:"text-white",children:"Password"}),m.jsx(Bo,{id:"password",type:"password",value:n,onChange:f=>r(f.target.value),placeholder:"Enter your password",className:"bg-gray-800/50 border-gray-700 text-white placeholder-gray-400 focus:border-red-500",required:!0})]}),m.jsx(Dt,{type:"submit",className:"w-full py-3 bg-gradient-to-r from-red-600 to-red-700 hover:from-red-700 hover:to-red-800 text-white font-semibold",disabled:i,children:i?"Signing In...":"Sign In"})]}),m.jsx("div",{className:"mt-6 text-center",children:m.jsxs("p",{className:"text-gray-400",children:["Don't have an account?"," ",m.jsx(ai,{to:"/register",className:"text-red-400 hover:text-red-300 transition-colors font-semibold",children:"Sign up"})]})})]})})})]})]})};var hd={},n9=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},dP={},ir={};let gE;const r9=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];ir.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return e*4+17};ir.getSymbolTotalCodewords=function(e){return r9[e]};ir.getBCHDigit=function(t){let e=0;for(;t!==0;)e++,t>>>=1;return e};ir.setToSJISFunction=function(e){if(typeof e!="function")throw new Error('"toSJISFunc" is not a valid function.');gE=e};ir.isKanjiModeEnabled=function(){return typeof gE<"u"};ir.toSJIS=function(e){return gE(e)};var Cm={};(function(t){t.L={bit:1},t.M={bit:0},t.Q={bit:3},t.H={bit:2};function e(n){if(typeof n!="string")throw new Error("Param is not a string");switch(n.toLowerCase()){case"l":case"low":return t.L;case"m":case"medium":return t.M;case"q":case"quartile":return t.Q;case"h":case"high":return t.H;default:throw new Error("Unknown EC Level: "+n)}}t.isValid=function(r){return r&&typeof r.bit<"u"&&r.bit>=0&&r.bit<4},t.from=function(r,i){if(t.isValid(r))return r;try{return e(r)}catch{return i}}})(Cm);function hP(){this.buffer=[],this.length=0}hP.prototype={get:function(t){const e=Math.floor(t/8);return(this.buffer[e]>>>7-t%8&1)===1},put:function(t,e){for(let n=0;n<e;n++)this.putBit((t>>>e-n-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(t){const e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var i9=hP;function fd(t){if(!t||t<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=t,this.data=new Uint8Array(t*t),this.reservedBit=new Uint8Array(t*t)}fd.prototype.set=function(t,e,n,r){const i=t*this.size+e;this.data[i]=n,r&&(this.reservedBit[i]=!0)};fd.prototype.get=function(t,e){return this.data[t*this.size+e]};fd.prototype.xor=function(t,e,n){this.data[t*this.size+e]^=n};fd.prototype.isReserved=function(t,e){return this.reservedBit[t*this.size+e]};var s9=fd,fP={};(function(t){const e=ir.getSymbolSize;t.getRowColCoords=function(r){if(r===1)return[];const i=Math.floor(r/7)+2,s=e(r),o=s===145?26:Math.ceil((s-13)/(2*i-2))*2,a=[s-7];for(let l=1;l<i-1;l++)a[l]=a[l-1]-o;return a.push(6),a.reverse()},t.getPositions=function(r){const i=[],s=t.getRowColCoords(r),o=s.length;for(let a=0;a<o;a++)for(let l=0;l<o;l++)a===0&&l===0||a===0&&l===o-1||a===o-1&&l===0||i.push([s[a],s[l]]);return i}})(fP);var pP={};const o9=ir.getSymbolSize,ZT=7;pP.getPositions=function(e){const n=o9(e);return[[0,0],[n-ZT,0],[0,n-ZT]]};var mP={};(function(t){t.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const e={N1:3,N2:3,N3:40,N4:10};t.isValid=function(i){return i!=null&&i!==""&&!isNaN(i)&&i>=0&&i<=7},t.from=function(i){return t.isValid(i)?parseInt(i,10):void 0},t.getPenaltyN1=function(i){const s=i.size;let o=0,a=0,l=0,c=null,d=null;for(let f=0;f<s;f++){a=l=0,c=d=null;for(let h=0;h<s;h++){let y=i.get(f,h);y===c?a++:(a>=5&&(o+=e.N1+(a-5)),c=y,a=1),y=i.get(h,f),y===d?l++:(l>=5&&(o+=e.N1+(l-5)),d=y,l=1)}a>=5&&(o+=e.N1+(a-5)),l>=5&&(o+=e.N1+(l-5))}return o},t.getPenaltyN2=function(i){const s=i.size;let o=0;for(let a=0;a<s-1;a++)for(let l=0;l<s-1;l++){const c=i.get(a,l)+i.get(a,l+1)+i.get(a+1,l)+i.get(a+1,l+1);(c===4||c===0)&&o++}return o*e.N2},t.getPenaltyN3=function(i){const s=i.size;let o=0,a=0,l=0;for(let c=0;c<s;c++){a=l=0;for(let d=0;d<s;d++)a=a<<1&2047|i.get(c,d),d>=10&&(a===1488||a===93)&&o++,l=l<<1&2047|i.get(d,c),d>=10&&(l===1488||l===93)&&o++}return o*e.N3},t.getPenaltyN4=function(i){let s=0;const o=i.data.length;for(let l=0;l<o;l++)s+=i.data[l];return Math.abs(Math.ceil(s*100/o/5)-10)*e.N4};function n(r,i,s){switch(r){case t.Patterns.PATTERN000:return(i+s)%2===0;case t.Patterns.PATTERN001:return i%2===0;case t.Patterns.PATTERN010:return s%3===0;case t.Patterns.PATTERN011:return(i+s)%3===0;case t.Patterns.PATTERN100:return(Math.floor(i/2)+Math.floor(s/3))%2===0;case t.Patterns.PATTERN101:return i*s%2+i*s%3===0;case t.Patterns.PATTERN110:return(i*s%2+i*s%3)%2===0;case t.Patterns.PATTERN111:return(i*s%3+(i+s)%2)%2===0;default:throw new Error("bad maskPattern:"+r)}}t.applyMask=function(i,s){const o=s.size;for(let a=0;a<o;a++)for(let l=0;l<o;l++)s.isReserved(l,a)||s.xor(l,a,n(i,l,a))},t.getBestMask=function(i,s){const o=Object.keys(t.Patterns).length;let a=0,l=1/0;for(let c=0;c<o;c++){s(c),t.applyMask(c,i);const d=t.getPenaltyN1(i)+t.getPenaltyN2(i)+t.getPenaltyN3(i)+t.getPenaltyN4(i);t.applyMask(c,i),d<l&&(l=d,a=c)}return a}})(mP);var Tm={};const Ss=Cm,Ph=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],kh=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];Tm.getBlocksCount=function(e,n){switch(n){case Ss.L:return Ph[(e-1)*4+0];case Ss.M:return Ph[(e-1)*4+1];case Ss.Q:return Ph[(e-1)*4+2];case Ss.H:return Ph[(e-1)*4+3];default:return}};Tm.getTotalCodewordsCount=function(e,n){switch(n){case Ss.L:return kh[(e-1)*4+0];case Ss.M:return kh[(e-1)*4+1];case Ss.Q:return kh[(e-1)*4+2];case Ss.H:return kh[(e-1)*4+3];default:return}};var gP={},_m={};const tu=new Uint8Array(512),wp=new Uint8Array(256);(function(){let e=1;for(let n=0;n<255;n++)tu[n]=e,wp[e]=n,e<<=1,e&256&&(e^=285);for(let n=255;n<512;n++)tu[n]=tu[n-255]})();_m.log=function(e){if(e<1)throw new Error("log("+e+")");return wp[e]};_m.exp=function(e){return tu[e]};_m.mul=function(e,n){return e===0||n===0?0:tu[wp[e]+wp[n]]};(function(t){const e=_m;t.mul=function(r,i){const s=new Uint8Array(r.length+i.length-1);for(let o=0;o<r.length;o++)for(let a=0;a<i.length;a++)s[o+a]^=e.mul(r[o],i[a]);return s},t.mod=function(r,i){let s=new Uint8Array(r);for(;s.length-i.length>=0;){const o=s[0];for(let l=0;l<i.length;l++)s[l]^=e.mul(i[l],o);let a=0;for(;a<s.length&&s[a]===0;)a++;s=s.slice(a)}return s},t.generateECPolynomial=function(r){let i=new Uint8Array([1]);for(let s=0;s<r;s++)i=t.mul(i,new Uint8Array([1,e.exp(s)]));return i}})(gP);const yP=gP;function yE(t){this.genPoly=void 0,this.degree=t,this.degree&&this.initialize(this.degree)}yE.prototype.initialize=function(e){this.degree=e,this.genPoly=yP.generateECPolynomial(this.degree)};yE.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");const n=new Uint8Array(e.length+this.degree);n.set(e);const r=yP.mod(n,this.genPoly),i=this.degree-r.length;if(i>0){const s=new Uint8Array(this.degree);return s.set(r,i),s}return r};var a9=yE,vP={},uo={},vE={};vE.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40};var ci={};const wP="[0-9]+",l9="[A-Z $%*+\\-./:]+";let Fu="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";Fu=Fu.replace(/u/g,"\\u");const c9="(?:(?![A-Z0-9 $%*+\\-./:]|"+Fu+`)(?:.|[\r
]))+`;ci.KANJI=new RegExp(Fu,"g");ci.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");ci.BYTE=new RegExp(c9,"g");ci.NUMERIC=new RegExp(wP,"g");ci.ALPHANUMERIC=new RegExp(l9,"g");const u9=new RegExp("^"+Fu+"$"),d9=new RegExp("^"+wP+"$"),h9=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");ci.testKanji=function(e){return u9.test(e)};ci.testNumeric=function(e){return d9.test(e)};ci.testAlphanumeric=function(e){return h9.test(e)};(function(t){const e=vE,n=ci;t.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},t.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},t.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},t.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},t.MIXED={bit:-1},t.getCharCountIndicator=function(s,o){if(!s.ccBits)throw new Error("Invalid mode: "+s);if(!e.isValid(o))throw new Error("Invalid version: "+o);return o>=1&&o<10?s.ccBits[0]:o<27?s.ccBits[1]:s.ccBits[2]},t.getBestModeForData=function(s){return n.testNumeric(s)?t.NUMERIC:n.testAlphanumeric(s)?t.ALPHANUMERIC:n.testKanji(s)?t.KANJI:t.BYTE},t.toString=function(s){if(s&&s.id)return s.id;throw new Error("Invalid mode")},t.isValid=function(s){return s&&s.bit&&s.ccBits};function r(i){if(typeof i!="string")throw new Error("Param is not a string");switch(i.toLowerCase()){case"numeric":return t.NUMERIC;case"alphanumeric":return t.ALPHANUMERIC;case"kanji":return t.KANJI;case"byte":return t.BYTE;default:throw new Error("Unknown mode: "+i)}}t.from=function(s,o){if(t.isValid(s))return s;try{return r(s)}catch{return o}}})(uo);(function(t){const e=ir,n=Tm,r=Cm,i=uo,s=vE,o=7973,a=e.getBCHDigit(o);function l(h,y,A){for(let g=1;g<=40;g++)if(y<=t.getCapacity(g,A,h))return g}function c(h,y){return i.getCharCountIndicator(h,y)+4}function d(h,y){let A=0;return h.forEach(function(g){const I=c(g.mode,y);A+=I+g.getBitsLength()}),A}function f(h,y){for(let A=1;A<=40;A++)if(d(h,A)<=t.getCapacity(A,y,i.MIXED))return A}t.from=function(y,A){return s.isValid(y)?parseInt(y,10):A},t.getCapacity=function(y,A,g){if(!s.isValid(y))throw new Error("Invalid QR Code version");typeof g>"u"&&(g=i.BYTE);const I=e.getSymbolTotalCodewords(y),E=n.getTotalCodewordsCount(y,A),v=(I-E)*8;if(g===i.MIXED)return v;const _=v-c(g,y);switch(g){case i.NUMERIC:return Math.floor(_/10*3);case i.ALPHANUMERIC:return Math.floor(_/11*2);case i.KANJI:return Math.floor(_/13);case i.BYTE:default:return Math.floor(_/8)}},t.getBestVersionForData=function(y,A){let g;const I=r.from(A,r.M);if(Array.isArray(y)){if(y.length>1)return f(y,I);if(y.length===0)return 1;g=y[0]}else g=y;return l(g.mode,g.getLength(),I)},t.getEncodedBits=function(y){if(!s.isValid(y)||y<7)throw new Error("Invalid QR Code version");let A=y<<12;for(;e.getBCHDigit(A)-a>=0;)A^=o<<e.getBCHDigit(A)-a;return y<<12|A}})(vP);var EP={};const Lv=ir,CP=1335,f9=21522,XT=Lv.getBCHDigit(CP);EP.getEncodedBits=function(e,n){const r=e.bit<<3|n;let i=r<<10;for(;Lv.getBCHDigit(i)-XT>=0;)i^=CP<<Lv.getBCHDigit(i)-XT;return(r<<10|i)^f9};var TP={};const p9=uo;function Nl(t){this.mode=p9.NUMERIC,this.data=t.toString()}Nl.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)};Nl.prototype.getLength=function(){return this.data.length};Nl.prototype.getBitsLength=function(){return Nl.getBitsLength(this.data.length)};Nl.prototype.write=function(e){let n,r,i;for(n=0;n+3<=this.data.length;n+=3)r=this.data.substr(n,3),i=parseInt(r,10),e.put(i,10);const s=this.data.length-n;s>0&&(r=this.data.substr(n),i=parseInt(r,10),e.put(i,s*3+1))};var m9=Nl;const g9=uo,Fg=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function Dl(t){this.mode=g9.ALPHANUMERIC,this.data=t}Dl.getBitsLength=function(e){return 11*Math.floor(e/2)+6*(e%2)};Dl.prototype.getLength=function(){return this.data.length};Dl.prototype.getBitsLength=function(){return Dl.getBitsLength(this.data.length)};Dl.prototype.write=function(e){let n;for(n=0;n+2<=this.data.length;n+=2){let r=Fg.indexOf(this.data[n])*45;r+=Fg.indexOf(this.data[n+1]),e.put(r,11)}this.data.length%2&&e.put(Fg.indexOf(this.data[n]),6)};var y9=Dl;const v9=uo;function Ml(t){this.mode=v9.BYTE,typeof t=="string"?this.data=new TextEncoder().encode(t):this.data=new Uint8Array(t)}Ml.getBitsLength=function(e){return e*8};Ml.prototype.getLength=function(){return this.data.length};Ml.prototype.getBitsLength=function(){return Ml.getBitsLength(this.data.length)};Ml.prototype.write=function(t){for(let e=0,n=this.data.length;e<n;e++)t.put(this.data[e],8)};var w9=Ml;const E9=uo,C9=ir;function Ol(t){this.mode=E9.KANJI,this.data=t}Ol.getBitsLength=function(e){return e*13};Ol.prototype.getLength=function(){return this.data.length};Ol.prototype.getBitsLength=function(){return Ol.getBitsLength(this.data.length)};Ol.prototype.write=function(t){let e;for(e=0;e<this.data.length;e++){let n=C9.toSJIS(this.data[e]);if(n>=33088&&n<=40956)n-=33088;else if(n>=57408&&n<=60351)n-=49472;else throw new Error("Invalid SJIS character: "+this.data[e]+`
Make sure your charset is UTF-8`);n=(n>>>8&255)*192+(n&255),t.put(n,13)}};var T9=Ol,_P={exports:{}};(function(t){var e={single_source_shortest_paths:function(n,r,i){var s={},o={};o[r]=0;var a=e.PriorityQueue.make();a.push(r,0);for(var l,c,d,f,h,y,A,g,I;!a.empty();){l=a.pop(),c=l.value,f=l.cost,h=n[c]||{};for(d in h)h.hasOwnProperty(d)&&(y=h[d],A=f+y,g=o[d],I=typeof o[d]>"u",(I||g>A)&&(o[d]=A,a.push(d,A),s[d]=c))}if(typeof i<"u"&&typeof o[i]>"u"){var E=["Could not find a path from ",r," to ",i,"."].join("");throw new Error(E)}return s},extract_shortest_path_from_predecessor_list:function(n,r){for(var i=[],s=r;s;)i.push(s),n[s],s=n[s];return i.reverse(),i},find_path:function(n,r,i){var s=e.single_source_shortest_paths(n,r,i);return e.extract_shortest_path_from_predecessor_list(s,i)},PriorityQueue:{make:function(n){var r=e.PriorityQueue,i={},s;n=n||{};for(s in r)r.hasOwnProperty(s)&&(i[s]=r[s]);return i.queue=[],i.sorter=n.sorter||r.default_sorter,i},default_sorter:function(n,r){return n.cost-r.cost},push:function(n,r){var i={value:n,cost:r};this.queue.push(i),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};t.exports=e})(_P);var _9=_P.exports;(function(t){const e=uo,n=m9,r=y9,i=w9,s=T9,o=ci,a=ir,l=_9;function c(E){return unescape(encodeURIComponent(E)).length}function d(E,v,_){const R=[];let O;for(;(O=E.exec(_))!==null;)R.push({data:O[0],index:O.index,mode:v,length:O[0].length});return R}function f(E){const v=d(o.NUMERIC,e.NUMERIC,E),_=d(o.ALPHANUMERIC,e.ALPHANUMERIC,E);let R,O;return a.isKanjiModeEnabled()?(R=d(o.BYTE,e.BYTE,E),O=d(o.KANJI,e.KANJI,E)):(R=d(o.BYTE_KANJI,e.BYTE,E),O=[]),v.concat(_,R,O).sort(function(b,S){return b.index-S.index}).map(function(b){return{data:b.data,mode:b.mode,length:b.length}})}function h(E,v){switch(v){case e.NUMERIC:return n.getBitsLength(E);case e.ALPHANUMERIC:return r.getBitsLength(E);case e.KANJI:return s.getBitsLength(E);case e.BYTE:return i.getBitsLength(E)}}function y(E){return E.reduce(function(v,_){const R=v.length-1>=0?v[v.length-1]:null;return R&&R.mode===_.mode?(v[v.length-1].data+=_.data,v):(v.push(_),v)},[])}function A(E){const v=[];for(let _=0;_<E.length;_++){const R=E[_];switch(R.mode){case e.NUMERIC:v.push([R,{data:R.data,mode:e.ALPHANUMERIC,length:R.length},{data:R.data,mode:e.BYTE,length:R.length}]);break;case e.ALPHANUMERIC:v.push([R,{data:R.data,mode:e.BYTE,length:R.length}]);break;case e.KANJI:v.push([R,{data:R.data,mode:e.BYTE,length:c(R.data)}]);break;case e.BYTE:v.push([{data:R.data,mode:e.BYTE,length:c(R.data)}])}}return v}function g(E,v){const _={},R={start:{}};let O=["start"];for(let B=0;B<E.length;B++){const b=E[B],S=[];for(let k=0;k<b.length;k++){const D=b[k],V=""+B+k;S.push(V),_[V]={node:D,lastCount:0},R[V]={};for(let F=0;F<O.length;F++){const M=O[F];_[M]&&_[M].node.mode===D.mode?(R[M][V]=h(_[M].lastCount+D.length,D.mode)-h(_[M].lastCount,D.mode),_[M].lastCount+=D.length):(_[M]&&(_[M].lastCount=D.length),R[M][V]=h(D.length,D.mode)+4+e.getCharCountIndicator(D.mode,v))}}O=S}for(let B=0;B<O.length;B++)R[O[B]].end=0;return{map:R,table:_}}function I(E,v){let _;const R=e.getBestModeForData(E);if(_=e.from(v,R),_!==e.BYTE&&_.bit<R.bit)throw new Error('"'+E+'" cannot be encoded with mode '+e.toString(_)+`.
 Suggested mode is: `+e.toString(R));switch(_===e.KANJI&&!a.isKanjiModeEnabled()&&(_=e.BYTE),_){case e.NUMERIC:return new n(E);case e.ALPHANUMERIC:return new r(E);case e.KANJI:return new s(E);case e.BYTE:return new i(E)}}t.fromArray=function(v){return v.reduce(function(_,R){return typeof R=="string"?_.push(I(R,null)):R.data&&_.push(I(R.data,R.mode)),_},[])},t.fromString=function(v,_){const R=f(v,a.isKanjiModeEnabled()),O=A(R),B=g(O,_),b=l.find_path(B.map,"start","end"),S=[];for(let k=1;k<b.length-1;k++)S.push(B.table[b[k]].node);return t.fromArray(y(S))},t.rawSplit=function(v){return t.fromArray(f(v,a.isKanjiModeEnabled()))}})(TP);const Am=ir,Bg=Cm,A9=i9,x9=s9,I9=fP,S9=pP,Vv=mP,Fv=Tm,b9=a9,Ep=vP,R9=EP,P9=uo,jg=TP;function k9(t,e){const n=t.size,r=S9.getPositions(e);for(let i=0;i<r.length;i++){const s=r[i][0],o=r[i][1];for(let a=-1;a<=7;a++)if(!(s+a<=-1||n<=s+a))for(let l=-1;l<=7;l++)o+l<=-1||n<=o+l||(a>=0&&a<=6&&(l===0||l===6)||l>=0&&l<=6&&(a===0||a===6)||a>=2&&a<=4&&l>=2&&l<=4?t.set(s+a,o+l,!0,!0):t.set(s+a,o+l,!1,!0))}}function N9(t){const e=t.size;for(let n=8;n<e-8;n++){const r=n%2===0;t.set(n,6,r,!0),t.set(6,n,r,!0)}}function D9(t,e){const n=I9.getPositions(e);for(let r=0;r<n.length;r++){const i=n[r][0],s=n[r][1];for(let o=-2;o<=2;o++)for(let a=-2;a<=2;a++)o===-2||o===2||a===-2||a===2||o===0&&a===0?t.set(i+o,s+a,!0,!0):t.set(i+o,s+a,!1,!0)}}function M9(t,e){const n=t.size,r=Ep.getEncodedBits(e);let i,s,o;for(let a=0;a<18;a++)i=Math.floor(a/3),s=a%3+n-8-3,o=(r>>a&1)===1,t.set(i,s,o,!0),t.set(s,i,o,!0)}function Ug(t,e,n){const r=t.size,i=R9.getEncodedBits(e,n);let s,o;for(s=0;s<15;s++)o=(i>>s&1)===1,s<6?t.set(s,8,o,!0):s<8?t.set(s+1,8,o,!0):t.set(r-15+s,8,o,!0),s<8?t.set(8,r-s-1,o,!0):s<9?t.set(8,15-s-1+1,o,!0):t.set(8,15-s-1,o,!0);t.set(r-8,8,1,!0)}function O9(t,e){const n=t.size;let r=-1,i=n-1,s=7,o=0;for(let a=n-1;a>0;a-=2)for(a===6&&a--;;){for(let l=0;l<2;l++)if(!t.isReserved(i,a-l)){let c=!1;o<e.length&&(c=(e[o]>>>s&1)===1),t.set(i,a-l,c),s--,s===-1&&(o++,s=7)}if(i+=r,i<0||n<=i){i-=r,r=-r;break}}}function L9(t,e,n){const r=new A9;n.forEach(function(l){r.put(l.mode.bit,4),r.put(l.getLength(),P9.getCharCountIndicator(l.mode,t)),l.write(r)});const i=Am.getSymbolTotalCodewords(t),s=Fv.getTotalCodewordsCount(t,e),o=(i-s)*8;for(r.getLengthInBits()+4<=o&&r.put(0,4);r.getLengthInBits()%8!==0;)r.putBit(0);const a=(o-r.getLengthInBits())/8;for(let l=0;l<a;l++)r.put(l%2?17:236,8);return V9(r,t,e)}function V9(t,e,n){const r=Am.getSymbolTotalCodewords(e),i=Fv.getTotalCodewordsCount(e,n),s=r-i,o=Fv.getBlocksCount(e,n),a=r%o,l=o-a,c=Math.floor(r/o),d=Math.floor(s/o),f=d+1,h=c-d,y=new b9(h);let A=0;const g=new Array(o),I=new Array(o);let E=0;const v=new Uint8Array(t.buffer);for(let b=0;b<o;b++){const S=b<l?d:f;g[b]=v.slice(A,A+S),I[b]=y.encode(g[b]),A+=S,E=Math.max(E,S)}const _=new Uint8Array(r);let R=0,O,B;for(O=0;O<E;O++)for(B=0;B<o;B++)O<g[B].length&&(_[R++]=g[B][O]);for(O=0;O<h;O++)for(B=0;B<o;B++)_[R++]=I[B][O];return _}function F9(t,e,n,r){let i;if(Array.isArray(t))i=jg.fromArray(t);else if(typeof t=="string"){let c=e;if(!c){const d=jg.rawSplit(t);c=Ep.getBestVersionForData(d,n)}i=jg.fromString(t,c||40)}else throw new Error("Invalid data");const s=Ep.getBestVersionForData(i,n);if(!s)throw new Error("The amount of data is too big to be stored in a QR Code");if(!e)e=s;else if(e<s)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+s+`.
`);const o=L9(e,n,i),a=Am.getSymbolSize(e),l=new x9(a);return k9(l,e),N9(l),D9(l,e),Ug(l,n,0),e>=7&&M9(l,e),O9(l,o),isNaN(r)&&(r=Vv.getBestMask(l,Ug.bind(null,l,n))),Vv.applyMask(r,l),Ug(l,n,r),{modules:l,version:e,errorCorrectionLevel:n,maskPattern:r,segments:i}}dP.create=function(e,n){if(typeof e>"u"||e==="")throw new Error("No input text");let r=Bg.M,i,s;return typeof n<"u"&&(r=Bg.from(n.errorCorrectionLevel,Bg.M),i=Ep.from(n.version),s=Vv.from(n.maskPattern),n.toSJISFunc&&Am.setToSJISFunction(n.toSJISFunc)),F9(e,i,r,s)};var AP={},wE={};(function(t){function e(n){if(typeof n=="number"&&(n=n.toString()),typeof n!="string")throw new Error("Color should be defined as hex string");let r=n.slice().replace("#","").split("");if(r.length<3||r.length===5||r.length>8)throw new Error("Invalid hex color: "+n);(r.length===3||r.length===4)&&(r=Array.prototype.concat.apply([],r.map(function(s){return[s,s]}))),r.length===6&&r.push("F","F");const i=parseInt(r.join(""),16);return{r:i>>24&255,g:i>>16&255,b:i>>8&255,a:i&255,hex:"#"+r.slice(0,6).join("")}}t.getOptions=function(r){r||(r={}),r.color||(r.color={});const i=typeof r.margin>"u"||r.margin===null||r.margin<0?4:r.margin,s=r.width&&r.width>=21?r.width:void 0,o=r.scale||4;return{width:s,scale:s?4:o,margin:i,color:{dark:e(r.color.dark||"#000000ff"),light:e(r.color.light||"#ffffffff")},type:r.type,rendererOpts:r.rendererOpts||{}}},t.getScale=function(r,i){return i.width&&i.width>=r+i.margin*2?i.width/(r+i.margin*2):i.scale},t.getImageWidth=function(r,i){const s=t.getScale(r,i);return Math.floor((r+i.margin*2)*s)},t.qrToImageData=function(r,i,s){const o=i.modules.size,a=i.modules.data,l=t.getScale(o,s),c=Math.floor((o+s.margin*2)*l),d=s.margin*l,f=[s.color.light,s.color.dark];for(let h=0;h<c;h++)for(let y=0;y<c;y++){let A=(h*c+y)*4,g=s.color.light;if(h>=d&&y>=d&&h<c-d&&y<c-d){const I=Math.floor((h-d)/l),E=Math.floor((y-d)/l);g=f[a[I*o+E]?1:0]}r[A++]=g.r,r[A++]=g.g,r[A++]=g.b,r[A]=g.a}}})(wE);(function(t){const e=wE;function n(i,s,o){i.clearRect(0,0,s.width,s.height),s.style||(s.style={}),s.height=o,s.width=o,s.style.height=o+"px",s.style.width=o+"px"}function r(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}t.render=function(s,o,a){let l=a,c=o;typeof l>"u"&&(!o||!o.getContext)&&(l=o,o=void 0),o||(c=r()),l=e.getOptions(l);const d=e.getImageWidth(s.modules.size,l),f=c.getContext("2d"),h=f.createImageData(d,d);return e.qrToImageData(h.data,s,l),n(f,c,d),f.putImageData(h,0,0),c},t.renderToDataURL=function(s,o,a){let l=a;typeof l>"u"&&(!o||!o.getContext)&&(l=o,o=void 0),l||(l={});const c=t.render(s,o,l),d=l.type||"image/png",f=l.rendererOpts||{};return c.toDataURL(d,f.quality)}})(AP);var xP={};const B9=wE;function e_(t,e){const n=t.a/255,r=e+'="'+t.hex+'"';return n<1?r+" "+e+'-opacity="'+n.toFixed(2).slice(1)+'"':r}function qg(t,e,n){let r=t+e;return typeof n<"u"&&(r+=" "+n),r}function j9(t,e,n){let r="",i=0,s=!1,o=0;for(let a=0;a<t.length;a++){const l=Math.floor(a%e),c=Math.floor(a/e);!l&&!s&&(s=!0),t[a]?(o++,a>0&&l>0&&t[a-1]||(r+=s?qg("M",l+n,.5+c+n):qg("m",i,0),i=0,s=!1),l+1<e&&t[a+1]||(r+=qg("h",o),o=0)):i++}return r}xP.render=function(e,n,r){const i=B9.getOptions(n),s=e.modules.size,o=e.modules.data,a=s+i.margin*2,l=i.color.light.a?"<path "+e_(i.color.light,"fill")+' d="M0 0h'+a+"v"+a+'H0z"/>':"",c="<path "+e_(i.color.dark,"stroke")+' d="'+j9(o,s,i.margin)+'"/>',d='viewBox="0 0 '+a+" "+a+'"',h='<svg xmlns="http://www.w3.org/2000/svg" '+(i.width?'width="'+i.width+'" height="'+i.width+'" ':"")+d+' shape-rendering="crispEdges">'+l+c+`</svg>
`;return typeof r=="function"&&r(null,h),h};const U9=n9,Bv=dP,IP=AP,q9=xP;function EE(t,e,n,r,i){const s=[].slice.call(arguments,1),o=s.length,a=typeof s[o-1]=="function";if(!a&&!U9())throw new Error("Callback required as last argument");if(a){if(o<2)throw new Error("Too few arguments provided");o===2?(i=n,n=e,e=r=void 0):o===3&&(e.getContext&&typeof i>"u"?(i=r,r=void 0):(i=r,r=n,n=e,e=void 0))}else{if(o<1)throw new Error("Too few arguments provided");return o===1?(n=e,e=r=void 0):o===2&&!e.getContext&&(r=n,n=e,e=void 0),new Promise(function(l,c){try{const d=Bv.create(n,r);l(t(d,e,r))}catch(d){c(d)}})}try{const l=Bv.create(n,r);i(null,t(l,e,r))}catch(l){i(l)}}hd.create=Bv.create;hd.toCanvas=EE.bind(null,IP.render);hd.toDataURL=EE.bind(null,IP.renderToDataURL);hd.toString=EE.bind(null,function(t,e,n){return q9.render(t,n)});const G9=({value:t,size:e=200,className:n=""})=>{const r=T.useRef(null);return T.useEffect(()=>{r.current&&hd.toCanvas(r.current,t,{width:e,margin:2,color:{dark:"#000000",light:"#FFFFFF"}})},[t,e]),m.jsx("div",{className:`flex justify-center ${n}`,children:m.jsx("canvas",{ref:r,className:"border-4 border-white rounded-lg shadow-lg"})})};var uf={linear:function(t,e,n,r){var i=n-e;return i*t/r+e},easeInQuad:function(t,e,n,r){var i=n-e;return i*(t/=r)*t+e},easeOutQuad:function(t,e,n,r){var i=n-e;return-i*(t/=r)*(t-2)+e},easeInOutQuad:function(t,e,n,r){var i=n-e;return(t/=r/2)<1?i/2*t*t+e:-i/2*(--t*(t-2)-1)+e},easeInCubic:function(t,e,n,r){var i=n-e;return i*(t/=r)*t*t+e},easeOutCubic:function(t,e,n,r){var i=n-e;return i*((t=t/r-1)*t*t+1)+e},easeInOutCubic:function(t,e,n,r){var i=n-e;return(t/=r/2)<1?i/2*t*t*t+e:i/2*((t-=2)*t*t+2)+e},easeInQuart:function(t,e,n,r){var i=n-e;return i*(t/=r)*t*t*t+e},easeOutQuart:function(t,e,n,r){var i=n-e;return-i*((t=t/r-1)*t*t*t-1)+e},easeInOutQuart:function(t,e,n,r){var i=n-e;return(t/=r/2)<1?i/2*t*t*t*t+e:-i/2*((t-=2)*t*t*t-2)+e},easeInQuint:function(t,e,n,r){var i=n-e;return i*(t/=r)*t*t*t*t+e},easeOutQuint:function(t,e,n,r){var i=n-e;return i*((t=t/r-1)*t*t*t*t+1)+e},easeInOutQuint:function(t,e,n,r){var i=n-e;return(t/=r/2)<1?i/2*t*t*t*t*t+e:i/2*((t-=2)*t*t*t*t+2)+e},easeInSine:function(t,e,n,r){var i=n-e;return-i*Math.cos(t/r*(Math.PI/2))+i+e},easeOutSine:function(t,e,n,r){var i=n-e;return i*Math.sin(t/r*(Math.PI/2))+e},easeInOutSine:function(t,e,n,r){var i=n-e;return-i/2*(Math.cos(Math.PI*t/r)-1)+e},easeInExpo:function(t,e,n,r){var i=n-e;return t==0?e:i*Math.pow(2,10*(t/r-1))+e},easeOutExpo:function(t,e,n,r){var i=n-e;return t==r?e+i:i*(-Math.pow(2,-10*t/r)+1)+e},easeInOutExpo:function(t,e,n,r){var i=n-e;return t===0?e:t===r?e+i:(t/=r/2)<1?i/2*Math.pow(2,10*(t-1))+e:i/2*(-Math.pow(2,-10*--t)+2)+e},easeInCirc:function(t,e,n,r){var i=n-e;return-i*(Math.sqrt(1-(t/=r)*t)-1)+e},easeOutCirc:function(t,e,n,r){var i=n-e;return i*Math.sqrt(1-(t=t/r-1)*t)+e},easeInOutCirc:function(t,e,n,r){var i=n-e;return(t/=r/2)<1?-i/2*(Math.sqrt(1-t*t)-1)+e:i/2*(Math.sqrt(1-(t-=2)*t)+1)+e},easeInElastic:function(t,e,n,r){var i=n-e,s,o,a;return a=1.70158,o=0,s=i,t===0?e:(t/=r)===1?e+i:(o||(o=r*.3),s<Math.abs(i)?(s=i,a=o/4):a=o/(2*Math.PI)*Math.asin(i/s),-(s*Math.pow(2,10*(t-=1))*Math.sin((t*r-a)*(2*Math.PI)/o))+e)},easeOutElastic:function(t,e,n,r){var i=n-e,s,o,a;return a=1.70158,o=0,s=i,t===0?e:(t/=r)===1?e+i:(o||(o=r*.3),s<Math.abs(i)?(s=i,a=o/4):a=o/(2*Math.PI)*Math.asin(i/s),s*Math.pow(2,-10*t)*Math.sin((t*r-a)*(2*Math.PI)/o)+i+e)},easeInOutElastic:function(t,e,n,r){var i=n-e,s,o,a;return a=1.70158,o=0,s=i,t===0?e:(t/=r/2)===2?e+i:(o||(o=r*(.3*1.5)),s<Math.abs(i)?(s=i,a=o/4):a=o/(2*Math.PI)*Math.asin(i/s),t<1?-.5*(s*Math.pow(2,10*(t-=1))*Math.sin((t*r-a)*(2*Math.PI)/o))+e:s*Math.pow(2,-10*(t-=1))*Math.sin((t*r-a)*(2*Math.PI)/o)*.5+i+e)},easeInBack:function(t,e,n,r,i){var s=n-e;return i===void 0&&(i=1.70158),s*(t/=r)*t*((i+1)*t-i)+e},easeOutBack:function(t,e,n,r,i){var s=n-e;return i===void 0&&(i=1.70158),s*((t=t/r-1)*t*((i+1)*t+i)+1)+e},easeInOutBack:function(t,e,n,r,i){var s=n-e;return i===void 0&&(i=1.70158),(t/=r/2)<1?s/2*(t*t*(((i*=1.525)+1)*t-i))+e:s/2*((t-=2)*t*(((i*=1.525)+1)*t+i)+2)+e},easeInBounce:function(t,e,n,r){var i=n-e,s;return s=uf.easeOutBounce(r-t,0,i,r),i-s+e},easeOutBounce:function(t,e,n,r){var i=n-e;return(t/=r)<1/2.75?i*(7.5625*t*t)+e:t<2/2.75?i*(7.5625*(t-=1.5/2.75)*t+.75)+e:t<2.5/2.75?i*(7.5625*(t-=2.25/2.75)*t+.9375)+e:i*(7.5625*(t-=2.625/2.75)*t+.984375)+e},easeInOutBounce:function(t,e,n,r){var i=n-e,s;return t<r/2?(s=uf.easeInBounce(t*2,0,i,r),s*.5+e):(s=uf.easeOutBounce(t*2-r,0,i,r),s*.5+i*.5+e)}},z9=uf;function $9(t){return t*Math.PI/180}function qn(t,e){return t+Math.random()*(e-t)}function W9(t,e){return Math.floor(t+Math.random()*(e-t+1))}var nu;(function(t){t[t.Circle=0]="Circle",t[t.Square=1]="Square",t[t.Strip=2]="Strip"})(nu||(nu={}));var ds;(function(t){t[t.Positive=1]="Positive",t[t.Negative=-1]="Negative"})(ds||(ds={}));const Q9=1e3/60;class Y9{constructor(e,n,r,i){this.getOptions=n;const{colors:s,initialVelocityX:o,initialVelocityY:a}=this.getOptions();this.context=e,this.x=r,this.y=i,this.w=qn(5,20),this.h=qn(5,20),this.radius=qn(5,10),this.vx=typeof o=="number"?qn(-o,o):qn(o.min,o.max),this.vy=typeof a=="number"?qn(-a,0):qn(a.min,a.max),this.shape=W9(0,2),this.angle=$9(qn(0,360)),this.angularSpin=qn(-.2,.2),this.color=s[Math.floor(Math.random()*s.length)],this.rotateY=qn(0,1),this.rotationDirection=qn(0,1)?ds.Positive:ds.Negative}update(e){const{gravity:n,wind:r,friction:i,opacity:s,drawShape:o}=this.getOptions(),a=e/Q9;this.x+=this.vx*a,this.y+=this.vy*a,this.vy+=n*a,this.vx+=r*a,this.vx*=i**a,this.vy*=i**a,this.rotateY>=1&&this.rotationDirection===ds.Positive?this.rotationDirection=ds.Negative:this.rotateY<=-1&&this.rotationDirection===ds.Negative&&(this.rotationDirection=ds.Positive);const l=.1*this.rotationDirection*a;if(this.rotateY+=l,this.angle+=this.angularSpin,this.context.save(),this.context.translate(this.x,this.y),this.context.rotate(this.angle),this.context.scale(1,this.rotateY),this.context.rotate(this.angle),this.context.beginPath(),this.context.fillStyle=this.color,this.context.strokeStyle=this.color,this.context.globalAlpha=s,this.context.lineCap="round",this.context.lineWidth=2,o&&typeof o=="function")o.call(this,this.context);else switch(this.shape){case nu.Circle:{this.context.beginPath(),this.context.arc(0,0,this.radius,0,2*Math.PI),this.context.fill();break}case nu.Square:{this.context.fillRect(-this.w/2,-this.h/2,this.w,this.h);break}case nu.Strip:{this.context.fillRect(-this.w/6,-this.h/2,this.w/3,this.h);break}}this.context.closePath(),this.context.restore()}}class K9{constructor(e,n){this.x=0,this.y=0,this.w=0,this.h=0,this.lastNumberOfPieces=0,this.tweenProgress=0,this.tweenFrom=0,this.particles=[],this.particlesGenerated=0,this.removeParticleAt=i=>{this.particles.splice(i,1)},this.getParticle=()=>{const i=qn(this.x,this.w+this.x),s=qn(this.y,this.h+this.y);return new Y9(this.context,this.getOptions,i,s)},this.animate=i=>{const{canvas:s,context:o,particlesGenerated:a,lastNumberOfPieces:l}=this,{run:c,recycle:d,numberOfPieces:f,debug:h,tweenFunction:y,tweenDuration:A}=this.getOptions();if(!c)return!1;const g=this.particles.length,I=d?g:a;if(I<f){l!==f&&(this.tweenProgress=0,this.tweenFrom=I,this.lastNumberOfPieces=f),this.tweenProgress=Math.min(A,Math.max(0,this.tweenProgress+i));const E=y(this.tweenProgress,this.tweenFrom,f,A),v=Math.round(E-I);for(let _=0;_<v;_++)this.particles.push(this.getParticle());this.particlesGenerated+=v}h&&(o.font="12px sans-serif",o.fillStyle="#333",o.textAlign="right",o.fillText(`Particles: ${g}`,s.width-10,s.height-20));for(let E=this.particles.length-1;E>=0;E--){const v=this.particles[E];v.update(i),(v.y>s.height||v.y<-100||v.x>s.width+100||v.x<-100)&&(d&&I<=f?this.particles[E]=this.getParticle():this.removeParticleAt(E))}return g>0||I<f},this.canvas=e;const r=this.canvas.getContext("2d");if(!r)throw new Error("Could not get canvas context");this.context=r,this.getOptions=n}}const CE={width:typeof window<"u"?window.innerWidth:300,height:typeof window<"u"?window.innerHeight:200,numberOfPieces:200,friction:.99,wind:0,gravity:.1,initialVelocityX:4,initialVelocityY:10,colors:["#f44336","#e91e63","#9c27b0","#673ab7","#3f51b5","#2196f3","#03a9f4","#00bcd4","#009688","#4CAF50","#8BC34A","#CDDC39","#FFEB3B","#FFC107","#FF9800","#FF5722","#795548"],opacity:1,debug:!1,tweenFunction:z9.easeInOutQuad,tweenDuration:5e3,recycle:!0,run:!0};class H9{constructor(e,n){this.lastFrameTime=0,this.setOptionsWithDefaults=i=>{const s={confettiSource:{x:0,y:0,w:this.canvas.width,h:0}};this._options={...s,...CE,...i},Object.assign(this,i.confettiSource)},this.update=(i=0)=>{const{options:{run:s,onConfettiComplete:o,frameRate:a},canvas:l,context:c}=this,d=Math.min(i-this.lastFrameTime,50);if(a&&d<1e3/a){this.rafId=requestAnimationFrame(this.update);return}this.lastFrameTime=i-(a?d%a:0),s&&(c.fillStyle="white",c.clearRect(0,0,l.width,l.height)),this.generator.animate(d)?this.rafId=requestAnimationFrame(this.update):(o&&typeof o=="function"&&this.generator.particlesGenerated>0&&o.call(this,this),this._options.run=!1)},this.reset=()=>{this.generator&&this.generator.particlesGenerated>0&&(this.generator.particlesGenerated=0,this.generator.particles=[],this.generator.lastNumberOfPieces=0)},this.stop=()=>{this.options={run:!1},this.rafId&&(cancelAnimationFrame(this.rafId),this.rafId=void 0)},this.canvas=e;const r=this.canvas.getContext("2d");if(!r)throw new Error("Could not get canvas context");this.context=r,this.generator=new K9(this.canvas,()=>this.options),this.options=n,this.update()}get options(){return this._options}set options(e){var i,s;const n=(i=this._options)==null?void 0:i.run,r=(s=this._options)==null?void 0:s.recycle;this.setOptionsWithDefaults(e),this.generator&&(Object.assign(this.generator,this.options.confettiSource),typeof e.recycle=="boolean"&&e.recycle&&r===!1&&(this.generator.lastNumberOfPieces=this.generator.particles.length)),typeof e.run=="boolean"&&e.run&&n===!1&&this.update()}}const J9=Q.createRef();class TE extends Q.Component{constructor(e){super(e),this.canvas=Q.createRef(),this.canvas=e.canvasRef||J9}componentDidMount(){if(this.canvas.current){const e=Gg(this.props)[0];this.confetti=new H9(this.canvas.current,e)}}componentDidUpdate(){const e=Gg(this.props)[0];this.confetti&&(this.confetti.options=e)}componentWillUnmount(){this.confetti&&this.confetti.stop(),this.confetti=void 0}render(){const[e,n]=Gg(this.props),r={zIndex:2,position:"absolute",pointerEvents:"none",top:0,left:0,bottom:0,right:0,...n.style};return m.jsx("canvas",{width:e.width,height:e.height,ref:this.canvas,...n,style:r})}}TE.defaultProps={...CE};TE.displayName="ReactConfetti";function Gg(t){const e={},n={},r={},i=[...Object.keys(CE),"confettiSource","drawShape","onConfettiComplete","frameRate"],s=["canvasRef"];for(const o in t){const a=t[o];i.includes(o)?e[o]=a:s.includes(o)?s[o]=a:r[o]=a}return[e,r,n]}const jv=Q.forwardRef((t,e)=>m.jsx(TE,{canvasRef:e,...t})),Z9=({value:t,max:e})=>{const n=Math.min(100,Math.max(0,t/e*100)),r=48,i=8,s=r-i/2,o=2*Math.PI*s,a=o-n/100*o;return m.jsx("div",{className:"flex flex-col items-center justify-center",children:m.jsxs("svg",{height:r*2,width:r*2,className:"transform -rotate-90",children:[m.jsx("circle",{stroke:"#374151",fill:"transparent",strokeWidth:i,strokeDasharray:o+" "+o,style:{strokeDashoffset:0},r:s,cx:r,cy:r}),m.jsx("circle",{stroke:"#ef4444",fill:"transparent",strokeWidth:i,strokeDasharray:o+" "+o,style:{strokeDashoffset:a},r:s,cx:r,cy:r})]})})},X9=({users:t,loading:e})=>{const n=i=>{switch(i){case"super_admin":return m.jsx(Hy,{className:"w-4 h-4 text-yellow-500"});case"admin":return m.jsx(AI,{className:"w-4 h-4 text-blue-500"});default:return m.jsx(Jy,{className:"w-4 h-4 text-gray-400"})}},r=i=>{switch(i){case"super_admin":return"text-yellow-400";case"admin":return"text-blue-400";default:return"text-gray-400"}};return e?m.jsxs("div",{className:"flex items-center justify-center py-8",children:[m.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-red-500"}),m.jsx("span",{className:"ml-3 text-gray-400",children:"Loading users..."})]}):t.length===0?m.jsxs("div",{className:"text-center py-8",children:[m.jsx(Jy,{className:"w-12 h-12 text-gray-500 mx-auto mb-4"}),m.jsx("p",{className:"text-gray-400",children:"No users found"})]}):m.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:t.map(i=>{var a;const s=i.purchaseLimit||5,o=Math.min(100,i.purchases/s*100);return m.jsxs("div",{className:"bg-gray-800/60 backdrop-blur-sm border border-gray-700/50 rounded-lg p-4 hover:bg-gray-800/80 transition-all duration-200",children:[m.jsxs("div",{className:"flex items-center justify-between mb-3",children:[m.jsxs("div",{className:"flex items-center space-x-3",children:[m.jsxs("div",{className:"flex items-center space-x-2",children:[n(i.role),m.jsx("span",{className:`text-sm font-medium ${r(i.role)}`,children:(i.role||"").replace("_"," ").toUpperCase()})]}),m.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"})]}),m.jsx("div",{className:"text-right",children:m.jsx("div",{className:"text-sm text-gray-400",children:i.lastScanAt?new Date(i.lastScanAt.toDate()).toLocaleDateString():"Never"})})]}),m.jsx("div",{className:"mb-3",children:m.jsxs("div",{className:"flex items-center justify-between mb-1",children:[m.jsx("span",{className:"font-semibold text-white",children:i.name}),m.jsx("span",{className:"text-sm text-gray-400",children:i.email})]})}),m.jsxs("div",{className:"space-y-2",children:[m.jsxs("div",{className:"flex items-center justify-between text-sm",children:[m.jsx("span",{className:"text-gray-400",children:"Progress:"}),m.jsxs("span",{className:"text-white font-medium",children:[i.purchases,"/",s]})]}),m.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2",children:m.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${o>=100?"bg-green-500":"bg-red-500"}`,style:{width:`${o}%`}})}),m.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[m.jsxs("span",{children:[((a=i.rewards)==null?void 0:a.length)||0," rewards claimed"]}),m.jsx("span",{children:i.isRewardReady?" Ready!":`${s-i.purchases} to go`})]})]})]},i.id)})})},eq=()=>{const{user:t,loading:e,addPurchase:n,logout:r,settings:i,allUsers:s,allUsersLoading:o}=Xl(),a=co(),[l,c]=T.useState(!1),d=Q.useRef(null),[f,h]=T.useState(!1),[y,A]=T.useState(0),[g,I]=T.useState(null),[E,v]=T.useState("progress"),_=(t==null?void 0:t.purchaseLimit)||(i==null?void 0:i.purchaseLimit)||cf;if(T.useEffect(()=>{!e&&!t&&a("/login")},[t,e,a]),T.useEffect(()=>{t&&(I(new Date),d.current!==null&&d.current!==t.purchases&&t.purchases-d.current>0&&(mt({title:"Purchase Updated! ",description:`Your purchase count was updated via QR scan. New total: ${t.purchases}/${_}`}),h(!0),A(b=>b+1),setTimeout(()=>h(!1),2500),t.isRewardReady&&d.current<_&&setTimeout(()=>{mt({title:"Reward Unlocked! ",description:"You've earned a reward! Check your rewards page."}),setTimeout(()=>a("/rewards"),1500)},1e3)),d.current===0&&t.purchases===1&&(c(!0),setTimeout(()=>c(!1),3e3)),d.current=t.purchases)},[t==null?void 0:t.purchases,t==null?void 0:t.isRewardReady,a,_]),e)return m.jsx("div",{className:"min-h-screen bg-gradient-to-br from-black via-gray-900 to-red-950 flex items-center justify-center",children:m.jsxs("div",{className:"text-center",children:[m.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-500 mx-auto mb-4"}),m.jsx("p",{className:"text-white text-lg",children:"Loading..."})]})});if(!t)return null;const R=Math.max(0,_-t.purchases),O=()=>{r(),mt({title:"Logged Out",description:"Thanks for visiting Vape Master!"}),a("/")};return m.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-black via-gray-900 to-red-950 relative overflow-hidden",children:[f&&m.jsx(jv,{width:window.innerWidth,height:window.innerHeight,numberOfPieces:200,recycle:!1},y),m.jsxs("div",{className:"bg-gray-900/80 backdrop-blur-sm border-b border-red-900/30 sticky top-0 z-10",children:[m.jsxs("div",{className:"p-6 flex items-center justify-between",children:[m.jsxs("div",{className:"flex items-center",children:[m.jsx(ai,{to:"/",className:"text-red-400 hover:text-red-300 transition-colors",children:m.jsx(Bl,{className:"w-6 h-6"})}),m.jsx("h1",{className:"ml-4 text-2xl font-bold text-white",children:"Dashboard"})]}),m.jsxs("div",{className:"flex gap-2",children:[(t.role==="admin"||t.role==="super_admin")&&m.jsxs(m.Fragment,{children:[m.jsx(Dt,{onClick:()=>a("/scan"),variant:"outline",className:"border-green-500 text-green-400 hover:bg-green-500 hover:text-white",children:"Scan"}),m.jsx(Dt,{onClick:()=>a("/settings"),variant:"outline",className:"border-blue-500 text-blue-400 hover:bg-blue-500 hover:text-white",children:"Settings"})]}),t.role==="super_admin"&&m.jsx(Dt,{onClick:()=>a("/users"),variant:"outline",className:"border-purple-500 text-purple-400 hover:bg-purple-500 hover:text-white",children:"Users"}),m.jsx(Dt,{onClick:O,variant:"outline",className:"border-red-500 text-red-400 hover:bg-red-500 hover:text-white",children:"Logout"})]})]}),m.jsx("div",{className:"flex-1 px-6 pb-6",children:m.jsxs("div",{className:"max-w-md mx-auto",children:[m.jsxs("div",{className:"bg-gray-900/80 backdrop-blur-sm border border-red-900/30 rounded-2xl p-6 text-center",children:[m.jsxs("h2",{className:"text-2xl font-bold text-white mb-2",children:["Welcome, ",t.name,"!"]}),m.jsx("p",{className:"text-gray-400",children:"Your loyalty card is ready to use"}),g&&m.jsxs("div",{className:"mt-2 flex items-center justify-center text-sm text-gray-500",children:[m.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mr-2 animate-pulse"}),"Last updated: ",g.toLocaleTimeString()]})]}),m.jsx("div",{className:"w-full flex justify-center mt-6",children:m.jsx("div",{className:"flex w-full max-w-md",children:t.role==="customer"?m.jsxs(m.Fragment,{children:[m.jsx("button",{className:`w-1/2 px-6 py-5 font-semibold text-base transition-all duration-200 focus:outline-none border-b-2 border-r-0 border-l-0 border-t-0 rounded-none ${E==="progress"?"bg-gray-900/80 border-red-500 text-red-400":"bg-gray-800/60 border-transparent text-gray-400 hover:text-red-300"}`,onClick:()=>v("progress"),children:"Progress"}),m.jsx("button",{className:`w-1/2 px-6 py-5 font-semibold text-base transition-all duration-200 focus:outline-none border-b-2 border-r-0 border-l-0 border-t-0 rounded-none ${E==="card"?"bg-gray-900/80 border-red-500 text-red-400":"bg-gray-800/60 border-transparent text-gray-400 hover:text-red-300"}`,onClick:()=>v("card"),children:"Loyalty Card"})]}):m.jsxs(m.Fragment,{children:[m.jsx("button",{className:`w-1/2 px-6 py-5 font-semibold text-base transition-all duration-200 focus:outline-none border-b-2 border-r-0 border-l-0 border-t-0 rounded-none ${E==="progress"?"bg-gray-900/80 border-red-500 text-red-400":"bg-gray-800/60 border-transparent text-gray-400 hover:text-red-300"}`,onClick:()=>v("progress"),children:"Users"}),m.jsx("button",{className:`w-1/2 px-6 py-5 font-semibold text-base transition-all duration-200 focus:outline-none border-b-2 border-r-0 border-l-0 border-t-0 rounded-none ${E==="card"?"bg-gray-900/80 border-red-500 text-red-400":"bg-gray-800/60 border-transparent text-gray-400 hover:text-red-300"}`,onClick:()=>v("card"),children:"Loyalty Card"})]})})}),E==="progress"&&m.jsx(m.Fragment,{children:t.role==="customer"?m.jsxs("div",{className:"relative overflow-hidden bg-gradient-to-br from-gray-900/90 via-black/80 to-red-950/90 border border-red-900/40 rounded-none p-10 min-h-[460px] flex flex-col justify-center -mt-0 shadow-2xl",children:[m.jsxs("div",{className:"absolute inset-0 z-0 pointer-events-none",children:[m.jsx("div",{className:"absolute -top-20 -left-20 w-96 h-96 bg-gradient-to-br from-red-500/30 via-pink-500/20 to-purple-700/10 rounded-full blur-3xl animate-pulse",style:{animationDuration:"4s"}}),m.jsx("div",{className:"absolute bottom-0 right-0 w-80 h-80 bg-gradient-to-tr from-blue-500/20 via-cyan-400/10 to-purple-700/10 rounded-full blur-2xl animate-pulse delay-1000",style:{animationDuration:"6s"}}),m.jsx("div",{className:"absolute top-1/2 left-1/2 w-1/2 h-1/2 bg-gradient-radial from-red-400/10 via-transparent to-transparent rounded-full blur-2xl animate-pulse",style:{animationDuration:"7s"}})]}),m.jsxs("div",{className:"relative z-10 flex flex-col items-center justify-center h-full",children:[m.jsx("h3",{className:"text-3xl font-extrabold text-white mb-2 tracking-tight drop-shadow-[0_0_16px_#ef4444cc] animate-fadeIn",children:"Your Progress"}),m.jsxs("div",{className:"flex flex-col items-center justify-center mb-6 animate-fadeIn",children:[m.jsxs("div",{className:"relative flex items-center justify-center",children:[m.jsx("div",{className:"absolute w-36 h-36 rounded-full bg-gradient-to-tr from-red-500/40 via-pink-400/20 to-purple-700/10 blur-2xl animate-pulse",style:{animationDuration:"3s"}}),m.jsx(Z9,{value:t.purchases,max:_}),m.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:m.jsx("span",{className:"text-4xl mb-5 mr-3 font-extrabold text-white drop-shadow-[0_2px_8px_#000a] animate-pulse",children:t.purchases})})]}),m.jsx("div",{className:"mt-2 flex flex-col items-center",children:m.jsxs("span",{className:"text-base text-gray-300 font-semibold tracking-wide",children:["of ",_," Purchases"]})})]}),m.jsxs("div",{className:"text-center space-y-4",children:[m.jsx("p",{className:"text-gray-400 text-sm max-w-xs",children:t.purchases>=_?" You've earned a reward! Check your rewards page.":(i==null?void 0:i.descriptionMessage)||`Complete ${R} more purchase${R===1?"":"s"} to unlock your reward.`}),t.isRewardReady&&m.jsx(Dt,{onClick:()=>a("/rewards"),className:"bg-gradient-to-r from-red-600 to-red-700 hover:from-red-700 hover:to-red-800 text-white font-semibold px-8 py-3 rounded-lg shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105",children:"View Reward "})]})]})]}):m.jsxs("div",{className:"bg-gradient-to-br from-gray-900/90 via-black/80 to-red-950/90 border border-red-900/40 rounded-none p-6 min-h-[460px] -mt-0 shadow-2xl",children:[m.jsxs("div",{className:"mb-4",children:[m.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:"User Progress Tracking"}),m.jsx("p",{className:"text-gray-400 text-sm",children:"Real-time updates of all user loyalty progress"})]}),m.jsx(X9,{users:s.filter(B=>B.role==="customer"),loading:o})]})}),E==="card"&&m.jsx("div",{className:"bg-gradient-to-br from-gray-900/90 via-black/80 to-red-950/90 border border-red-900/40 rounded-none p-10 min-h-[460px] flex flex-col justify-center -mt-0 shadow-2xl",children:m.jsxs("div",{className:"text-center",children:[m.jsx("h3",{className:"text-2xl font-bold text-white mb-6",children:"Your Loyalty Card"}),m.jsx("div",{className:"flex justify-center mb-6",children:m.jsx(G9,{value:`LOYALTY:${t.email}:${t.id}`,size:200})}),m.jsx("p",{className:"text-gray-400 text-sm",children:"Show this QR code to staff to earn loyalty points"})]})})]})})]})]})},tq=()=>{const{user:t,useReward:e}=Xl(),n=co(),[r,i]=T.useState(!1),[s,o]=T.useState(!1),[a,l]=T.useState(!1),[c,d]=T.useState(30),[f,h]=T.useState(!1),[y,A]=T.useState(!1),[g,I]=T.useState(!0),E=T.useRef(null);return T.useEffect(()=>(t?t.isRewardReady?(A(!0),setTimeout(()=>A(!1),3e3),E.current=setInterval(()=>{I(!1),setTimeout(()=>I(!0),100)},3500)):n("/dashboard"):n("/login"),()=>{E.current&&clearInterval(E.current)}),[t,n]),T.useEffect(()=>{if(!(!t||r||f))if(t.isRewardReady&&c>0){const v=setInterval(()=>{d(_=>_-1)},1e3);return()=>clearInterval(v)}else c===0&&t.isRewardReady&&(h(!0),setTimeout(()=>{e(),n("/dashboard")},2e3))},[t,c,r,f,e,n]),T.useEffect(()=>{let v;return a&&(v=setTimeout(()=>l(!1),2500)),()=>clearTimeout(v)},[a]),T.useEffect(()=>{let v;return s&&(v=setTimeout(()=>o(!1),2500)),()=>clearTimeout(v)},[s]),!t||!t.isRewardReady?null:f?m.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gradient-to-br from-black via-gray-900 to-red-950",children:m.jsxs("div",{className:"bg-gradient-to-r from-red-700/80 to-black/80 rounded-2xl p-10 shadow-2xl text-center",children:[m.jsx("div",{className:"text-6xl mb-4",children:""}),m.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:"Reward expired"}),m.jsx("p",{className:"text-red-200 text-lg",children:"Start collecting again."})]})}):r?m.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-black via-gray-900 to-red-950 flex flex-col items-center justify-center relative overflow-hidden",children:[s&&m.jsx(jv,{width:window.innerWidth,height:window.innerHeight,numberOfPieces:400,recycle:!1}),m.jsxs("div",{className:"bg-gradient-to-r from-green-600/80 to-green-400/80 backdrop-blur-sm border border-green-900/30 rounded-2xl p-10 shadow-2xl text-center",children:[m.jsx("div",{className:"text-6xl mb-4",children:""}),m.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:"Reward Redeemed!"}),m.jsx("p",{className:"text-green-200 text-lg",children:"Your reward has been used."}),m.jsx("p",{className:"text-white/80 mt-2",children:"Your scan count has been reset. Start earning your next reward!"}),m.jsx("button",{className:"mt-8 px-6 py-3 bg-gradient-to-r from-red-600 to-red-700 text-white font-semibold rounded-lg shadow-lg hover:from-red-700 hover:to-red-800 transition-all duration-300",onClick:()=>n("/dashboard"),children:"Back to Dashboard"})]})]}):m.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center relative overflow-hidden bg-gradient-to-br from-black via-red-900 to-orange-900 animate-shimmer",children:[m.jsx("style",{children:`
        @keyframes shimmer {
          0% { background-position: 0% 50%; }
          100% { background-position: 100% 50%; }
        }
        .animate-shimmer {
          background-size: 200% 200%;
          animation: shimmer 8s linear infinite;
        }
        @keyframes fire {
          0% { transform: scaleY(1) translateY(0); opacity: 1; }
          50% { transform: scaleY(1.1) translateY(-10px); opacity: 0.85; }
          100% { transform: scaleY(1) translateY(0); opacity: 1; }
        }
        .fire-flame {
          animation: fire 1.2s infinite alternate cubic-bezier(0.4,0,0.2,1);
        }
        @keyframes lightning {
          0%, 97%, 100% { opacity: 0; }
          98% { opacity: 1; }
          99% { opacity: 0.5; }
        }
        .lightning {
          animation: lightning 4s infinite;
        }
      `}),g&&m.jsx(jv,{width:window.innerWidth,height:window.innerHeight,numberOfPieces:180,recycle:!1,colors:["#ef4444","#fff","#facc15","#ff9800","#a3e635"],style:{position:"fixed",left:0,top:0,zIndex:40}}),m.jsxs("div",{className:"pointer-events-none",children:[m.jsx("div",{className:"absolute top-0 left-0 w-24 h-24 lightning",style:{boxShadow:"0 0 60px 20px #fff8"}}),m.jsx("div",{className:"absolute top-0 right-0 w-24 h-24 lightning",style:{boxShadow:"0 0 60px 20px #fff8"}}),m.jsx("div",{className:"absolute bottom-0 left-0 w-24 h-24 lightning",style:{boxShadow:"0 0 60px 20px #fff8"}}),m.jsx("div",{className:"absolute bottom-0 right-0 w-24 h-24 lightning",style:{boxShadow:"0 0 60px 20px #fff8"}})]}),m.jsx("div",{className:"absolute bottom-0 left-0 w-full flex justify-center items-end z-30 pointer-events-none",children:[...Array(12)].map((v,_)=>m.jsx("div",{className:"fire-flame",style:{width:`${16+Math.random()*16}px`,height:`${40+Math.random()*32}px`,marginLeft:4,marginRight:4,borderRadius:"50% 50% 40% 40%",background:"radial-gradient(circle at 50% 30%, #ff9800 60%, #ef4444 100%)",opacity:.7+Math.random()*.3,filter:"blur(1.5px)",animationDelay:`${Math.random()}s`}},_))}),m.jsxs("div",{className:"relative z-20 bg-gradient-to-r from-red-700/80 to-black/80 rounded-2xl p-10 shadow-2xl text-center animate-bounceIn",children:[m.jsx("div",{className:"text-6xl mb-4 animate-bounce",children:""}),m.jsx("h2",{className:"text-3xl font-extrabold text-white mb-2 animate-pulse drop-shadow-[0_0_16px_#ff9800]",children:"You Got 20% OFF! "}),m.jsx("p",{className:"text-red-200 text-lg mb-6 animate-fadeIn",children:"Show this at checkout to redeem your reward."}),m.jsx("button",{className:"mt-8 px-6 py-3 bg-gradient-to-r from-red-600 to-red-700 text-white font-semibold rounded-lg shadow-lg hover:from-red-700 hover:to-red-800 transition-all duration-300",onClick:()=>{e(),n("/dashboard")},children:"Back to Dashboard"})]})]})},nq=()=>{const{user:t,loading:e,settings:n,settingsLoading:r,updateSettings:i}=Xl(),s=co(),[o,a]=T.useState(5),[l,c]=T.useState(""),[d,f]=T.useState(!1);if(T.useEffect(()=>{!e&&(!t||t.role!=="admin"&&t.role!=="super_admin")&&s("/dashboard")},[t,e,s]),T.useEffect(()=>{n&&(a(n.purchaseLimit),c(n.descriptionMessage))},[n]),e||r)return m.jsx("div",{className:"min-h-screen bg-gradient-to-br from-black via-gray-900 to-red-950 flex items-center justify-center",children:m.jsxs("div",{className:"text-center",children:[m.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-500 mx-auto mb-4"}),m.jsx("p",{className:"text-white text-lg",children:"Loading..."})]})});if(!t||t.role!=="admin"&&t.role!=="super_admin")return null;const h=async()=>{if(o<1){mt({title:"Invalid Purchase Limit",description:"Purchase limit must be at least 1",variant:"destructive"});return}if(!l.trim()){mt({title:"Missing Description",description:"Please enter a description message",variant:"destructive"});return}f(!0);try{await i(o,l.trim()),mt({title:"Settings Updated",description:"Global settings have been saved successfully!"})}catch(y){console.error("Error updating settings:",y),mt({title:"Update Failed",description:"Failed to update settings. Please try again.",variant:"destructive"})}finally{f(!1)}};return m.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-black via-gray-900 to-red-950 relative overflow-hidden",children:[m.jsxs("div",{className:"absolute inset-0 opacity-10",children:[m.jsx("div",{className:"absolute top-20 right-10 w-40 h-40 bg-red-500 rounded-full blur-3xl animate-pulse"}),m.jsx("div",{className:"absolute bottom-32 left-10 w-32 h-32 bg-red-600 rounded-full blur-3xl animate-pulse delay-1000"})]}),m.jsxs("div",{className:"relative z-10 min-h-screen flex flex-col",children:[m.jsx("div",{className:"bg-gray-900/80 backdrop-blur-sm border-b border-red-900/30 sticky top-0 z-10",children:m.jsxs("div",{className:"p-6 flex items-center justify-between",children:[m.jsxs("div",{className:"flex items-center",children:[m.jsx(ai,{to:"/dashboard",className:"text-red-400 hover:text-red-300 transition-colors",children:m.jsx(Bl,{className:"w-6 h-6"})}),m.jsx("h1",{className:"ml-4 text-2xl font-bold text-white",children:"Settings"})]}),m.jsxs("div",{className:"flex items-center text-gray-400",children:[m.jsx(A4,{className:"w-6 h-6 mr-2"}),m.jsx("span",{className:"text-sm",children:"Admin Panel"})]})]})}),m.jsx("div",{className:"flex-1 flex items-center justify-center px-6 py-8",children:m.jsx("div",{className:"w-full max-w-2xl",children:m.jsxs("div",{className:"bg-gray-900/80 backdrop-blur-sm border border-red-900/30 rounded-2xl p-8 shadow-2xl",children:[m.jsxs("div",{className:"text-center mb-8",children:[m.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:"Global Settings"}),m.jsx("p",{className:"text-gray-400",children:"Configure loyalty program settings for new users"})]}),m.jsxs("div",{className:"space-y-8",children:[m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx(Pi,{htmlFor:"purchaseLimit",className:"text-white text-lg font-semibold",children:"Purchase Limit"}),m.jsxs("div",{className:"text-sm text-gray-400",children:["Current: ",(n==null?void 0:n.purchaseLimit)||5]})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(Bo,{id:"purchaseLimit",type:"number",min:"1",max:"50",value:o,onChange:y=>a(parseInt(y.target.value)||1),className:"bg-gray-800/50 border-gray-700 text-white placeholder-gray-400 focus:border-red-500 text-lg",placeholder:"Enter purchase limit"}),m.jsx("p",{className:"text-sm text-gray-400",children:"Number of purchases required for new users to earn a reward"})]})]}),m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx(Pi,{htmlFor:"descriptionMessage",className:"text-white text-lg font-semibold",children:"Description Message"}),m.jsxs("div",{className:"text-sm text-gray-400",children:[l.length,"/200"]})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(mE,{id:"descriptionMessage",value:l,onChange:y=>c(y.target.value),maxLength:200,className:"bg-gray-800/50 border-gray-700 text-white placeholder-gray-400 focus:border-red-500 min-h-[120px] resize-none",placeholder:"Enter description message for new users..."}),m.jsx("p",{className:"text-sm text-gray-400",children:"This message will be shown to new users on their dashboard"})]})]}),n&&m.jsxs("div",{className:"bg-gray-800/50 border border-gray-700 rounded-lg p-4",children:[m.jsx("h3",{className:"text-white font-semibold mb-2",children:"Current Settings"}),m.jsxs("div",{className:"space-y-1 text-sm text-gray-300",children:[m.jsxs("div",{children:["Purchase Limit: ",n.purchaseLimit]}),m.jsxs("div",{children:["Description: ",n.descriptionMessage]}),m.jsxs("div",{children:["Last Updated:"," ",n.updatedAt.toDate().toLocaleString()]}),m.jsxs("div",{children:["Updated By: ",n.updatedBy]})]})]}),m.jsx("div",{className:"flex justify-center pt-4",children:m.jsx(Dt,{onClick:h,disabled:d,className:"bg-gradient-to-r from-red-600 to-red-700 hover:from-red-700 hover:to-red-800 text-white font-semibold px-8 py-3 rounded-lg shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105 disabled:opacity-50",children:d?m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Saving..."]}):m.jsxs(m.Fragment,{children:[m.jsx(_4,{className:"w-4 h-4 mr-2"}),"Save Settings"]})})}),m.jsxs("div",{className:"bg-blue-900/20 border border-blue-700/30 rounded-lg p-4",children:[m.jsx("h4",{className:"text-blue-300 font-semibold mb-2",children:" Important Note"}),m.jsx("p",{className:"text-blue-200 text-sm",children:"These settings will only affect new users who register after the changes are saved. Existing users will keep their original purchase limits to maintain fairness."})]})]})]})})})]})]})};function t_(t,[e,n]){return Math.min(n,Math.max(e,t))}var rq=T.createContext(void 0);function iq(t){const e=T.useContext(rq);return t||e||"ltr"}var zg=0;function sq(){T.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??n_()),document.body.insertAdjacentElement("beforeend",t[1]??n_()),zg++,()=>{zg===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),zg--}},[])}function n_(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var $g="focusScope.autoFocusOnMount",Wg="focusScope.autoFocusOnUnmount",r_={bubbles:!1,cancelable:!0},oq="FocusScope",SP=T.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...o}=t,[a,l]=T.useState(null),c=er(i),d=er(s),f=T.useRef(null),h=At(e,g=>l(g)),y=T.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;T.useEffect(()=>{if(r){let g=function(_){if(y.paused||!a)return;const R=_.target;a.contains(R)?f.current=R:ls(f.current,{select:!0})},I=function(_){if(y.paused||!a)return;const R=_.relatedTarget;R!==null&&(a.contains(R)||ls(f.current,{select:!0}))},E=function(_){if(document.activeElement===document.body)for(const O of _)O.removedNodes.length>0&&ls(a)};document.addEventListener("focusin",g),document.addEventListener("focusout",I);const v=new MutationObserver(E);return a&&v.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",I),v.disconnect()}}},[r,a,y.paused]),T.useEffect(()=>{if(a){s_.add(y);const g=document.activeElement;if(!a.contains(g)){const E=new CustomEvent($g,r_);a.addEventListener($g,c),a.dispatchEvent(E),E.defaultPrevented||(aq(hq(bP(a)),{select:!0}),document.activeElement===g&&ls(a))}return()=>{a.removeEventListener($g,c),setTimeout(()=>{const E=new CustomEvent(Wg,r_);a.addEventListener(Wg,d),a.dispatchEvent(E),E.defaultPrevented||ls(g??document.body,{select:!0}),a.removeEventListener(Wg,d),s_.remove(y)},0)}}},[a,c,d,y]);const A=T.useCallback(g=>{if(!n&&!r||y.paused)return;const I=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,E=document.activeElement;if(I&&E){const v=g.currentTarget,[_,R]=lq(v);_&&R?!g.shiftKey&&E===R?(g.preventDefault(),n&&ls(_,{select:!0})):g.shiftKey&&E===_&&(g.preventDefault(),n&&ls(R,{select:!0})):E===v&&g.preventDefault()}},[n,r,y.paused]);return m.jsx(nt.div,{tabIndex:-1,...o,ref:h,onKeyDown:A})});SP.displayName=oq;function aq(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(ls(r,{select:e}),document.activeElement!==n)return}function lq(t){const e=bP(t),n=i_(e,t),r=i_(e.reverse(),t);return[n,r]}function bP(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function i_(t,e){for(const n of t)if(!cq(n,{upTo:e}))return n}function cq(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function uq(t){return t instanceof HTMLInputElement&&"select"in t}function ls(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&uq(t)&&e&&t.select()}}var s_=dq();function dq(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=o_(t,e),t.unshift(e)},remove(e){var n;t=o_(t,e),(n=t[0])==null||n.resume()}}}function o_(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function hq(t){return t.filter(e=>e.tagName!=="A")}function fq(t){const e=T.useRef({value:t,previous:t});return T.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var pq=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Ia=new WeakMap,Nh=new WeakMap,Dh={},Qg=0,RP=function(t){return t&&(t.host||RP(t.parentNode))},mq=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=RP(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},gq=function(t,e,n,r){var i=mq(e,Array.isArray(t)?t:[t]);Dh[n]||(Dh[n]=new WeakMap);var s=Dh[n],o=[],a=new Set,l=new Set(i),c=function(f){!f||a.has(f)||(a.add(f),c(f.parentNode))};i.forEach(c);var d=function(f){!f||l.has(f)||Array.prototype.forEach.call(f.children,function(h){if(a.has(h))d(h);else try{var y=h.getAttribute(r),A=y!==null&&y!=="false",g=(Ia.get(h)||0)+1,I=(s.get(h)||0)+1;Ia.set(h,g),s.set(h,I),o.push(h),g===1&&A&&Nh.set(h,!0),I===1&&h.setAttribute(n,"true"),A||h.setAttribute(r,"true")}catch(E){console.error("aria-hidden: cannot operate on ",h,E)}})};return d(e),a.clear(),Qg++,function(){o.forEach(function(f){var h=Ia.get(f)-1,y=s.get(f)-1;Ia.set(f,h),s.set(f,y),h||(Nh.has(f)||f.removeAttribute(r),Nh.delete(f)),y||f.removeAttribute(n)}),Qg--,Qg||(Ia=new WeakMap,Ia=new WeakMap,Nh=new WeakMap,Dh={})}},yq=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=pq(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),gq(r,i,n,"aria-hidden")):function(){return null}},df="right-scroll-bar-position",hf="width-before-scroll-bar",vq="with-scroll-bars-hidden",wq="--removed-body-scroll-bar-size";function Yg(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function Eq(t,e){var n=T.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var Cq=typeof window<"u"?T.useLayoutEffect:T.useEffect,a_=new WeakMap;function Tq(t,e){var n=Eq(null,function(r){return t.forEach(function(i){return Yg(i,r)})});return Cq(function(){var r=a_.get(n);if(r){var i=new Set(r),s=new Set(t),o=n.current;i.forEach(function(a){s.has(a)||Yg(a,null)}),s.forEach(function(a){i.has(a)||Yg(a,o)})}a_.set(n,t)},[t]),n}function _q(t){return t}function Aq(t,e){e===void 0&&(e=_q);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(s){var o=e(s,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(s){for(r=!0;n.length;){var o=n;n=[],o.forEach(s)}n={push:function(a){return s(a)},filter:function(){return n}}},assignMedium:function(s){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(s),o=n}var l=function(){var d=o;o=[],d.forEach(s)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(d){o.push(d),c()},filter:function(d){return o=o.filter(d),n}}}};return i}function xq(t){t===void 0&&(t={});var e=Aq(null);return e.options=Hr({async:!0,ssr:!1},t),e}var PP=function(t){var e=t.sideCar,n=id(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return T.createElement(r,Hr({},n))};PP.isSideCarExport=!0;function Iq(t,e){return t.useMedium(e),PP}var kP=xq(),Kg=function(){},xm=T.forwardRef(function(t,e){var n=T.useRef(null),r=T.useState({onScrollCapture:Kg,onWheelCapture:Kg,onTouchMoveCapture:Kg}),i=r[0],s=r[1],o=t.forwardProps,a=t.children,l=t.className,c=t.removeScrollBar,d=t.enabled,f=t.shards,h=t.sideCar,y=t.noIsolation,A=t.inert,g=t.allowPinchZoom,I=t.as,E=I===void 0?"div":I,v=t.gapMode,_=id(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),R=h,O=Tq([n,e]),B=Hr(Hr({},_),i);return T.createElement(T.Fragment,null,d&&T.createElement(R,{sideCar:kP,removeScrollBar:c,shards:f,noIsolation:y,inert:A,setCallbacks:s,allowPinchZoom:!!g,lockRef:n,gapMode:v}),o?T.cloneElement(T.Children.only(a),Hr(Hr({},B),{ref:O})):T.createElement(E,Hr({},B,{className:l,ref:O}),a))});xm.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};xm.classNames={fullWidth:hf,zeroRight:df};var Sq=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function bq(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=Sq();return e&&t.setAttribute("nonce",e),t}function Rq(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function Pq(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var kq=function(){var t=0,e=null;return{add:function(n){t==0&&(e=bq())&&(Rq(e,n),Pq(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},Nq=function(){var t=kq();return function(e,n){T.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},NP=function(){var t=Nq(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},Dq={left:0,top:0,right:0,gap:0},Hg=function(t){return parseInt(t||"",10)||0},Mq=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[Hg(n),Hg(r),Hg(i)]},Oq=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return Dq;var e=Mq(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},Lq=NP(),sl="data-scroll-locked",Vq=function(t,e,n,r){var i=t.left,s=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(vq,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(sl,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(df,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(hf,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(df," .").concat(df,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(hf," .").concat(hf,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(sl,`] {
    `).concat(wq,": ").concat(a,`px;
  }
`)},l_=function(){var t=parseInt(document.body.getAttribute(sl)||"0",10);return isFinite(t)?t:0},Fq=function(){T.useEffect(function(){return document.body.setAttribute(sl,(l_()+1).toString()),function(){var t=l_()-1;t<=0?document.body.removeAttribute(sl):document.body.setAttribute(sl,t.toString())}},[])},Bq=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;Fq();var s=T.useMemo(function(){return Oq(i)},[i]);return T.createElement(Lq,{styles:Vq(s,!e,i,n?"":"!important")})},Uv=!1;if(typeof window<"u")try{var Mh=Object.defineProperty({},"passive",{get:function(){return Uv=!0,!0}});window.addEventListener("test",Mh,Mh),window.removeEventListener("test",Mh,Mh)}catch{Uv=!1}var Sa=Uv?{passive:!1}:!1,jq=function(t){return t.tagName==="TEXTAREA"},DP=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!jq(t)&&n[e]==="visible")},Uq=function(t){return DP(t,"overflowY")},qq=function(t){return DP(t,"overflowX")},c_=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=MP(t,r);if(i){var s=OP(t,r),o=s[1],a=s[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},Gq=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},zq=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},MP=function(t,e){return t==="v"?Uq(e):qq(e)},OP=function(t,e){return t==="v"?Gq(e):zq(e)},$q=function(t,e){return t==="h"&&e==="rtl"?-1:1},Wq=function(t,e,n,r,i){var s=$q(t,window.getComputedStyle(e).direction),o=s*r,a=n.target,l=e.contains(a),c=!1,d=o>0,f=0,h=0;do{var y=OP(t,a),A=y[0],g=y[1],I=y[2],E=g-I-s*A;(A||E)&&MP(t,a)&&(f+=E,h+=A),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(d&&(Math.abs(f)<1||!i)||!d&&(Math.abs(h)<1||!i))&&(c=!0),c},Oh=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},u_=function(t){return[t.deltaX,t.deltaY]},d_=function(t){return t&&"current"in t?t.current:t},Qq=function(t,e){return t[0]===e[0]&&t[1]===e[1]},Yq=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},Kq=0,ba=[];function Hq(t){var e=T.useRef([]),n=T.useRef([0,0]),r=T.useRef(),i=T.useState(Kq++)[0],s=T.useState(NP)[0],o=T.useRef(t);T.useEffect(function(){o.current=t},[t]),T.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var g=e5([t.lockRef.current],(t.shards||[]).map(d_),!0).filter(Boolean);return g.forEach(function(I){return I.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),g.forEach(function(I){return I.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var a=T.useCallback(function(g,I){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!o.current.allowPinchZoom;var E=Oh(g),v=n.current,_="deltaX"in g?g.deltaX:v[0]-E[0],R="deltaY"in g?g.deltaY:v[1]-E[1],O,B=g.target,b=Math.abs(_)>Math.abs(R)?"h":"v";if("touches"in g&&b==="h"&&B.type==="range")return!1;var S=c_(b,B);if(!S)return!0;if(S?O=b:(O=b==="v"?"h":"v",S=c_(b,B)),!S)return!1;if(!r.current&&"changedTouches"in g&&(_||R)&&(r.current=O),!O)return!0;var k=r.current||O;return Wq(k,I,g,k==="h"?_:R,!0)},[]),l=T.useCallback(function(g){var I=g;if(!(!ba.length||ba[ba.length-1]!==s)){var E="deltaY"in I?u_(I):Oh(I),v=e.current.filter(function(O){return O.name===I.type&&(O.target===I.target||I.target===O.shadowParent)&&Qq(O.delta,E)})[0];if(v&&v.should){I.cancelable&&I.preventDefault();return}if(!v){var _=(o.current.shards||[]).map(d_).filter(Boolean).filter(function(O){return O.contains(I.target)}),R=_.length>0?a(I,_[0]):!o.current.noIsolation;R&&I.cancelable&&I.preventDefault()}}},[]),c=T.useCallback(function(g,I,E,v){var _={name:g,delta:I,target:E,should:v,shadowParent:Jq(E)};e.current.push(_),setTimeout(function(){e.current=e.current.filter(function(R){return R!==_})},1)},[]),d=T.useCallback(function(g){n.current=Oh(g),r.current=void 0},[]),f=T.useCallback(function(g){c(g.type,u_(g),g.target,a(g,t.lockRef.current))},[]),h=T.useCallback(function(g){c(g.type,Oh(g),g.target,a(g,t.lockRef.current))},[]);T.useEffect(function(){return ba.push(s),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",l,Sa),document.addEventListener("touchmove",l,Sa),document.addEventListener("touchstart",d,Sa),function(){ba=ba.filter(function(g){return g!==s}),document.removeEventListener("wheel",l,Sa),document.removeEventListener("touchmove",l,Sa),document.removeEventListener("touchstart",d,Sa)}},[]);var y=t.removeScrollBar,A=t.inert;return T.createElement(T.Fragment,null,A?T.createElement(s,{styles:Yq(i)}):null,y?T.createElement(Bq,{gapMode:t.gapMode}):null)}function Jq(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const Zq=Iq(kP,Hq);var LP=T.forwardRef(function(t,e){return T.createElement(xm,Hr({},t,{ref:e,sideCar:Zq}))});LP.classNames=xm.classNames;var Xq=[" ","Enter","ArrowUp","ArrowDown"],eG=[" ","Enter"],pd="Select",[Im,Sm,tG]=Kx(pd),[ec,K7]=J0(pd,[tG,mm]),bm=mm(),[nG,ho]=ec(pd),[rG,iG]=ec(pd),VP=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:i,onOpenChange:s,value:o,defaultValue:a,onValueChange:l,dir:c,name:d,autoComplete:f,disabled:h,required:y,form:A}=t,g=bm(e),[I,E]=T.useState(null),[v,_]=T.useState(null),[R,O]=T.useState(!1),B=iq(c),[b=!1,S]=Wy({prop:r,defaultProp:i,onChange:s}),[k,D]=Wy({prop:o,defaultProp:a,onChange:l}),V=T.useRef(null),F=I?A||!!I.closest("form"):!0,[M,ee]=T.useState(new Set),ie=Array.from(M).map(re=>re.props.value).join(";");return m.jsx(oU,{...g,children:m.jsxs(nG,{required:y,scope:e,trigger:I,onTriggerChange:E,valueNode:v,onValueNodeChange:_,valueNodeHasChildren:R,onValueNodeHasChildrenChange:O,contentId:tE(),value:k,onValueChange:D,open:b,onOpenChange:S,dir:B,triggerPointerDownPosRef:V,disabled:h,children:[m.jsx(Im.Provider,{scope:e,children:m.jsx(rG,{scope:t.__scopeSelect,onNativeOptionAdd:T.useCallback(re=>{ee(pe=>new Set(pe).add(re))},[]),onNativeOptionRemove:T.useCallback(re=>{ee(pe=>{const G=new Set(pe);return G.delete(re),G})},[]),children:n})}),F?m.jsxs(lk,{"aria-hidden":!0,required:y,tabIndex:-1,name:d,autoComplete:f,value:k,onChange:re=>D(re.target.value),disabled:h,form:A,children:[k===void 0?m.jsx("option",{value:""}):null,Array.from(M)]},ie):null]})})};VP.displayName=pd;var FP="SelectTrigger",BP=T.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...i}=t,s=bm(n),o=ho(FP,n),a=o.disabled||r,l=At(e,o.onTriggerChange),c=Sm(n),d=T.useRef("touch"),[f,h,y]=ck(g=>{const I=c().filter(_=>!_.disabled),E=I.find(_=>_.value===o.value),v=uk(I,g,E);v!==void 0&&o.onValueChange(v.value)}),A=g=>{a||(o.onOpenChange(!0),y()),g&&(o.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return m.jsx(DR,{asChild:!0,...s,children:m.jsx(nt.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":ak(o.value)?"":void 0,...i,ref:l,onClick:Be(i.onClick,g=>{g.currentTarget.focus(),d.current!=="mouse"&&A(g)}),onPointerDown:Be(i.onPointerDown,g=>{d.current=g.pointerType;const I=g.target;I.hasPointerCapture(g.pointerId)&&I.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(A(g),g.preventDefault())}),onKeyDown:Be(i.onKeyDown,g=>{const I=f.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&h(g.key),!(I&&g.key===" ")&&Xq.includes(g.key)&&(A(),g.preventDefault())})})})});BP.displayName=FP;var jP="SelectValue",UP=T.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,children:s,placeholder:o="",...a}=t,l=ho(jP,n),{onValueNodeHasChildrenChange:c}=l,d=s!==void 0,f=At(e,l.onValueNodeChange);return gn(()=>{c(d)},[c,d]),m.jsx(nt.span,{...a,ref:f,style:{pointerEvents:"none"},children:ak(l.value)?m.jsx(m.Fragment,{children:o}):s})});UP.displayName=jP;var sG="SelectIcon",qP=T.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...i}=t;return m.jsx(nt.span,{"aria-hidden":!0,...i,ref:e,children:r||""})});qP.displayName=sG;var oG="SelectPortal",GP=t=>m.jsx(Z0,{asChild:!0,...t});GP.displayName=oG;var Zo="SelectContent",zP=T.forwardRef((t,e)=>{const n=ho(Zo,t.__scopeSelect),[r,i]=T.useState();if(gn(()=>{i(new DocumentFragment)},[]),!n.open){const s=r;return s?ta.createPortal(m.jsx($P,{scope:t.__scopeSelect,children:m.jsx(Im.Slot,{scope:t.__scopeSelect,children:m.jsx("div",{children:t.children})})}),s):null}return m.jsx(WP,{...t,ref:e})});zP.displayName=Zo;var Ir=10,[$P,fo]=ec(Zo),aG="SelectContentImpl",WP=T.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:s,onPointerDownOutside:o,side:a,sideOffset:l,align:c,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:y,sticky:A,hideWhenDetached:g,avoidCollisions:I,...E}=t,v=ho(Zo,n),[_,R]=T.useState(null),[O,B]=T.useState(null),b=At(e,te=>R(te)),[S,k]=T.useState(null),[D,V]=T.useState(null),F=Sm(n),[M,ee]=T.useState(!1),ie=T.useRef(!1);T.useEffect(()=>{if(_)return yq(_)},[_]),sq();const re=T.useCallback(te=>{const[ge,...Ie]=F().map(Ee=>Ee.ref.current),[we]=Ie.slice(-1),Ae=document.activeElement;for(const Ee of te)if(Ee===Ae||(Ee==null||Ee.scrollIntoView({block:"nearest"}),Ee===ge&&O&&(O.scrollTop=0),Ee===we&&O&&(O.scrollTop=O.scrollHeight),Ee==null||Ee.focus(),document.activeElement!==Ae))return},[F,O]),pe=T.useCallback(()=>re([S,_]),[re,S,_]);T.useEffect(()=>{M&&pe()},[M,pe]);const{onOpenChange:G,triggerPointerDownPosRef:Z}=v;T.useEffect(()=>{if(_){let te={x:0,y:0};const ge=we=>{var Ae,Ee;te={x:Math.abs(Math.round(we.pageX)-(((Ae=Z.current)==null?void 0:Ae.x)??0)),y:Math.abs(Math.round(we.pageY)-(((Ee=Z.current)==null?void 0:Ee.y)??0))}},Ie=we=>{te.x<=10&&te.y<=10?we.preventDefault():_.contains(we.target)||G(!1),document.removeEventListener("pointermove",ge),Z.current=null};return Z.current!==null&&(document.addEventListener("pointermove",ge),document.addEventListener("pointerup",Ie,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ge),document.removeEventListener("pointerup",Ie,{capture:!0})}}},[_,G,Z]),T.useEffect(()=>{const te=()=>G(!1);return window.addEventListener("blur",te),window.addEventListener("resize",te),()=>{window.removeEventListener("blur",te),window.removeEventListener("resize",te)}},[G]);const[ae,se]=ck(te=>{const ge=F().filter(Ae=>!Ae.disabled),Ie=ge.find(Ae=>Ae.ref.current===document.activeElement),we=uk(ge,te,Ie);we&&setTimeout(()=>we.ref.current.focus())}),ue=T.useCallback((te,ge,Ie)=>{const we=!ie.current&&!Ie;(v.value!==void 0&&v.value===ge||we)&&(k(te),we&&(ie.current=!0))},[v.value]),he=T.useCallback(()=>_==null?void 0:_.focus(),[_]),Pe=T.useCallback((te,ge,Ie)=>{const we=!ie.current&&!Ie;(v.value!==void 0&&v.value===ge||we)&&V(te)},[v.value]),De=r==="popper"?qv:QP,Te=De===qv?{side:a,sideOffset:l,align:c,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:y,sticky:A,hideWhenDetached:g,avoidCollisions:I}:{};return m.jsx($P,{scope:n,content:_,viewport:O,onViewportChange:B,itemRefCallback:ue,selectedItem:S,onItemLeave:he,itemTextRefCallback:Pe,focusSelectedItem:pe,selectedItemText:D,position:r,isPositioned:M,searchRef:ae,children:m.jsx(LP,{as:_l,allowPinchZoom:!0,children:m.jsx(SP,{asChild:!0,trapped:v.open,onMountAutoFocus:te=>{te.preventDefault()},onUnmountAutoFocus:Be(i,te=>{var ge;(ge=v.trigger)==null||ge.focus({preventScroll:!0}),te.preventDefault()}),children:m.jsx(Bp,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:te=>te.preventDefault(),onDismiss:()=>v.onOpenChange(!1),children:m.jsx(De,{role:"listbox",id:v.contentId,"data-state":v.open?"open":"closed",dir:v.dir,onContextMenu:te=>te.preventDefault(),...E,...Te,onPlaced:()=>ee(!0),ref:b,style:{display:"flex",flexDirection:"column",outline:"none",...E.style},onKeyDown:Be(E.onKeyDown,te=>{const ge=te.ctrlKey||te.altKey||te.metaKey;if(te.key==="Tab"&&te.preventDefault(),!ge&&te.key.length===1&&se(te.key),["ArrowUp","ArrowDown","Home","End"].includes(te.key)){let we=F().filter(Ae=>!Ae.disabled).map(Ae=>Ae.ref.current);if(["ArrowUp","End"].includes(te.key)&&(we=we.slice().reverse()),["ArrowUp","ArrowDown"].includes(te.key)){const Ae=te.target,Ee=we.indexOf(Ae);we=we.slice(Ee+1)}setTimeout(()=>re(we)),te.preventDefault()}})})})})})})});WP.displayName=aG;var lG="SelectItemAlignedPosition",QP=T.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...i}=t,s=ho(Zo,n),o=fo(Zo,n),[a,l]=T.useState(null),[c,d]=T.useState(null),f=At(e,b=>d(b)),h=Sm(n),y=T.useRef(!1),A=T.useRef(!0),{viewport:g,selectedItem:I,selectedItemText:E,focusSelectedItem:v}=o,_=T.useCallback(()=>{if(s.trigger&&s.valueNode&&a&&c&&g&&I&&E){const b=s.trigger.getBoundingClientRect(),S=c.getBoundingClientRect(),k=s.valueNode.getBoundingClientRect(),D=E.getBoundingClientRect();if(s.dir!=="rtl"){const Ae=D.left-S.left,Ee=k.left-Ae,de=b.left-Ee,ye=b.width+de,ct=Math.max(ye,S.width),rt=window.innerWidth-Ir,bt=t_(Ee,[Ir,Math.max(Ir,rt-ct)]);a.style.minWidth=ye+"px",a.style.left=bt+"px"}else{const Ae=S.right-D.right,Ee=window.innerWidth-k.right-Ae,de=window.innerWidth-b.right-Ee,ye=b.width+de,ct=Math.max(ye,S.width),rt=window.innerWidth-Ir,bt=t_(Ee,[Ir,Math.max(Ir,rt-ct)]);a.style.minWidth=ye+"px",a.style.right=bt+"px"}const V=h(),F=window.innerHeight-Ir*2,M=g.scrollHeight,ee=window.getComputedStyle(c),ie=parseInt(ee.borderTopWidth,10),re=parseInt(ee.paddingTop,10),pe=parseInt(ee.borderBottomWidth,10),G=parseInt(ee.paddingBottom,10),Z=ie+re+M+G+pe,ae=Math.min(I.offsetHeight*5,Z),se=window.getComputedStyle(g),ue=parseInt(se.paddingTop,10),he=parseInt(se.paddingBottom,10),Pe=b.top+b.height/2-Ir,De=F-Pe,Te=I.offsetHeight/2,te=I.offsetTop+Te,ge=ie+re+te,Ie=Z-ge;if(ge<=Pe){const Ae=V.length>0&&I===V[V.length-1].ref.current;a.style.bottom="0px";const Ee=c.clientHeight-g.offsetTop-g.offsetHeight,de=Math.max(De,Te+(Ae?he:0)+Ee+pe),ye=ge+de;a.style.height=ye+"px"}else{const Ae=V.length>0&&I===V[0].ref.current;a.style.top="0px";const de=Math.max(Pe,ie+g.offsetTop+(Ae?ue:0)+Te)+Ie;a.style.height=de+"px",g.scrollTop=ge-Pe+g.offsetTop}a.style.margin=`${Ir}px 0`,a.style.minHeight=ae+"px",a.style.maxHeight=F+"px",r==null||r(),requestAnimationFrame(()=>y.current=!0)}},[h,s.trigger,s.valueNode,a,c,g,I,E,s.dir,r]);gn(()=>_(),[_]);const[R,O]=T.useState();gn(()=>{c&&O(window.getComputedStyle(c).zIndex)},[c]);const B=T.useCallback(b=>{b&&A.current===!0&&(_(),v==null||v(),A.current=!1)},[_,v]);return m.jsx(uG,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:y,onScrollButtonChange:B,children:m.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:R},children:m.jsx(nt.div,{...i,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});QP.displayName=lG;var cG="SelectPopperPosition",qv=T.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=Ir,...s}=t,o=bm(n);return m.jsx(MR,{...o,...s,ref:e,align:r,collisionPadding:i,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});qv.displayName=cG;var[uG,_E]=ec(Zo,{}),Gv="SelectViewport",YP=T.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...i}=t,s=fo(Gv,n),o=_E(Gv,n),a=At(e,s.onViewportChange),l=T.useRef(0);return m.jsxs(m.Fragment,{children:[m.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),m.jsx(Im.Slot,{scope:n,children:m.jsx(nt.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:Be(i.onScroll,c=>{const d=c.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=o;if(h!=null&&h.current&&f){const y=Math.abs(l.current-d.scrollTop);if(y>0){const A=window.innerHeight-Ir*2,g=parseFloat(f.style.minHeight),I=parseFloat(f.style.height),E=Math.max(g,I);if(E<A){const v=E+y,_=Math.min(A,v),R=v-_;f.style.height=_+"px",f.style.bottom==="0px"&&(d.scrollTop=R>0?R:0,f.style.justifyContent="flex-end")}}}l.current=d.scrollTop})})})]})});YP.displayName=Gv;var KP="SelectGroup",[dG,hG]=ec(KP),fG=T.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=tE();return m.jsx(dG,{scope:n,id:i,children:m.jsx(nt.div,{role:"group","aria-labelledby":i,...r,ref:e})})});fG.displayName=KP;var HP="SelectLabel",JP=T.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=hG(HP,n);return m.jsx(nt.div,{id:i.id,...r,ref:e})});JP.displayName=HP;var Cp="SelectItem",[pG,ZP]=ec(Cp),XP=T.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:s,...o}=t,a=ho(Cp,n),l=fo(Cp,n),c=a.value===r,[d,f]=T.useState(s??""),[h,y]=T.useState(!1),A=At(e,v=>{var _;return(_=l.itemRefCallback)==null?void 0:_.call(l,v,r,i)}),g=tE(),I=T.useRef("touch"),E=()=>{i||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return m.jsx(pG,{scope:n,value:r,disabled:i,textId:g,isSelected:c,onItemTextChange:T.useCallback(v=>{f(_=>_||((v==null?void 0:v.textContent)??"").trim())},[]),children:m.jsx(Im.ItemSlot,{scope:n,value:r,disabled:i,textValue:d,children:m.jsx(nt.div,{role:"option","aria-labelledby":g,"data-highlighted":h?"":void 0,"aria-selected":c&&h,"data-state":c?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...o,ref:A,onFocus:Be(o.onFocus,()=>y(!0)),onBlur:Be(o.onBlur,()=>y(!1)),onClick:Be(o.onClick,()=>{I.current!=="mouse"&&E()}),onPointerUp:Be(o.onPointerUp,()=>{I.current==="mouse"&&E()}),onPointerDown:Be(o.onPointerDown,v=>{I.current=v.pointerType}),onPointerMove:Be(o.onPointerMove,v=>{var _;I.current=v.pointerType,i?(_=l.onItemLeave)==null||_.call(l):I.current==="mouse"&&v.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Be(o.onPointerLeave,v=>{var _;v.currentTarget===document.activeElement&&((_=l.onItemLeave)==null||_.call(l))}),onKeyDown:Be(o.onKeyDown,v=>{var R;((R=l.searchRef)==null?void 0:R.current)!==""&&v.key===" "||(eG.includes(v.key)&&E(),v.key===" "&&v.preventDefault())})})})})});XP.displayName=Cp;var Oc="SelectItemText",ek=T.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,...s}=t,o=ho(Oc,n),a=fo(Oc,n),l=ZP(Oc,n),c=iG(Oc,n),[d,f]=T.useState(null),h=At(e,E=>f(E),l.onItemTextChange,E=>{var v;return(v=a.itemTextRefCallback)==null?void 0:v.call(a,E,l.value,l.disabled)}),y=d==null?void 0:d.textContent,A=T.useMemo(()=>m.jsx("option",{value:l.value,disabled:l.disabled,children:y},l.value),[l.disabled,l.value,y]),{onNativeOptionAdd:g,onNativeOptionRemove:I}=c;return gn(()=>(g(A),()=>I(A)),[g,I,A]),m.jsxs(m.Fragment,{children:[m.jsx(nt.span,{id:l.textId,...s,ref:h}),l.isSelected&&o.valueNode&&!o.valueNodeHasChildren?ta.createPortal(s.children,o.valueNode):null]})});ek.displayName=Oc;var tk="SelectItemIndicator",nk=T.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return ZP(tk,n).isSelected?m.jsx(nt.span,{"aria-hidden":!0,...r,ref:e}):null});nk.displayName=tk;var zv="SelectScrollUpButton",rk=T.forwardRef((t,e)=>{const n=fo(zv,t.__scopeSelect),r=_E(zv,t.__scopeSelect),[i,s]=T.useState(!1),o=At(e,r.onScrollButtonChange);return gn(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=l.scrollTop>0;s(c)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),i?m.jsx(sk,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop-l.offsetHeight)}}):null});rk.displayName=zv;var $v="SelectScrollDownButton",ik=T.forwardRef((t,e)=>{const n=fo($v,t.__scopeSelect),r=_E($v,t.__scopeSelect),[i,s]=T.useState(!1),o=At(e,r.onScrollButtonChange);return gn(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=l.scrollHeight-l.clientHeight,d=Math.ceil(l.scrollTop)<c;s(d)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),i?m.jsx(sk,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop+l.offsetHeight)}}):null});ik.displayName=$v;var sk=T.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=t,s=fo("SelectScrollButton",n),o=T.useRef(null),a=Sm(n),l=T.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return T.useEffect(()=>()=>l(),[l]),gn(()=>{var d;const c=a().find(f=>f.ref.current===document.activeElement);(d=c==null?void 0:c.ref.current)==null||d.scrollIntoView({block:"nearest"})},[a]),m.jsx(nt.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:Be(i.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:Be(i.onPointerMove,()=>{var c;(c=s.onItemLeave)==null||c.call(s),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:Be(i.onPointerLeave,()=>{l()})})}),mG="SelectSeparator",ok=T.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return m.jsx(nt.div,{"aria-hidden":!0,...r,ref:e})});ok.displayName=mG;var Wv="SelectArrow",gG=T.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=bm(n),s=ho(Wv,n),o=fo(Wv,n);return s.open&&o.position==="popper"?m.jsx(OR,{...i,...r,ref:e}):null});gG.displayName=Wv;function ak(t){return t===""||t===void 0}var lk=T.forwardRef((t,e)=>{const{value:n,...r}=t,i=T.useRef(null),s=At(e,i),o=fq(n);return T.useEffect(()=>{const a=i.current,l=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==n&&d){const f=new Event("change",{bubbles:!0});d.call(a,n),a.dispatchEvent(f)}},[o,n]),m.jsx(Wu,{asChild:!0,children:m.jsx("select",{...r,ref:s,defaultValue:n})})});lk.displayName="BubbleSelect";function ck(t){const e=er(t),n=T.useRef(""),r=T.useRef(0),i=T.useCallback(o=>{const a=n.current+o;e(a),function l(c){n.current=c,window.clearTimeout(r.current),c!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(a)},[e]),s=T.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return T.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,s]}function uk(t,e,n){const i=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,s=n?t.indexOf(n):-1;let o=yG(t,Math.max(s,0));i.length===1&&(o=o.filter(c=>c!==n));const l=o.find(c=>c.textValue.toLowerCase().startsWith(i.toLowerCase()));return l!==n?l:void 0}function yG(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var vG=VP,dk=BP,wG=UP,EG=qP,CG=GP,hk=zP,TG=YP,fk=JP,pk=XP,_G=ek,AG=nk,mk=rk,gk=ik,yk=ok;const xG=vG,IG=wG,vk=T.forwardRef(({className:t,children:e,...n},r)=>m.jsxs(dk,{ref:r,className:Ut("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,m.jsx(EG,{asChild:!0,children:m.jsx(TI,{className:"h-4 w-4 opacity-50"})})]}));vk.displayName=dk.displayName;const wk=T.forwardRef(({className:t,...e},n)=>m.jsx(mk,{ref:n,className:Ut("flex cursor-default items-center justify-center py-1",t),...e,children:m.jsx(C4,{className:"h-4 w-4"})}));wk.displayName=mk.displayName;const Ek=T.forwardRef(({className:t,...e},n)=>m.jsx(gk,{ref:n,className:Ut("flex cursor-default items-center justify-center py-1",t),...e,children:m.jsx(TI,{className:"h-4 w-4"})}));Ek.displayName=gk.displayName;const Ck=T.forwardRef(({className:t,children:e,position:n="popper",...r},i)=>m.jsx(CG,{children:m.jsxs(hk,{ref:i,className:Ut("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[m.jsx(wk,{}),m.jsx(TG,{className:Ut("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),m.jsx(Ek,{})]})}));Ck.displayName=hk.displayName;const SG=T.forwardRef(({className:t,...e},n)=>m.jsx(fk,{ref:n,className:Ut("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));SG.displayName=fk.displayName;const ff=T.forwardRef(({className:t,children:e,...n},r)=>m.jsxs(pk,{ref:r,className:Ut("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[m.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:m.jsx(AG,{children:m.jsx(E4,{className:"h-4 w-4"})})}),m.jsx(_G,{children:e})]}));ff.displayName=pk.displayName;const bG=T.forwardRef(({className:t,...e},n)=>m.jsx(yk,{ref:n,className:Ut("-mx-1 my-1 h-px bg-muted",t),...e}));bG.displayName=yk.displayName;const RG=()=>{const{user:t,loading:e,updateUserRole:n}=Xl(),r=co(),[i,s]=T.useState([]),[o,a]=T.useState(!0),[l,c]=T.useState(null),[d,f]=T.useState(null),[h,y]=T.useState(null);if(T.useEffect(()=>{!e&&(!t||t.role!=="super_admin")&&r("/dashboard")},[t,e,r]),T.useEffect(()=>{const v=async()=>{if(!(!t||t.role!=="super_admin"))try{const _=np(xn,"users"),R=sp(_,_b("createdAt","desc")),O=await Cv(R),B=[];O.forEach(b=>{const S=b.data();B.push({id:b.id,name:S.name,email:S.email,role:S.role||"customer",purchases:S.purchases||0,createdAt:S.createdAt})}),s(B)}catch(_){console.error("Error loading users:",_),mt({title:"Error",description:"Failed to load users",variant:"destructive"})}finally{a(!1)}};(t==null?void 0:t.role)==="super_admin"&&v()},[t]),e)return m.jsx("div",{className:"min-h-screen bg-gradient-to-br from-black via-gray-900 to-red-950 flex items-center justify-center",children:m.jsxs("div",{className:"text-center",children:[m.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-500 mx-auto mb-4"}),m.jsx("p",{className:"text-white text-lg",children:"Loading..."})]})});if(!t||t.role!=="super_admin")return null;const A=async(v,_)=>{if(v===t.id){mt({title:"Cannot Update Own Role",description:"You cannot change your own role",variant:"destructive"});return}c(v);try{await n(v,_),mt({title:"Role Updated",description:"User role has been updated successfully!"}),s(R=>R.map(O=>O.id===v?{...O,role:_}:O))}catch(R){console.error("Error updating role:",R),mt({title:"Update Failed",description:"Failed to update user role. Please try again.",variant:"destructive"})}finally{c(null)}},g=async v=>{f(v);try{await YB(zr(xn,"users",v)),s(_=>_.filter(R=>R.id!==v)),mt({title:"User Deleted",description:"The user has been deleted successfully."})}catch(_){console.error("Error deleting user:",_),mt({title:"Delete Failed",description:"Failed to delete user. Please try again.",variant:"destructive"})}finally{f(null),y(null)}},I=v=>{switch(v){case"super_admin":return m.jsx(Hy,{className:"w-4 h-4 text-yellow-500"});case"admin":return m.jsx(AI,{className:"w-4 h-4 text-blue-500"});case"customer":return m.jsx($1,{className:"w-4 h-4 text-gray-500"});default:return m.jsx($1,{className:"w-4 h-4 text-gray-500"})}},E=v=>{switch(v){case"super_admin":return"text-yellow-500 bg-yellow-500/10 border-yellow-500/20";case"admin":return"text-blue-500 bg-blue-500/10 border-blue-500/20";case"customer":return"text-gray-500 bg-gray-500/10 border-gray-500/20";default:return"text-gray-500 bg-gray-500/10 border-gray-500/20"}};return m.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-black via-gray-900 to-red-950 relative overflow-hidden",children:[m.jsxs("div",{className:"absolute inset-0 opacity-10",children:[m.jsx("div",{className:"absolute top-20 right-10 w-40 h-40 bg-red-500 rounded-full blur-3xl animate-pulse"}),m.jsx("div",{className:"absolute bottom-32 left-10 w-32 h-32 bg-red-600 rounded-full blur-3xl animate-pulse delay-1000"})]}),m.jsxs("div",{className:"relative z-10 min-h-screen flex flex-col",children:[m.jsx("div",{className:"bg-gray-900/80 backdrop-blur-sm border-b border-red-900/30 sticky top-0 z-10",children:m.jsxs("div",{className:"p-6 flex items-center justify-between",children:[m.jsxs("div",{className:"flex items-center",children:[m.jsx(ai,{to:"/dashboard",className:"text-red-400 hover:text-red-300 transition-colors",children:m.jsx(Bl,{className:"w-6 h-6"})}),m.jsx("h1",{className:"ml-4 text-2xl font-bold text-white",children:"User Management"})]}),m.jsxs("div",{className:"flex items-center text-gray-400",children:[m.jsx(Hy,{className:"w-6 h-6 mr-2 text-yellow-500"}),m.jsx("span",{className:"text-sm",children:"Super Admin Panel"})]})]})}),m.jsx("div",{className:"flex-1 px-6 py-8",children:m.jsx("div",{className:"max-w-4xl mx-auto",children:m.jsxs("div",{className:"bg-gray-900/80 backdrop-blur-sm border border-red-900/30 rounded-2xl p-8 shadow-2xl",children:[m.jsxs("div",{className:"text-center mb-8",children:[m.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:"Manage Users"}),m.jsx("p",{className:"text-gray-400",children:"Update user roles and permissions"})]}),o?m.jsxs("div",{className:"text-center py-8",children:[m.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-red-500 mx-auto mb-4"}),m.jsx("p",{className:"text-white",children:"Loading users..."})]}):m.jsx("div",{className:"space-y-4",children:i.map(v=>m.jsxs("div",{className:"bg-gray-800/50 border border-gray-700 rounded-lg p-4 flex items-center justify-between",children:[m.jsx("div",{className:"flex items-center space-x-4",children:m.jsxs("div",{className:"flex items-center space-x-3",children:[I(v.role),m.jsxs("div",{children:[m.jsx("h3",{className:"text-white font-semibold",children:v.name}),m.jsx("p",{className:"text-gray-400 text-sm",children:v.email}),m.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[m.jsx("span",{className:`text-xs px-2 py-1 rounded-full border ${E(v.role)}`,children:v.role.replace("_"," ").toUpperCase()}),m.jsxs("span",{className:"text-gray-500 text-xs",children:[v.purchases," purchases"]})]})]})]})}),m.jsxs("div",{className:"flex items-center space-x-3",children:[v.id!==t.id&&m.jsxs(m.Fragment,{children:[m.jsxs(xG,{value:v.role,onValueChange:_=>A(v.id,_),disabled:l===v.id,children:[m.jsx(vk,{className:"w-32 bg-gray-700 border-gray-600 text-white",children:m.jsx(IG,{})}),m.jsxs(Ck,{className:"bg-gray-800 border-gray-700",children:[m.jsx(ff,{value:"customer",children:"Customer"}),m.jsx(ff,{value:"admin",children:"Admin"}),m.jsx(ff,{value:"super_admin",children:"Super Admin"})]})]}),m.jsx(Dt,{variant:"destructive",size:"sm",className:"ml-2",disabled:d===v.id,onClick:()=>y({id:v.id,name:v.name}),children:d===v.id?"Deleting...":"Delete"})]}),v.id===t.id&&m.jsx("span",{className:"text-gray-500 text-sm",children:"Current User"})]})]},v.id))}),i.length===0&&!o&&m.jsxs("div",{className:"text-center py-8",children:[m.jsx(Jy,{className:"w-12 h-12 text-gray-500 mx-auto mb-4"}),m.jsx("p",{className:"text-gray-400",children:"No users found"})]})]})})})]}),h&&m.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60",children:m.jsxs("div",{className:"bg-gray-900 rounded-lg p-8 border border-red-700 shadow-xl w-full max-w-sm",children:[m.jsx("h2",{className:"text-lg font-bold text-white mb-4",children:"Confirm Delete"}),m.jsxs("p",{className:"text-gray-300 mb-6",children:["Are you sure you want to delete"," ",m.jsx("span",{className:"font-semibold text-red-400",children:h.name}),"? This action cannot be undone."]}),m.jsxs("div",{className:"flex justify-end space-x-3",children:[m.jsx(Dt,{variant:"ghost",onClick:()=>y(null),className:"text-gray-300 hover:text-white",children:"Cancel"}),m.jsx(Dt,{variant:"destructive",onClick:()=>g(h.id),disabled:d===h.id,children:d===h.id?"Deleting...":"Delete"})]})]})})]})},PG=()=>{const t=dd();return T.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),m.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:m.jsxs("div",{className:"text-center",children:[m.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),m.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),m.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})};let Tk=!0,_k=!0;function Lc(t,e,n){const r=t.match(e);return r&&r.length>=n&&parseFloat(r[n],10)}function aa(t,e,n){if(!t.RTCPeerConnection)return;const r=t.RTCPeerConnection.prototype,i=r.addEventListener;r.addEventListener=function(o,a){if(o!==e)return i.apply(this,arguments);const l=c=>{const d=n(c);d&&(a.handleEvent?a.handleEvent(d):a(d))};return this._eventMap=this._eventMap||{},this._eventMap[e]||(this._eventMap[e]=new Map),this._eventMap[e].set(a,l),i.apply(this,[o,l])};const s=r.removeEventListener;r.removeEventListener=function(o,a){if(o!==e||!this._eventMap||!this._eventMap[e])return s.apply(this,arguments);if(!this._eventMap[e].has(a))return s.apply(this,arguments);const l=this._eventMap[e].get(a);return this._eventMap[e].delete(a),this._eventMap[e].size===0&&delete this._eventMap[e],Object.keys(this._eventMap).length===0&&delete this._eventMap,s.apply(this,[o,l])},Object.defineProperty(r,"on"+e,{get(){return this["_on"+e]},set(o){this["_on"+e]&&(this.removeEventListener(e,this["_on"+e]),delete this["_on"+e]),o&&this.addEventListener(e,this["_on"+e]=o)},enumerable:!0,configurable:!0})}function kG(t){return typeof t!="boolean"?new Error("Argument type: "+typeof t+". Please use a boolean."):(Tk=t,t?"adapter.js logging disabled":"adapter.js logging enabled")}function NG(t){return typeof t!="boolean"?new Error("Argument type: "+typeof t+". Please use a boolean."):(_k=!t,"adapter.js deprecation warnings "+(t?"disabled":"enabled"))}function Ak(){if(typeof window=="object"){if(Tk)return;typeof console<"u"&&typeof console.log=="function"&&console.log.apply(console,arguments)}}function AE(t,e){_k&&console.warn(t+" is deprecated, please use "+e+" instead.")}function DG(t){const e={browser:null,version:null};if(typeof t>"u"||!t.navigator||!t.navigator.userAgent)return e.browser="Not a browser.",e;const{navigator:n}=t;if(n.userAgentData&&n.userAgentData.brands){const r=n.userAgentData.brands.find(i=>i.brand==="Chromium");if(r)return{browser:"chrome",version:parseInt(r.version,10)}}if(n.mozGetUserMedia)e.browser="firefox",e.version=parseInt(Lc(n.userAgent,/Firefox\/(\d+)\./,1));else if(n.webkitGetUserMedia||t.isSecureContext===!1&&t.webkitRTCPeerConnection)e.browser="chrome",e.version=parseInt(Lc(n.userAgent,/Chrom(e|ium)\/(\d+)\./,2));else if(t.RTCPeerConnection&&n.userAgent.match(/AppleWebKit\/(\d+)\./))e.browser="safari",e.version=parseInt(Lc(n.userAgent,/AppleWebKit\/(\d+)\./,1)),e.supportsUnifiedPlan=t.RTCRtpTransceiver&&"currentDirection"in t.RTCRtpTransceiver.prototype,e._safariVersion=Lc(n.userAgent,/Version\/(\d+(\.?\d+))/,1);else return e.browser="Not a supported browser.",e;return e}function h_(t){return Object.prototype.toString.call(t)==="[object Object]"}function xk(t){return h_(t)?Object.keys(t).reduce(function(e,n){const r=h_(t[n]),i=r?xk(t[n]):t[n],s=r&&!Object.keys(i).length;return i===void 0||s?e:Object.assign(e,{[n]:i})},{}):t}function Qv(t,e,n){!e||n.has(e.id)||(n.set(e.id,e),Object.keys(e).forEach(r=>{r.endsWith("Id")?Qv(t,t.get(e[r]),n):r.endsWith("Ids")&&e[r].forEach(i=>{Qv(t,t.get(i),n)})}))}function f_(t,e,n){const r=n?"outbound-rtp":"inbound-rtp",i=new Map;if(e===null)return i;const s=[];return t.forEach(o=>{o.type==="track"&&o.trackIdentifier===e.id&&s.push(o)}),s.forEach(o=>{t.forEach(a=>{a.type===r&&a.trackId===o.id&&Qv(t,a,i)})}),i}const p_=Ak;function Ik(t,e){const n=t&&t.navigator;if(!n.mediaDevices)return;const r=function(a){if(typeof a!="object"||a.mandatory||a.optional)return a;const l={};return Object.keys(a).forEach(c=>{if(c==="require"||c==="advanced"||c==="mediaSource")return;const d=typeof a[c]=="object"?a[c]:{ideal:a[c]};d.exact!==void 0&&typeof d.exact=="number"&&(d.min=d.max=d.exact);const f=function(h,y){return h?h+y.charAt(0).toUpperCase()+y.slice(1):y==="deviceId"?"sourceId":y};if(d.ideal!==void 0){l.optional=l.optional||[];let h={};typeof d.ideal=="number"?(h[f("min",c)]=d.ideal,l.optional.push(h),h={},h[f("max",c)]=d.ideal,l.optional.push(h)):(h[f("",c)]=d.ideal,l.optional.push(h))}d.exact!==void 0&&typeof d.exact!="number"?(l.mandatory=l.mandatory||{},l.mandatory[f("",c)]=d.exact):["min","max"].forEach(h=>{d[h]!==void 0&&(l.mandatory=l.mandatory||{},l.mandatory[f(h,c)]=d[h])})}),a.advanced&&(l.optional=(l.optional||[]).concat(a.advanced)),l},i=function(a,l){if(e.version>=61)return l(a);if(a=JSON.parse(JSON.stringify(a)),a&&typeof a.audio=="object"){const c=function(d,f,h){f in d&&!(h in d)&&(d[h]=d[f],delete d[f])};a=JSON.parse(JSON.stringify(a)),c(a.audio,"autoGainControl","googAutoGainControl"),c(a.audio,"noiseSuppression","googNoiseSuppression"),a.audio=r(a.audio)}if(a&&typeof a.video=="object"){let c=a.video.facingMode;c=c&&(typeof c=="object"?c:{ideal:c});const d=e.version<66;if(c&&(c.exact==="user"||c.exact==="environment"||c.ideal==="user"||c.ideal==="environment")&&!(n.mediaDevices.getSupportedConstraints&&n.mediaDevices.getSupportedConstraints().facingMode&&!d)){delete a.video.facingMode;let f;if(c.exact==="environment"||c.ideal==="environment"?f=["back","rear"]:(c.exact==="user"||c.ideal==="user")&&(f=["front"]),f)return n.mediaDevices.enumerateDevices().then(h=>{h=h.filter(A=>A.kind==="videoinput");let y=h.find(A=>f.some(g=>A.label.toLowerCase().includes(g)));return!y&&h.length&&f.includes("back")&&(y=h[h.length-1]),y&&(a.video.deviceId=c.exact?{exact:y.deviceId}:{ideal:y.deviceId}),a.video=r(a.video),p_("chrome: "+JSON.stringify(a)),l(a)})}a.video=r(a.video)}return p_("chrome: "+JSON.stringify(a)),l(a)},s=function(a){return e.version>=64?a:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[a.name]||a.name,message:a.message,constraint:a.constraint||a.constraintName,toString(){return this.name+(this.message&&": ")+this.message}}},o=function(a,l,c){i(a,d=>{n.webkitGetUserMedia(d,l,f=>{c&&c(s(f))})})};if(n.getUserMedia=o.bind(n),n.mediaDevices.getUserMedia){const a=n.mediaDevices.getUserMedia.bind(n.mediaDevices);n.mediaDevices.getUserMedia=function(l){return i(l,c=>a(c).then(d=>{if(c.audio&&!d.getAudioTracks().length||c.video&&!d.getVideoTracks().length)throw d.getTracks().forEach(f=>{f.stop()}),new DOMException("","NotFoundError");return d},d=>Promise.reject(s(d))))}}}function Sk(t){t.MediaStream=t.MediaStream||t.webkitMediaStream}function bk(t){if(typeof t=="object"&&t.RTCPeerConnection&&!("ontrack"in t.RTCPeerConnection.prototype)){Object.defineProperty(t.RTCPeerConnection.prototype,"ontrack",{get(){return this._ontrack},set(n){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=n)},enumerable:!0,configurable:!0});const e=t.RTCPeerConnection.prototype.setRemoteDescription;t.RTCPeerConnection.prototype.setRemoteDescription=function(){return this._ontrackpoly||(this._ontrackpoly=r=>{r.stream.addEventListener("addtrack",i=>{let s;t.RTCPeerConnection.prototype.getReceivers?s=this.getReceivers().find(a=>a.track&&a.track.id===i.track.id):s={track:i.track};const o=new Event("track");o.track=i.track,o.receiver=s,o.transceiver={receiver:s},o.streams=[r.stream],this.dispatchEvent(o)}),r.stream.getTracks().forEach(i=>{let s;t.RTCPeerConnection.prototype.getReceivers?s=this.getReceivers().find(a=>a.track&&a.track.id===i.id):s={track:i};const o=new Event("track");o.track=i,o.receiver=s,o.transceiver={receiver:s},o.streams=[r.stream],this.dispatchEvent(o)})},this.addEventListener("addstream",this._ontrackpoly)),e.apply(this,arguments)}}else aa(t,"track",e=>(e.transceiver||Object.defineProperty(e,"transceiver",{value:{receiver:e.receiver}}),e))}function Rk(t){if(typeof t=="object"&&t.RTCPeerConnection&&!("getSenders"in t.RTCPeerConnection.prototype)&&"createDTMFSender"in t.RTCPeerConnection.prototype){const e=function(i,s){return{track:s,get dtmf(){return this._dtmf===void 0&&(s.kind==="audio"?this._dtmf=i.createDTMFSender(s):this._dtmf=null),this._dtmf},_pc:i}};if(!t.RTCPeerConnection.prototype.getSenders){t.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};const i=t.RTCPeerConnection.prototype.addTrack;t.RTCPeerConnection.prototype.addTrack=function(a,l){let c=i.apply(this,arguments);return c||(c=e(this,a),this._senders.push(c)),c};const s=t.RTCPeerConnection.prototype.removeTrack;t.RTCPeerConnection.prototype.removeTrack=function(a){s.apply(this,arguments);const l=this._senders.indexOf(a);l!==-1&&this._senders.splice(l,1)}}const n=t.RTCPeerConnection.prototype.addStream;t.RTCPeerConnection.prototype.addStream=function(s){this._senders=this._senders||[],n.apply(this,[s]),s.getTracks().forEach(o=>{this._senders.push(e(this,o))})};const r=t.RTCPeerConnection.prototype.removeStream;t.RTCPeerConnection.prototype.removeStream=function(s){this._senders=this._senders||[],r.apply(this,[s]),s.getTracks().forEach(o=>{const a=this._senders.find(l=>l.track===o);a&&this._senders.splice(this._senders.indexOf(a),1)})}}else if(typeof t=="object"&&t.RTCPeerConnection&&"getSenders"in t.RTCPeerConnection.prototype&&"createDTMFSender"in t.RTCPeerConnection.prototype&&t.RTCRtpSender&&!("dtmf"in t.RTCRtpSender.prototype)){const e=t.RTCPeerConnection.prototype.getSenders;t.RTCPeerConnection.prototype.getSenders=function(){const r=e.apply(this,[]);return r.forEach(i=>i._pc=this),r},Object.defineProperty(t.RTCRtpSender.prototype,"dtmf",{get(){return this._dtmf===void 0&&(this.track.kind==="audio"?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}})}}function Pk(t){if(!(typeof t=="object"&&t.RTCPeerConnection&&t.RTCRtpSender&&t.RTCRtpReceiver))return;if(!("getStats"in t.RTCRtpSender.prototype)){const n=t.RTCPeerConnection.prototype.getSenders;n&&(t.RTCPeerConnection.prototype.getSenders=function(){const s=n.apply(this,[]);return s.forEach(o=>o._pc=this),s});const r=t.RTCPeerConnection.prototype.addTrack;r&&(t.RTCPeerConnection.prototype.addTrack=function(){const s=r.apply(this,arguments);return s._pc=this,s}),t.RTCRtpSender.prototype.getStats=function(){const s=this;return this._pc.getStats().then(o=>f_(o,s.track,!0))}}if(!("getStats"in t.RTCRtpReceiver.prototype)){const n=t.RTCPeerConnection.prototype.getReceivers;n&&(t.RTCPeerConnection.prototype.getReceivers=function(){const i=n.apply(this,[]);return i.forEach(s=>s._pc=this),i}),aa(t,"track",r=>(r.receiver._pc=r.srcElement,r)),t.RTCRtpReceiver.prototype.getStats=function(){const i=this;return this._pc.getStats().then(s=>f_(s,i.track,!1))}}if(!("getStats"in t.RTCRtpSender.prototype&&"getStats"in t.RTCRtpReceiver.prototype))return;const e=t.RTCPeerConnection.prototype.getStats;t.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof t.MediaStreamTrack){const r=arguments[0];let i,s,o;return this.getSenders().forEach(a=>{a.track===r&&(i?o=!0:i=a)}),this.getReceivers().forEach(a=>(a.track===r&&(s?o=!0:s=a),a.track===r)),o||i&&s?Promise.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):i?i.getStats():s?s.getStats():Promise.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return e.apply(this,arguments)}}function kk(t){t.RTCPeerConnection.prototype.getLocalStreams=function(){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map(o=>this._shimmedLocalStreams[o][0])};const e=t.RTCPeerConnection.prototype.addTrack;t.RTCPeerConnection.prototype.addTrack=function(o,a){if(!a)return e.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};const l=e.apply(this,arguments);return this._shimmedLocalStreams[a.id]?this._shimmedLocalStreams[a.id].indexOf(l)===-1&&this._shimmedLocalStreams[a.id].push(l):this._shimmedLocalStreams[a.id]=[a,l],l};const n=t.RTCPeerConnection.prototype.addStream;t.RTCPeerConnection.prototype.addStream=function(o){this._shimmedLocalStreams=this._shimmedLocalStreams||{},o.getTracks().forEach(c=>{if(this.getSenders().find(f=>f.track===c))throw new DOMException("Track already exists.","InvalidAccessError")});const a=this.getSenders();n.apply(this,arguments);const l=this.getSenders().filter(c=>a.indexOf(c)===-1);this._shimmedLocalStreams[o.id]=[o].concat(l)};const r=t.RTCPeerConnection.prototype.removeStream;t.RTCPeerConnection.prototype.removeStream=function(o){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[o.id],r.apply(this,arguments)};const i=t.RTCPeerConnection.prototype.removeTrack;t.RTCPeerConnection.prototype.removeTrack=function(o){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},o&&Object.keys(this._shimmedLocalStreams).forEach(a=>{const l=this._shimmedLocalStreams[a].indexOf(o);l!==-1&&this._shimmedLocalStreams[a].splice(l,1),this._shimmedLocalStreams[a].length===1&&delete this._shimmedLocalStreams[a]}),i.apply(this,arguments)}}function Nk(t,e){if(!t.RTCPeerConnection)return;if(t.RTCPeerConnection.prototype.addTrack&&e.version>=65)return kk(t);const n=t.RTCPeerConnection.prototype.getLocalStreams;t.RTCPeerConnection.prototype.getLocalStreams=function(){const d=n.apply(this);return this._reverseStreams=this._reverseStreams||{},d.map(f=>this._reverseStreams[f.id])};const r=t.RTCPeerConnection.prototype.addStream;t.RTCPeerConnection.prototype.addStream=function(d){if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},d.getTracks().forEach(f=>{if(this.getSenders().find(y=>y.track===f))throw new DOMException("Track already exists.","InvalidAccessError")}),!this._reverseStreams[d.id]){const f=new t.MediaStream(d.getTracks());this._streams[d.id]=f,this._reverseStreams[f.id]=d,d=f}r.apply(this,[d])};const i=t.RTCPeerConnection.prototype.removeStream;t.RTCPeerConnection.prototype.removeStream=function(d){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},i.apply(this,[this._streams[d.id]||d]),delete this._reverseStreams[this._streams[d.id]?this._streams[d.id].id:d.id],delete this._streams[d.id]},t.RTCPeerConnection.prototype.addTrack=function(d,f){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");const h=[].slice.call(arguments,1);if(h.length!==1||!h[0].getTracks().find(g=>g===d))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");if(this.getSenders().find(g=>g.track===d))throw new DOMException("Track already exists.","InvalidAccessError");this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};const A=this._streams[f.id];if(A)A.addTrack(d),Promise.resolve().then(()=>{this.dispatchEvent(new Event("negotiationneeded"))});else{const g=new t.MediaStream([d]);this._streams[f.id]=g,this._reverseStreams[g.id]=f,this.addStream(g)}return this.getSenders().find(g=>g.track===d)};function s(c,d){let f=d.sdp;return Object.keys(c._reverseStreams||[]).forEach(h=>{const y=c._reverseStreams[h],A=c._streams[y.id];f=f.replace(new RegExp(A.id,"g"),y.id)}),new RTCSessionDescription({type:d.type,sdp:f})}function o(c,d){let f=d.sdp;return Object.keys(c._reverseStreams||[]).forEach(h=>{const y=c._reverseStreams[h],A=c._streams[y.id];f=f.replace(new RegExp(y.id,"g"),A.id)}),new RTCSessionDescription({type:d.type,sdp:f})}["createOffer","createAnswer"].forEach(function(c){const d=t.RTCPeerConnection.prototype[c],f={[c](){const h=arguments;return arguments.length&&typeof arguments[0]=="function"?d.apply(this,[A=>{const g=s(this,A);h[0].apply(null,[g])},A=>{h[1]&&h[1].apply(null,A)},arguments[2]]):d.apply(this,arguments).then(A=>s(this,A))}};t.RTCPeerConnection.prototype[c]=f[c]});const a=t.RTCPeerConnection.prototype.setLocalDescription;t.RTCPeerConnection.prototype.setLocalDescription=function(){return!arguments.length||!arguments[0].type?a.apply(this,arguments):(arguments[0]=o(this,arguments[0]),a.apply(this,arguments))};const l=Object.getOwnPropertyDescriptor(t.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(t.RTCPeerConnection.prototype,"localDescription",{get(){const c=l.get.apply(this);return c.type===""?c:s(this,c)}}),t.RTCPeerConnection.prototype.removeTrack=function(d){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!d._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(!(d._pc===this))throw new DOMException("Sender was not created by this connection.","InvalidAccessError");this._streams=this._streams||{};let h;Object.keys(this._streams).forEach(y=>{this._streams[y].getTracks().find(g=>d.track===g)&&(h=this._streams[y])}),h&&(h.getTracks().length===1?this.removeStream(this._reverseStreams[h.id]):h.removeTrack(d.track),this.dispatchEvent(new Event("negotiationneeded")))}}function Yv(t,e){!t.RTCPeerConnection&&t.webkitRTCPeerConnection&&(t.RTCPeerConnection=t.webkitRTCPeerConnection),t.RTCPeerConnection&&e.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(n){const r=t.RTCPeerConnection.prototype[n],i={[n](){return arguments[0]=new(n==="addIceCandidate"?t.RTCIceCandidate:t.RTCSessionDescription)(arguments[0]),r.apply(this,arguments)}};t.RTCPeerConnection.prototype[n]=i[n]})}function Dk(t,e){aa(t,"negotiationneeded",n=>{const r=n.target;if(!((e.version<72||r.getConfiguration&&r.getConfiguration().sdpSemantics==="plan-b")&&r.signalingState!=="stable"))return n})}const m_=Object.freeze(Object.defineProperty({__proto__:null,fixNegotiationNeeded:Dk,shimAddTrackRemoveTrack:Nk,shimAddTrackRemoveTrackWithNative:kk,shimGetSendersWithDtmf:Rk,shimGetUserMedia:Ik,shimMediaStream:Sk,shimOnTrack:bk,shimPeerConnection:Yv,shimSenderReceiverGetStats:Pk},Symbol.toStringTag,{value:"Module"}));function Mk(t,e){const n=t&&t.navigator,r=t&&t.MediaStreamTrack;if(n.getUserMedia=function(i,s,o){AE("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),n.mediaDevices.getUserMedia(i).then(s,o)},!(e.version>55&&"autoGainControl"in n.mediaDevices.getSupportedConstraints())){const i=function(o,a,l){a in o&&!(l in o)&&(o[l]=o[a],delete o[a])},s=n.mediaDevices.getUserMedia.bind(n.mediaDevices);if(n.mediaDevices.getUserMedia=function(o){return typeof o=="object"&&typeof o.audio=="object"&&(o=JSON.parse(JSON.stringify(o)),i(o.audio,"autoGainControl","mozAutoGainControl"),i(o.audio,"noiseSuppression","mozNoiseSuppression")),s(o)},r&&r.prototype.getSettings){const o=r.prototype.getSettings;r.prototype.getSettings=function(){const a=o.apply(this,arguments);return i(a,"mozAutoGainControl","autoGainControl"),i(a,"mozNoiseSuppression","noiseSuppression"),a}}if(r&&r.prototype.applyConstraints){const o=r.prototype.applyConstraints;r.prototype.applyConstraints=function(a){return this.kind==="audio"&&typeof a=="object"&&(a=JSON.parse(JSON.stringify(a)),i(a,"autoGainControl","mozAutoGainControl"),i(a,"noiseSuppression","mozNoiseSuppression")),o.apply(this,[a])}}}}function MG(t,e){t.navigator.mediaDevices&&"getDisplayMedia"in t.navigator.mediaDevices||t.navigator.mediaDevices&&(t.navigator.mediaDevices.getDisplayMedia=function(r){if(!(r&&r.video)){const i=new DOMException("getDisplayMedia without video constraints is undefined");return i.name="NotFoundError",i.code=8,Promise.reject(i)}return r.video===!0?r.video={mediaSource:e}:r.video.mediaSource=e,t.navigator.mediaDevices.getUserMedia(r)})}function Ok(t){typeof t=="object"&&t.RTCTrackEvent&&"receiver"in t.RTCTrackEvent.prototype&&!("transceiver"in t.RTCTrackEvent.prototype)&&Object.defineProperty(t.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function Kv(t,e){if(typeof t!="object"||!(t.RTCPeerConnection||t.mozRTCPeerConnection))return;!t.RTCPeerConnection&&t.mozRTCPeerConnection&&(t.RTCPeerConnection=t.mozRTCPeerConnection),e.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(i){const s=t.RTCPeerConnection.prototype[i],o={[i](){return arguments[0]=new(i==="addIceCandidate"?t.RTCIceCandidate:t.RTCSessionDescription)(arguments[0]),s.apply(this,arguments)}};t.RTCPeerConnection.prototype[i]=o[i]});const n={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},r=t.RTCPeerConnection.prototype.getStats;t.RTCPeerConnection.prototype.getStats=function(){const[s,o,a]=arguments;return r.apply(this,[s||null]).then(l=>{if(e.version<53&&!o)try{l.forEach(c=>{c.type=n[c.type]||c.type})}catch(c){if(c.name!=="TypeError")throw c;l.forEach((d,f)=>{l.set(f,Object.assign({},d,{type:n[d.type]||d.type}))})}return l}).then(o,a)}}function Lk(t){if(!(typeof t=="object"&&t.RTCPeerConnection&&t.RTCRtpSender)||t.RTCRtpSender&&"getStats"in t.RTCRtpSender.prototype)return;const e=t.RTCPeerConnection.prototype.getSenders;e&&(t.RTCPeerConnection.prototype.getSenders=function(){const i=e.apply(this,[]);return i.forEach(s=>s._pc=this),i});const n=t.RTCPeerConnection.prototype.addTrack;n&&(t.RTCPeerConnection.prototype.addTrack=function(){const i=n.apply(this,arguments);return i._pc=this,i}),t.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):Promise.resolve(new Map)}}function Vk(t){if(!(typeof t=="object"&&t.RTCPeerConnection&&t.RTCRtpSender)||t.RTCRtpSender&&"getStats"in t.RTCRtpReceiver.prototype)return;const e=t.RTCPeerConnection.prototype.getReceivers;e&&(t.RTCPeerConnection.prototype.getReceivers=function(){const r=e.apply(this,[]);return r.forEach(i=>i._pc=this),r}),aa(t,"track",n=>(n.receiver._pc=n.srcElement,n)),t.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}function Fk(t){!t.RTCPeerConnection||"removeStream"in t.RTCPeerConnection.prototype||(t.RTCPeerConnection.prototype.removeStream=function(n){AE("removeStream","removeTrack"),this.getSenders().forEach(r=>{r.track&&n.getTracks().includes(r.track)&&this.removeTrack(r)})})}function Bk(t){t.DataChannel&&!t.RTCDataChannel&&(t.RTCDataChannel=t.DataChannel)}function jk(t){if(!(typeof t=="object"&&t.RTCPeerConnection))return;const e=t.RTCPeerConnection.prototype.addTransceiver;e&&(t.RTCPeerConnection.prototype.addTransceiver=function(){this.setParametersPromises=[];let r=arguments[1]&&arguments[1].sendEncodings;r===void 0&&(r=[]),r=[...r];const i=r.length>0;i&&r.forEach(o=>{if("rid"in o&&!/^[a-z0-9]{0,16}$/i.test(o.rid))throw new TypeError("Invalid RID value provided.");if("scaleResolutionDownBy"in o&&!(parseFloat(o.scaleResolutionDownBy)>=1))throw new RangeError("scale_resolution_down_by must be >= 1.0");if("maxFramerate"in o&&!(parseFloat(o.maxFramerate)>=0))throw new RangeError("max_framerate must be >= 0.0")});const s=e.apply(this,arguments);if(i){const{sender:o}=s,a=o.getParameters();(!("encodings"in a)||a.encodings.length===1&&Object.keys(a.encodings[0]).length===0)&&(a.encodings=r,o.sendEncodings=r,this.setParametersPromises.push(o.setParameters(a).then(()=>{delete o.sendEncodings}).catch(()=>{delete o.sendEncodings})))}return s})}function Uk(t){if(!(typeof t=="object"&&t.RTCRtpSender))return;const e=t.RTCRtpSender.prototype.getParameters;e&&(t.RTCRtpSender.prototype.getParameters=function(){const r=e.apply(this,arguments);return"encodings"in r||(r.encodings=[].concat(this.sendEncodings||[{}])),r})}function qk(t){if(!(typeof t=="object"&&t.RTCPeerConnection))return;const e=t.RTCPeerConnection.prototype.createOffer;t.RTCPeerConnection.prototype.createOffer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>e.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):e.apply(this,arguments)}}function Gk(t){if(!(typeof t=="object"&&t.RTCPeerConnection))return;const e=t.RTCPeerConnection.prototype.createAnswer;t.RTCPeerConnection.prototype.createAnswer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>e.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):e.apply(this,arguments)}}const g_=Object.freeze(Object.defineProperty({__proto__:null,shimAddTransceiver:jk,shimCreateAnswer:Gk,shimCreateOffer:qk,shimGetDisplayMedia:MG,shimGetParameters:Uk,shimGetUserMedia:Mk,shimOnTrack:Ok,shimPeerConnection:Kv,shimRTCDataChannel:Bk,shimReceiverGetStats:Vk,shimRemoveStream:Fk,shimSenderGetStats:Lk},Symbol.toStringTag,{value:"Module"}));function zk(t){if(!(typeof t!="object"||!t.RTCPeerConnection)){if("getLocalStreams"in t.RTCPeerConnection.prototype||(t.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in t.RTCPeerConnection.prototype)){const e=t.RTCPeerConnection.prototype.addTrack;t.RTCPeerConnection.prototype.addStream=function(r){this._localStreams||(this._localStreams=[]),this._localStreams.includes(r)||this._localStreams.push(r),r.getAudioTracks().forEach(i=>e.call(this,i,r)),r.getVideoTracks().forEach(i=>e.call(this,i,r))},t.RTCPeerConnection.prototype.addTrack=function(r,...i){return i&&i.forEach(s=>{this._localStreams?this._localStreams.includes(s)||this._localStreams.push(s):this._localStreams=[s]}),e.apply(this,arguments)}}"removeStream"in t.RTCPeerConnection.prototype||(t.RTCPeerConnection.prototype.removeStream=function(n){this._localStreams||(this._localStreams=[]);const r=this._localStreams.indexOf(n);if(r===-1)return;this._localStreams.splice(r,1);const i=n.getTracks();this.getSenders().forEach(s=>{i.includes(s.track)&&this.removeTrack(s)})})}}function $k(t){if(!(typeof t!="object"||!t.RTCPeerConnection)&&("getRemoteStreams"in t.RTCPeerConnection.prototype||(t.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in t.RTCPeerConnection.prototype))){Object.defineProperty(t.RTCPeerConnection.prototype,"onaddstream",{get(){return this._onaddstream},set(n){this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=n),this.addEventListener("track",this._onaddstreampoly=r=>{r.streams.forEach(i=>{if(this._remoteStreams||(this._remoteStreams=[]),this._remoteStreams.includes(i))return;this._remoteStreams.push(i);const s=new Event("addstream");s.stream=i,this.dispatchEvent(s)})})}});const e=t.RTCPeerConnection.prototype.setRemoteDescription;t.RTCPeerConnection.prototype.setRemoteDescription=function(){const r=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(i){i.streams.forEach(s=>{if(r._remoteStreams||(r._remoteStreams=[]),r._remoteStreams.indexOf(s)>=0)return;r._remoteStreams.push(s);const o=new Event("addstream");o.stream=s,r.dispatchEvent(o)})}),e.apply(r,arguments)}}}function Wk(t){if(typeof t!="object"||!t.RTCPeerConnection)return;const e=t.RTCPeerConnection.prototype,n=e.createOffer,r=e.createAnswer,i=e.setLocalDescription,s=e.setRemoteDescription,o=e.addIceCandidate;e.createOffer=function(c,d){const f=arguments.length>=2?arguments[2]:arguments[0],h=n.apply(this,[f]);return d?(h.then(c,d),Promise.resolve()):h},e.createAnswer=function(c,d){const f=arguments.length>=2?arguments[2]:arguments[0],h=r.apply(this,[f]);return d?(h.then(c,d),Promise.resolve()):h};let a=function(l,c,d){const f=i.apply(this,[l]);return d?(f.then(c,d),Promise.resolve()):f};e.setLocalDescription=a,a=function(l,c,d){const f=s.apply(this,[l]);return d?(f.then(c,d),Promise.resolve()):f},e.setRemoteDescription=a,a=function(l,c,d){const f=o.apply(this,[l]);return d?(f.then(c,d),Promise.resolve()):f},e.addIceCandidate=a}function Qk(t){const e=t&&t.navigator;if(e.mediaDevices&&e.mediaDevices.getUserMedia){const n=e.mediaDevices,r=n.getUserMedia.bind(n);e.mediaDevices.getUserMedia=i=>r(Yk(i))}!e.getUserMedia&&e.mediaDevices&&e.mediaDevices.getUserMedia&&(e.getUserMedia=(function(r,i,s){e.mediaDevices.getUserMedia(r).then(i,s)}).bind(e))}function Yk(t){return t&&t.video!==void 0?Object.assign({},t,{video:xk(t.video)}):t}function Kk(t){if(!t.RTCPeerConnection)return;const e=t.RTCPeerConnection;t.RTCPeerConnection=function(r,i){if(r&&r.iceServers){const s=[];for(let o=0;o<r.iceServers.length;o++){let a=r.iceServers[o];a.urls===void 0&&a.url?(AE("RTCIceServer.url","RTCIceServer.urls"),a=JSON.parse(JSON.stringify(a)),a.urls=a.url,delete a.url,s.push(a)):s.push(r.iceServers[o])}r.iceServers=s}return new e(r,i)},t.RTCPeerConnection.prototype=e.prototype,"generateCertificate"in e&&Object.defineProperty(t.RTCPeerConnection,"generateCertificate",{get(){return e.generateCertificate}})}function Hk(t){typeof t=="object"&&t.RTCTrackEvent&&"receiver"in t.RTCTrackEvent.prototype&&!("transceiver"in t.RTCTrackEvent.prototype)&&Object.defineProperty(t.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function Jk(t){const e=t.RTCPeerConnection.prototype.createOffer;t.RTCPeerConnection.prototype.createOffer=function(r){if(r){typeof r.offerToReceiveAudio<"u"&&(r.offerToReceiveAudio=!!r.offerToReceiveAudio);const i=this.getTransceivers().find(o=>o.receiver.track.kind==="audio");r.offerToReceiveAudio===!1&&i?i.direction==="sendrecv"?i.setDirection?i.setDirection("sendonly"):i.direction="sendonly":i.direction==="recvonly"&&(i.setDirection?i.setDirection("inactive"):i.direction="inactive"):r.offerToReceiveAudio===!0&&!i&&this.addTransceiver("audio",{direction:"recvonly"}),typeof r.offerToReceiveVideo<"u"&&(r.offerToReceiveVideo=!!r.offerToReceiveVideo);const s=this.getTransceivers().find(o=>o.receiver.track.kind==="video");r.offerToReceiveVideo===!1&&s?s.direction==="sendrecv"?s.setDirection?s.setDirection("sendonly"):s.direction="sendonly":s.direction==="recvonly"&&(s.setDirection?s.setDirection("inactive"):s.direction="inactive"):r.offerToReceiveVideo===!0&&!s&&this.addTransceiver("video",{direction:"recvonly"})}return e.apply(this,arguments)}}function Zk(t){typeof t!="object"||t.AudioContext||(t.AudioContext=t.webkitAudioContext)}const y_=Object.freeze(Object.defineProperty({__proto__:null,shimAudioContext:Zk,shimCallbacksAPI:Wk,shimConstraints:Yk,shimCreateOfferLegacy:Jk,shimGetUserMedia:Qk,shimLocalStreamsAPI:zk,shimRTCIceServerUrls:Kk,shimRemoteStreamsAPI:$k,shimTrackEventTransceiver:Hk},Symbol.toStringTag,{value:"Module"}));var Xk={exports:{}};(function(t){const e={};e.generateIdentifier=function(){return Math.random().toString(36).substring(2,12)},e.localCName=e.generateIdentifier(),e.splitLines=function(n){return n.trim().split(`
`).map(r=>r.trim())},e.splitSections=function(n){return n.split(`
m=`).map((i,s)=>(s>0?"m="+i:i).trim()+`\r
`)},e.getDescription=function(n){const r=e.splitSections(n);return r&&r[0]},e.getMediaSections=function(n){const r=e.splitSections(n);return r.shift(),r},e.matchPrefix=function(n,r){return e.splitLines(n).filter(i=>i.indexOf(r)===0)},e.parseCandidate=function(n){let r;n.indexOf("a=candidate:")===0?r=n.substring(12).split(" "):r=n.substring(10).split(" ");const i={foundation:r[0],component:{1:"rtp",2:"rtcp"}[r[1]]||r[1],protocol:r[2].toLowerCase(),priority:parseInt(r[3],10),ip:r[4],address:r[4],port:parseInt(r[5],10),type:r[7]};for(let s=8;s<r.length;s+=2)switch(r[s]){case"raddr":i.relatedAddress=r[s+1];break;case"rport":i.relatedPort=parseInt(r[s+1],10);break;case"tcptype":i.tcpType=r[s+1];break;case"ufrag":i.ufrag=r[s+1],i.usernameFragment=r[s+1];break;default:i[r[s]]===void 0&&(i[r[s]]=r[s+1]);break}return i},e.writeCandidate=function(n){const r=[];r.push(n.foundation);const i=n.component;i==="rtp"?r.push(1):i==="rtcp"?r.push(2):r.push(i),r.push(n.protocol.toUpperCase()),r.push(n.priority),r.push(n.address||n.ip),r.push(n.port);const s=n.type;return r.push("typ"),r.push(s),s!=="host"&&n.relatedAddress&&n.relatedPort&&(r.push("raddr"),r.push(n.relatedAddress),r.push("rport"),r.push(n.relatedPort)),n.tcpType&&n.protocol.toLowerCase()==="tcp"&&(r.push("tcptype"),r.push(n.tcpType)),(n.usernameFragment||n.ufrag)&&(r.push("ufrag"),r.push(n.usernameFragment||n.ufrag)),"candidate:"+r.join(" ")},e.parseIceOptions=function(n){return n.substring(14).split(" ")},e.parseRtpMap=function(n){let r=n.substring(9).split(" ");const i={payloadType:parseInt(r.shift(),10)};return r=r[0].split("/"),i.name=r[0],i.clockRate=parseInt(r[1],10),i.channels=r.length===3?parseInt(r[2],10):1,i.numChannels=i.channels,i},e.writeRtpMap=function(n){let r=n.payloadType;n.preferredPayloadType!==void 0&&(r=n.preferredPayloadType);const i=n.channels||n.numChannels||1;return"a=rtpmap:"+r+" "+n.name+"/"+n.clockRate+(i!==1?"/"+i:"")+`\r
`},e.parseExtmap=function(n){const r=n.substring(9).split(" ");return{id:parseInt(r[0],10),direction:r[0].indexOf("/")>0?r[0].split("/")[1]:"sendrecv",uri:r[1],attributes:r.slice(2).join(" ")}},e.writeExtmap=function(n){return"a=extmap:"+(n.id||n.preferredId)+(n.direction&&n.direction!=="sendrecv"?"/"+n.direction:"")+" "+n.uri+(n.attributes?" "+n.attributes:"")+`\r
`},e.parseFmtp=function(n){const r={};let i;const s=n.substring(n.indexOf(" ")+1).split(";");for(let o=0;o<s.length;o++)i=s[o].trim().split("="),r[i[0].trim()]=i[1];return r},e.writeFmtp=function(n){let r="",i=n.payloadType;if(n.preferredPayloadType!==void 0&&(i=n.preferredPayloadType),n.parameters&&Object.keys(n.parameters).length){const s=[];Object.keys(n.parameters).forEach(o=>{n.parameters[o]!==void 0?s.push(o+"="+n.parameters[o]):s.push(o)}),r+="a=fmtp:"+i+" "+s.join(";")+`\r
`}return r},e.parseRtcpFb=function(n){const r=n.substring(n.indexOf(" ")+1).split(" ");return{type:r.shift(),parameter:r.join(" ")}},e.writeRtcpFb=function(n){let r="",i=n.payloadType;return n.preferredPayloadType!==void 0&&(i=n.preferredPayloadType),n.rtcpFeedback&&n.rtcpFeedback.length&&n.rtcpFeedback.forEach(s=>{r+="a=rtcp-fb:"+i+" "+s.type+(s.parameter&&s.parameter.length?" "+s.parameter:"")+`\r
`}),r},e.parseSsrcMedia=function(n){const r=n.indexOf(" "),i={ssrc:parseInt(n.substring(7,r),10)},s=n.indexOf(":",r);return s>-1?(i.attribute=n.substring(r+1,s),i.value=n.substring(s+1)):i.attribute=n.substring(r+1),i},e.parseSsrcGroup=function(n){const r=n.substring(13).split(" ");return{semantics:r.shift(),ssrcs:r.map(i=>parseInt(i,10))}},e.getMid=function(n){const r=e.matchPrefix(n,"a=mid:")[0];if(r)return r.substring(6)},e.parseFingerprint=function(n){const r=n.substring(14).split(" ");return{algorithm:r[0].toLowerCase(),value:r[1].toUpperCase()}},e.getDtlsParameters=function(n,r){return{role:"auto",fingerprints:e.matchPrefix(n+r,"a=fingerprint:").map(e.parseFingerprint)}},e.writeDtlsParameters=function(n,r){let i="a=setup:"+r+`\r
`;return n.fingerprints.forEach(s=>{i+="a=fingerprint:"+s.algorithm+" "+s.value+`\r
`}),i},e.parseCryptoLine=function(n){const r=n.substring(9).split(" ");return{tag:parseInt(r[0],10),cryptoSuite:r[1],keyParams:r[2],sessionParams:r.slice(3)}},e.writeCryptoLine=function(n){return"a=crypto:"+n.tag+" "+n.cryptoSuite+" "+(typeof n.keyParams=="object"?e.writeCryptoKeyParams(n.keyParams):n.keyParams)+(n.sessionParams?" "+n.sessionParams.join(" "):"")+`\r
`},e.parseCryptoKeyParams=function(n){if(n.indexOf("inline:")!==0)return null;const r=n.substring(7).split("|");return{keyMethod:"inline",keySalt:r[0],lifeTime:r[1],mkiValue:r[2]?r[2].split(":")[0]:void 0,mkiLength:r[2]?r[2].split(":")[1]:void 0}},e.writeCryptoKeyParams=function(n){return n.keyMethod+":"+n.keySalt+(n.lifeTime?"|"+n.lifeTime:"")+(n.mkiValue&&n.mkiLength?"|"+n.mkiValue+":"+n.mkiLength:"")},e.getCryptoParameters=function(n,r){return e.matchPrefix(n+r,"a=crypto:").map(e.parseCryptoLine)},e.getIceParameters=function(n,r){const i=e.matchPrefix(n+r,"a=ice-ufrag:")[0],s=e.matchPrefix(n+r,"a=ice-pwd:")[0];return i&&s?{usernameFragment:i.substring(12),password:s.substring(10)}:null},e.writeIceParameters=function(n){let r="a=ice-ufrag:"+n.usernameFragment+`\r
a=ice-pwd:`+n.password+`\r
`;return n.iceLite&&(r+=`a=ice-lite\r
`),r},e.parseRtpParameters=function(n){const r={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},s=e.splitLines(n)[0].split(" ");r.profile=s[2];for(let a=3;a<s.length;a++){const l=s[a],c=e.matchPrefix(n,"a=rtpmap:"+l+" ")[0];if(c){const d=e.parseRtpMap(c),f=e.matchPrefix(n,"a=fmtp:"+l+" ");switch(d.parameters=f.length?e.parseFmtp(f[0]):{},d.rtcpFeedback=e.matchPrefix(n,"a=rtcp-fb:"+l+" ").map(e.parseRtcpFb),r.codecs.push(d),d.name.toUpperCase()){case"RED":case"ULPFEC":r.fecMechanisms.push(d.name.toUpperCase());break}}}e.matchPrefix(n,"a=extmap:").forEach(a=>{r.headerExtensions.push(e.parseExtmap(a))});const o=e.matchPrefix(n,"a=rtcp-fb:* ").map(e.parseRtcpFb);return r.codecs.forEach(a=>{o.forEach(l=>{a.rtcpFeedback.find(d=>d.type===l.type&&d.parameter===l.parameter)||a.rtcpFeedback.push(l)})}),r},e.writeRtpDescription=function(n,r){let i="";i+="m="+n+" ",i+=r.codecs.length>0?"9":"0",i+=" "+(r.profile||"UDP/TLS/RTP/SAVPF")+" ",i+=r.codecs.map(o=>o.preferredPayloadType!==void 0?o.preferredPayloadType:o.payloadType).join(" ")+`\r
`,i+=`c=IN IP4 0.0.0.0\r
`,i+=`a=rtcp:9 IN IP4 0.0.0.0\r
`,r.codecs.forEach(o=>{i+=e.writeRtpMap(o),i+=e.writeFmtp(o),i+=e.writeRtcpFb(o)});let s=0;return r.codecs.forEach(o=>{o.maxptime>s&&(s=o.maxptime)}),s>0&&(i+="a=maxptime:"+s+`\r
`),r.headerExtensions&&r.headerExtensions.forEach(o=>{i+=e.writeExtmap(o)}),i},e.parseRtpEncodingParameters=function(n){const r=[],i=e.parseRtpParameters(n),s=i.fecMechanisms.indexOf("RED")!==-1,o=i.fecMechanisms.indexOf("ULPFEC")!==-1,a=e.matchPrefix(n,"a=ssrc:").map(h=>e.parseSsrcMedia(h)).filter(h=>h.attribute==="cname"),l=a.length>0&&a[0].ssrc;let c;const d=e.matchPrefix(n,"a=ssrc-group:FID").map(h=>h.substring(17).split(" ").map(A=>parseInt(A,10)));d.length>0&&d[0].length>1&&d[0][0]===l&&(c=d[0][1]),i.codecs.forEach(h=>{if(h.name.toUpperCase()==="RTX"&&h.parameters.apt){let y={ssrc:l,codecPayloadType:parseInt(h.parameters.apt,10)};l&&c&&(y.rtx={ssrc:c}),r.push(y),s&&(y=JSON.parse(JSON.stringify(y)),y.fec={ssrc:l,mechanism:o?"red+ulpfec":"red"},r.push(y))}}),r.length===0&&l&&r.push({ssrc:l});let f=e.matchPrefix(n,"b=");return f.length&&(f[0].indexOf("b=TIAS:")===0?f=parseInt(f[0].substring(7),10):f[0].indexOf("b=AS:")===0?f=parseInt(f[0].substring(5),10)*1e3*.95-50*40*8:f=void 0,r.forEach(h=>{h.maxBitrate=f})),r},e.parseRtcpParameters=function(n){const r={},i=e.matchPrefix(n,"a=ssrc:").map(a=>e.parseSsrcMedia(a)).filter(a=>a.attribute==="cname")[0];i&&(r.cname=i.value,r.ssrc=i.ssrc);const s=e.matchPrefix(n,"a=rtcp-rsize");r.reducedSize=s.length>0,r.compound=s.length===0;const o=e.matchPrefix(n,"a=rtcp-mux");return r.mux=o.length>0,r},e.writeRtcpParameters=function(n){let r="";return n.reducedSize&&(r+=`a=rtcp-rsize\r
`),n.mux&&(r+=`a=rtcp-mux\r
`),n.ssrc!==void 0&&n.cname&&(r+="a=ssrc:"+n.ssrc+" cname:"+n.cname+`\r
`),r},e.parseMsid=function(n){let r;const i=e.matchPrefix(n,"a=msid:");if(i.length===1)return r=i[0].substring(7).split(" "),{stream:r[0],track:r[1]};const s=e.matchPrefix(n,"a=ssrc:").map(o=>e.parseSsrcMedia(o)).filter(o=>o.attribute==="msid");if(s.length>0)return r=s[0].value.split(" "),{stream:r[0],track:r[1]}},e.parseSctpDescription=function(n){const r=e.parseMLine(n),i=e.matchPrefix(n,"a=max-message-size:");let s;i.length>0&&(s=parseInt(i[0].substring(19),10)),isNaN(s)&&(s=65536);const o=e.matchPrefix(n,"a=sctp-port:");if(o.length>0)return{port:parseInt(o[0].substring(12),10),protocol:r.fmt,maxMessageSize:s};const a=e.matchPrefix(n,"a=sctpmap:");if(a.length>0){const l=a[0].substring(10).split(" ");return{port:parseInt(l[0],10),protocol:l[1],maxMessageSize:s}}},e.writeSctpDescription=function(n,r){let i=[];return n.protocol!=="DTLS/SCTP"?i=["m="+n.kind+" 9 "+n.protocol+" "+r.protocol+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctp-port:"+r.port+`\r
`]:i=["m="+n.kind+" 9 "+n.protocol+" "+r.port+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctpmap:"+r.port+" "+r.protocol+` 65535\r
`],r.maxMessageSize!==void 0&&i.push("a=max-message-size:"+r.maxMessageSize+`\r
`),i.join("")},e.generateSessionId=function(){return Math.random().toString().substr(2,22)},e.writeSessionBoilerplate=function(n,r,i){let s;const o=r!==void 0?r:2;return n?s=n:s=e.generateSessionId(),`v=0\r
o=`+(i||"thisisadapterortc")+" "+s+" "+o+` IN IP4 127.0.0.1\r
s=-\r
t=0 0\r
`},e.getDirection=function(n,r){const i=e.splitLines(n);for(let s=0;s<i.length;s++)switch(i[s]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return i[s].substring(2)}return r?e.getDirection(r):"sendrecv"},e.getKind=function(n){return e.splitLines(n)[0].split(" ")[0].substring(2)},e.isRejected=function(n){return n.split(" ",2)[1]==="0"},e.parseMLine=function(n){const i=e.splitLines(n)[0].substring(2).split(" ");return{kind:i[0],port:parseInt(i[1],10),protocol:i[2],fmt:i.slice(3).join(" ")}},e.parseOLine=function(n){const i=e.matchPrefix(n,"o=")[0].substring(2).split(" ");return{username:i[0],sessionId:i[1],sessionVersion:parseInt(i[2],10),netType:i[3],addressType:i[4],address:i[5]}},e.isValidSDP=function(n){if(typeof n!="string"||n.length===0)return!1;const r=e.splitLines(n);for(let i=0;i<r.length;i++)if(r[i].length<2||r[i].charAt(1)!=="=")return!1;return!0},t.exports=e})(Xk);var e2=Xk.exports;const ol=n0(e2),OG=k_({__proto__:null,default:ol},[e2]);function pf(t){if(!t.RTCIceCandidate||t.RTCIceCandidate&&"foundation"in t.RTCIceCandidate.prototype)return;const e=t.RTCIceCandidate;t.RTCIceCandidate=function(r){if(typeof r=="object"&&r.candidate&&r.candidate.indexOf("a=")===0&&(r=JSON.parse(JSON.stringify(r)),r.candidate=r.candidate.substring(2)),r.candidate&&r.candidate.length){const i=new e(r),s=ol.parseCandidate(r.candidate);for(const o in s)o in i||Object.defineProperty(i,o,{value:s[o]});return i.toJSON=function(){return{candidate:i.candidate,sdpMid:i.sdpMid,sdpMLineIndex:i.sdpMLineIndex,usernameFragment:i.usernameFragment}},i}return new e(r)},t.RTCIceCandidate.prototype=e.prototype,aa(t,"icecandidate",n=>(n.candidate&&Object.defineProperty(n,"candidate",{value:new t.RTCIceCandidate(n.candidate),writable:"false"}),n))}function Hv(t){!t.RTCIceCandidate||t.RTCIceCandidate&&"relayProtocol"in t.RTCIceCandidate.prototype||aa(t,"icecandidate",e=>{if(e.candidate){const n=ol.parseCandidate(e.candidate.candidate);n.type==="relay"&&(e.candidate.relayProtocol={0:"tls",1:"tcp",2:"udp"}[n.priority>>24])}return e})}function mf(t,e){if(!t.RTCPeerConnection)return;"sctp"in t.RTCPeerConnection.prototype||Object.defineProperty(t.RTCPeerConnection.prototype,"sctp",{get(){return typeof this._sctp>"u"?null:this._sctp}});const n=function(a){if(!a||!a.sdp)return!1;const l=ol.splitSections(a.sdp);return l.shift(),l.some(c=>{const d=ol.parseMLine(c);return d&&d.kind==="application"&&d.protocol.indexOf("SCTP")!==-1})},r=function(a){const l=a.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(l===null||l.length<2)return-1;const c=parseInt(l[1],10);return c!==c?-1:c},i=function(a){let l=65536;return e.browser==="firefox"&&(e.version<57?a===-1?l=16384:l=2147483637:e.version<60?l=e.version===57?65535:65536:l=2147483637),l},s=function(a,l){let c=65536;e.browser==="firefox"&&e.version===57&&(c=65535);const d=ol.matchPrefix(a.sdp,"a=max-message-size:");return d.length>0?c=parseInt(d[0].substring(19),10):e.browser==="firefox"&&l!==-1&&(c=2147483637),c},o=t.RTCPeerConnection.prototype.setRemoteDescription;t.RTCPeerConnection.prototype.setRemoteDescription=function(){if(this._sctp=null,e.browser==="chrome"&&e.version>=76){const{sdpSemantics:l}=this.getConfiguration();l==="plan-b"&&Object.defineProperty(this,"sctp",{get(){return typeof this._sctp>"u"?null:this._sctp},enumerable:!0,configurable:!0})}if(n(arguments[0])){const l=r(arguments[0]),c=i(l),d=s(arguments[0],l);let f;c===0&&d===0?f=Number.POSITIVE_INFINITY:c===0||d===0?f=Math.max(c,d):f=Math.min(c,d);const h={};Object.defineProperty(h,"maxMessageSize",{get(){return f}}),this._sctp=h}return o.apply(this,arguments)}}function gf(t){if(!(t.RTCPeerConnection&&"createDataChannel"in t.RTCPeerConnection.prototype))return;function e(r,i){const s=r.send;r.send=function(){const a=arguments[0],l=a.length||a.size||a.byteLength;if(r.readyState==="open"&&i.sctp&&l>i.sctp.maxMessageSize)throw new TypeError("Message too large (can send a maximum of "+i.sctp.maxMessageSize+" bytes)");return s.apply(r,arguments)}}const n=t.RTCPeerConnection.prototype.createDataChannel;t.RTCPeerConnection.prototype.createDataChannel=function(){const i=n.apply(this,arguments);return e(i,this),i},aa(t,"datachannel",r=>(e(r.channel,r.target),r))}function Jv(t){if(!t.RTCPeerConnection||"connectionState"in t.RTCPeerConnection.prototype)return;const e=t.RTCPeerConnection.prototype;Object.defineProperty(e,"connectionState",{get(){return{completed:"connected",checking:"connecting"}[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(e,"onconnectionstatechange",{get(){return this._onconnectionstatechange||null},set(n){this._onconnectionstatechange&&(this.removeEventListener("connectionstatechange",this._onconnectionstatechange),delete this._onconnectionstatechange),n&&this.addEventListener("connectionstatechange",this._onconnectionstatechange=n)},enumerable:!0,configurable:!0}),["setLocalDescription","setRemoteDescription"].forEach(n=>{const r=e[n];e[n]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=i=>{const s=i.target;if(s._lastConnectionState!==s.connectionState){s._lastConnectionState=s.connectionState;const o=new Event("connectionstatechange",i);s.dispatchEvent(o)}return i},this.addEventListener("iceconnectionstatechange",this._connectionstatechangepoly)),r.apply(this,arguments)}})}function Zv(t,e){if(!t.RTCPeerConnection||e.browser==="chrome"&&e.version>=71||e.browser==="safari"&&e._safariVersion>=13.1)return;const n=t.RTCPeerConnection.prototype.setRemoteDescription;t.RTCPeerConnection.prototype.setRemoteDescription=function(i){if(i&&i.sdp&&i.sdp.indexOf(`
a=extmap-allow-mixed`)!==-1){const s=i.sdp.split(`
`).filter(o=>o.trim()!=="a=extmap-allow-mixed").join(`
`);t.RTCSessionDescription&&i instanceof t.RTCSessionDescription?arguments[0]=new t.RTCSessionDescription({type:i.type,sdp:s}):i.sdp=s}return n.apply(this,arguments)}}function yf(t,e){if(!(t.RTCPeerConnection&&t.RTCPeerConnection.prototype))return;const n=t.RTCPeerConnection.prototype.addIceCandidate;!n||n.length===0||(t.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?(e.browser==="chrome"&&e.version<78||e.browser==="firefox"&&e.version<68||e.browser==="safari")&&arguments[0]&&arguments[0].candidate===""?Promise.resolve():n.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())})}function vf(t,e){if(!(t.RTCPeerConnection&&t.RTCPeerConnection.prototype))return;const n=t.RTCPeerConnection.prototype.setLocalDescription;!n||n.length===0||(t.RTCPeerConnection.prototype.setLocalDescription=function(){let i=arguments[0]||{};if(typeof i!="object"||i.type&&i.sdp)return n.apply(this,arguments);if(i={type:i.type,sdp:i.sdp},!i.type)switch(this.signalingState){case"stable":case"have-local-offer":case"have-remote-pranswer":i.type="offer";break;default:i.type="answer";break}return i.sdp||i.type!=="offer"&&i.type!=="answer"?n.apply(this,[i]):(i.type==="offer"?this.createOffer:this.createAnswer).apply(this).then(o=>n.apply(this,[o]))})}const LG=Object.freeze(Object.defineProperty({__proto__:null,removeExtmapAllowMixed:Zv,shimAddIceCandidateNullOrEmpty:yf,shimConnectionState:Jv,shimMaxMessageSize:mf,shimParameterlessSetLocalDescription:vf,shimRTCIceCandidate:pf,shimRTCIceCandidateRelayProtocol:Hv,shimSendThrowTypeError:gf},Symbol.toStringTag,{value:"Module"}));function VG({window:t}={},e={shimChrome:!0,shimFirefox:!0,shimSafari:!0}){const n=Ak,r=DG(t),i={browserDetails:r,commonShim:LG,extractVersion:Lc,disableLog:kG,disableWarnings:NG,sdp:OG};switch(r.browser){case"chrome":if(!m_||!Yv||!e.shimChrome)return n("Chrome shim is not included in this adapter release."),i;if(r.version===null)return n("Chrome shim can not determine version, not shimming."),i;n("adapter.js shimming chrome."),i.browserShim=m_,yf(t,r),vf(t),Ik(t,r),Sk(t),Yv(t,r),bk(t),Nk(t,r),Rk(t),Pk(t),Dk(t,r),pf(t),Hv(t),Jv(t),mf(t,r),gf(t),Zv(t,r);break;case"firefox":if(!g_||!Kv||!e.shimFirefox)return n("Firefox shim is not included in this adapter release."),i;n("adapter.js shimming firefox."),i.browserShim=g_,yf(t,r),vf(t),Mk(t,r),Kv(t,r),Ok(t),Fk(t),Lk(t),Vk(t),Bk(t),jk(t),Uk(t),qk(t),Gk(t),pf(t),Jv(t),mf(t,r),gf(t);break;case"safari":if(!y_||!e.shimSafari)return n("Safari shim is not included in this adapter release."),i;n("adapter.js shimming safari."),i.browserShim=y_,yf(t,r),vf(t),Kk(t),Jk(t),Wk(t),zk(t),$k(t),Hk(t),Qk(t),Zk(t),pf(t),Hv(t),mf(t,r),gf(t),Zv(t,r);break;default:n("Unsupported browser!");break}return i}VG({window:typeof window>"u"?void 0:window});var t2=t=>{throw TypeError(t)},n2=(t,e,n)=>e.has(t)||t2("Cannot "+n),FG=(t,e,n)=>(n2(t,e,"read from private field"),n?n.call(t):e.get(t)),BG=(t,e,n)=>e.has(t)?t2("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),jG=(t,e,n,r)=>(n2(t,e,"write to private field"),e.set(t,n),n);const Rm=[["Aztec","M"],["Codabar","L"],["Code39","L"],["Code93","L"],["Code128","L"],["DataBar","L"],["DataBarExpanded","L"],["DataMatrix","M"],["EAN-8","L"],["EAN-13","L"],["ITF","L"],["MaxiCode","M"],["PDF417","M"],["QRCode","M"],["UPC-A","L"],["UPC-E","L"],["MicroQRCode","M"],["rMQRCode","M"],["DXFilmEdge","L"],["DataBarLimited","L"]],Pm=Rm.map(([t])=>t),UG=Pm.filter((t,e)=>Rm[e][1]==="L"),qG=Pm.filter((t,e)=>Rm[e][1]==="M");function Xv(t){switch(t){case"Linear-Codes":return UG.reduce((e,n)=>e|Xv(n),0);case"Matrix-Codes":return qG.reduce((e,n)=>e|Xv(n),0);case"Any":return(1<<Rm.length)-1;case"None":return 0;default:return 1<<Pm.indexOf(t)}}function GG(t){if(t===0)return"None";const e=31-Math.clz32(t);return Pm[e]}function zG(t){return t.reduce((e,n)=>e|Xv(n),0)}const $G=["LocalAverage","GlobalHistogram","FixedThreshold","BoolCast"];function WG(t){return $G.indexOf(t)}const v_=["Unknown","ASCII","ISO8859_1","ISO8859_2","ISO8859_3","ISO8859_4","ISO8859_5","ISO8859_6","ISO8859_7","ISO8859_8","ISO8859_9","ISO8859_10","ISO8859_11","ISO8859_13","ISO8859_14","ISO8859_15","ISO8859_16","Cp437","Cp1250","Cp1251","Cp1252","Cp1256","Shift_JIS","Big5","GB2312","GB18030","EUC_JP","EUC_KR","UTF16BE","UTF16BE","UTF8","UTF16LE","UTF32BE","UTF32LE","BINARY"];function QG(t){return t==="UnicodeBig"?v_.indexOf("UTF16BE"):v_.indexOf(t)}const YG=["Text","Binary","Mixed","GS1","ISO15434","UnknownECI"];function KG(t){return YG[t]}const HG=["Ignore","Read","Require"];function JG(t){return HG.indexOf(t)}const ZG=["Plain","ECI","HRI","Hex","Escaped"];function XG(t){return ZG.indexOf(t)}const Tp={formats:[],tryHarder:!0,tryRotate:!0,tryInvert:!0,tryDownscale:!0,tryDenoise:!1,binarizer:"LocalAverage",isPure:!1,downscaleFactor:3,downscaleThreshold:500,minLineCount:2,maxNumberOfSymbols:255,tryCode39ExtendedMode:!0,returnErrors:!1,eanAddOnSymbol:"Ignore",textMode:"HRI",characterSet:"Unknown"};function w_(t){return{...t,formats:zG(t.formats),binarizer:WG(t.binarizer),eanAddOnSymbol:JG(t.eanAddOnSymbol),textMode:XG(t.textMode),characterSet:QG(t.characterSet)}}function e7(t){return{...t,format:GG(t.format),contentType:KG(t.contentType),eccLevel:t.ecLevel}}const t7={locateFile:(t,e)=>{const n=t.match(/_(.+?)\.wasm$/);return n?`https://fastly.jsdelivr.net/npm/zxing-wasm@2.1.2/dist/${n[1]}/${t}`:e+t}},Jg=new WeakMap;function n7(t,e){return Object.is(t,e)||Object.keys(t).length===Object.keys(e).length&&Object.keys(t).every(n=>Object.prototype.hasOwnProperty.call(e,n)&&t[n]===e[n])}function r2(t,{overrides:e,equalityFn:n=n7,fireImmediately:r=!1}={}){var i;const[s,o]=(i=Jg.get(t))!=null?i:[t7],a=e??s;let l;if(r){if(o&&(l=n(s,a)))return o;const c=t({...a});return Jg.set(t,[a,c]),c}(l??n(s,a))||Jg.set(t,[a])}async function r7(t,e,n=Tp){const r={...Tp,...n},i=await r2(t,{fireImmediately:!0});let s,o;if("width"in e&&"height"in e&&"data"in e){const{data:l,data:{byteLength:c},width:d,height:f}=e;o=i._malloc(c),i.HEAPU8.set(l,o),s=i.readBarcodesFromPixmap(o,d,f,w_(r))}else{let l,c;if("buffer"in e)[l,c]=[e.byteLength,e];else if("byteLength"in e)[l,c]=[e.byteLength,new Uint8Array(e)];else if("size"in e)[l,c]=[e.size,new Uint8Array(await e.arrayBuffer())];else throw new TypeError("Invalid input type");o=i._malloc(l),i.HEAPU8.set(c,o),s=i.readBarcodesFromImage(o,l,w_(r))}i._free(o);const a=[];for(let l=0;l<s.size();++l)a.push(e7(s.get(l)));return a}({...Tp,formats:[...Tp.formats]});var i2=async function(t={}){var e,n=t,r,i,s=new Promise((C,w)=>{r=C,i=w}),o=typeof window=="object",a=typeof Bun<"u",l=typeof WorkerGlobalScope<"u";typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string"&&process.type!="renderer";var c="./this.program",d="";function f(C){return n.locateFile?n.locateFile(C,d):d+C}var h,y;(o||l||a)&&(l?d=self.location.href:typeof document<"u"&&document.currentScript&&(d=document.currentScript.src),d.startsWith("blob:")?d="":d=d.slice(0,d.replace(/[?#].*/,"").lastIndexOf("/")+1),l&&(y=C=>{var w=new XMLHttpRequest;return w.open("GET",C,!1),w.responseType="arraybuffer",w.send(null),new Uint8Array(w.response)}),h=async C=>{var w=await fetch(C,{credentials:"same-origin"});if(w.ok)return w.arrayBuffer();throw new Error(w.status+" : "+w.url)});var A=console.log.bind(console),g=console.error.bind(console),I,E,v=!1,_,R,O,B,b,S,k,D;function V(){var C=E.buffer;_=new Int8Array(C),O=new Int16Array(C),n.HEAPU8=R=new Uint8Array(C),B=new Uint16Array(C),b=new Int32Array(C),S=new Uint32Array(C),k=new Float32Array(C),D=new Float64Array(C)}function F(){if(n.preRun)for(typeof n.preRun=="function"&&(n.preRun=[n.preRun]);n.preRun.length;)Ee(n.preRun.shift());ge(Ae)}function M(){p.ya()}function ee(){if(n.postRun)for(typeof n.postRun=="function"&&(n.postRun=[n.postRun]);n.postRun.length;)we(n.postRun.shift());ge(Ie)}var ie=0,re=null;function pe(C){var w;ie++,(w=n.monitorRunDependencies)===null||w===void 0||w.call(n,ie)}function G(C){var w;if(ie--,(w=n.monitorRunDependencies)===null||w===void 0||w.call(n,ie),ie==0&&re){var P=re;re=null,P()}}function Z(C){var w;(w=n.onAbort)===null||w===void 0||w.call(n,C),C="Aborted("+C+")",g(C),v=!0,C+=". Build with -sASSERTIONS for more info.";var P=new WebAssembly.RuntimeError(C);throw i(P),P}var ae;function se(){return f("zxing_reader.wasm")}function ue(C){if(C==ae&&I)return new Uint8Array(I);if(y)return y(C);throw"both async and sync fetching of the wasm failed"}async function he(C){if(!I)try{var w=await h(C);return new Uint8Array(w)}catch{}return ue(C)}async function Pe(C,w){try{var P=await he(C),L=await WebAssembly.instantiate(P,w);return L}catch(j){g(`failed to asynchronously prepare wasm: ${j}`),Z(j)}}async function De(C,w,P){if(!C&&typeof WebAssembly.instantiateStreaming=="function")try{var L=fetch(w,{credentials:"same-origin"}),j=await WebAssembly.instantiateStreaming(L,P);return j}catch(U){g(`wasm streaming compile failed: ${U}`),g("falling back to ArrayBuffer instantiation")}return Pe(w,P)}function Te(){return{a:u}}async function te(){function C(U,$){return p=U.exports,E=p.xa,V(),fa=p.Ba,G(),p}pe();function w(U){return C(U.instance)}var P=Te();if(n.instantiateWasm)return new Promise((U,$)=>{n.instantiateWasm(P,(z,X)=>{U(C(z))})});ae!=null||(ae=se());try{var L=await De(I,ae,P),j=w(L);return j}catch(U){return i(U),Promise.reject(U)}}var ge=C=>{for(;C.length>0;)C.shift()(n)},Ie=[],we=C=>Ie.push(C),Ae=[],Ee=C=>Ae.push(C),de=C=>Lt(C),ye=()=>qe(),ct=[],rt=0,bt=C=>{var w=new rn(C);return w.get_caught()||(w.set_caught(!0),rt--),w.set_rethrown(!1),ct.push(w),zt(C),W(C)},Ke=0,ut=()=>{K(0,0);var C=ct.pop();Gt(C.excPtr),Ke=0};class rn{constructor(w){this.excPtr=w,this.ptr=w-24}set_type(w){S[this.ptr+4>>2]=w}get_type(){return S[this.ptr+4>>2]}set_destructor(w){S[this.ptr+8>>2]=w}get_destructor(){return S[this.ptr+8>>2]}set_caught(w){w=w?1:0,_[this.ptr+12]=w}get_caught(){return _[this.ptr+12]!=0}set_rethrown(w){w=w?1:0,_[this.ptr+13]=w}get_rethrown(){return _[this.ptr+13]!=0}init(w,P){this.set_adjusted_ptr(0),this.set_type(w),this.set_destructor(P)}set_adjusted_ptr(w){S[this.ptr+16>>2]=w}get_adjusted_ptr(){return S[this.ptr+16>>2]}}var yr=C=>Ze(C),ui=C=>{var w=Ke;if(!w)return yr(0),0;var P=new rn(w);P.set_adjusted_ptr(w);var L=P.get_type();if(!L)return yr(0),w;for(var j of C){if(j===0||j===L)break;var U=P.ptr+16;if(ts(j,L,U))return yr(j),w}return yr(L),w},sr=()=>ui([]),di=C=>ui([C]),po=(C,w)=>ui([C,w]),Ct=()=>{var C=ct.pop();C||Z("no exception to throw");var w=C.excPtr;throw C.get_rethrown()||(ct.push(C),C.set_rethrown(!0),C.set_caught(!1),rt++),Ke=w,Ke},dt=(C,w,P)=>{var L=new rn(C);throw L.init(w,P),Ke=C,rt++,Ke},hi=()=>rt,vr=C=>{throw Ke||(Ke=C),Ke},mo=()=>Z(""),Wi={},or=C=>{for(;C.length;){var w=C.pop(),P=C.pop();P(w)}};function wr(C){return this.fromWireType(S[C>>2])}var Er={},vn={},wn={},tc=n.InternalError=class extends Error{constructor(C){super(C),this.name="InternalError"}},xe=C=>{throw new tc(C)},Ve=(C,w,P)=>{C.forEach(z=>wn[z]=w);function L(z){var X=P(z);X.length!==C.length&&xe("Mismatched type converter count");for(var oe=0;oe<C.length;++oe)on(C[oe],X[oe])}var j=new Array(w.length),U=[],$=0;w.forEach((z,X)=>{vn.hasOwnProperty(z)?j[X]=vn[z]:(U.push(z),Er.hasOwnProperty(z)||(Er[z]=[]),Er[z].push(()=>{j[X]=vn[z],++$,$===U.length&&L(j)}))}),U.length===0&&L(j)},Qe=C=>{var w=Wi[C];delete Wi[C];var P=w.rawConstructor,L=w.rawDestructor,j=w.fields,U=j.map($=>$.getterReturnType).concat(j.map($=>$.setterArgumentType));Ve([C],U,$=>{var z={};return j.forEach((X,oe)=>{var ce=X.fieldName,_e=$[oe],$e=$[oe].optional,Ye=X.getter,ft=X.getterContext,Vt=$[oe+j.length],Rt=X.setter,$t=X.setterContext;z[ce]={read:Ci=>_e.fromWireType(Ye(ft,Ci)),write:(Ci,kn)=>{var lr=[];Rt($t,Ci,Vt.toWireType(lr,kn)),or(lr)},optional:$e}}),[{name:w.name,fromWireType:X=>{var oe={};for(var ce in z)oe[ce]=z[ce].read(X);return L(X),oe},toWireType:(X,oe)=>{for(var ce in z)if(!(ce in oe)&&!z[ce].optional)throw new TypeError(`Missing field: "${ce}"`);var _e=P();for(ce in z)z[ce].write(_e,oe[ce]);return X!==null&&X.push(L,_e),_e},argPackAdvance:ar,readValueFromPointer:wr,destructorFunction:L}]})},qt=(C,w,P,L,j)=>{},sn=()=>{for(var C=new Array(256),w=0;w<256;++w)C[w]=String.fromCharCode(w);Cr=C},Cr,st=C=>{for(var w="",P=C;R[P];)w+=Cr[R[P++]];return w},Qi=n.BindingError=class extends Error{constructor(C){super(C),this.name="BindingError"}},Ue=C=>{throw new Qi(C)};function md(C,w){let P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};var L=w.name;if(C||Ue(`type "${L}" must have a positive integer typeid pointer`),vn.hasOwnProperty(C)){if(P.ignoreDuplicateRegistrations)return;Ue(`Cannot register type '${L}' twice`)}if(vn[C]=w,delete wn[C],Er.hasOwnProperty(C)){var j=Er[C];delete Er[C],j.forEach(U=>U())}}function on(C,w){let P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return md(C,w,P)}var ar=8,Ht=(C,w,P,L)=>{w=st(w),on(C,{name:w,fromWireType:function(j){return!!j},toWireType:function(j,U){return U?P:L},argPackAdvance:ar,readValueFromPointer:function(j){return this.fromWireType(R[j])},destructorFunction:null})},gd=C=>({count:C.count,deleteScheduled:C.deleteScheduled,preservePointerOnDelete:C.preservePointerOnDelete,ptr:C.ptr,ptrType:C.ptrType,smartPtr:C.smartPtr,smartPtrType:C.smartPtrType}),fi=C=>{function w(P){return P.$$.ptrType.registeredClass.name}Ue(w(C)+" instance already deleted")},pi=!1,yd=C=>{},km=C=>{C.smartPtr?C.smartPtrType.rawDestructor(C.smartPtr):C.ptrType.registeredClass.rawDestructor(C.ptr)},mi=C=>{C.count.value-=1;var w=C.count.value===0;w&&km(C)},go=C=>typeof FinalizationRegistry>"u"?(go=w=>w,C):(pi=new FinalizationRegistry(w=>{mi(w.$$)}),go=w=>{var P=w.$$,L=!!P.smartPtr;if(L){var j={$$:P};pi.register(w,j,w)}return w},yd=w=>pi.unregister(w),go(C)),Nm=()=>{let C=gi.prototype;Object.assign(C,{isAliasOf(P){if(!(this instanceof gi)||!(P instanceof gi))return!1;var L=this.$$.ptrType.registeredClass,j=this.$$.ptr;P.$$=P.$$;for(var U=P.$$.ptrType.registeredClass,$=P.$$.ptr;L.baseClass;)j=L.upcast(j),L=L.baseClass;for(;U.baseClass;)$=U.upcast($),U=U.baseClass;return L===U&&j===$},clone(){if(this.$$.ptr||fi(this),this.$$.preservePointerOnDelete)return this.$$.count.value+=1,this;var P=go(Object.create(Object.getPrototypeOf(this),{$$:{value:gd(this.$$)}}));return P.$$.count.value+=1,P.$$.deleteScheduled=!1,P},delete(){this.$$.ptr||fi(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&Ue("Object already scheduled for deletion"),yd(this),mi(this.$$),this.$$.preservePointerOnDelete||(this.$$.smartPtr=void 0,this.$$.ptr=void 0)},isDeleted(){return!this.$$.ptr},deleteLater(){return this.$$.ptr||fi(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&Ue("Object already scheduled for deletion"),this.$$.deleteScheduled=!0,this}});const w=Symbol.dispose;w&&(C[w]=C.delete)};function gi(){}var la=(C,w)=>Object.defineProperty(w,"name",{value:C}),ca={},yo=(C,w,P)=>{if(C[w].overloadTable===void 0){var L=C[w];C[w]=function(){for(var j=arguments.length,U=new Array(j),$=0;$<j;$++)U[$]=arguments[$];return C[w].overloadTable.hasOwnProperty(U.length)||Ue(`Function '${P}' called with an invalid number of arguments (${U.length}) - expects one of (${C[w].overloadTable})!`),C[w].overloadTable[U.length].apply(this,U)},C[w].overloadTable=[],C[w].overloadTable[L.argCount]=L}},Tr=(C,w,P)=>{n.hasOwnProperty(C)?((P===void 0||n[C].overloadTable!==void 0&&n[C].overloadTable[P]!==void 0)&&Ue(`Cannot register public name '${C}' twice`),yo(n,C,C),n[C].overloadTable.hasOwnProperty(P)&&Ue(`Cannot register multiple overloads of a function with the same number of arguments (${P})!`),n[C].overloadTable[P]=w):(n[C]=w,n[C].argCount=P)},vd=48,wd=57,nc=C=>{C=C.replace(/[^a-zA-Z0-9_]/g,"$");var w=C.charCodeAt(0);return w>=vd&&w<=wd?`_${C}`:C};function rc(C,w,P,L,j,U,$,z){this.name=C,this.constructor=w,this.instancePrototype=P,this.rawDestructor=L,this.baseClass=j,this.getActualType=U,this.upcast=$,this.downcast=z,this.pureVirtualFunctions=[]}var ua=(C,w,P)=>{for(;w!==P;)w.upcast||Ue(`Expected null or instance of ${P.name}, got an instance of ${w.name}`),C=w.upcast(C),w=w.baseClass;return C};function Ed(C,w){if(w===null)return this.isReference&&Ue(`null is not a valid ${this.name}`),0;w.$$||Ue(`Cannot pass "${embindRepr(w)}" as a ${this.name}`),w.$$.ptr||Ue(`Cannot pass deleted object as a pointer of type ${this.name}`);var P=w.$$.ptrType.registeredClass,L=ua(w.$$.ptr,P,this.registeredClass);return L}function Dm(C,w){var P;if(w===null)return this.isReference&&Ue(`null is not a valid ${this.name}`),this.isSmartPointer?(P=this.rawConstructor(),C!==null&&C.push(this.rawDestructor,P),P):0;(!w||!w.$$)&&Ue(`Cannot pass "${embindRepr(w)}" as a ${this.name}`),w.$$.ptr||Ue(`Cannot pass deleted object as a pointer of type ${this.name}`),!this.isConst&&w.$$.ptrType.isConst&&Ue(`Cannot convert argument of type ${w.$$.smartPtrType?w.$$.smartPtrType.name:w.$$.ptrType.name} to parameter type ${this.name}`);var L=w.$$.ptrType.registeredClass;if(P=ua(w.$$.ptr,L,this.registeredClass),this.isSmartPointer)switch(w.$$.smartPtr===void 0&&Ue("Passing raw pointer to smart pointer is illegal"),this.sharingPolicy){case 0:w.$$.smartPtrType===this?P=w.$$.smartPtr:Ue(`Cannot convert argument of type ${w.$$.smartPtrType?w.$$.smartPtrType.name:w.$$.ptrType.name} to parameter type ${this.name}`);break;case 1:P=w.$$.smartPtr;break;case 2:if(w.$$.smartPtrType===this)P=w.$$.smartPtr;else{var j=w.clone();P=this.rawShare(P,_r.toHandle(()=>j.delete())),C!==null&&C.push(this.rawDestructor,P)}break;default:Ue("Unsupporting sharing policy")}return P}function da(C,w){if(w===null)return this.isReference&&Ue(`null is not a valid ${this.name}`),0;w.$$||Ue(`Cannot pass "${embindRepr(w)}" as a ${this.name}`),w.$$.ptr||Ue(`Cannot pass deleted object as a pointer of type ${this.name}`),w.$$.ptrType.isConst&&Ue(`Cannot convert argument of type ${w.$$.ptrType.name} to parameter type ${this.name}`);var P=w.$$.ptrType.registeredClass,L=ua(w.$$.ptr,P,this.registeredClass);return L}var ic=(C,w,P)=>{if(w===P)return C;if(P.baseClass===void 0)return null;var L=ic(C,w,P.baseClass);return L===null?null:P.downcast(L)},sc={},vo=(C,w)=>{for(w===void 0&&Ue("ptr should not be undefined");C.baseClass;)w=C.upcast(w),C=C.baseClass;return w},yi=(C,w)=>(w=vo(C,w),sc[w]),Yi=(C,w)=>{(!w.ptrType||!w.ptr)&&xe("makeClassHandle requires ptr and ptrType");var P=!!w.smartPtrType,L=!!w.smartPtr;return P!==L&&xe("Both smartPtrType and smartPtr must be specified"),w.count={value:1},go(Object.create(C,{$$:{value:w,writable:!0}}))};function Mm(C){var w=this.getPointee(C);if(!w)return this.destructor(C),null;var P=yi(this.registeredClass,w);if(P!==void 0){if(P.$$.count.value===0)return P.$$.ptr=w,P.$$.smartPtr=C,P.clone();var L=P.clone();return this.destructor(C),L}function j(){return this.isSmartPointer?Yi(this.registeredClass.instancePrototype,{ptrType:this.pointeeType,ptr:w,smartPtrType:this,smartPtr:C}):Yi(this.registeredClass.instancePrototype,{ptrType:this,ptr:C})}var U=this.registeredClass.getActualType(w),$=ca[U];if(!$)return j.call(this);var z;this.isConst?z=$.constPointerType:z=$.pointerType;var X=ic(w,this.registeredClass,z.registeredClass);return X===null?j.call(this):this.isSmartPointer?Yi(z.registeredClass.instancePrototype,{ptrType:z,ptr:X,smartPtrType:this,smartPtr:C}):Yi(z.registeredClass.instancePrototype,{ptrType:z,ptr:X})}var Cd=()=>{Object.assign(wo.prototype,{getPointee(C){return this.rawGetPointee&&(C=this.rawGetPointee(C)),C},destructor(C){var w;(w=this.rawDestructor)===null||w===void 0||w.call(this,C)},argPackAdvance:ar,readValueFromPointer:wr,fromWireType:Mm})};function wo(C,w,P,L,j,U,$,z,X,oe,ce){this.name=C,this.registeredClass=w,this.isReference=P,this.isConst=L,this.isSmartPointer=j,this.pointeeType=U,this.sharingPolicy=$,this.rawGetPointee=z,this.rawConstructor=X,this.rawShare=oe,this.rawDestructor=ce,!j&&w.baseClass===void 0?L?(this.toWireType=Ed,this.destructorFunction=null):(this.toWireType=da,this.destructorFunction=null):this.toWireType=Dm}var oc=(C,w,P)=>{n.hasOwnProperty(C)||xe("Replacing nonexistent public symbol"),n[C].overloadTable!==void 0&&P!==void 0?n[C].overloadTable[P]=w:(n[C]=w,n[C].argCount=P)},ha=[],fa,Oe=C=>{var w=ha[C];return w||(ha[C]=w=fa.get(C)),w},Td=function(C,w){let P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];if(C.includes("j"))return dynCallLegacy(C,w,P);var L=Oe(w),j=L(...P);return j},Om=function(C,w){let P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return function(){for(var L=arguments.length,j=new Array(L),U=0;U<L;U++)j[U]=arguments[U];return Td(C,w,j,P)}},Bn=function(C,w){C=st(C);function P(){if(C.includes("j"))return Om(C,w);var j=Oe(w);return j}var L=P();return typeof L!="function"&&Ue(`unknown function pointer with signature ${C}: ${w}`),L};class _d extends Error{}var ac=C=>{var w=x(C),P=st(w);return N(w),P},pa=(C,w)=>{var P=[],L={};function j(U){if(!L[U]&&!vn[U]){if(wn[U]){wn[U].forEach(j);return}P.push(U),L[U]=!0}}throw w.forEach(j),new _d(`${C}: `+P.map(ac).join([", "]))},vi=(C,w,P,L,j,U,$,z,X,oe,ce,_e,$e)=>{ce=st(ce),U=Bn(j,U),z&&(z=Bn($,z)),oe&&(oe=Bn(X,oe)),$e=Bn(_e,$e);var Ye=nc(ce);Tr(Ye,function(){pa(`Cannot construct ${ce} due to unbound types`,[L])}),Ve([C,w,P],L?[L]:[],ft=>{ft=ft[0];var Vt,Rt;L?(Vt=ft.registeredClass,Rt=Vt.instancePrototype):Rt=gi.prototype;var $t=la(ce,function(){if(Object.getPrototypeOf(this)!==Ci)throw new Qi(`Use 'new' to construct ${ce}`);if(kn.constructor_body===void 0)throw new Qi(`${ce} has no accessible constructor`);for(var SE=arguments.length,Jd=new Array(SE),Zd=0;Zd<SE;Zd++)Jd[Zd]=arguments[Zd];var bE=kn.constructor_body[Jd.length];if(bE===void 0)throw new Qi(`Tried to invoke ctor of ${ce} with invalid number of parameters (${Jd.length}) - expected (${Object.keys(kn.constructor_body).toString()}) parameters instead!`);return bE.apply(this,Jd)}),Ci=Object.create(Rt,{constructor:{value:$t}});$t.prototype=Ci;var kn=new rc(ce,$t,Ci,$e,Vt,U,z,oe);if(kn.baseClass){var lr,Hd;(Hd=(lr=kn.baseClass).__derivedClasses)!==null&&Hd!==void 0||(lr.__derivedClasses=[]),kn.baseClass.__derivedClasses.push(kn)}var Z2=new wo(ce,kn,!0,!1,!1),xE=new wo(ce+"*",kn,!1,!1,!1),IE=new wo(ce+" const*",kn,!1,!0,!1);return ca[C]={pointerType:xE,constPointerType:IE},oc(Ye,$t),[Z2,xE,IE]})},jn=(C,w)=>{for(var P=[],L=0;L<C;L++)P.push(S[w+L*4>>2]);return P};function ma(C){for(var w=1;w<C.length;++w)if(C[w]!==null&&C[w].destructorFunction===void 0)return!0;return!1}function Ki(C,w,P,L,j,U){var $=w.length;$<2&&Ue("argTypes array size mismatch! Must at least get return value and 'this' types!");var z=w[1]!==null&&P!==null,X=ma(w),oe=w[0].name!=="void",ce=$-2,_e=new Array(ce),$e=[],Ye=[],ft=function(){Ye.length=0;var Vt;$e.length=z?2:1,$e[0]=j,z&&(Vt=w[1].toWireType(Ye,this),$e[1]=Vt);for(var Rt=0;Rt<ce;++Rt)_e[Rt]=w[Rt+2].toWireType(Ye,Rt<0||arguments.length<=Rt?void 0:arguments[Rt]),$e.push(_e[Rt]);var $t=L(...$e);function Ci(kn){if(X)or(Ye);else for(var lr=z?1:2;lr<w.length;lr++){var Hd=lr===1?Vt:_e[lr-2];w[lr].destructorFunction!==null&&w[lr].destructorFunction(Hd)}if(oe)return w[0].fromWireType(kn)}return Ci($t)};return la(C,ft)}var Ad=(C,w,P,L,j,U)=>{var $=jn(w,P);j=Bn(L,j),Ve([],[C],z=>{z=z[0];var X=`constructor ${z.name}`;if(z.registeredClass.constructor_body===void 0&&(z.registeredClass.constructor_body=[]),z.registeredClass.constructor_body[w-1]!==void 0)throw new Qi(`Cannot register multiple constructors with identical number of parameters (${w-1}) for class '${z.name}'! Overload resolution is currently only performed using the parameter count, not actual type info!`);return z.registeredClass.constructor_body[w-1]=()=>{pa(`Cannot construct ${z.name} due to unbound types`,$)},Ve([],$,oe=>(oe.splice(1,0,null),z.registeredClass.constructor_body[w-1]=Ki(X,oe,null,j,U),[])),[]})},et=C=>{C=C.trim();const w=C.indexOf("(");return w===-1?C:C.slice(0,w)},ga=(C,w,P,L,j,U,$,z,X,oe)=>{var ce=jn(P,L);w=st(w),w=et(w),U=Bn(j,U),Ve([],[C],_e=>{_e=_e[0];var $e=`${_e.name}.${w}`;w.startsWith("@@")&&(w=Symbol[w.substring(2)]),z&&_e.registeredClass.pureVirtualFunctions.push(w);function Ye(){pa(`Cannot call ${$e} due to unbound types`,ce)}var ft=_e.registeredClass.instancePrototype,Vt=ft[w];return Vt===void 0||Vt.overloadTable===void 0&&Vt.className!==_e.name&&Vt.argCount===P-2?(Ye.argCount=P-2,Ye.className=_e.name,ft[w]=Ye):(yo(ft,w,$e),ft[w].overloadTable[P-2]=Ye),Ve([],ce,Rt=>{var $t=Ki($e,Rt,_e,U,$);return ft[w].overloadTable===void 0?($t.argCount=P-2,ft[w]=$t):ft[w].overloadTable[P-2]=$t,[]}),[]})},wi=[],En=[],lc=C=>{C>9&&--En[C+1]===0&&(En[C]=void 0,wi.push(C))},xd=()=>En.length/2-5-wi.length,Lm=()=>{En.push(0,1,void 0,1,null,1,!0,1,!1,1),n.count_emval_handles=xd},_r={toValue:C=>(C||Ue(`Cannot use deleted val. handle = ${C}`),En[C]),toHandle:C=>{switch(C){case void 0:return 2;case null:return 4;case!0:return 6;case!1:return 8;default:{const w=wi.pop()||En.length;return En[w]=C,En[w+1]=1,w}}}},Id={name:"emscripten::val",fromWireType:C=>{var w=_r.toValue(C);return lc(C),w},toWireType:(C,w)=>_r.toHandle(w),argPackAdvance:ar,readValueFromPointer:wr,destructorFunction:null},Vm=C=>on(C,Id),Eo=(C,w)=>{switch(w){case 4:return function(P){return this.fromWireType(k[P>>2])};case 8:return function(P){return this.fromWireType(D[P>>3])};default:throw new TypeError(`invalid float width (${w}): ${C}`)}},jr=(C,w,P)=>{w=st(w),on(C,{name:w,fromWireType:L=>L,toWireType:(L,j)=>j,argPackAdvance:ar,readValueFromPointer:Eo(w,P),destructorFunction:null})},Sd=(C,w,P,L,j,U,$,z)=>{var X=jn(w,P);C=st(C),C=et(C),j=Bn(L,j),Tr(C,function(){pa(`Cannot call ${C} due to unbound types`,X)},w-1),Ve([],X,oe=>{var ce=[oe[0],null].concat(oe.slice(1));return oc(C,Ki(C,ce,null,j,U),w-1),[]})},bd=(C,w,P)=>{switch(w){case 1:return P?L=>_[L]:L=>R[L];case 2:return P?L=>O[L>>1]:L=>B[L>>1];case 4:return P?L=>b[L>>2]:L=>S[L>>2];default:throw new TypeError(`invalid integer width (${w}): ${C}`)}},Rd=(C,w,P,L,j)=>{w=st(w);var U=ce=>ce;if(L===0){var $=32-8*P;U=ce=>ce<<$>>>$}var z=w.includes("unsigned"),X=(ce,_e)=>{},oe;z?oe=function(ce,_e){return X(_e,this.name),_e>>>0}:oe=function(ce,_e){return X(_e,this.name),_e},on(C,{name:w,fromWireType:U,toWireType:oe,argPackAdvance:ar,readValueFromPointer:bd(w,P,L!==0),destructorFunction:null})},Hi=(C,w,P)=>{var L=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],j=L[w];function U($){var z=S[$>>2],X=S[$+4>>2];return new j(_.buffer,X,z)}P=st(P),on(C,{name:P,fromWireType:U,argPackAdvance:ar,readValueFromPointer:U},{ignoreDuplicateRegistrations:!0})},Fm=Object.assign({optional:!0},Id),Bm=(C,w)=>{on(C,Fm)},jm=(C,w,P,L)=>{if(!(L>0))return 0;for(var j=P,U=P+L-1,$=0;$<C.length;++$){var z=C.charCodeAt($);if(z>=55296&&z<=57343){var X=C.charCodeAt(++$);z=65536+((z&1023)<<10)|X&1023}if(z<=127){if(P>=U)break;w[P++]=z}else if(z<=2047){if(P+1>=U)break;w[P++]=192|z>>6,w[P++]=128|z&63}else if(z<=65535){if(P+2>=U)break;w[P++]=224|z>>12,w[P++]=128|z>>6&63,w[P++]=128|z&63}else{if(P+3>=U)break;w[P++]=240|z>>18,w[P++]=128|z>>12&63,w[P++]=128|z>>6&63,w[P++]=128|z&63}}return w[P]=0,P-j},Cn=(C,w,P)=>jm(C,R,w,P),Pd=C=>{for(var w=0,P=0;P<C.length;++P){var L=C.charCodeAt(P);L<=127?w++:L<=2047?w+=2:L>=55296&&L<=57343?(w+=4,++P):w+=3}return w},kd=typeof TextDecoder<"u"?new TextDecoder:void 0,Co=function(C){let w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:NaN;for(var L=w+P,j=w;C[j]&&!(j>=L);)++j;if(j-w>16&&C.buffer&&kd)return kd.decode(C.subarray(w,j));for(var U="";w<j;){var $=C[w++];if(!($&128)){U+=String.fromCharCode($);continue}var z=C[w++]&63;if(($&224)==192){U+=String.fromCharCode(($&31)<<6|z);continue}var X=C[w++]&63;if(($&240)==224?$=($&15)<<12|z<<6|X:$=($&7)<<18|z<<12|X<<6|C[w++]&63,$<65536)U+=String.fromCharCode($);else{var oe=$-65536;U+=String.fromCharCode(55296|oe>>10,56320|oe&1023)}}return U},ya=(C,w)=>C?Co(R,C,w):"",Nd=(C,w)=>{w=st(w),on(C,{name:w,fromWireType(P){for(var L=S[P>>2],j=P+4,U,z,$=j,z=0;z<=L;++z){var X=j+z;if(z==L||R[X]==0){var oe=X-$,ce=ya($,oe);U===void 0?U=ce:(U+="\0",U+=ce),$=X+1}}return N(P),U},toWireType(P,L){L instanceof ArrayBuffer&&(L=new Uint8Array(L));var j,U=typeof L=="string";U||ArrayBuffer.isView(L)&&L.BYTES_PER_ELEMENT==1||Ue("Cannot pass non-string to std::string"),U?j=Pd(L):j=L.length;var $=q(4+j+1),z=$+4;return S[$>>2]=j,U?Cn(L,z,j+1):R.set(L,z),P!==null&&P.push(N,$),$},argPackAdvance:ar,readValueFromPointer:wr,destructorFunction(P){N(P)}})},Ji=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0,To=(C,w)=>{for(var P=C,L=P>>1,j=L+w/2;!(L>=j)&&B[L];)++L;if(P=L<<1,P-C>32&&Ji)return Ji.decode(R.subarray(C,P));for(var U="",$=0;!($>=w/2);++$){var z=O[C+$*2>>1];if(z==0)break;U+=String.fromCharCode(z)}return U},Dd=(C,w,P)=>{if(P!=null||(P=2147483647),P<2)return 0;P-=2;for(var L=w,j=P<C.length*2?P/2:C.length,U=0;U<j;++U){var $=C.charCodeAt(U);O[w>>1]=$,w+=2}return O[w>>1]=0,w-L},cc=C=>C.length*2,ht=(C,w)=>{for(var P=0,L="";!(P>=w/4);){var j=b[C+P*4>>2];if(j==0)break;if(++P,j>=65536){var U=j-65536;L+=String.fromCharCode(55296|U>>10,56320|U&1023)}else L+=String.fromCharCode(j)}return L},Um=(C,w,P)=>{if(P!=null||(P=2147483647),P<4)return 0;for(var L=w,j=L+P-4,U=0;U<C.length;++U){var $=C.charCodeAt(U);if($>=55296&&$<=57343){var z=C.charCodeAt(++U);$=65536+(($&1023)<<10)|z&1023}if(b[w>>2]=$,w+=4,w+4>j)break}return b[w>>2]=0,w-L},qm=C=>{for(var w=0,P=0;P<C.length;++P){var L=C.charCodeAt(P);L>=55296&&L<=57343&&++P,w+=4}return w},Md=(C,w,P)=>{P=st(P);var L,j,U,$;w===2?(L=To,j=Dd,$=cc,U=z=>B[z>>1]):w===4&&(L=ht,j=Um,$=qm,U=z=>S[z>>2]),on(C,{name:P,fromWireType:z=>{for(var X=S[z>>2],oe,ce=z+4,_e=0;_e<=X;++_e){var $e=z+4+_e*w;if(_e==X||U($e)==0){var Ye=$e-ce,ft=L(ce,Ye);oe===void 0?oe=ft:(oe+="\0",oe+=ft),ce=$e+w}}return N(z),oe},toWireType:(z,X)=>{typeof X!="string"&&Ue(`Cannot pass non-string to C++ string type ${P}`);var oe=$(X),ce=q(4+oe+w);return S[ce>>2]=oe/w,j(X,ce+4,oe+w),z!==null&&z.push(N,ce),ce},argPackAdvance:ar,readValueFromPointer:wr,destructorFunction(z){N(z)}})},Od=(C,w,P,L,j,U)=>{Wi[C]={name:st(w),rawConstructor:Bn(P,L),rawDestructor:Bn(j,U),fields:[]}},Ld=(C,w,P,L,j,U,$,z,X,oe)=>{Wi[C].fields.push({fieldName:st(w),getterReturnType:P,getter:Bn(L,j),getterContext:U,setterArgumentType:$,setter:Bn(z,X),setterContext:oe})},va=(C,w)=>{w=st(w),on(C,{isVoid:!0,name:w,argPackAdvance:0,fromWireType:()=>{},toWireType:(P,L)=>{}})},wa=[],Ar=(C,w,P,L)=>(C=wa[C],w=_r.toValue(w),C(null,w,P,L)),Vd={},Gm=C=>{var w=Vd[C];return w===void 0?st(C):w},Zi=()=>{if(typeof globalThis=="object")return globalThis;function C(w){w.$$$embind_global$$$=w;var P=typeof $$$embind_global$$$=="object"&&w.$$$embind_global$$$==w;return P||delete w.$$$embind_global$$$,P}if(typeof $$$embind_global$$$=="object"||(typeof global=="object"&&C(global)?$$$embind_global$$$=global:typeof self=="object"&&C(self)&&($$$embind_global$$$=self),typeof $$$embind_global$$$=="object"))return $$$embind_global$$$;throw Error("unable to get global object.")},Fd=C=>C===0?_r.toHandle(Zi()):(C=Gm(C),_r.toHandle(Zi()[C])),uc=C=>{var w=wa.length;return wa.push(C),w},_o=(C,w)=>{var P=vn[C];return P===void 0&&Ue(`${w} has unknown type ${ac(C)}`),P},Bd=(C,w)=>{for(var P=new Array(C),L=0;L<C;++L)P[L]=_o(S[w+L*4>>2],`parameter ${L}`);return P},Ea=(C,w,P)=>{var L=[],j=C.toWireType(L,P);return L.length&&(S[w>>2]=_r.toHandle(L)),j},zm=Reflect.construct,jd=(C,w,P)=>{var L=Bd(C,w),j=L.shift();C--;var U=new Array(C),$=(X,oe,ce,_e)=>{for(var $e=0,Ye=0;Ye<C;++Ye)U[Ye]=L[Ye].readValueFromPointer(_e+$e),$e+=L[Ye].argPackAdvance;var ft=P===1?zm(oe,U):oe.apply(X,U);return Ea(j,ce,ft)},z=`methodCaller<(${L.map(X=>X.name).join(", ")}) => ${j.name}>`;return uc(la(z,$))},Ao=C=>{C>9&&(En[C+1]+=1)},Ud=C=>{var w=_r.toValue(C);or(w),lc(C)},qd=(C,w)=>{C=_o(C,"_emval_take_value");var P=C.readValueFromPointer(w);return _r.toHandle(P)},dc=(C,w,P,L)=>{var j=new Date().getFullYear(),U=new Date(j,0,1),$=new Date(j,6,1),z=U.getTimezoneOffset(),X=$.getTimezoneOffset(),oe=Math.max(z,X);S[C>>2]=oe*60,b[w>>2]=+(z!=X);var ce=Ye=>{var ft=Ye>=0?"-":"+",Vt=Math.abs(Ye),Rt=String(Math.floor(Vt/60)).padStart(2,"0"),$t=String(Vt%60).padStart(2,"0");return`UTC${ft}${Rt}${$t}`},_e=ce(z),$e=ce(X);X<z?(Cn(_e,P,17),Cn($e,L,17)):(Cn(_e,L,17),Cn($e,P,17))},hc=()=>2147483648,Gd=(C,w)=>Math.ceil(C/w)*w,Ca=C=>{var w=E.buffer,P=(C-w.byteLength+65535)/65536|0;try{return E.grow(P),V(),1}catch{}},zd=C=>{var w=R.length;C>>>=0;var P=hc();if(C>P)return!1;for(var L=1;L<=4;L*=2){var j=w*(1+.2/L);j=Math.min(j,C+100663296);var U=Math.min(P,Gd(Math.max(C,j),65536)),$=Ca(U);if($)return!0}return!1},Ta={},Ei=()=>c||"./this.program",Xi=()=>{if(!Xi.strings){var C=(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",w={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:C,_:Ei()};for(var P in Ta)Ta[P]===void 0?delete w[P]:w[P]=Ta[P];var L=[];for(var P in w)L.push(`${P}=${w[P]}`);Xi.strings=L}return Xi.strings},$d=(C,w)=>{var P=0,L=0;for(var j of Xi()){var U=w+P;S[C+L>>2]=U,P+=Cn(j,U,1/0)+1,L+=4}return 0},Wd=(C,w)=>{var P=Xi();S[C>>2]=P.length;var L=0;for(var j of P)L+=Pd(j)+1;return S[w>>2]=L,0},Qd=C=>52;function _a(C,w,P,L,j){return 70}var Tn=[null,[],[]],Yd=(C,w)=>{var P=Tn[C];w===0||w===10?((C===1?A:g)(Co(P)),P.length=0):P.push(w)},Kd=(C,w,P,L)=>{for(var j=0,U=0;U<P;U++){var $=S[w>>2],z=S[w+4>>2];w+=8;for(var X=0;X<z;X++)Yd(C,R[$+X]);j+=z}return S[L>>2]=j,0},es=C=>C;sn(),Nm(),Cd(),Lm(),n.noExitRuntime&&n.noExitRuntime,n.print&&(A=n.print),n.printErr&&(g=n.printErr),n.wasmBinary&&(I=n.wasmBinary),n.arguments&&n.arguments,n.thisProgram&&(c=n.thisProgram);var u={s:bt,w:ut,a:sr,j:di,m:po,N:Ct,p:dt,da:hi,d:vr,_:mo,sa:Qe,Z:qt,na:Ht,qa:vi,pa:Ad,F:ga,la:Vm,R:jr,S:Sd,y:Rd,t:Hi,ra:Bm,ma:Nd,O:Md,K:Od,ta:Ld,oa:va,V:Ar,ua:lc,wa:Fd,$:jd,T:Ao,va:Ud,ka:qd,aa:dc,ea:zd,ba:$d,ca:Wd,fa:Qd,X:_a,Q:Kd,I:V2,C:B2,U:C2,P:W2,q:D2,b:y2,D:L2,ia:U2,c:w2,ha:q2,h:E2,i:I2,r:b2,M:O2,v:P2,E:N2,J:M2,A:j2,H:Q2,W:H2,k:_2,f:T2,e:v2,g:fc,L:$2,l:x2,ja:F2,o:R2,x:S2,u:k2,ga:z2,B:G2,n:A2,G:Y2,Y:K2,z:es},p=await te();p.ya;var x=p.za,N=n._free=p.Aa,q=n._malloc=p.Ca,W=p.Da,K=p.Ea,Ze=p.Fa,Lt=p.Ga,qe=p.Ha,Gt=p.Ia,zt=p.Ja,ts=p.Ka;n.dynCall_viijii=p.La;var Un=n.dynCall_vij=p.Ma;n.dynCall_jiji=p.Na;var Aa=n.dynCall_jiiii=p.Oa;n.dynCall_iiiiij=p.Pa,n.dynCall_iiiiijj=p.Qa,n.dynCall_iiiiiijj=p.Ra;function fc(C,w,P,L){var j=ye();try{Oe(C)(w,P,L)}catch(U){if(de(j),U!==U+0)throw U;K(1,0)}}function y2(C,w){var P=ye();try{return Oe(C)(w)}catch(L){if(de(P),L!==L+0)throw L;K(1,0)}}function v2(C,w,P){var L=ye();try{Oe(C)(w,P)}catch(j){if(de(L),j!==j+0)throw j;K(1,0)}}function w2(C,w,P){var L=ye();try{return Oe(C)(w,P)}catch(j){if(de(L),j!==j+0)throw j;K(1,0)}}function E2(C,w,P,L){var j=ye();try{return Oe(C)(w,P,L)}catch(U){if(de(j),U!==U+0)throw U;K(1,0)}}function C2(C,w,P,L,j){var U=ye();try{return Oe(C)(w,P,L,j)}catch($){if(de(U),$!==$+0)throw $;K(1,0)}}function T2(C,w){var P=ye();try{Oe(C)(w)}catch(L){if(de(P),L!==L+0)throw L;K(1,0)}}function _2(C){var w=ye();try{Oe(C)()}catch(P){if(de(w),P!==P+0)throw P;K(1,0)}}function A2(C,w,P,L,j,U,$,z,X,oe,ce){var _e=ye();try{Oe(C)(w,P,L,j,U,$,z,X,oe,ce)}catch($e){if(de(_e),$e!==$e+0)throw $e;K(1,0)}}function x2(C,w,P,L,j){var U=ye();try{Oe(C)(w,P,L,j)}catch($){if(de(U),$!==$+0)throw $;K(1,0)}}function I2(C,w,P,L,j){var U=ye();try{return Oe(C)(w,P,L,j)}catch($){if(de(U),$!==$+0)throw $;K(1,0)}}function S2(C,w,P,L,j,U,$){var z=ye();try{Oe(C)(w,P,L,j,U,$)}catch(X){if(de(z),X!==X+0)throw X;K(1,0)}}function b2(C,w,P,L,j,U){var $=ye();try{return Oe(C)(w,P,L,j,U)}catch(z){if(de($),z!==z+0)throw z;K(1,0)}}function R2(C,w,P,L,j,U){var $=ye();try{Oe(C)(w,P,L,j,U)}catch(z){if(de($),z!==z+0)throw z;K(1,0)}}function P2(C,w,P,L,j,U,$){var z=ye();try{return Oe(C)(w,P,L,j,U,$)}catch(X){if(de(z),X!==X+0)throw X;K(1,0)}}function k2(C,w,P,L,j,U,$,z){var X=ye();try{Oe(C)(w,P,L,j,U,$,z)}catch(oe){if(de(X),oe!==oe+0)throw oe;K(1,0)}}function N2(C,w,P,L,j,U,$,z){var X=ye();try{return Oe(C)(w,P,L,j,U,$,z)}catch(oe){if(de(X),oe!==oe+0)throw oe;K(1,0)}}function D2(C){var w=ye();try{return Oe(C)()}catch(P){if(de(w),P!==P+0)throw P;K(1,0)}}function M2(C,w,P,L,j,U,$,z,X){var oe=ye();try{return Oe(C)(w,P,L,j,U,$,z,X)}catch(ce){if(de(oe),ce!==ce+0)throw ce;K(1,0)}}function O2(C,w,P,L,j,U,$){var z=ye();try{return Oe(C)(w,P,L,j,U,$)}catch(X){if(de(z),X!==X+0)throw X;K(1,0)}}function L2(C,w,P,L){var j=ye();try{return Oe(C)(w,P,L)}catch(U){if(de(j),U!==U+0)throw U;K(1,0)}}function V2(C,w,P,L){var j=ye();try{return Oe(C)(w,P,L)}catch(U){if(de(j),U!==U+0)throw U;K(1,0)}}function F2(C,w,P,L,j,U,$,z){var X=ye();try{Oe(C)(w,P,L,j,U,$,z)}catch(oe){if(de(X),oe!==oe+0)throw oe;K(1,0)}}function B2(C,w,P,L,j,U){var $=ye();try{return Oe(C)(w,P,L,j,U)}catch(z){if(de($),z!==z+0)throw z;K(1,0)}}function j2(C,w,P,L,j,U,$,z,X,oe){var ce=ye();try{return Oe(C)(w,P,L,j,U,$,z,X,oe)}catch(_e){if(de(ce),_e!==_e+0)throw _e;K(1,0)}}function U2(C,w,P){var L=ye();try{return Oe(C)(w,P)}catch(j){if(de(L),j!==j+0)throw j;K(1,0)}}function q2(C,w,P,L,j){var U=ye();try{return Oe(C)(w,P,L,j)}catch($){if(de(U),$!==$+0)throw $;K(1,0)}}function G2(C,w,P,L,j,U,$,z,X,oe){var ce=ye();try{Oe(C)(w,P,L,j,U,$,z,X,oe)}catch(_e){if(de(ce),_e!==_e+0)throw _e;K(1,0)}}function z2(C,w,P,L,j,U,$,z,X){var oe=ye();try{Oe(C)(w,P,L,j,U,$,z,X)}catch(ce){if(de(oe),ce!==ce+0)throw ce;K(1,0)}}function $2(C,w,P,L,j,U,$){var z=ye();try{Oe(C)(w,P,L,j,U,$)}catch(X){if(de(z),X!==X+0)throw X;K(1,0)}}function W2(C,w,P,L){var j=ye();try{return Oe(C)(w,P,L)}catch(U){if(de(j),U!==U+0)throw U;K(1,0)}}function Q2(C,w,P,L,j,U,$,z,X,oe,ce,_e){var $e=ye();try{return Oe(C)(w,P,L,j,U,$,z,X,oe,ce,_e)}catch(Ye){if(de($e),Ye!==Ye+0)throw Ye;K(1,0)}}function Y2(C,w,P,L,j,U,$,z,X,oe,ce,_e,$e,Ye,ft,Vt){var Rt=ye();try{Oe(C)(w,P,L,j,U,$,z,X,oe,ce,_e,$e,Ye,ft,Vt)}catch($t){if(de(Rt),$t!==$t+0)throw $t;K(1,0)}}function K2(C,w,P,L){var j=ye();try{Un(C,w,P,L)}catch(U){if(de(j),U!==U+0)throw U;K(1,0)}}function H2(C,w,P,L,j){var U=ye();try{return Aa(C,w,P,L,j)}catch($){if(de(U),$!==$+0)throw $;K(1,0)}}function $m(){if(ie>0){re=$m;return}if(F(),ie>0){re=$m;return}function C(){var w;n.calledRun=!0,!v&&(M(),r(n),(w=n.onRuntimeInitialized)===null||w===void 0||w.call(n),ee())}n.setStatus?(n.setStatus("Running..."),setTimeout(()=>{setTimeout(()=>n.setStatus(""),1),C()},1)):C()}function J2(){if(n.preInit)for(typeof n.preInit=="function"&&(n.preInit=[n.preInit]);n.preInit.length>0;)n.preInit.shift()()}return J2(),$m(),e=s,e};function i7(t){return r2(i2,t)}async function s7(t,e){return r7(i2,t,e)}const s2=[["aztec","Aztec"],["code_128","Code128"],["code_39","Code39"],["code_93","Code93"],["codabar","Codabar"],["databar","DataBar"],["databar_expanded","DataBarExpanded"],["databar_limited","DataBarLimited"],["data_matrix","DataMatrix"],["dx_film_edge","DXFilmEdge"],["ean_13","EAN-13"],["ean_8","EAN-8"],["itf","ITF"],["maxi_code","MaxiCode"],["micro_qr_code","MicroQRCode"],["pdf417","PDF417"],["qr_code","QRCode"],["rm_qr_code","rMQRCode"],["upc_a","UPC-A"],["upc_e","UPC-E"],["linear_codes","Linear-Codes"],["matrix_codes","Matrix-Codes"],["any","Any"]],o7=[...s2,["unknown"]].map(t=>t[0]),e0=new Map(s2);function a7(t){for(const[e,n]of e0)if(t===n)return e;return"unknown"}function l7(t){if(o2(t))return{width:t.naturalWidth,height:t.naturalHeight};if(a2(t))return{width:t.width.baseVal.value,height:t.height.baseVal.value};if(l2(t))return{width:t.videoWidth,height:t.videoHeight};if(u2(t))return{width:t.width,height:t.height};if(h2(t))return{width:t.displayWidth,height:t.displayHeight};if(c2(t))return{width:t.width,height:t.height};if(d2(t))return{width:t.width,height:t.height};throw new TypeError("The provided value is not of type '(Blob or HTMLCanvasElement or HTMLImageElement or HTMLVideoElement or ImageBitmap or ImageData or OffscreenCanvas or SVGImageElement or VideoFrame)'.")}function o2(t){var e,n;try{return t instanceof((n=(e=t==null?void 0:t.ownerDocument)==null?void 0:e.defaultView)==null?void 0:n.HTMLImageElement)}catch{return!1}}function a2(t){var e,n;try{return t instanceof((n=(e=t==null?void 0:t.ownerDocument)==null?void 0:e.defaultView)==null?void 0:n.SVGImageElement)}catch{return!1}}function l2(t){var e,n;try{return t instanceof((n=(e=t==null?void 0:t.ownerDocument)==null?void 0:e.defaultView)==null?void 0:n.HTMLVideoElement)}catch{return!1}}function c2(t){var e,n;try{return t instanceof((n=(e=t==null?void 0:t.ownerDocument)==null?void 0:e.defaultView)==null?void 0:n.HTMLCanvasElement)}catch{return!1}}function u2(t){try{return t instanceof ImageBitmap||Object.prototype.toString.call(t)==="[object ImageBitmap]"}catch{return!1}}function d2(t){try{return t instanceof OffscreenCanvas||Object.prototype.toString.call(t)==="[object OffscreenCanvas]"}catch{return!1}}function h2(t){try{return t instanceof VideoFrame||Object.prototype.toString.call(t)==="[object VideoFrame]"}catch{return!1}}function c7(t){try{return t instanceof Blob||Object.prototype.toString.call(t)==="[object Blob]"}catch{return!1}}function u7(t){try{return t instanceof ImageData||Object.prototype.toString.call(t)==="[object ImageData]"}catch{return!1}}function d7(t,e){try{const n=new OffscreenCanvas(t,e);if(n.getContext("2d")instanceof OffscreenCanvasRenderingContext2D)return n;throw void 0}catch{const n=document.createElement("canvas");return n.width=t,n.height=e,n}}async function f2(t){if(o2(t)&&!await m7(t))throw new DOMException("Failed to load or decode HTMLImageElement.","InvalidStateError");if(a2(t)&&!await g7(t))throw new DOMException("Failed to load or decode SVGImageElement.","InvalidStateError");if(h2(t)&&y7(t))throw new DOMException("VideoFrame is closed.","InvalidStateError");if(l2(t)&&(t.readyState===0||t.readyState===1))throw new DOMException("Invalid element or state.","InvalidStateError");if(u2(t)&&w7(t))throw new DOMException("The image source is detached.","InvalidStateError");const{width:e,height:n}=l7(t);if(e===0||n===0)return null;const r=d7(e,n).getContext("2d");r.drawImage(t,0,0);try{return r.getImageData(0,0,e,n)}catch{throw new DOMException("Source would taint origin.","SecurityError")}}async function h7(t){let e;try{e=await createImageBitmap(t)}catch{try{if(globalThis.Image){e=new Image;let n="";try{n=URL.createObjectURL(t),e.src=n,await e.decode()}finally{URL.revokeObjectURL(n)}}else return t}catch{throw new DOMException("Failed to load or decode Blob.","InvalidStateError")}}return await f2(e)}function f7(t){const{width:e,height:n}=t;if(e===0||n===0)return null;const r=t.getContext("2d");try{return r.getImageData(0,0,e,n)}catch{throw new DOMException("Source would taint origin.","SecurityError")}}async function p7(t){if(c7(t))return await h7(t);if(u7(t)){if(v7(t))throw new DOMException("The image data has been detached.","InvalidStateError");return t}return c2(t)||d2(t)?f7(t):await f2(t)}async function m7(t){try{return await t.decode(),!0}catch{return!1}}async function g7(t){var e;try{return await((e=t.decode)==null?void 0:e.call(t)),!0}catch{return!1}}function y7(t){return t.format===null}function v7(t){return t.data.buffer.byteLength===0}function w7(t){return t.width===0&&t.height===0}function E_(t,e){return E7(t)?new DOMException(`${e}: ${t.message}`,t.name):C7(t)?new t.constructor(`${e}: ${t.message}`):new Error(`${e}: ${t}`)}function E7(t){return t instanceof DOMException||Object.prototype.toString.call(t)==="[object DOMException]"}function C7(t){return t instanceof Error||Object.prototype.toString.call(t)==="[object Error]"}var wf;class t0{constructor(e={}){BG(this,wf);var n;try{const r=(n=e==null?void 0:e.formats)==null?void 0:n.filter(i=>i!=="unknown");if((r==null?void 0:r.length)===0)throw new TypeError("Hint option provided, but is empty.");for(const i of r??[])if(!e0.has(i))throw new TypeError(`Failed to read the 'formats' property from 'BarcodeDetectorOptions': The provided value '${i}' is not a valid enum value of type BarcodeFormat.`);jG(this,wf,r??[]),i7({fireImmediately:!0}).catch(()=>{})}catch(r){throw E_(r,"Failed to construct 'BarcodeDetector'")}}static async getSupportedFormats(){return o7.filter(e=>e!=="unknown")}async detect(e){try{const n=await p7(e);if(n===null)return[];let r;const i={tryCode39ExtendedMode:!1,textMode:"Plain",formats:FG(this,wf).map(s=>e0.get(s))};try{r=await s7(n,i)}catch(s){throw console.error(s),new DOMException("Barcode detection service unavailable.","NotSupportedError")}return r.map(s=>{const{topLeft:{x:o,y:a},topRight:{x:l,y:c},bottomLeft:{x:d,y:f},bottomRight:{x:h,y}}=s.position,A=Math.min(o,l,d,h),g=Math.min(a,c,f,y),I=Math.max(o,l,d,h),E=Math.max(a,c,f,y);return{boundingBox:new DOMRectReadOnly(A,g,I-A,E-g),rawValue:s.text,format:a7(s.format),cornerPoints:[{x:o,y:a},{x:l,y:c},{x:h,y},{x:d,y:f}]}})}catch(n){throw E_(n,"Failed to execute 'detect' on 'BarcodeDetector'")}}}wf=new WeakMap;globalThis.BarcodeDetector!=null||(globalThis.BarcodeDetector=t0);function T7(t){const{onClick:e,disabled:n,className:r}=t,i={cursor:n?"default":"pointer",stroke:n?"grey":"yellow",strokeLineJoin:"round",strokeLineCap:"round",strokeWidth:1.5,...t.style};return Q.createElement("svg",{onClick:n?void 0:e,className:r,style:i,width:"28px",height:"28px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Q.createElement("path",{d:"M3 3L6.00007 6.00007M21 21L19.8455 19.8221M9.74194 4.06811C9.83646 4.04279 9.93334 4.02428 10.0319 4.01299C10.1453 4 10.2683 4 10.5141 4H13.5327C13.7786 4 13.9015 4 14.015 4.01299C14.6068 4.08078 15.1375 4.40882 15.4628 4.90782C15.5252 5.00345 15.5802 5.11345 15.6901 5.33333C15.7451 5.44329 15.7726 5.49827 15.8037 5.54609C15.9664 5.79559 16.2318 5.95961 16.5277 5.9935C16.5844 6 16.6459 6 16.7688 6H17.8234C18.9435 6 19.5036 6 19.9314 6.21799C20.3077 6.40973 20.6137 6.71569 20.8055 7.09202C21.0234 7.51984 21.0234 8.0799 21.0234 9.2V15.3496M19.8455 19.8221C19.4278 20 18.8702 20 17.8234 20H6.22344C5.10333 20 4.54328 20 4.11546 19.782C3.73913 19.5903 3.43317 19.2843 3.24142 18.908C3.02344 18.4802 3.02344 17.9201 3.02344 16.8V9.2C3.02344 8.0799 3.02344 7.51984 3.24142 7.09202C3.43317 6.71569 3.73913 6.40973 4.11546 6.21799C4.51385 6.015 5.0269 6.00103 6.00007 6.00007M19.8455 19.8221L14.5619 14.5619M14.5619 14.5619C14.0349 15.4243 13.0847 16 12 16C10.3431 16 9 14.6569 9 13C9 11.9153 9.57566 10.9651 10.4381 10.4381M14.5619 14.5619L10.4381 10.4381M10.4381 10.4381L6.00007 6.00007"}))}function _7(t){const{onClick:e,disabled:n,className:r}=t,i={cursor:n?"default":"pointer",stroke:n?"grey":"yellow",strokeLineJoin:"round",strokeLineCap:"round",strokeWidth:1.5,...t.style};return Q.createElement("svg",{onClick:n?void 0:e,className:r,style:i,width:"28px",height:"28px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Q.createElement("path",{d:"M12 16C13.6569 16 15 14.6569 15 13C15 11.3431 13.6569 10 12 10C10.3431 10 9 11.3431 9 13C9 14.6569 10.3431 16 12 16Z"}),Q.createElement("path",{d:"M3 16.8V9.2C3 8.0799 3 7.51984 3.21799 7.09202C3.40973 6.71569 3.71569 6.40973 4.09202 6.21799C4.51984 6 5.0799 6 6.2 6H7.25464C7.37758 6 7.43905 6 7.49576 5.9935C7.79166 5.95961 8.05705 5.79559 8.21969 5.54609C8.25086 5.49827 8.27836 5.44328 8.33333 5.33333C8.44329 5.11342 8.49827 5.00346 8.56062 4.90782C8.8859 4.40882 9.41668 4.08078 10.0085 4.01299C10.1219 4 10.2448 4 10.4907 4H13.5093C13.7552 4 13.8781 4 13.9915 4.01299C14.5833 4.08078 15.1141 4.40882 15.4394 4.90782C15.5017 5.00345 15.5567 5.11345 15.6667 5.33333C15.7216 5.44329 15.7491 5.49827 15.7803 5.54609C15.943 5.79559 16.2083 5.95961 16.5042 5.9935C16.561 6 16.6224 6 16.7454 6H17.8C18.9201 6 19.4802 6 19.908 6.21799C20.2843 6.40973 20.5903 6.71569 20.782 7.09202C21 7.51984 21 8.0799 21 9.2V16.8C21 17.9201 21 18.4802 20.782 18.908C20.5903 19.2843 20.2843 19.5903 19.908 19.782C19.4802 20 18.9201 20 17.8 20H6.2C5.0799 20 4.51984 20 4.09202 19.782C3.71569 19.5903 3.40973 19.2843 3.21799 18.908C3 18.4802 3 17.9201 3 16.8Z"}))}function A7(t){const{scanning:e,startScanning:n,stopScanning:r}=t,[i,s]=T.useState(!1);function o(){s(!0),e?r():n(),setTimeout(()=>s(!1),1e3)}return Q.createElement("div",{style:{bottom:85,right:8,position:"absolute",zIndex:2,cursor:i?"default":"pointer"}},e?Q.createElement(T7,{disabled:i,onClick:o}):Q.createElement(_7,{disabled:i,onClick:o}))}function x7(t){const{onClick:e,className:n,style:r}=t;return Q.createElement("svg",{onClick:e,width:"30px",height:"30px",viewBox:"0 0 24 24",className:n,style:r,xmlns:"http://www.w3.org/2000/svg"},Q.createElement("path",{strokeWidth:.2,stroke:"yellow",fill:"yellow",d:"M13.225 9l5.025-7h-7.972l-3.3 11h5.359l-2.452 8.648.75.364L20.374 9zm.438 3H8.322l2.7-9H16.3l-5.025 7h7.101l-6.7 8.953z"}))}function I7(t){const{onClick:e,className:n,style:r}=t;return Q.createElement("svg",{onClick:e,width:"30px",height:"30px",viewBox:"0 0 24 24",className:n,style:r,xmlns:"http://www.w3.org/2000/svg"},Q.createElement("path",{strokeWidth:.2,stroke:"yellow",fill:"yellow",d:"M14.516 15.158l.714.714-4.595 6.14-.75-.364L12.337 13H6.978L8.22 8.861l.803.803L8.322 12h3.036l1.793 1.792-1.475 5.16zm5.984 4.05L4.793 3.5l.707-.707 3.492 3.492L10.278 2h7.972l-5.025 7h7.149l-3.71 4.957 4.543 4.543zM12.707 10l3.243 3.243L18.376 10zM9.795 7.088l2.079 2.079L16.3 3h-5.278z"}))}function S7(t){const{status:e,scanning:n,torchToggle:r}=t;function i(s){r(s)}return n&&r?Q.createElement("div",{style:{bottom:35,right:8,position:"absolute",zIndex:2,cursor:"pointer"}},e?Q.createElement(I7,{onClick:()=>i(!1)}):Q.createElement(x7,{onClick:()=>i(!0)})):null}function b7(t){const{onClick:e,className:n,disabled:r=!1}=t,i={cursor:r?"default":"pointer",stroke:r?"grey":"yellow",fill:r?"grey":"yellow",...t.style};return Q.createElement("svg",{onClick:r?void 0:e,width:"30px",height:"30px",viewBox:"0 0 24 24",className:n,style:i,xmlns:"http://www.w3.org/2000/svg"},Q.createElement("path",{strokeWidth:.3,d:"M16.279,17.039c-1.396,1.209 -3.216,1.941 -5.206,1.941c-4.393,0 -7.96,-3.567 -7.96,-7.96c-0,-4.393 3.567,-7.96 7.96,-7.96c4.393,0 7.96,3.567 7.96,7.96c-0,2.044 -0.772,3.909 -2.04,5.319l0.165,0.165c1.194,1.194 2.388,2.388 3.583,3.582c0.455,0.456 -0.252,1.163 -0.707,0.708l-3.755,-3.755Zm1.754,-6.019c-0,-3.841 -3.119,-6.96 -6.96,-6.96c-3.842,0 -6.96,3.119 -6.96,6.96c-0,3.841 3.118,6.96 6.96,6.96c3.841,0 6.96,-3.119 6.96,-6.96Zm-7.46,0.5l-1.5,0c-0.645,0 -0.643,-1 -0,-1l1.5,0l-0,-1.5c-0,-0.645 1,-0.643 1,0l-0,1.5l1.5,0c0.645,0 0.643,1 -0,1l-1.5,0l-0,1.5c-0,0.645 -1,0.643 -1,0l-0,-1.5Z"}))}function R7(t){const{onClick:e,className:n,disabled:r=!1}=t,i={cursor:r?"default":"pointer",stroke:r?"grey":"yellow",fill:r?"grey":"yellow",...t.style};return Q.createElement("svg",{onClick:r?void 0:e,width:"30px",height:"30px",viewBox:"0 0 24 24",className:n,style:i,xmlns:"http://www.w3.org/2000/svg"},Q.createElement("path",{strokeWidth:.3,d:"M16.279,17.039c-1.396,1.209 -3.216,1.941 -5.206,1.941c-4.393,0 -7.96,-3.567 -7.96,-7.96c-0,-4.393 3.567,-7.96 7.96,-7.96c4.393,0 7.96,3.567 7.96,7.96c-0,2.044 -0.772,3.909 -2.04,5.319l0.165,0.165c1.194,1.194 2.388,2.388 3.583,3.582c0.455,0.456 -0.252,1.163 -0.707,0.708l-3.755,-3.755Zm1.754,-6.019c-0,-3.841 -3.119,-6.96 -6.96,-6.96c-3.842,0 -6.96,3.119 -6.96,6.96c-0,3.841 3.118,6.96 6.96,6.96c3.841,0 6.96,-3.119 6.96,-6.96Zm-4.96,-0.5c0.645,0 0.643,1 -0,1l-4,0c-0.645,0 -0.643,-1 -0,-1l4,0Z"}))}function P7(t){const{scanning:e,capabilities:n,onZoom:r,value:i}=t;if(!e||!r)return null;const s=(n.max-n.min)/3;return Q.createElement(T.Fragment,null,Q.createElement("div",{style:{bottom:130,right:8,position:"absolute",zIndex:2,cursor:"pointer"}},Q.createElement(R7,{disabled:i<=n.min,onClick:function(){r(Math.max(i-s,n.min))}})),Q.createElement("div",{style:{bottom:180,right:8,position:"absolute",zIndex:2,cursor:"pointer"}},Q.createElement(b7,{disabled:i>=n.max,onClick:function(){r(Math.min(i+s,n.max))}})))}const os={fullContainer:{width:"100%",height:"100%",position:"relative",display:"flex",alignItems:"center",justifyContent:"center",overflow:"hidden"},innerContainer:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",position:"relative"},overlay:{position:"absolute",top:0,right:0,bottom:0,left:0,pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},borderBox:{position:"relative",width:"70%",aspectRatio:"1 / 1",border:"2px dashed rgba(239, 68, 68, 0.4)",borderRadius:"0.5rem"},cornerTopLeft:{position:"absolute",width:"15%",height:"15%",border:"4px solid #ef4444",top:0,left:0,borderBottomColor:"transparent",borderRightColor:"transparent",borderTopLeftRadius:"0.5rem"},cornerTopRight:{position:"absolute",width:"15%",height:"15%",border:"4px solid #ef4444",top:0,right:0,borderBottomColor:"transparent",borderLeftColor:"transparent",borderTopRightRadius:"0.5rem"},cornerBottomLeft:{position:"absolute",width:"15%",height:"15%",border:"4px solid #ef4444",bottom:0,left:0,borderTopColor:"transparent",borderRightColor:"transparent",borderBottomLeftRadius:"0.5rem"},cornerBottomRight:{position:"absolute",width:"15%",height:"15%",border:"4px solid #ef4444",bottom:0,right:0,borderTopColor:"transparent",borderLeftColor:"transparent",borderBottomRightRadius:"0.5rem"}};function k7(t){const{scanning:e,capabilities:n,onOff:r,torch:i,zoom:s,startScanning:o,stopScanning:a}=t;return Q.createElement("div",{style:os.fullContainer},Q.createElement("div",{style:os.innerContainer},Q.createElement("div",{style:os.overlay},Q.createElement("div",{style:os.borderBox},Q.createElement("div",{style:os.cornerTopLeft}),Q.createElement("div",{style:os.cornerTopRight}),Q.createElement("div",{style:os.cornerBottomLeft}),Q.createElement("div",{style:os.cornerBottomRight}))),r&&Q.createElement(A7,{scanning:e,startScanning:o,stopScanning:a}),i&&n.torch&&Q.createElement(S7,{scanning:e,status:i.status,torchToggle:i.toggle}),s&&n.zoom&&Q.createElement(P7,{scanning:e,capabilities:n.zoom,value:s.value,onZoom:s.onChange})))}const N7="data:audio/mp3;base64,//PkZAAhghE0AKToAJra/n0FQygAAAGIkYJgmCYXBMAAGCTJz3zhCEM//z//1hz//8MMMMN08ssV6e5DDWIQreAgCvFKy8bXgIKMkUDDBgzJwIBtkRMQAocxIFdxghQGKDoEziAzQxOBOdH92i/iGi+zDCAEIX46a73HrSybZw1x3JZjXp7dSNy/P68rjcbt7p7fakMP5LVMyzCaj1pjvejYYAIDgDGzECjEAk1Jl3559HIon8hzlfPVTCvGJZzfcKSxXfyMWM88//9VKSxXdtnb9vomOuuRyiWVYbf+X8zp6fKGHIdycuWMMMMMMKSnp+6wsYc/9f/7z7rPPWHN556p6fP8MMMP///PPP/7+GHK9PT6p7f/unldP2np7YeHjweiYA4GLNAgAiI7u57n5//oc5/yfk6znOcPhwOBwggHCMpA4HA4KEyHOc5znO+hPIc5//+fqJh8XQPh90JU5xQinOf//87/zvP+ggAYuhCKHxdA+Hxd0EA4KKHA4ciB3kOXfXB/gmf8p/B96lAMKAgAADU+BujARHgwdisgHMfAUHAiceBg4ASBgZBiBIBH4ZaHOJsLhf8R+HYEciIgYSwj/+Bi7EqBh+AcBn5P6Bh4TuBmrAMBiZH7gaLEWgew//PkZFMlyek60MpYAShzqqZhm6gCUWeEUWAewEWYGN4X4GDEPwGE8S4GDoOIGAYKgIQOkz//gGARAUB+CwGxTwMAACAEgyAwdAlAxKhzAxXiZ///AxcEwAwJjDAziCAAwQgdAwRgdAsJQDAmAcGzYDwAhZIAKAcIQB4GT9TQMJ9/4Gi1Fv/AcAYUqKBAwGgNAwVBAAwGhwAwdBlAxFg1AwlgzAwNBuAkJQDBgEEDEqGECgChFgBgL//CIswYYH//+HKCpk4K0C9AaKKCAOBeMcR4X9C44BwABCgGAsGYCgTwHAcAwXAiAwSAQV///CJP9lwMBQAwAAAWGo5lVLCcaeneVhJAVGai3//ioaUEf//gaTAYGCj8BnEwfrIqDcsIQb/vmhU/8fAs0G8YGGwKST8Igj4GCATipksVzY8p//90FWJwh45AkX//4fCF9wMEgkL3uQc+gbGJ8t4MBAMBP/hEXf9FRuWBcAfIFjYzQdoLCBwh7IWVlxaX/w8oMCP/+EQT5poGB1Ir90DhiV6af/jFYBpT2BgoQyyt2M0ToBdEaZyzt8nTo3xdNDCTSd//o6F06CjooxRr4jVF/0bOKD6OMUNDRxiMUVFR0FFQPhGXRjDpr4MAEA4wIQUhYOIw//PkZE4nrg08sOx4ACQ0CopD2aAAlwTTBxQeMcwd8w8gZTAgABXwGABOkzpI0wAQAExnWfP4x8ZjKunWdZ1o1Qe6lFGKCNULORQCELAAPnRUf/GIx/0FHGfo3SdZ0qP2cukXKLlRtBKFgAQwCkwJgFRYBEEATmDsLSY2QiQYCEnEra+UZo6F1aKMRr6GhoaP/+j//ov+i+hjLqBgMkYoqChoo1GqCjoY06TpRqjjLOYzRRmMuizmgdKhdF8kjTAAAPMCwGswzglgwAJfzqxmioKH/////////////+ijLOAwFmN0f/////////Q///8ZjP/9DGYyFwIDBeB3MA4AlBWidKM5spykAUAQOCakK+udGqN8VDYjTRuN//0bVX//6Kio4xQFv//nf//kKOoAEIB6SY6hcxenp85///4/DEPf/84Xvl4vF4dwtxfEJgCYQHMSgKCROp4+fn////L4tQf0unz89OecLxeL0ul09y6enzp4dIhKAQFA5hKfLu1nU7/Wr71rRKJUBQSUVt////l08GUPVWgAAYAeNKsxbQNAAhQx3/oKGMM6dZ1Yy6sajMbfKio7lNcv0sScZ47lNcw32ekVFMP9fp/f+mklI6at6u/dBMQuW6y+C5BcgwAA//PkZEomGg1HYGe0riWsCqbEwiY0BJFJMxrCcxGgQ2VK8xxCF1wsABgQBBgQBAYAFCkYCgALkK4fJ00E5ctJN1Uxy5au3XoGcM4dSN0EYZwzhW0WCh1PZwzhnFFQxtnbO2d0Kt6CdXbruggkTEX5Rs4TEQUVsdVXaCcuWXIBQUGmwmgoAGcJiM4dSioHQdBnEY+hjcbov//jcb/43G43G/jCRibfxugdBnDqULO2duvQumztncbo4xGKKNxugooxGIxQULoOgFgUMTA/jbrxiMDmETL+eLhcPThzOeeOZfL5fIcBYuXD/OHv8t//LJFxjxQYHHKDGFkZMtlmKM0RgQfbVtxFIHbQBDRuzRguEI1c9XZ/rWmrZfVU3Oc/9utNNygRQkCoHlAYstNN6DJ1IINpoINppv+WG/+g2mmnUmmmpBAoJIJhnwB5xkymn606Df/t000xhU03UXC5Ol8uFyXy+Xy/l8v5w4cLk4XAvwAYUvl/QL5fTdlKZkEEEEGumaKaX00zIOemf6CH///ywI3LKpiQ2Ef4xYWMSDyI0XwzikpL0ajVHZ3j9DGIjeuXcNfjn96/S/TUz/X/vX////5K/r+v7Jn+LlAoGZOIQIwMKBQM/yppKYURmhGZkR2b//PkZE0mHg1HEG8wyiD7mlwAyDU8nJHi5htakZmZGNiRcpkJhBmUmZYQcM1VDEEBggNDV/ASEZRYKFZIhkXKLlKmk7IVTKmZNJ5KhiqVUqpX+k7+qlVKyV/ZIqZDFDWTJlFyi5TJpKhiXKBQyZzIS5JhBoayV/AQWVpGWkcYTV5O/rIVSv8/0nkr+v6/vyR/X9f1/ZN8kf5/n99/n+f5/lTKmf9/mRP8yFUqpWSv4yJUqpX9kj/MmZNJ5K/z/P9J5P/v6yFUz/CEoywgUMqZkz/FssECIsVq0aPRrRRatFFFykQZJ2Ukl///5KjmksOaA7ALROJLDnEsLbq3GTMVrwb/0dGzmM0DlfBlHQOmrdR0MYi92TX6b/cmDHLclyUVYO/4O8sFTKFTKFf8yhUyhUyhXzKlDKlCsr/+ZUoVlSsr/+ZQqZUoZUoceMfcoZUoZUoVlfOPGcmDHKcpynKg9yXJcr3JclyXJclyYO+DXJclyfgxFZVb3KcqD/g2MxzsY72L9LubPR0dCyf5K5NNd+Tv9GXRdV0XJclyfcl/n+k8kf6SX/iVynvXf///4Mg/1OkxguYzmM5jMcLHMxwwGhgNCwXMLAcwMXTLi1MD7w7tmTdBvMmE0xQFzCwHMDAd//PkZGMpigkmAGOUvCfTgcgAuC+ITswMFzC4oMLhYMByn0xvU+p9Tr0xUxf/0xv///1PBYDhgNTFTFTGTGTGTGTGTGTGTGC4GTFMDAcLAdMVMVMULAcMBpgYDhcDGFwsYXFBikLGFwMGA4MBxgcDKfTEMUoAx2BisD+mKp5Tv1OkxkxkxkxkxkxkxkxlO0xVPJi/6nv////U7CwHTFTFTGTGTGTGU+p71PpjJipihYDpipi/6n1Ov//C4GC4GTGTGTGTFU8WBSZdLhWB//yKlotyLZFiLf8tyyRUipFSKkVGRBZQMiWC3yx//wxUGKsSvDFQGHUAL3QMsHDFIYpCYy2Bmagy6BjLgy6Bh3od58DCLAizBgRb+EQiyEQiwGBFuDAi3/////20QqSBJf/qcumv/////wMZdGXAYMu1gYy6MuBEZdBgy4BjLgy6BjLgy6BjLgy6BjLQy6DBlz2cJDLgRGXAMZdGXAYMuhMZcCIy6sJGaoGMuppwNRl3WBjLgy63wiEWAwIt/+EQi0IhFsDCLAi0GBFkGBFgMJCqaqYAgAYIhBBvwf7kwcqRq7V3IctacvlN6NxqgooxRRuNRiijEZjMGRuMvz9FGozQ+1X2qe1T1S//+VhaWAtKwtML//PkZEIkbgcaAHc1xCJrjeAAtfuUAtLAWf///mWePH95ZFgsyssvM88+jzO6K+z7OM48sH+WDiweZx5YOK+zxWLGJWsa6xadAv02fTZLSpsFpvLSga0tMgWgUgWmwgUmyWl8tMgWWmLSoFJsoFlpSwsmyBg4HhEdgwHAYPBwGDgeBg8HwMHg4DB4PBgOAwcOwMHLwDn5lAwcDgiDgYDwMHA/4MB3//+EQeDAdwiDwYLPhEWQYLODBYERZBgt8Ii34GLBaB5pfAZ0FvEAQ/UfwxULlx+IXx+8f5CELH8fxKhAIDFoHBEDRc3////gwHgaRXgMHYMB2EU/gwZ/gYbw3gY3QbgYNgbgYiAbgwN3/+EQbBEG4MBuDAbAwG4RBtAwbg2////+B9B6F//////////hEdD//////////8DRahEQGCInMNg3LBElgNjDciCwG/lgNiwGxWG///mG4bf/+WA3Kw3KyIMNw2Kw3MNg3MNg3MNiIMiQ2OK0xMiA3KyJLAEZgRARmBEDEYFwBBgEgEeomowol5YAJKwCDAIAJ8sAE+gGBgCJYAQUZ/13LubMu5dyiYOAhKwEFGf9AOoz/g4CFAIol/lgAjysAgsAElYBP////lgJksBM//lgRUxF//PkZGApggsIAHt2wiNLoggAqCz8RFSwIqYioipkjEjHCCSN/+WJg5iYOYmPK5krmTmZk5mZ8sTJYmf8yJiNiIisi/ywRmRkZkZGZGRmRERkREZERGRERkREZERGxEf///hETIMEyBiZEyBiZEzwiJgDEwU4DV2gQGFOBgmP8GAiAwRAiBgIgYCIGAi/4MBHAwRgjAwRgjwMEQIgMcgY8DBGCMDBGCMDEyJn///+BiYQIBlObj4eYLIwsjAOBGFkYBoEQ84eULIw88LIA88PKHnw8sPKFkeHlANAiAaFUDAiMYPIHmDzBZBhZB///8GBOA1sH/Awni7AwnhPCITwYE/CKzBgt8Ig8GA4Ig6EQdww4Yb+F1sIgtwYCwGAsAwWAsBgLAYCwDBYCwDBaHUDF+VEDKgC2BgtBaDAWgYLQW////gYLAWQMFgLAMFoLcGAt////4RMABmBSj4NgwMOGHBsHhdcLrwbB4XXC6+F14YcLrww4Ng8MOGHBsHww4Ng8AUC4AoMQMC4fgw3wutV4QIsAgFYIBWCCVgHeVgHeWABCwAIVgH+YBwB5aRAstKgV6Ba1oMg9avtUVN/qdLWciD/cqD3Jg6DFPuTB/////lYAn//mC8C+YLwL5gvgvGC//PkZFEpLgMKYXt2xB5LogAArbdc+C8VgvlYL/mC8C+YLwL5YBfMNgNkwXixDWoHPMc4VUxVA2TBeDZPYXzXl815fK14sLxYXvK1//NeXzXl815fMtdDLSw3UsMtLCstMtLDLSwsFhWWlgt//8sFhW6f/////+WF7zXl8sL5ry+Vrxry+WF/wMLwX4MC+EQv/AwvBfAxsjYAyqpKA0lpLAwvBfBgXv///4RA2DANAYGgNgYGgNgYGwN+EQvf/BgXwYF//8DC+F4Dd6NgGBf4AgFwbB0MMF1wuuDYMBsGwusDYOBsHA2Dvg2DQuuDYOhdcMMF14YYDGYDEGwfhhgbB0MN///4RBaEQWgZByoYRWYMFvwiDsGwaF1gbB34GDwdC64XW/w1aKxDVgatir4YcLrQbBwNg7////////////+ESfgZPyff/////////4MFmBvvMAERZ8CC5adNj02E2S0qbCBSBZaYtN///oFlpU2QMXIFAYuQK9AtAo7IxLTpsIFJs/5aZRxQawaxGfIg9CsrI+PUqkWdOHp7ODsOl6cOHZ4dsulfLI9/8BAAgMBACsBLACVgBjoAWAE5OTM6WDAR0zodMdHCsJLASWAjzCQgsBJhASWAjysI8wkJMICU//PkZFkeqgcaYDd1th6DogAAqCuIxQwtDA5MdMULgyY6YqnXqdep5TpMdMVRNRL/UT9AN6jCiSjKAZRNRhAMomgFQDfCIJwYCQiCAiCMGAkGAgDBJUA3eVAMEgj////8SrDFIYqh5g8kPMHkDzB5OFkYeYPJ+HlDzB5+AYVQDibCyIPLLEZIsjIliWS0WywWyyWuWCyWJaLZbLJYDHgLAItFvy3///4eYPKBlQTh5QYEODBb//hhoNg7/C62DYPFUKwKsVgNWBq8VkVcVkVUVYrH//hGff/8Iz8GT7//////wiX4ML3gwvgwvf4ML3gZeqoHVGyBl4vgZfL2F1oNg4Lrg2DcLrg2DQw0Lrhh8Lr4YcMNBsGhdcGBcMOGGAFGAGMQsF1guuGG4XXV/4uQXOLmF1kL/8lCXkuSk4O8/FzHzuP0hIucf/CIFAMCgFPgYFAKAwCgGBQCgGHYO4GBVM4GgQI4RCMEQKQOtQjUI1CNcI14MqDKwDIAGQDzh5wsjDyw8uHmDzYeUPN+DEYRRhFEIowYgDQgIhWDApgwKAwKQYFAYFQMKkYDOxHAzsRgMKBUGBX/h5v+Hm4ecPNh5A8wBwjhZHhZAHlDzBZAFkAeQPKHnCyILIAsih5QsgDz//PkZLQgIgsMAFp1xCGLogAAA2rkB5w8oeYLIQ8kPMHkCyGHnAMKoGmAgFkUPMHmDYAtfHPHNkr/JYl8c8lCWHPHMkqSo5onMAkBDnfJX//8IgDBgBhEdAaxSQMHUGAEIgAV4risCcipBOMVRVBO////hEvAxsAwvf////8MPDDww4XWC64XXDDww4YcMPC6wYb/wYGgiGwMplMDYhTCIaCIaBga/////8GA+EQdgYPB4MB4GDwdhEH8Ig8Ig8GA6EQcEQf8DBxlBjoAweDuFwgCQXiL//iLiKCKCL4XCiKRFwEgoRT4iqpMQU1FMy4xMDCqqqqqqqr////xuDd8fv/DVwrArEIg6EQdhEHAYPBwMB+ERYBi0WAwWAZ0FoGLYOB+JfgZ0FoGdBaDBYbn+WHm9xW7/Nzzc83PLDzc8reWlA7S0oHamx//6BflpU2C0qbBaf/8yk/ysn+VkMhTKQrKVk8yE8rIVkKyYsAn/5WC+YICmCApWCGTkxtKMcVWlgFMEBTBAX////0C0C0C/////////LTFpvTZLTlpv/0Ci0xaYtOgWmymyWkAxcWmTZTYTY8tMmygUWmLTIFpsFpv9NnywLmLCx2RgWmQKTZ98UjnzZ1/++D4M6/////3//PkZOgjIg8IAFcbxCaTogAAoCuIzfJ8vfJ8Wcs5fBnD5//++L5f////////6nCKv//+o0o0FUYwqDNGCwgUMKC0VVGkVv//4Yf8LrxVCriqDVoasDVuKsNWw1bisBqwVkVkVX//gy/4YYMMGGhhgwwNg4LrhdcLrAYWGAA0zBsH4Ng3C6/////4MAoGBQIDAKBgUCAwCgYEAsDAoEAwKBAYBYMAoGBQIBgUCYGBQIBgUCwiBAYBYMAoRAgRAoGBBMBooCAYFAkIgTEUxFv/EWxFxFhFoi0LhQuFiLCL/EWqTEFNRTMuMTAwqqqq//////8TWJriV/hERAwRgYiEYGIhGBmIRgYiEYMEQMEcDMSiA1GYwMR+UDMTkA7KIgMRGIGGM0SIrRGjRlhEV4jxov8rR/5YRFhEdQSViCsR5iRJWIKxPlgQYgSViSsR5WJMQJLC78IiKERF4REeERGEREERHwMRGOBmIRhERhERAwRAYiEQGIhGBmIRAajkgG5TEEREDBHwYIwYI4REXCIV/4MCmDArgwKAYUO/gYVCkGBUGBTgYUCsGBUIhUDCoUCIVBgVBgVBgUhEKQMKhUDCoUBgVAwoFAYFcGBQDI6oA5+qQiFAMjBUGBXCyEPIFkOH//PkZPMj6gr6AFdVwifkBdwAoC2Ilh5/8PPh5Qsih5IeUA0TAZrE8PP////wMRiIIqID8piAxEIwMxCMDEQjCIj//BiIDRo8Iogii/4MKwYVhEoESkDEiIGJEgYlfBgmDBIMEAYgSBiBIREAwSERH/8I7wPfuCO4I7v/8GBvAw3Bv/////gwN34RBuBg2BuBg2BuBg2BuEQbhEG+EQbAwG4MBtwiDaDAbhEGwMBuDAbAwG4GDYG8DBsDcDBuNwDRWDcIg2AwbA34RBv///CINvCINgMRIN/////wiG4DDeG+TEFNRTMuMTAwqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq/zB4OLAP8rBxWDisHlYOKxb5WLTFgsMWiw18LDOnjPxZoxadDOgsLAtLAbKymVhsrDZWG/LAb8w2GywGysNlgNFgNGFwuBQuWnTZLToFFpisLJsFp0Cy0voFAQLFZkMCAQwIBCsC/5WBCwBCwBCwBCsCeVgUwIBCwBDEwEMCAQrAhgUClgCFgTlgCGJgJ5gQTGJwKWAKYFApgQTGBQL5kY0HMjQYnAhWJvKwIWAIVgQrApYAhWBPBgECIEBgE/8IgXhECQiBAMCkcDEwEwMCAQGAQIhoIhsGBsIhvgwN//PkZN4irgr2AAOVqiUThegAnCtMgwNwiG/8IhuDA1hENhENgYbKYHb2IBhoNhENAwN////8IhsDKZS////8IhuBhspgc0KQRDWEQ3///CNf4GAIMDAwgAwAAwhAwAwYAIgwiHBgAMAYGAAGHv///CIBqBqESDEIgRYGoGHBiDEIgGoGgMAYgxgwgxCIETwYFYMCoMCuDApBgU8DCoU//gY3G//wYFOBhUKBEKQYFfBgV8IhSEQoBkYK8IhT/wMKhXBgUCIU4RCoRCvgYVCsDCp3A1SqAYFAiFP////gY3G1TEFNRTMuMTAwVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVgwCAwCBEC///////8IgUIgWEQIBgUCAwTQMCAQDAoEhECAYFIwGaRMBotWAasdwH/KqBmhFgaKI4GRgKVpjCBTCBPMJHNMFMIFKwnlgJ5hUxhUwGWlpAMuMuWLTFpvQKQLQKLTIFJsoFIFFZb/8woQwoT///MIF8rC+WAphAphAppgpYClgsmwBC6bHoFFpUCi0wGXFguWCwFLgUsgX6BZaVNj0Ci03//+EQKEQKEQLCIFAxMBcDAgFAwIBQYBODAKBgUCAYEAuDAKBgUCAYFAgRAngwCgwCwiBIRAmE//PkZN4iogj2AFdVxiUrhewAhOkwQIBgQ0gbOI4GRhOBiYCgYEAv////CIFAyMBQYBf///CIF8IgUDAgFBgEAwIRwMCCcDEwFAwIBf///CIEQGMDGEXCKBpCIDCEQDCAsYInDFQMMAuYSoTQMVfBlf//+DKfBgAiGDAQMIMIgCIQYADAEGAgwP////8ItgNu2/8DAAAiABgHhECBgQGEQARA8GAeEQIMABECEQIMAwYBBgCDAARA4GAAgYACDAARAwiAgwDhED4RABEBCIGBgDoH2dgZwCBgAP//BhX/+DCiTEFNRTMuMTAwqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqF1ww////////hdeGGDDBhwjeF102E2fTYAowMLjE0zTDfyyMYjEDJTwMLSwFi0/gQLoFIFpsegWmyBQsWlQL9ApNgtIWn8tMgX6BaBX+WmQL9Nn02f9NktIgUgWmwWl9Avy06bCBSbJaUtImyWkQKLTIFgYWoFFpAKFwMLzZgwAwvLTIFlpU2fQLQK///4Yf4YaF1sLrg2DAuuDYNDDQw4NgwLrhh4XXC64Ng3C60MNwbB4XWC64YcMODYPCJYDlMQBlwRLg2DOF1v/////PkZM0eKgz0AE+UuCnLFfAAk3Fsg2DAYX/ww//4YaGGDDhdbDDACFwMuXA2DADlygusDYOBsGhhv//wNU/CKQusF1oXX+F1wuuGGC6wXWDDBdbC6wXXhHv//4AHIFgC0BZAA4Ba4FkADwFsC3AtQAOcC0BYAtgAcAA9+BYAsgW4FvgWOABwC1oq+it4RT0VVG0VFGkVywo1/RWU4U59TlFb1GvRX////QK9Nj/9AtNn02fTY9NhNlAr/QK//TYTZLSJsIFemx///oF/5aZNj02U2C0yBaBfoFAS6bKBfoFVTEFNRTMuMTAwVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVQiA8GAO/4RAf//////wYA4GAO+EQHAwB4GDoB4GA4HQRB0BhlDIBpEAcBgPDIBgPAeDAHIFAYuLTpspsJsFpi0haRApAtAstIYKClgF/ysF/ysE/ysF//LAJ6plTlYC1ZUypmqtWVK1VqyplSFgBaqqcwAAVIqcrEBAAKmMBERCQhwD5iICIQEyABMAABBVGXF4gIA4DLAAWAEQgLVSsBaq1ZUv+YKClgELAJ////5YBP//LAL5WC+Vgn+WAX/LT+gW//PkZMIhLgrsAFt1yiD7FiB6A9qwmwViybCbCbCBSBabCBSBabPpsegWmwWn9ApApApNgCGBmEwWlLSpsf////hEHgYOB3////4GDkiBxMHhEdgYOB4GDwcBg4HW23gooFYHd/+BnAz8O8Vv//FaBm4rBWh38es2zbAtD1m2PVBqBrBqBrAF7AF3/5el84MkuHTgyy+dL0dRnEajMIyOn8RsZ5HGG/kbIpHIkYUiD0y2WctlZaWSwrKx6FZbxnL54ul04eLhw9Ol84dl86cOHT3Ipb5Z8qKpVx6/j0EkLctVTEFNRTMuMTAwgWQLQAHgLf/////4Fn+EQESEcIgInCIRW9TkrCzH0YIjjWtI+YeCD0woLCBQwsKRWUaRVCBZFZRtRtFRTlTlThRtAr0C0C//02E2fTZQK/0Ck2f9TlFRTlTlFT/9TlFVFRFb/9ThThynIQbWkAREue5S11rKdlkDEVABh61ExYPU+tOD4MQgcn4iwigivxFRFoXDcRQLhoiwioXCeAkFBcNiL8RURQBIKEVEWiLBcKIqIpEXC4QReIoIpCIKAQMxFAFAsIuIr/4YYLr//ww4XWBgwC64XX/hhgw3hhwuv8MNhhguvhdcAUYgaYTAAoWDDg2DQbBg//PkZPYe6gzuADd1uDKsBhBAe89cYYdGjtDT2hDmlD2leaOv9oX0OX/0NNLplNf8ewakNWGrTfTRpphNJtfaeh7T1/tStdtTpqN532lpX/1/kmQ5eaf2hoaV9paGleJAvd0rer2pWu1ar2vk56vVrV5Hj1Nop+/lfv5Zpkem5kX/2vtata2rq783nbvtbW6VjW6a2rq13+rO6VysV58K7tbp0ru6Vrtqa1a67tr6sau1ulYrnfa2v927Vrt21NSuN5X927/D4diAQANh4gEIfxB+IQG/D/4gDw/iGIRD+HRATEFNRTMuMTAwqqqqqqqqqqqqqqqqqiIEK/ititFX///8VcVuK38VsVhXBOQTpq/qm8QCAcBmIxgdfFZCHECpxFBFAuFEUC4cLhsRTEVEUDVoDQD+KrFYirFX+KwKoVgVUVUVeKwGrhWRWBViqFYDV4rMViKyGroauBg/A0YThVgNAEVQqw1fisis4quKxxWYrAatxWIqoqg1dFYxVxWIrAavAaAArIrAqoqhWYrIqvxWMVYrARCADhcKoVYavDVgqhV4qorIrHFWKuKxFViscVUVYasAaAfFY/4YcMNhdfwuuGGC64YfDDA2DwusANygbBwAxhAECwNg8MOF1hD4//PkZOkc4g7yBjd1sDNkDhgqYwtcYoUyiQ0NCkxQ0NCQkSIbGKIyRGEo5mUaNEhGKEHMmaGhI0UokORvMmZmZSZSiMZQkRnKKZkzRoSNCQpQ0NEZoaNFJkhh3KOUJEhIcoSJCQkIzlDlEjMDMyMpQ0JCQzNCRGaNCRISEZoZihoaIwlEHKNGiMzFEjRmSIwlHMyZmcyiGyMxRyhIkIxRSZokSEYGBkiRojAPESNGjQxvKHMmMoSKTJCQkIwlFKLDYWGhoZhYWAAUGBsAwsMDYUAcK4XDPhQVwwLAH/DfgHC6TEFNRaqqBgjwYI//wYI/8GCL///+DBFhERgwRcIiPAzGYgMRKIDcskBgjAxEIwYI4GiRwNEjhFH4MRwYjA0aOEUf8Io/BiLgxGEUYRRQij/BiKDEYMR+DBGBiMRQiIgYIwiIwYIgiIgMRGIDUSjhEReEREBiIRAwR/wYI/8IiP4MEcGCIIiOERH8GCIIiMIiIIiODBHBgjBgjwiIoREcIiOEREDBFCKiAxHJcIiMGCMGCLwYI8IiPhERgwRAwRAYjEUIiIGCP/AxGIgiIsGCL//4REYMEXhERBERhExhExAzyAZiEWDBGERGeKsVsVRVFcVwTnFcVxVgnYqipFUV//PkZPkcfgzeAFaVxDgUBgAgatvIYrgnYqgnQJyK4riqK4rwTsVor4rQAjABAgnQritFSKoqQTsE5C1haxfF7F4XQtULSFqC1i4LwWkXIWkXRdF+LwqAnME4iqCdwToVuK+HAERWAkAlgJB0OB3Doc8OYc8VCsVgIB3DuHAERUAkAkHMOBwOAIisO4dwEAEAEg6AkAl4CeHA4AkKhXioBIOiv8OB3F+LgWkXxeF8XouxcF0XBeF8XBdF8XhdAdouC8AEsXYWsXOKsVBU/FaKmK/FTxXFbFUVPiv/8VfxXitVTEFNRTMuMTAwVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVAXX/8MN/wwwYf//DDBh4Yf/+DYODDfCIFAwKBQiaANFgUDAgFAwIBcADwFuBY/At8C1wLfgAdAtwLGBawLcC3AsgWeBYwLX4XW8LrBhgiFgMlhYLrhh4XWhdb8MOGGhdcMP4YaF1gw8LrwuvhhoYYLrYXWDDBdcGwfC60MN/ww8GwZ4XXC64GZQsF1wbBnDD4XXg2DcLrBdaDYPhhgusF1uGGC64YfhhoNg0LrQwwYcMNC62F1/g2DYXW4XXC6+GH8DTIW4YeB/wR/wjwR+DP/y06bJaRAtAtAtAs//PkZNwY2grqBFW1xDhTRegABLBstL6BRaVAstN5aYtN/psIFf5aQtIgWgUWk8tImyWkQL9Avy0qbKbKbJaf02f/0CkCy05adAsC3K7+mx5aVAv0C/TZ8tOmymwB2pspsFpPLSlpy0qbCBSBXlpk2E2E2C0paUtP6Bfpslp0CkCy0ibJaZAosWQLLTJsemwgUmz6BZaYtOgUWmLTpsJsoFJslpPLT+mwmz//6Bfpsf6BSBSbCBXoFeWk9NhNhAr0Cy0/+WnTZ8tJ/oFf6bP+myWn//8tMmz/lpf//////8sPTEFNRTMuMTAwVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVBgJwiCYMBP//gwE//////wiCAMEgkIggIqIDKpUCIIgwE8IzA4j+EYhGAZMIyDJA5gGRhGcIyDIhEQiIGAgwIRDwiAGAAwYMHBghGAZMGRCMhGYRgGRA5gIyDIwZPBk/wZIRmEY/gyOBxIMgIzCMgcTgwRBgjwYJBgngwTwYJhEQBiBGERMIrwOouAxAgGCQYIhERhEQDBGDBAREgwTCIgGCQYJgwSDBHwiI4MEAwSBiRHCIkGCYGJEQiI/Bgn4REYREeBiBIH6XhERhETwogoy04mpZibFmJuWYmx8n//PkZN4ZrgrkAFZUyDcjofgAA9qc0HafZ8HwNrjaG3xtjaDtJwTo+D55Ow7fxNRNSyLPlqJsAr/lmA/FmWYm5acTQVgTkVQTnBOQTgVxVBOBVFWK4J3FUE7gBABOwToVQTsVhUFcVRXBOhUBORWiuKkVYrCqK+KoqgnQrAnEV+K8E7FQE5xWBOQToVQTsVRW8V4qRUFYVgTsVhXioKgrCqKwqAnYqCtBOhUioK+CcisK8VRUFSKnirFQVBVFcE6FcVoJwKoqCrFXFUE7gnAqiuCcQTsE7xU8VP8VYrgnYrCuTEFNRTMuMTAwqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqn3/l/J/8vHL5f/BhwCETgGpIDOATgEIOFoDcHzgEIDgC+pG7eve1S/6tat7rXupDXSStWoIpGS4TSMQNIySMwpIyAaRkkZ8GJGdBtbwYkZ63tCKRkoIpGWDEjLCKRmEkjOvsEUjJOsIpGa6bOrgxIzsEkjIGJGYUkZVKCKRmqoDkgEjMJJGSYMSMAikZJ3qhp0dq9ru3X1I36FujPbXuxwKbr//waABfg0AC6DUDUDXBqBoAmQawJiGrhqDUGoN//PkZL8USgKcAAblrroTgfQAbhtQAag1QawaYNIAuQa12Lv9si7F2NnXa2Vsi7i/DZl2tlL9l+vL8tlUTUTUTUYQDIBlGUAyifqJKJqJ+p5Mf/U7TETEU7CxkxVO1PKdqeU8u4vq2ddnrsbM2Zs/tl9s67V2NlbIu5sgaA1Q14ExAmAaA0BrDVDXhpgTPDQGuBMA0gTKGgCYgTHDQGrDUGgNcNQaw1hoAmcNIaRIAtALVEgC1gteI8FpBaBIAtcRwkAWgFpBaILVBaIkAWgRwjhIiPEeDXwa/4NUGr+DRwaKBgX/8IhP//wiF8GBMGBP/wYEhEKEQmEQuDAoGFTAwLgwLhG/4MvCM8GSDJCNwZQOXg2DwbB8MPDDhhuGGBsHhh8Lrf4MCQYFCIUGJgiE8GBQMIFhELDDhdaGHhdYGwaGGDDhhuDYMBsHg2D8MMGHBsH8GwYDYMhEKEQgMCeDAsIhAiFBgQIhAYFhEKDAkGBMIhYGEC4GFCBELgYUKDAuEQsGBQMKEwiEBgUGBcIhQYFwYFAwgWDAoRC8GBAYE4RCgwKEQvhEJgYUIBhQkIhAiECIUGBIMC4RCgwJCIUGBAiFgaYLwiEA5cGXCNhGBGwZAw4Ng0MPBkqNqcoqorlh//PkZP8cygrkAFI0wjo7lfAAjhq4SnPor//psoFemygWmwWm/0C0Ci05adApNn/TZQLU5RU9FRFVFdTn1OFG1Gywv/UbUa9Ff0VoFgCwBbAtQLUCzAtgAchHAN8ImAbgBvwDd4RwjQDeAN8I0ImEQEQAbwRgiQjBHhHAN0A3vgG6Ab/CIhEgG5AN6EQESAbmEYI4RABvYRoRABuYRgDehEQiAiIRABvcA3QiQDfwjwDfCICPCJCJCJ4RwiYRwjBEwDehEYRgDfCNCOEQEQEcI+BagAd4FrAscCxAswLfwLAFgC1wLNVMQU1FMy4xMDBVVVVVVVVVBlBkwO3wZAZMIz//////+DJwO0IwI0DsA7cGUI34Rn4RgMuEZgywZQjAZP/hGAcmDKEYDIB28GQGQGXhGgcgRoMgRoHYBywZAZYMmBygyQYFCIUDChQYE4MCgaYJ/gwKEQsGBAiEBgXAwgQLrhdcGwcGHBsGA2Dgw4YYGwZC6/hdYMMF14YcLrYYcMPDDhdYGweF1oYb4MCwYEwYEgwJBgTCIQGBIRC/BgQDCBcIhAMKFhEKDAsGBQYFAwgTgwKDAoMCQiEgwIBhAnCIUGBQiFwiEBicIhAiFhEIgIoBooGieDPA+4GeDPCP//PkZOobXgrkAEY0jjazieQgBKKIBGgyBGhGhGgyAdoMmEaDIB2gyhGwZYMsI0GSDIEaDKB2QOWEaDKB2hGgygcoHYBygdkDtgygcngyAyhG4MgMgRgRmDJCNBkA7QjAZIRoRoMuByhGgyAyAyhGwZYHKByAcgMgRoHIEbCNCNA7fCNA7AZAO0GSEYEaDLA7cDthGgyAyAyQjAOwGUIyDKEYEaEYEYEaEbA5AZQZAZAZIMgRkGXBlBkCMgyAyQZYMngcmEb8GUGQIyDIBywZAZOEZhGBGwO2EbwjcI3hGYMqTEFNRTMuMTAwqqqqqqqqqqqqqqqqqqqqquDqz8GMDQIvBj///+DGDEGAMAifBj8IuEThFCIEQGPCLwiQYBFCKESDCETBhhGAZGEZ4MjgcSEY4GoRQigxCIEQGPCKBiBrgxwiBEwMIRAY4MQNMIkImDEGIRYMIRYRAYhFBjwYwNQYgwBgBh4GAMQiwYgxA0gahFBgBjgYBFhFhFCKEWBgEWEUGEIgMQYQMYRAMQigxhFBh4GkIgRIRYRAY4RIMQYgYhFA18IoMQYQihFhEgwhFCIDEGIRQieBiEUIoRQYhEwYDAFwGrBog0waAaQawacGsGiDQp9MZMVT3piJjJjK//PkZOYZBgjoaUJQ0DprofQgbhq0dep71PqeU69TpMdMVT6n1OlPKdJjpiKdFZkxlPKdJiJj+mKp/0xFPBoAmYaw0BpwJhDSBMQ1BqAmIEzDSGgNXDRDRhp+GsNMNAEyAmYagJkBMA1BpDXAmECZhoDXhqAmYawJjgTICZBrDSGsNAExDVDQGqGgNHDWBMIaQ0BrAmcCYgTHAmIEzDWGgNYaOBMw0BqDSBMYaA04aA1hqwJhw0ATKGqBM8NYEz4aQJkGoNMNIag1+GsCY+BMQJlDVw0cCYfDXw1ho4aQ0gTCTEFNRTMuMTAwqqoD37wjuhHf/////hGf////hHf/gycEZwRn4MnYMncIzsGTwOdOA507A507hGeEZ8GTuDJ4Rn4HPn4Mn4RnhGcDJwM3YM3gzdBm6DNwR3QjvA927Bm//Bm7Bm/Bm8GbgZvBm4GboR3gzeEd+DN8GbvBm6EZ+Bzp4Mn4HOnBGfA588IzsDnTgZPCM8Iz+EZ/CM4DnTgOdPBk8Iz4RJwGTidBi7AycTgiT4RJ8GE6ESdhEngZPJwGTieDCcESfwYToMJ3AycTwiTsDJ5OhEnwibwYb+ETdwibwibvCJuwYb/4RN/Btf/jYGyNv8bHLUtSzE0/LQBW//PkZPQcHgjQAFKVrjfDmgAge1eMLITcshNy1LX8si0LUTQtCyLQTUteWQmvLItSz4mgmnTJops0umEymDSPsnR9HwfB8k7Pvn0fAvwtcLXF/F+L4vQtQWuFoC0BaReF7AeBfwtcXBdF4XheFwXAtAui9C1haRdi6LwvirgnUE6FcVBVisKgrCvioK+KoqiqAhh3AQFXhwVYrFYCWHMOioVAI4dFWHPDgCAdDgdDmHcBIBEO+HRWAiKsBMO4dFQCAdATw6HBWHBWAgHBUHMOf/gICsOCoV4qw7+KxWHA6KhVTEFNRTMuMTAwVVVVVVVVVVVVVVVVVVVVC11Fz1+NP+/Xkqpr9OfuhQ6lZNWf+XsZc/si+KNoOj/Ntai9j7IISgZAklTqQhjToNTeQoreRdaSDODWvYAVFaWWkQmVuZPP8bRUzq896vc+XS6mm5gnnW7JLnV4z9N5XnW4k86x+uyHyxnWkmdborzraff2SvOtvljOtjd/5XRW8MivOsry/K3gUzrFPS1eFTOttTsul1+lLGdbV3c53h51mdbK7xPOr1SpnWlM63kedZnV4XPK86onnW7myrnWTmRTOqascoabXd/L+yuzS95dv1efjhl92ntYyTuIb6wuWRZFmWRa//PkZOcb/gqMACDf1LTLofggA9qc/gKRZiblqWYm3E24moSQnR9BJj6JwfBaFqWZZFoWvLUshNPxNuWn6bTZHgozRTSaNAY5oGjFQVgTkE6FUVorioK8VBXBO8VRUioAhxVioK4qAnIrYrCqKsVRVBORXBORVFcVcVwTgVBUBORUisK4rCoKwrxXFYE4FYVATjFcVhX4rcVBVFQV4rxVFSKwqCpFcV+K8VhXFYV4qivFUE4FaCdivBORUBOfBOgToE6FUVYqisKgqCtxWFbFQVxXisKgqRU4qioKuKwqCvxVBkH/4Mgf4Rg4RgfgxZBizhFYEVuDFvhFbBi3CKyEVsGLf/4MgAxaDFoGsWYMWgaxYBrFngxaDFnCKwIrAYswNas+DFgRWYGtWYMWBFZgxbgaxbgxZCKwGLIRWgxZCK2EVmDFmDFgMW4GtW8IrAYtBi3Bi0GLAYsCK0IrQit4MWeEVgRW+DFsI9cDW9AYtgxZhFaBrVgMWgxaDFvCKwIrIGtWhFaBrFuEVvBi3hFZA1i0IrYMWYMWAxaEVkGLAisCKzBizCK0DWrIRg+EYIRgQjABkHwODABkDhGDwODBgyAEYIRoRvww4YcKILYKILfhRg5htjY4OQbQ2hNAH8su//PkZP8cRgjWAFAUYjwDofQAi9pcJry1E1LUsuWvE2E0LQTcB+E2LMTctQFEEcWnFYVwTkAI4rRWFYE6BOhWwToBBAQgnIrisETANwIiAb/COEQEbgG+EcA38A3wjhGCMEeEaEeKoJwK4J2KoARBVBOIJ1FWKoJ0CcCuCdRWFcV4rioK4rAnYJ2K0V8VYr8E4xWFUVBVFQE6FXBORWFSKorxVFcVwToE5wTvBOoqwToVIJziuKwJxAQgnUVBUgnAqQCaCdxWirFaKwrRWFcE7FfFeK4rgnIrAnYrCoKoqgnAqCrip4qgnCr/////8Iu8BjvP4Ry5/8Izggc4Zw4RnD/hGcP8GThBk4eDJwgycIMnDwjOD4MnBA3eu9hF3kGO8gx3vBjvAN3jvMGO8CLvAY72DHeAbvXe+DHehF3kGO8gbvHeBF3oG713gG713vgx3oMd5BjvAi7wGO9A3eu8BjvMDd470Iu9wN3jvQY7wGO9wN3jvIRd4Bu9d6Bu9d6DHeAbvHewi7yEXecGO9BjvQN3rvIG7zykGO9A3eO9CLvYMd6EXegx3gG7x3kDd470Dd472DHewY7yDHeAKomwmhZFkAof8tCy4m5aCbcTUswFYsy0/LQTX9NBqBgJgYaY//PkZPcaTdCuAFgWlkI0DfQAe9r8Jxz6CShr8++JsArgjxNBNC0LQsyyLMsgRxallyyLIsi0LUTUtS0AVwFPia8si0LMTXiacsxNizLMTYTcsi1LMsy0E2LUsuJqJvxNyy/E1LMteWgm4mpZlkJuWRZFmWnLQTfgncVATkVcVQTsVIqQToVxWFeK4rwTmATCsCcAnQJyKoriqKwrxWiqKoqwToVRWBORWBOBVFSKgq4qAnAqAnArRVgnIJ3FYVQAgCriqK4qYqivBOsVoJwKgJ3FYVBWFfBOIqCoCcivipxUFSCd4qRV4rCvFaCc/BOhW8VxWFUVhX4r1eX/+DHgaYMOEX/CJgwwYQY8GODH/wYf4RAiQiAxCKBj4GAMYRQiwYcGEGMIoMfhECIBgEXAwCJhEA1BjhF+BhCIDEGARYGoRAYgxCLwYeESEUGMDEIoGAMAiAwBiBrCJ8GMGGEWEUGIRYMAYAxCKBiBgBqDDA1wiBEBiDAIsGIMANANMIoMAYhEBh4GMGMGARfAxBj8GAMANYRAYBFAwCIBhgYhEwNQMYGIRAMAiwNYRQi4RQYwYgahEBiBqBgESEUIqa6Z6bTBpGkmUwmkwaZpJlNCkifmkaaaBymgm0wmRPxSDTTa//PkZOYYTgboZUAQIkCEFgAAe898YTZpJtMJhNilphNdMJhMGgmemDSNJNmkaX6aNJN9MJhMc0E2mzSNJMpg0umU2mDS5oJlNJtNJnpg0DSTBoml0wmzTE8TRpGgm00mkzzRNNMJg0jQTSb/NFNdNGl02KTzRTfTPTSbTKZNLphNJpNmgmUymkwaaaTKZ/TSYTBoJr/ifptMpr9MJlNptMpg0kymumEwmf+mEwmOmkymTT5ppv80eaHTCYTHTSaNBNJtN80/0yaBoJo0k2aPTPNA0OaSaTJoplMJv9MgBAB4MBUGwbwVwUBkFAYDAU4NBoMBqhAELk//h/y1/vz6/6zMnEglwqnIsVSHBzAMMIqXiLgxS8ucoLCKl7VwipeupwYpeAxS8Z22hSl4U+qE1L2goKUva1GUJqXqwkpeAxS81IQpS8smBqXql6E1LyEVLxdEJqXoSUvAmpeJhFS8rpH3CKl6EVLxPWFKXgDUvVL1LCal4kuDFL2EVLxFlPClLyEVL2FKXhdwYpeswGpeqXkGKXqLAxS8wYpeqWk8KUvATUvQYpehJS9Bil6yoUpegipeZT2x1vN5NR2X3KrRuXjFmaS0AUCyE1BHflmWZacTYsvy05ZgAIs+WQCqJoWZ//PkZOwZ+gaYBgbm6EQMAfQAe9r8ZCbiaFkWv5ZibialoArlryyDtCSnyfR8hrE7PpNmiaIxDTGKafTJalqJoJoWQm4mnLUtSzE1LUsxNyy4mpZlqJpy14mgD8WpagKvLIEcJuWnLItBNhNhNxNgH8tSyLMTflmA/iaCaFqJqWf4mxZFmCdCvFWKwqivgnQJzFfwToAIwqgnOKgqCoK4J2KwqisKwJwKwqCqKgJwK4rYqirgnIJ2K8VhVwTmKorYrioK4JwKwrRWFQE5FUE6BOwTgV4qYqiuCdAnYqAnMVBVFUVATkVBVirioKoqCviuK8VwTjxWFfivFUVxXBOcVuKvFaKoqiuCdeEW3Bjb/gxvhFvCLYGN8GNwi3CLf8DbtuEW//CM7+DG+EW+DG8DbNgi3CLfA2zYItwY3gbZuDG8GT/Bk+DJ+DJ/hGdCM+EZwMnQZP8GT8GToRngc6dBk4IzwZOBk8GTvhGdBk+DG8Dbt8DbtgY2CLbBjYGNwi2A2zYDbN4RbhFtA2zcDbNwNu3CLaEW4RbeEW2DG8DbNwY3BjYDbNgY3A2zYItwi3CLbgbdvA27YGN/CLaDG4RbgxsDG4Rb8ItsI7oR3cGb00m0wmTT6aTZoJgUpMc0kwaa//PkZNcYqeLUAAAUHjw8DgQAe88cYTXTXNBpXiQdfLVpLJoaCSJs0TQNAbRpJpDWleaGlDmlfQ9fQ7tBZoa0IeOw3Ccq44TcHgrufDVzQNA0Om0wmDTNE0EymkymumU2mU0aSY6ZE8NFMmiaaYNDptMGn+aJpdNptNps0OmU0J50wNtMGmmEz/zQTJpppNplMJlM9M8FAYCoKAAApgqDIMACwAQbBsAMGQAQaCkGg0GgyCkGeCgNABwAAUgrwA+CoAQNAeHCAOAeAyIQHBwgDg4QYDAGgMEEOEAeA0Q4DxAHh0PEMGYMBsFQYDPgoDMGQV4NBqryAZfhGfwjMDl4Rv/wjcGT/4R/CPBH//hH4H3gzv4M7A+/gzoR4GdBnAf+DPBnwj4M7BnwivA1QIpCKcIpgaqDFgaqBogMWBqgGqgxQinA0XBi8IqEUCKBFcD7/CPwj0I+DPA/8GfBnQZ8I+EeCPwZ4R6EfhGcI0GSDIDJCNCMBkgdsIwGQDkBk4HIEZgy4RoHZwZQjcDtCMgcoRgRoRgHKDJBl4RgHIDKDIEYEaEZgyYMoRsIwGQGQIwGUGUI3A5AZMI2EaDLBlwjQZQjAjAZQoqIqqN+pypx/qNIqoqqNKNKcqchwGrCAPqN//PkZOsaCgjiBUZRnkhEBfAgw9tw+iu1RUqp2qNUNalOVG1GkV/U58sLU48sLLCiwFU4hAYA+qQQgasVhVIYQNWKwmAKpvasNoHIDm4OQHIDlGwNgbH4D+JuWQm4mhZFoJsWgm4I4TcbA2xtA5ODnGyNoHJ+NgHKDl/LMBXLUtS04mvLQteAqCaCbFoWQmha8bQ2Acg2ht8bI2RsjaGyNrjYGwNvjbByja/GxFYE4ipBOIrwTiK4J2KuK8BAK4rAnAJwKkE4FYE7FUVgEIqgIRVBO4qRXFQVBVBOMVwCcE5itBOoqAnQqCpBOIrxVBOoJ0KwJxgnQrCuKsVBXioCcCqCdAnYJyKsVYqipBOgjwiAj/8InhH4RMIkIioAC4RiJCMRP////CNk//Blkv4M6F8I9C/8GWT/8I2SwjZOEbJQZZIGWShGyYMsnwj0P///CPQ/hGyQRsn8I2SCNkgOyVkoMsnhGyQMslCNkoMsl4MsnhGyXCNk4MsmEbJ/wZZP8I2SA7JWTgyyQMiKDIieEYiAcRIihGIkIxFwZEUIxEA4iREgcRYihGIoHESIkDiJEUIxFwjEQIxEwZEWDIihGIoRiKEYiHcYJRIr9kzDmO5cIaApXE/NA0TTTKZGym/0//PkZMQWjdCsAwAWCsQ8Cfwoe89cyaXTKZACgKxsmybQFQCyPQPUbRtA9x6QAoegHKmRtClpk0RSkwaCYE/GyaaZ6ZFJTaaTCbTabTBomgmk2mxS0x0waSaTI2gcgOcT0T5MiedM9M9NCfCeGgNhMJlNJoT1MdNJhMjaNPptNGkmhtpnmgmv+KQmRSE0aaY6ZTKZTRoJg0U0aBopg0emU1/xPzTTaa5o80DRTZoJs0TRNEUhMikJs0P0x0wmkwmUymkwaKb5pppNJg0OaInhpGgmeaSbTBp9N/ptNJo0DTNAbOCkGAwGABgA4NgwAAAMAPBgAQKAyDAZgoCkFINAABWAEDAUBTAABgMBTgqACDcGAAQYDAUqLUlVt///+Bj4MIRcGH/hE//hEwY/wi8GPBj8GH8IgRcIv4RYMQi+DAIsIsIn8GHCLCJCJ/BhBgBpgwwifhFhEhF/gwCIDAGIMIMAMQYBFhFBgDH4GAMQiQNAYAwwYBECIAMIAMAAiHBgAMIAiAIg4MABgABhADAhEAGAARCBhCEQhEIMABh6EQAwIMABgCEQwMAQYD4MDCIcGACIQiHwYGDAhEOEQ4MAENB8hJD7PsnXJ0fZ98+D6LItQR3PgnZHmgPYYRopk0xj//PkZMkU/gLsKkITrkL0CfzIetvgJtNdNGkmkwCPLITf8s+WpaFmApAjgFUsyz49jSTCaGMmkyaRZlkJsWpaiagKBZlmWomh8c+CdcnROj4Pk+Akh9E6DsJ0fJ8c+OTs+idk4J2Tg+j7Pr8nB9nwfAa59k7598+D74Sk+eEkFQdDmKsOhwBEVYCeAiAmAiHcBEV4CYCIWmCHF6FqC0haRcF4XYvxfF2LwvC+FqC0xcC0C/FwLSFoF0XBfi7C0xei8LwvcLQLoWoXheC0BaIWoXBdiNiMY6cZ8RkZxnjqOojAz4zx0HUdBGozjoMw6iMjpxdi+L4uC5F/xd/haIui/bZ/+DGBp4RYMQYgw8Ivgw/CJ4RfBh/hECKBgEUGODH8InhFwY4GoMcIgRIMcInCIBrBhCIESESBp+DEGARfhEA1gxBjBj4RAYQYgxgYwiYRcIgMAiAwBjCJgYAawYYRQMQMAYhFgagYhEA0AxA1A1CJBhBgEXwMQNAihFhFAxwYAwgaYMPCJA1hEBiBrwYQiwYwiBFwYhFgxgawihFCLA0gYAwCKESBoBpCJ4MIRcGOEVB9ALR8BJj7/PonB9HyEoJwfZ9E4Dt5OeTnlqJtxNAH7nwfHPonJ8E759E6PoJI//PkZOAWKgjoZUAQYka0Ffgge9VcfZOCdE7J0To+Cc8JWTo+D7J0EqPoO0+T5PsJSfJ9n0TkJUfJOeTknPPo+z6J2Ts+ycE759/k7Pg+z5J2TonBOeTkJUTg+T5DtJ0Tvk5Pjk5DXPg+idH2HYfR9E6PgnR9k5JyfZ9cnR9cNYJSfROidE6Ps+Cdn0fB8E6DtPs+CdHwfH5OAlR8nyfB98+SdE4J0ff5OidH2TknfPkJMfYSg+Cd8+D6PsnP/JwTk++fYSQO0+D5J0fZ8HwTjn2AWDgdAL8ApALQCkO8GACwMgyAVBiAVhzwY4BeDIMgFMOh0ArDgc4BeAV4cgFsOhz/wP225HGw7wCsO4M8AqHP/+DEGQ7/8OgzgFoM4Bf4MhwO4BT4cDmHcGfDnw78GcVhUFTFXFeKoqYJ3isKuKkVgTsVoqCsKwrCoKsVQTqKorYWoXhfxeF/xdi58XOL4WmLnFYVQToE4FXiuK0VwTnFQVRVFcVhU4JzFfDgdhzBnDuHfALgyDAMQZBgGQCgBUAoDAMh3BkAsDMGcGAYgxBn+HAC0ArwCwMAS5adAry0yBSBfoFBVaKqKwVUVrRXUa9FUOEqVUjV3ySPLkvkzlNlNn02E2S06pvVKWACECpW//PkZN8VDgj+zymq5krb1ewAxJvkqe1XysDVFSqlVIo2o0ispyFVoqKNIrKcqNKcKcFhSjaKiKyKhYWiv6nCnCKijajSnPorKNKcKcqcIrqNoqKNqcKNoqKNKNqNKcIqKN//orf6BSbKbKBSBXlp0CvQKTYTZ/0C/LTxFxFoigioigCLC4cRYRWItEXC4cRcI0IoFwwXCiKwjQXC8LhRFcRcRQRSFwoikRcLhxFRFguHiKRF8E7FYVhVBOgCYVRUACKKgqgE0E6ACJFYVoJ0CcgnQrAnMVwTgE6ioKoRwDdhHhG4RARgDcCMEaEYIiAbwRIRuESEcIwRwiYRwjQjBEgWoFuBa4FngWkIQQigwhEwigx/CL/4RfCKEQGP/wYiEUwYHwYGDAwYAGA4RCEQBEGB0rCNcGU4RrBlcIsGGDCESBiEWDCBhCIEWBiDAGHCKEUGEGEGMIgMAiwigxCIDADQGIRfCIEQDXgYYRfBgBoESEXwY/CJCKEQIsGIRODEGIRQYgw8IgRYMMGAGGDEDGDAIoMcDQIkGMGGBrgwCKDAIsIkDUDWDGDDA1hE4RQMQYgwBhhFBhBh4MAMYRMIoRAiAxBjhF4mhZFpxNBNy0LQTUTXhKglR9FqWpaAP5Zi//PkZNYXkgTkGEJwlkXcDfQAe9r8bCa/k5JwTriacsizBHE6CSH1w7efHLPgjuJqWnLITYTX8tRNAH/ialqJuJuWZaFkCO4m5aE7J2TonB8E559nyEnJyfB8FmJrxNxNhNS1E3LT8sxNC0E0LTlqJuWQm3E15ZiaFqWRZiaCagP5aCblkKoqCsCdioKoqwToE6FcVwAhRWBOIrCpFbgnEVRVFUVIJ2K4rAnIqioKgrcV4riuK0E4FcVQTsVxUBOoJ3FUE7itFYE7FYVRXFUVwTkVoqAnYJxBO4rReF4XYWsLWLoui4LwuC9AdsLQL0LQA9C8Lgvi6LguBahfFwXAtIvQQ4vCqKwrxX/8E5xXit4JwKzBnwj+DF+F1guvBiQYkDRIR8I/gz8Gd4R/wYsGLBi8I8DPBneDPBnwZ/8I8DP8I8B/0Gd+DPA+8I/+Ef+DOgzvwj4R/hHoM+Ee4M4D74M+Ef/A/7gfcDPBn4R7BnfCPgz4M7Bngf8DPwjwR6B/3CPwj0Gfgz+EfBnhH8GfwioRQGIBqgRUDVAYoGiBFcIoBqoMWEUA1UDRYRUIqEUA1WBooGiAaqBogRUGJwigM8I/gz+DOCPwj/Bnwj3BnBHgZ4M4I+DOhHhNCz5aiaCb//PkZM0YugrgAAASBEUEBfQAe9rclmWompZ8shNyzLMsy1LMBUAfhNxNicBJCcE5J0JpyyLMTcBVLXloCO5aCagKACiAqflqWYmvE3E3BHlmArFnxNRNC1LUBS5aFoWhZFmWR8k5CTnxz4PonZ8E5Pg+j4LUshNQH4TYtSzLMshNBNhNSyAViyE0FQE4FYVoJ0CcRUgnYqisKoJxFWAhiuKgrCtFUE7FQE5iqKgqRVFWKorwTsVxVFYE7FTFTBOxVgnAqRXBOPisK4BOK0VoriuK0E5BOxUivFcE5FYE5FQVBXFQE6FQVBVFYVxWioCcCoLovi4LoWiL0LSL+LouBaIvBahdi6LoWgEMFoC1hacXxdC14uipiqKn8VPFbiqKsVb//Bm/+EXgx4RdhFb///hE1/8GLP//CKwIrQjoGa/wPewZqEdYM1wZqDNAetgzWEd8GagzYM2DN4M1wjoI7Bm+DNhHcD3rA9awZuEdwZvCOwjsGaA964M1A978I7hHQR0DNge98I6hHYR1wZrBmwPWgPWwZsI7wjqB63COvgzQR3BmwZsGaget8D3rCOgZoGa4R1gzYM0EdwZsI6CO+DN4R1wZsD3oGaBmwjqEdAzXCO/4R0DNAzYR0WgI8TQT//PkZL4XFgTcAE6Tekf8EfQAe9t8YTXiagKwCsJuWXLMTUtC1LMTT8TYTUJP+fAdomomoD8JuWoCgWoI7iaFkJqJqfZ8hrk4CSE5Pk+Cdk5PgnBOT7JwTg+uWZaiaCbcsgFAsy0LPlmJsWYmom5ZFmWpaibiaAjy15ZFkWQm5Zll+JsJqJvy1E0CThJz65OQlJ8H2TknZOT759k6J3z4PgTQTcsy0LITflmWfLUsiyLITYTcTT8syzLQsi0LMEcWZa8tSyE1LTibibFqWYI/8shNCyE1LQsy1LUTUBTLLloWXLUsiyLUtBN+JqJvy1E05Z8TcsxNeWn/LTnxydHwfZ9n1ydk4PsnHJyfR9E4JwTgnB8k4588nB9cnR8c+D7PjxV4q4r8VsVgTgE4/itFShX/xV4rirxVFWKoq4qfxX8E6xVxUBOYrCtwTvwTj/xV8E5/irBOsVuKwqRXFTFQVorCrFf/xWioKwrCtioCcxUFUVAToE4FUVxWFQVhUBO4rgnUVIJyKkVgToE4ipFUVoq4qisKsE64qCoCdxUFUVxXFUE78VxWFQV4qiuKgqiuK4CCK2KoqirBOATsE4FWK4qxVFUVhVFYE4gnIriuCcQTiK4rCoCdCtirBORUiqK2//PkZLAWsgzuADQNNkZj/fjIe9r8K/FXFUVwSE5aiaAKgmhaFpxNQkp8n3z5PsJOGsffLQsyyE1LItS1E1Af+CPLMTUTfibFmJoWQmxanzydHwTsnASknBaCalqWom5ZcsxNyc8nASsnHDt59BrhJgkpOicBKg7D7JyfZ8E5Pk+Cd8EeWXE0LQsiyLQtSyLIsi0LUTYsy0E3LITQshNiyLUsiy4I78shNy0LMVcE6ipgnArRVgncE4wTsVIrCqCcCtBOYrwTgE7iuKwqCoKwrcE7BOQTqKgqiqFpBEC1gPYD3F0X4WoLTF0Xxei6FqC0BaAtQWgXxdwtWFqC0haBW/FQVRUBOBUFcE6ioCcAnEVRX4rYrxWFUVBViuLsXgtAuC6FoBDBaYvi7F8XxexdF8XhcFyI//gx//CJBhgxhEwY/+EXwYgx8ImDH8GPhE8GPhEwigwhFwNQNQNfhE+DGDAGHCIBrhEhEBh4RQMAY/gYBFBhhEAxCIDCEUDEDHBiEUIoRQY+DCBp4McGEIgGgMcGIGMGIGIGgRQYgxCKBiBjBgDGESDADWBgEUDEIuDADWBpBiEUDEDDgYgwBgDEDQDUGIGgRAYQYAxCKBhCKEThEBgBiEUGIRQMQiQiwNAY//PkZKwWNgjoZUAQREakFfQAe9t8YMfwi4GBaFoJsWpaFlyyBHctCzE25ZiaFoAocsy1E24Sk+idk6LMTYTYTQsyyLUtCyLQTUswFYJMGuTg+CdHwErPotAFAsuJtxNCz4m4mvBHiafloWZZ8YppBqzTNI0jTNBMpg0jTTZZFqWfE3Af/xNf+WomhZ8suWZZCb8tC1LQtS14m/LQtBNhNOfR8hKCc8nHJ2EqCUE5CSHxydk6Pg+D7Ps+Sdk6LUTQTcTcTctSz4mwmha8TXlmJvyy5ZiaFl+WpZFoWZa8TQshNCz4mhalmJsWfLQsuWRactBNRNC1E1LLlly0E2PgJWfR8h2H2fJOSdnx+fXPs+T5PgNbnzz6Po+T7JwTk+z4PonROglJ84qCvxXxUirFX4q4qeCd1f8InCI/4R/CP//4RMI/CMEYI4RAR8I8IjCJ4REI/gG8ESEfCOERCP4R/+EaERCPCNCNCI4BvQjYRMHINobIOfjZBzDZG3xtja42gcw2PwcvG2Nng5+NgbY2wcn42htDYGwNrjYGwNsbX42vxscbI2gc3Bzg5Qcg2uNvjaGwNgbI2+Dl4OUbI2Qc42RsjbBy//g5eAboR4RwjQDeCP+EcI8IwBuwjwjBEBEA//PkZKoZMgrqADXt9EV8FfQAe9scG+EThEBGCMESESEbhEQjwjwjwjBHCIwiQDcCNCI/hHE0/LQBSLITf/lqWoSvk7LT8BWLMtRNAk58E7Po+CyLQTcsyyLUsi0Afi1LUTUTUtBNS05aFkWpZHzwkoSgnB9HwfQSsTYsizLQtRNRNgFf/8NcJWEmAWCdn0To+T4CUHyGtxNiyLT/lmJqJqJqWgmpZFqJsWgmwmwmwmv5ZiaibiactBNv/yyLTiaFkWZagKgCmJqWQmgmom3E0LTibAKfE0LLiuKgrYqipBO4JzFUE5BORXBOhVioKwqRWBOYJyKkE6BOIrYqCqCcxVxVFUV8E4FSCdcVgAgCuKkLTBDC6CHi+LwuRfha4uC+FpF8XQtAWgB2wtAWoXBchaBfwtQWnFSCdxVxXFUVhUFYV4rgnOK3wTiKir//1eDCsf//7/+wOYd///ei/f6lmiqGXpyOlCSRm+yP3UtDhFIzqBhwCFHAGFHABYGcAnAAMOAAYcAAw4BYKOAIROANgicAQYcABE4AAzgE4B+1wmcAwYcAK+sDOADgFLCJwAlWBnABwABnABwDWraETgEDOADgDBiRkgoJpGaP+64RSMoRSMGBiRkkwMSMlq7AxIy4//PkZJUYEgieBFw3fkL8FgAied8AROAAicA8DOATgAGHAAROAFwM4BOAGBhwADDgAGHANQUcAgicAYROAfgw4AIkbPNNNpo0TSNBNJgUs0l7lomEwmRSOaRp80zQFK4nvTInnTEGgwGwAwYmOmkyaInppJpMJg0k1+KUaaaTCb42U0mBsGiaSaNNNpo0OaKZNE0jTTSY5oGmaZpJrphM9MGkmDQTCZBzpg0OKR+mBtdMJobfTSbTfG2KSaBpGgaZomiaBomn02mOmkwmjSNPpjmmaKZNA0zSNFNCeClJkT40DTTCY5oJk0kyaJpdMppMdMdN80TR6ZTXTfNJNmimumem+aKZTKaTaaTRops0kwaZppk0+aSa6ZTKYTfTfTPTHTKa5omgmEyaJo9NmkaRp/pnmmaf6aNNMplMplMdMpv8TxMJlNplNJn9MdM1OM6hWa/EjiRiRiO/xIcSP+GgCZQ1+GvDRDV//4aP///4I8EwTwTBLwS/4AHgnBHBHgiwR4JgAgS4IwAYPA8ADg+AAAAFwfB4L4WADC2AGAGFwsFwuD2FgAcAPC+F/B8L4X/B7B4L4WwuD+AGDwXACAAC2D2AEFgfCwAAAAXB8LhcLeDwXCwPYPA+ACACD+AH4XwA//PkZJMVIgb2ejVLxkBMEgTIe898vwv4X/ACB/C4WwtgBg/gA4PA9gBeFhLRTXTRomkmP0yJ6J+mPy0NA0OvibNDQmfzTNNMjaFKNATxMiemiaRoGkmE2mkwmTRTHNBMGiaCZTSZTZomh0PaV9fX2hoX14kzSmOaCY5pJr80U0aPTfNFMps0jSNJMmiaSaTKb6aTKYNLphMpg0eaJoGkJ8aBoppMppMJg00xzTTabNFNJpNJpNpnpg0DT6bTRoppoJMWrSh/690NQ5paV5D2le/LND2hoQxDF/rzR1/r/aWhfaWleQxfXmheaevNDS0tLQ0ryGoch/X15D+vLy+0oc0ry/19DUOXuvIc0oav9oXkNX1/r3X18QCGHQGQHB8PiAPAaHgPDsBgcH+Hqv//+DJ0GNuEW4MbQY2wZO4Rn///4R34R3Qjv//8Gbv//8GbgZuwZvCO4GbsD37+Ed3A586DJ4Rn8DnToRn8GTsGT8GToRn4HOngyf4HOnBGeDJ0IzgjOCM8DnTwjOgydwOdP4RnYMncDbtwY2A27cItgNs3CLeDGwMbwY3CLaEWwRbQi3A27eDG0GN4G2bBFvA2zcItgY3A27YGN4G2bAxtA58/gc6eDJwHOnAyfCM7A588//PkZLMYngTSAFAUhEYcDfggw9V8DnzwOdOBk8IzuEZ4MnAyfgychsy7F3oE13Nl9sy7myrsL6qqOU5anCqkHqNDI3KVUTEU8GNU7U6gxyHKchyVV/Xa2Zspfds3rubK2VsjZmztk9djZi/TZV2NnXYu0vsm0yaBoDZNEbA2k0aKZNjmwbH/Nvm2bRtGyBVArD1G0bQPUevg9h6/+PRzZNkCrzZNgesegesermyPQPXzbHpNvm0PQPUPSbJs82TaHqAtj082h6DaNn8eo2DbHrHpNjj1m1zYHqNo2jYNnmwbPNgek2ja5sj0D1m0bJs80xtJlMdMCeps0U0meaaa6b5p/mmmU3zRTfNFN/pgHPzQNPmkaaaTXTKbTRoJk0zS6b/NBNdNJlNGj02aH6Z4IgAEEYJ4I+CMEQJcEUEXBOpHDX/w1Q0Q1Q1cNWGvw0Q0/hp/AmIaA0cCYhow0w1/w0hoDRhpw1w1BrgTLDXw1BrhrDQGgNQEzAmOGuGiGgNfgTHDQGoCZw1w0BrDWBMIEzDVDTDUGgNfAFwGjBrg1A1YNcGsAXAaQaABcBqg1g1QagaINYaoEyw1Bow1YaA1hoDSBMw1gTICYQJkGrDQGoNGGmGsNcNQawJkGuBM4aIa//PkZKAYngTsATQNQkKMFgDifh7AYagJkGsCZ+GkNWGiGsNAaYaOGgCYgTENQaw0Yaw1Q1Q0/hqw1BkAfmkaCb6ZTCY6bNBNLwmqGA5fzSTCb/lgwXOmMmMmTQ5pmkmUwmkymfzRTaZFJ6aNM002NrppMpg0kwKQmE2m0yKUaKaE95o9MJj9N9NJk0UymOaSaE/TabNNNmmmk2mU2aHTKZTCaNDjaTJoGimkyNvpk0TRTHTf6bTRopg001+mU0aXNBMjYNA0k2mjR5pfps0U100mUz0ym02mDRTHTaaTRpplMc0kz0ySA000mDSTKbNI002mzQTHTaYTf//NA0zQTBodNJk0UyKSaaZNJMprmkaP5oGmKUmEymUyaCbTHNBMJlN80DRNBMmkm/00mUwaZpprplNpvmiaJo80+aSa//TaY/6ZaH//wY4ReEX4RIMfwiAxBh/BhCJ/+ESDDwYcIn+EQIoMAiQYAw8IsGIGGETBj4MP4MQiAxhEAwAxAxBjBiEUIgMIMcDCDAGIMcGMDEGGBgEUDTwNfAx4MAiwiQYgwBgEUIgMIRAiQYhFwYAwBhA1CKDEIoGoGgMQi4MeDADGEQIkIgGMDCDAIoMAiQiAYwYYMQNQigwCJBiDEGAR//PkZJwV+gzoZUAQRkZsCfQAe9tcQYgx8GEGIMQiwMAY4MANAMcIoMSyE1E1/LMTUtCz5OD5PkJJz5Pk+uA/FqWRaib8TUTUTQtC05alqWYm4momgI8TYsxNCzE3LUtQFEsgFM+z6J0fB8nz+TsNcnB9BK+Tk+g7CdhJT6LTiaFqWYI7lqWoCvy05ZlnxNy0/LUshNBNvwR4moCj+Wv5ZlkJqWpalkCOE1E1LQsiyLITUBULLlqWZZlmJsWhZcsi1/4CiWpalkJqJuWvLXlkJsJpyy4mwm5ZlmJuWXLUTQteWgmgmwCsJoWfE3LMsiyLP8TTlkJuAolqJryzE1LTibCbloJuWhZFoWYmxZ8TcXIvxeC0i+FrF0B2i4L8LSL4uBaIDyCHF8XRfF6FqgiwtIuYWoXIrYqAncVvxVip8VIqCvUxPqtFbFf/4q/8V/8V/iririr8VATjxXipxWgnYq+KwqfFTFQVoq+KsVBW8VhUisKuK0VRXivFYE4FTBOhVFcVRV4riuCdCuCdCtwTiCcCqCcgnYqxWFcVIJwKsVxWisK8VxVgnArYqRWFeK0V4qgnQrgnYrfBOoqAnAq4J0CciqKviuK3BOoJyKsE4FUVoqisK2KwrAnArgBAFSK4//PkZJ0VagjyJgGtbkOkFfwAbh4AqRViuK4J0KgrCrFUVxVjOEeDQgjlcT4T40xtjaNI0uaI2QciGNJIl4kJZtCGIaSckIm6GL3TQ2zRTY2UwmjSNE0fxS02aY2BsJs0/+mzSE8TQpHTKZTaaG0aQpApZp/mmm+aHTfTCZGwNgUk0E0aRp/ilJlNJgT5MmkJ9zQNA0TQTH6ZG2mk0mk0mk3zQTKY/G3zQTHTabTBpGgmU0aKaTJpJpNJtMphNjYTfNE0emkymE2mEyaCbNBNfmkaJpdNJnpg0k0mDTTCbTaZTBp80k2aCbTfNE00yaCb6bTZoplMmmaKZTKaTJpmiaHTXNJNdMDbTab6Y6Z6ZNNMJhMJhN9NJrmim02m0ymU300aPTSa6Y//5pJpNdN/9NppxWxU4Jx/xWxU/xU4qcV/ipiuKwqxWFbioK/8VIqivFTwTkVgTkVor4JxFXxX8VcVxUFQE4FaCcwTvBOIqwToVuKwqCtFUVYqxXxWFeK0E7FQVYrwTnwTsV4rCqCcfFaCcRVFQE5gnAr4JyK4r4Jz4J0Koqip4rCvisKoJ3xWBOME7iuKgriuKgrAnAqgnArxXiqCcgnYJzFQVQTmAEIVYrwToAIYrwTiKkVQTkE5//PkZK4XGgzsADQNAkIcCfwAe898FXFTFYVxXxUFQVkzzS5oilg5TTTY2kyaJpJtNGgJ8aKaTQ2k2aCaNI0eaSYNJM/tKHEiQxfJG09MmgaSYTRppg0TRNNMJlMptMCfppNprmiaA2jQNLmmaRppk0jRFLNP9NJhMGmaQpZpJhNCkGkmE0J+mxSk0m0x02mjRTKbTCZ42EwaQpJpptNprmgaRpmim00J4mzSNM0kymkyKWmE0muaKYGwNjmgafTPNE0U0mUwJ7+mem01+J8mhSk2mjRTSb6aTCbNBM9MpjpjppMpk0E2mE2mE2mjSTfTaZ6YNFMcT1MpnprptNmim0wmE100aSaTRo9MGjzTTHTaaTfTSaNLpoFMAAFYNBQGwAvwAYM4NgqqkjaAN3d3d3etERNK5CZ/3Ctf8AaiAc/u7vaIn/+8XPv//+GDKv8W1/+AC8K4Yw+94xe940jgceOBwOcRaxGwH4EuNIjBfxazB8HhkwVjIAII/vDkjG/wAcJPeF5e98hNgSYLWMFvhZ73pX06aoehpmh01hMJtM9K3TKY9E10x+memvlIpZM9MUTCbShbUrtM+n5ophNZuXK+0wmemumMCemkmvc0Uwm/lJJlLe5oJZI0SyW6R0mE//PkZLcXlgrzECFvrEmMEfgAfh7k2aORpbTYUo9SBNsekGYNVKgqg6hrUXK4Q42DOwPWbILEzBSumEgkWJPU8S72G5wUuGDwguEKa1Q0UykS3Bn7FJNgg5qoEgpsGabBtGabZt7NrKCNgLYes1idmabBtm2bZsBRm0PQbF9mwPSPUBbMwzB6QojYM42ePTzbMwzR6TaNs1eBVNv81yDUJ2QYhJtD0m0PVe+x6T2M8HsbFwsh6B6D7HpugT2uZhO6HqZhmE7ISZhhkFNcghtmybBnnsD1Ho49ZtG2bZs5PVBc2EEepCaEHNjj1EJHq5smabZtmwbNEEPR+bJse9z2PY2T1SN0rdNJq6yXI06COvNJj9MGmkkGmUj7pI0TToNGlEsNEnCW10ymi5FtNFKpvps0kz0uW3aaTF00mTSzdNJu0KFYz1KjaGAhyoQCFGM//zFARgIUZ/oZpdCttay6M5drW1joSj6Ekk1b7J7R7aoQNlPrWBKLTTzOsGT5yYxLrtHTy2iUxEkES0HIBVD066VjGj31odPkkSjJtbWs6OIjKmlXHR9K5MTv5pdZolE10kk2lly74TFx5KTXeTGLrS6ExiucvJSSDUdXZm3NLn1rtYBCUEoRj77WOhCPc+g5//PkZJ8XPgzoAABMTrz8BfQyY9ONGxJULutaa1TE5LHxWEo+XecmMa3p0kqBCR6qOFaFUGpNJIIjqVi0ylBqJIkiSJIkmJj605EkSRJPetWAyVacmodBUVhGfrAZPF0AUrgRLNiqDU4VHo8h6HRObJJNdqlRBMFT0qdNE0WZhmay2tCuOY6oieWieianCnVSbzjd7SGhrLi6eUSeLcZTWqdML5PM50uOGJms9VqtYU6hrgrm4V0frUzTvYsiegR2FOkqUxSKdVCpmRCSkIAUZ4VPhqEKgFDU2VhUiIhUaIg0RAkTBYEjYBUbBMuCJgLAkCUBUinABgBE3/9EQqFRM0s0qzktk9ZFqqFC6RULE11JVDkd8Y1vVFOx9oUIpZ8Vnq5klkxBTUUzLjEwMKqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq";var Vc=t=>t instanceof Date,p2=t=>t==null;const m2=t=>typeof t=="object";var C_=t=>!p2(t)&&!Array.isArray(t)&&m2(t)&&!Vc(t),T_=t=>p2(t)||!m2(t);function g2(t,e){if(T_(t)||T_(e))return t===e;if(Vc(t)&&Vc(e))return t.getTime()===e.getTime();const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(const i of n){const s=t[i];if(!r.includes(i))return!1;if(i!=="ref"){const o=e[i];if(Vc(s)&&Vc(o)||C_(s)&&C_(o)||Array.isArray(s)&&Array.isArray(o)?!g2(s,o):s!==o)return!1}}return!0}const D7={facingMode:"environment",width:{min:640,ideal:720,max:1920},height:{min:640,ideal:720,max:1080}},M7={finder:!0,torch:!0,tracker:void 0,onOff:!1,zoom:!1},O7={width:"100%",height:"100%",position:"relative",display:"flex",alignItems:"center",justifyContent:"center",overflow:"hidden",aspectRatio:"1/1"},L7={width:"100%",height:"100%",objectFit:"cover",overflow:"hidden"};function Lh(t){if(t===null)throw new Error("Canvas should always be defined when component is mounted.");const e=t.getContext("2d");if(e===null)throw new Error("Canvas 2D context should be non-null");e.clearRect(0,0,t.width,t.height)}function V7(t){var e;const{onScan:n,constraints:r,formats:i=["qr_code"],paused:s=!1,components:o,children:a,styles:l,classNames:c,allowMultiple:d,scanDelay:f,onError:h,sound:y}=t,A=T.useRef(null),g=T.useRef(null),I=T.useRef(null),E=T.useMemo(()=>({...D7,...r}),[r]),v=T.useMemo(()=>({...M7,...o}),[o]),[_,R]=T.useState(!1),[O,B]=T.useState(!0),[b,S]=T.useState(E),k=function(){const ie=T.useRef(Promise.resolve({type:"stop",data:{}})),re=T.useRef(null),pe=T.useRef(null),[G,Z]=T.useState({}),[ae,se]=T.useState({}),ue=T.useCallback(async(te,ge)=>{var Ie,we,Ae;if(!window.isSecureContext)throw new Error("camera access is only permitted in secure context. Use HTTPS or localhost rather than HTTP.");if(((Ie=navigator==null?void 0:navigator.mediaDevices)===null||Ie===void 0?void 0:Ie.getUserMedia)===void 0)throw new Error("this browser has no Stream API support");const Ee=await navigator.mediaDevices.getUserMedia({audio:!1,video:ge});te.srcObject!==void 0?te.srcObject=Ee:te.mozSrcObject!==void 0?te.mozSrcObject=Ee:window.URL.createObjectURL?te.src=window.URL.createObjectURL(Ee):window.webkitURL?te.src=window.webkitURL.createObjectURL(Ee):te.src=Ee.id,await Promise.race([te.play(),new Promise(ye=>setTimeout(ye,3e3)).then(()=>{throw new Error("Loading camera stream timed out after 3 seconds.")})]),await new Promise(ye=>setTimeout(ye,500));const[de]=Ee.getVideoTracks();return se(de.getSettings()),Z((Ae=(we=de==null?void 0:de.getCapabilities)===null||we===void 0?void 0:we.call(de))!==null&&Ae!==void 0?Ae:{}),re.current=Ee,pe.current=de,{type:"start",data:{videoEl:te,stream:Ee,constraints:ge}}},[]),he=T.useCallback(async(te,ge)=>{te.src="",te.srcObject=null,te.load();for(const Ie of ge.getTracks())ge.removeTrack(Ie),Ie.stop();return re.current=null,pe.current=null,se({}),{type:"stop",data:{}}},[]),Pe=T.useCallback(async(te,{constraints:ge,restart:Ie=!1})=>{if(ie.current=ie.current.then(we=>{if(we.type==="start"){const{data:{videoEl:Ae,stream:Ee,constraints:de}}=we;return Ie||te!==Ae||ge!==de?he(Ae,Ee).then(()=>ue(te,ge)):we}return ue(te,ge)}),(await ie.current).type==="stop")throw new Error("Something went wrong with the camera task queue (start task).")},[ue,he]),De=T.useCallback(async()=>{if(ie.current=ie.current.then(te=>{if(te.type==="stop")return te;const{data:{videoEl:ge,stream:Ie}}=te;return he(ge,Ie)}),(await ie.current).type==="start")throw new Error("Something went wrong with the camera task queue (stop task).")},[he]),Te=T.useCallback(async te=>{const ge=pe.current;if(!ge)throw new Error("No active video track found.");{te.advanced&&te.advanced[0].zoom&&ge.getCapabilities().torch&&await ge.applyConstraints({advanced:[{torch:!1}]}),await ge.applyConstraints(te);const Ie=ge.getCapabilities(),we=ge.getSettings();Z(Ie),se(we)}},[]);return T.useEffect(()=>()=>{(async()=>await De())()},[De]),{capabilities:G,settings:ae,startCamera:Pe,stopCamera:De,updateConstraints:Te}}(),{startScanning:D,stopScanning:V}=function(ie){const{videoElementRef:re,onScan:pe,onFound:G,retryDelay:Z=100,scanDelay:ae=0,formats:se=[],allowMultiple:ue=!1,sound:he=!0}=ie,Pe=T.useRef(new t0({formats:se})),De=T.useRef(null),Te=T.useRef(null);T.useEffect(()=>{Pe.current=new t0({formats:se})},[se]),T.useEffect(()=>{typeof window<"u"&&he&&(De.current=new Audio(typeof he=="string"?he:N7))},[he]);const te=T.useCallback(ge=>async Ie=>{if(re.current!==null&&re.current.readyState>1){const{lastScan:we,contentBefore:Ae,lastScanHadContent:Ee}=ge;if(Ie-we<Z)Te.current=window.requestAnimationFrame(te(ge));else{const de=await Pe.current.detect(re.current),ye=de.some(Ke=>!Ae.includes(Ke.rawValue)),ct=de.length>0;let rt=ge.lastOnScan;(ye||ue&&ct&&Ie-rt>=ae)&&(he&&De.current&&De.current.paused&&De.current.play().catch(Ke=>console.error("Error playing the sound",Ke)),rt=Ie,pe(de)),ct&&G(de),!ct&&Ee&&G(de);const bt={lastScan:Ie,lastOnScan:rt,lastScanHadContent:ct,contentBefore:ye?de.map(Ke=>Ke.rawValue):Ae};Te.current=window.requestAnimationFrame(te(bt))}}},[re.current,pe,G,Z]);return{startScanning:T.useCallback(()=>{const ge=performance.now(),Ie={lastScan:ge,lastOnScan:ge,contentBefore:[],lastScanHadContent:!1};Te.current=window.requestAnimationFrame(te(Ie))},[te]),stopScanning:T.useCallback(()=>{Te.current!==null&&(window.cancelAnimationFrame(Te.current),Te.current=null)},[])}}({videoElementRef:A,onScan:n,onFound:ie=>function(re,pe,G,Z){const ae=G;if(ae==null)throw new Error("onFound handler should only be called when component is mounted. Thus tracking canvas is always defined.");const se=pe;if(se==null)throw new Error("onFound handler should only be called when component is mounted. Thus video element is always defined.");if(re.length===0||Z===void 0)Lh(ae);else{const ue=se.offsetWidth,he=se.offsetHeight,Pe=se.videoWidth,De=se.videoHeight,Te=Math.max(ue/Pe,he/De),te=Pe*Te,ge=De*Te,Ie=te/Pe,we=ge/De,Ae=(ue-te)/2,Ee=(he-ge)/2,de=({x:bt,y:Ke})=>({x:Math.floor(bt*Ie),y:Math.floor(Ke*we)}),ye=({x:bt,y:Ke})=>({x:Math.floor(bt+Ae),y:Math.floor(Ke+Ee)}),ct=re.map(bt=>{const{boundingBox:Ke,cornerPoints:ut}=bt,{x:rn,y:yr}=ye(de({x:Ke.x,y:Ke.y})),{x:ui,y:sr}=de({x:Ke.width,y:Ke.height});return{...bt,cornerPoints:ut.map(di=>ye(de(di))),boundingBox:DOMRectReadOnly.fromRect({x:rn,y:yr,width:ui,height:sr})}});ae.width=se.offsetWidth,ae.height=se.offsetHeight;const rt=ae.getContext("2d");if(rt===null)throw new Error("onFound handler should only be called when component is mounted. Thus tracking canvas 2D context is always defined.");Z(ct,rt)}}(ie,A.current,I.current,v.tracker),formats:i,retryDelay:v.tracker===void 0?500:10,scanDelay:f,allowMultiple:d,sound:y});T.useEffect(()=>(R(!0),()=>{R(!1)}),[]),T.useEffect(()=>{_&&(V(),D())},[o==null?void 0:o.tracker]),T.useEffect(()=>{if(!g2(E,b)){const ie=E;r!=null&&r.deviceId&&delete ie.facingMode,S(ie)}},[r]);const F=T.useMemo(()=>({constraints:b,shouldStream:_&&!s}),[b,_,s]),M=async()=>{const ie=A.current;if(ie==null)throw new Error("Video should be defined when component is mounted.");const re=g.current;if(re==null)throw new Error("Canvas should be defined when component is mounted.");const pe=re.getContext("2d");if(pe==null)throw new Error("Canvas should be defined when component is mounted.");if(F.shouldStream){await k.stopCamera(),B(!1);try{await k.startCamera(ie,F),ie?B(!0):await k.stopCamera()}catch(G){h==null||h(G),console.error("error",G)}}else re.width=ie.videoWidth,re.height=ie.videoHeight,pe.drawImage(ie,0,0,ie.videoWidth,ie.videoHeight),await k.stopCamera(),B(!1)};T.useEffect(()=>{(async()=>await M())()},[F]);const ee=T.useMemo(()=>F.shouldStream&&O,[F.shouldStream,O]);return T.useEffect(()=>{if(ee){if(g.current===void 0)throw new Error("shouldScan effect should only be triggered when component is mounted. Thus pause frame canvas is defined");if(Lh(g.current),I.current===void 0)throw new Error("shouldScan effect should only be triggered when component is mounted. Thus tracking canvas is defined");if(Lh(I.current),A.current==null)throw new Error("shouldScan effect should only be triggered when component is mounted. Thus video element is defined");D()}},[ee]),Q.createElement("div",{style:{...O7,...l==null?void 0:l.container},className:c==null?void 0:c.container},Q.createElement("video",{ref:A,style:{...L7,...l==null?void 0:l.video,visibility:s?"hidden":"visible"},className:c==null?void 0:c.video,autoPlay:!0,muted:!0,playsInline:!0}),Q.createElement("canvas",{ref:g,style:{display:s?"block":"none",position:"absolute",width:"100%",height:"100%"}}),Q.createElement("canvas",{ref:I,style:{position:"absolute",width:"100%",height:"100%"}}),Q.createElement("div",{style:{position:"absolute",width:"100%",height:"100%"}},v.finder&&Q.createElement(k7,{scanning:O,capabilities:k.capabilities,onOff:v.onOff,zoom:v.zoom&&k.settings.zoom?{value:k.settings.zoom,onChange:async ie=>{const re={...b,advanced:[{zoom:ie}]};await k.updateConstraints(re)}}:void 0,torch:v.torch?{status:(e=k.settings.torch)!==null&&e!==void 0&&e,toggle:async ie=>{const re={...b,advanced:[{torch:ie}]};await k.updateConstraints(re)}}:void 0,startScanning:async()=>await M(),stopScanning:async()=>{await k.stopCamera(),Lh(I.current),B(!1)}}),a))}const F7=()=>{const[t,e]=T.useState(""),[n,r]=T.useState(null),[i,s]=T.useState(null),[o,a]=T.useState(!1),l=co(),c=async h=>{if(!o){e(JSON.stringify(h)),a(!0),r(null),s(null);try{if(!Array.isArray(h)||!h[0]||typeof h[0].rawValue!="string")throw new Error("Invalid QR scan result format");const y=h[0].rawValue;console.log("QR Code scanned rawValue:",y);const A=y.split(":");if(A.length<3||A[0]!=="LOYALTY")throw new Error("Invalid QR code format - must be LOYALTY:email:uid");const g=A[1],I=A[2];if(!I)throw new Error("No user ID found in QR code");const E=zr(xn,"users",I),v=await Cv(sp(np(xn,"users"),Ah("email","==",g),Ah("id","==",I)));if(v.empty)throw new Error("No user found for this QR code");const R=v.docs[0].data();console.log("Current user data:",{name:R.name,email:R.email,currentPurchases:R.purchases||0,purchaseLimit:R.purchaseLimit||5}),await ZB(xn,async D=>{const V=await D.get(E);if(!V.exists())throw new Error("User not found");const F=V.data(),ee=(F.purchases||0)+1,ie=F.purchaseLimit||5,re=ee>=ie;D.update(E,{purchases:ee,isRewardReady:re,lastScanAt:new Date})}),s(g),r(!0);const B=(await Cv(sp(np(xn,"users"),Ah("email","==",g),Ah("id","==",I)))).docs[0].data(),b=(B==null?void 0:B.purchases)||0,S=(B==null?void 0:B.purchaseLimit)||5;let k=`Loyalty point added! Total purchases: ${b}`;if(b>=S)k+=" - Reward ready! ";else{const D=S-b;k+=` - ${D} more to earn reward`}mt({title:"Success",description:k}),l("/dashboard")}catch(y){console.error("Error processing QR scan:",y);let A="Failed to process loyalty point";y instanceof Error&&(A=y.message),r(!1),mt({title:"Error",description:A,variant:"destructive"})}finally{a(!1)}}},d=h=>{console.error("Scanner error:",h),e("Error scanning QR code"),r(!1),mt({title:"Scanner Error",description:"Camera error - please check permissions",variant:"destructive"})},f=()=>{e(""),r(null),s(null),a(!1)};return m.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-black via-gray-900 to-red-950 relative overflow-hidden",children:[m.jsxs("div",{className:"absolute inset-0 opacity-10",children:[m.jsx("div",{className:"absolute top-20 right-10 w-40 h-40 bg-red-500 rounded-full blur-3xl animate-pulse"}),m.jsx("div",{className:"absolute bottom-32 left-10 w-32 h-32 bg-red-600 rounded-full blur-3xl animate-pulse delay-1000"})]}),m.jsxs("div",{className:"relative z-10 min-h-screen flex flex-col",children:[m.jsx("div",{className:"bg-gray-900/80 backdrop-blur-sm border-b border-red-900/30 sticky top-0 z-10",children:m.jsx("div",{className:"p-6 flex items-center justify-between",children:m.jsxs("div",{className:"flex items-center",children:[m.jsx(ai,{to:"/dashboard",className:"text-red-400 hover:text-red-300 transition-colors",children:m.jsx(Bl,{className:"w-6 h-6"})}),m.jsx("h1",{className:"ml-4 text-2xl font-bold text-white",children:"Scan Loyalty QR"})]})})}),m.jsx("div",{className:"flex-1 flex flex-col items-center justify-center px-6",children:m.jsxs("div",{className:"w-full max-w-md bg-gray-900/80 backdrop-blur-sm border border-red-900/30 rounded-2xl p-8 shadow-2xl flex flex-col items-center",children:[m.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Scan a User's QR Code"}),m.jsxs("div",{className:"relative w-full flex flex-col items-center",children:[m.jsx("div",{style:{width:300,height:300,margin:"20px auto"},children:m.jsx(V7,{onScan:c,onError:d})}),o&&m.jsx("div",{className:"absolute top-2 left-2 bg-blue-500 text-white text-xs px-2 py-1 rounded-full",children:"Processing..."})]}),t&&m.jsx("div",{className:"mt-4 p-3 bg-gray-800/50 border border-gray-700 rounded-lg text-white",children:m.jsxs("div",{className:"text-center",children:[m.jsx("div",{className:"text-sm text-gray-300 mb-2",children:"Scanned:"}),m.jsx("div",{className:"text-xs font-mono text-gray-400 break-all",children:t})]})}),n===!0&&m.jsx("div",{className:"mt-4 p-3 bg-green-900/50 border border-green-700 rounded-lg text-green-400 font-semibold",children:m.jsxs("div",{className:"text-center",children:[m.jsx("div",{className:"text-lg mb-1",children:" QR Code Verified & Updated!"}),m.jsx("div",{className:"text-sm text-green-300",children:"Loyalty point added for user"}),i&&m.jsx("div",{className:"text-xs text-green-400 mt-1 font-mono",children:i})]})}),n===!1&&m.jsx("div",{className:"mt-4 p-3 bg-red-900/50 border border-red-700 rounded-lg text-red-400 font-semibold",children:m.jsxs("div",{className:"text-center",children:[m.jsx("div",{className:"text-lg mb-1",children:" QR Code Not Recognized"}),m.jsx("div",{className:"text-sm text-red-300",children:"No user found for this QR code"})]})}),m.jsx("div",{className:"mt-6 flex gap-3",children:m.jsx(Dt,{onClick:f,disabled:!t&&!n,variant:"outline",className:"border-red-500 text-red-400 hover:bg-red-500/20",children:"Reset Scanner"})})]})})]})]})},B7=new WU,j7=()=>m.jsx(YU,{client:B7,children:m.jsx(_U,{children:m.jsxs(Q8,{children:[m.jsx(Ej,{}),m.jsx(Kj,{}),m.jsx(K8,{}),m.jsx(G8,{basename:"/vaporwave-loyalty-club",children:m.jsxs(L8,{children:[m.jsx(qr,{path:"/",element:m.jsx(J8,{})}),m.jsx(qr,{path:"/register",element:m.jsx(e9,{})}),m.jsx(qr,{path:"/login",element:m.jsx(t9,{})}),m.jsx(qr,{path:"/dashboard",element:m.jsx(eq,{})}),m.jsx(qr,{path:"/rewards",element:m.jsx(tq,{})}),m.jsx(qr,{path:"/settings",element:m.jsx(nq,{})}),m.jsx(qr,{path:"/users",element:m.jsx(RG,{})}),m.jsx(qr,{path:"/scan",element:m.jsx(F7,{})}),m.jsx(qr,{path:"*",element:m.jsx(PG,{})})]})})]})})});Wx(document.getElementById("root")).render(m.jsx(j7,{}));
