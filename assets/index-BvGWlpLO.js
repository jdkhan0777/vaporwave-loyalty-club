var Iw=t=>{throw TypeError(t)};var hm=(t,e,n)=>e.has(t)||Iw("Cannot "+n);var J=(t,e,n)=>(hm(t,e,"read from private field"),n?n.call(t):e.get(t)),Qe=(t,e,n)=>e.has(t)?Iw("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),Se=(t,e,n,r)=>(hm(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),tn=(t,e,n)=>(hm(t,e,"access private method"),n);var Nd=(t,e,n,r)=>({set _(i){Se(t,e,i,n)},get _(){return J(t,e,r)}});function vT(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function rv(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var wT={exports:{}},Wf={},ET={exports:{}},Pe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wu=Symbol.for("react.element"),UP=Symbol.for("react.portal"),jP=Symbol.for("react.fragment"),qP=Symbol.for("react.strict_mode"),GP=Symbol.for("react.profiler"),zP=Symbol.for("react.provider"),$P=Symbol.for("react.context"),QP=Symbol.for("react.forward_ref"),YP=Symbol.for("react.suspense"),WP=Symbol.for("react.memo"),KP=Symbol.for("react.lazy"),Rw=Symbol.iterator;function HP(t){return t===null||typeof t!="object"?null:(t=Rw&&t[Rw]||t["@@iterator"],typeof t=="function"?t:null)}var _T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},TT=Object.assign,CT={};function Tl(t,e,n){this.props=t,this.context=e,this.refs=CT,this.updater=n||_T}Tl.prototype.isReactComponent={};Tl.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Tl.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function AT(){}AT.prototype=Tl.prototype;function iv(t,e,n){this.props=t,this.context=e,this.refs=CT,this.updater=n||_T}var sv=iv.prototype=new AT;sv.constructor=iv;TT(sv,Tl.prototype);sv.isPureReactComponent=!0;var Sw=Array.isArray,IT=Object.prototype.hasOwnProperty,ov={current:null},RT={key:!0,ref:!0,__self:!0,__source:!0};function ST(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)IT.call(e,r)&&!RT.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:wu,type:t,key:s,ref:o,props:i,_owner:ov.current}}function JP(t,e){return{$$typeof:wu,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function av(t){return typeof t=="object"&&t!==null&&t.$$typeof===wu}function ZP(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var xw=/\/+/g;function fm(t,e){return typeof t=="object"&&t!==null&&t.key!=null?ZP(""+t.key):e.toString(36)}function hh(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case wu:case UP:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+fm(o,0):r,Sw(i)?(n="",t!=null&&(n=t.replace(xw,"$&/")+"/"),hh(i,e,n,"",function(u){return u})):i!=null&&(av(i)&&(i=JP(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(xw,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",Sw(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+fm(s,a);o+=hh(s,e,n,l,i)}else if(l=HP(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+fm(s,a++),o+=hh(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Dd(t,e,n){if(t==null)return t;var r=[],i=0;return hh(t,r,"","",function(s){return e.call(n,s,i++)}),r}function XP(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Cn={current:null},fh={transition:null},ek={ReactCurrentDispatcher:Cn,ReactCurrentBatchConfig:fh,ReactCurrentOwner:ov};function xT(){throw Error("act(...) is not supported in production builds of React.")}Pe.Children={map:Dd,forEach:function(t,e,n){Dd(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Dd(t,function(){e++}),e},toArray:function(t){return Dd(t,function(e){return e})||[]},only:function(t){if(!av(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Pe.Component=Tl;Pe.Fragment=jP;Pe.Profiler=GP;Pe.PureComponent=iv;Pe.StrictMode=qP;Pe.Suspense=YP;Pe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ek;Pe.act=xT;Pe.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=TT({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=ov.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)IT.call(e,l)&&!RT.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:wu,type:t.type,key:i,ref:s,props:r,_owner:o}};Pe.createContext=function(t){return t={$$typeof:$P,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:zP,_context:t},t.Consumer=t};Pe.createElement=ST;Pe.createFactory=function(t){var e=ST.bind(null,t);return e.type=t,e};Pe.createRef=function(){return{current:null}};Pe.forwardRef=function(t){return{$$typeof:QP,render:t}};Pe.isValidElement=av;Pe.lazy=function(t){return{$$typeof:KP,_payload:{_status:-1,_result:t},_init:XP}};Pe.memo=function(t,e){return{$$typeof:WP,type:t,compare:e===void 0?null:e}};Pe.startTransition=function(t){var e=fh.transition;fh.transition={};try{t()}finally{fh.transition=e}};Pe.unstable_act=xT;Pe.useCallback=function(t,e){return Cn.current.useCallback(t,e)};Pe.useContext=function(t){return Cn.current.useContext(t)};Pe.useDebugValue=function(){};Pe.useDeferredValue=function(t){return Cn.current.useDeferredValue(t)};Pe.useEffect=function(t,e){return Cn.current.useEffect(t,e)};Pe.useId=function(){return Cn.current.useId()};Pe.useImperativeHandle=function(t,e,n){return Cn.current.useImperativeHandle(t,e,n)};Pe.useInsertionEffect=function(t,e){return Cn.current.useInsertionEffect(t,e)};Pe.useLayoutEffect=function(t,e){return Cn.current.useLayoutEffect(t,e)};Pe.useMemo=function(t,e){return Cn.current.useMemo(t,e)};Pe.useReducer=function(t,e,n){return Cn.current.useReducer(t,e,n)};Pe.useRef=function(t){return Cn.current.useRef(t)};Pe.useState=function(t){return Cn.current.useState(t)};Pe.useSyncExternalStore=function(t,e,n){return Cn.current.useSyncExternalStore(t,e,n)};Pe.useTransition=function(){return Cn.current.useTransition()};Pe.version="18.3.1";ET.exports=Pe;var b=ET.exports;const Y=rv(b),tk=vT({__proto__:null,default:Y},[b]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nk=b,rk=Symbol.for("react.element"),ik=Symbol.for("react.fragment"),sk=Object.prototype.hasOwnProperty,ok=nk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ak={key:!0,ref:!0,__self:!0,__source:!0};function bT(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)sk.call(e,r)&&!ak.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:rk,type:t,key:s,ref:o,props:i,_owner:ok.current}}Wf.Fragment=ik;Wf.jsx=bT;Wf.jsxs=bT;wT.exports=Wf;var k=wT.exports,PT={exports:{}},Kn={},kT={exports:{}},NT={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(z,X){var se=z.length;z.push(X);e:for(;0<se;){var te=se-1>>>1,ce=z[te];if(0<i(ce,X))z[te]=X,z[se]=ce,se=te;else break e}}function n(z){return z.length===0?null:z[0]}function r(z){if(z.length===0)return null;var X=z[0],se=z.pop();if(se!==X){z[0]=se;e:for(var te=0,ce=z.length,de=ce>>>1;te<de;){var ke=2*(te+1)-1,Le=z[ke],Ae=ke+1,ve=z[Ae];if(0>i(Le,se))Ae<ce&&0>i(ve,Le)?(z[te]=ve,z[Ae]=se,te=Ae):(z[te]=Le,z[ke]=se,te=ke);else if(Ae<ce&&0>i(ve,se))z[te]=ve,z[Ae]=se,te=Ae;else break e}}return X}function i(z,X){var se=z.sortIndex-X.sortIndex;return se!==0?se:z.id-X.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],d=1,f=null,h=3,g=!1,E=!1,_=!1,I=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function A(z){for(var X=n(u);X!==null;){if(X.callback===null)r(u);else if(X.startTime<=z)r(u),X.sortIndex=X.expirationTime,e(l,X);else break;X=n(u)}}function N(z){if(_=!1,A(z),!E)if(n(l)!==null)E=!0,le(F);else{var X=n(u);X!==null&&pe(N,X.startTime-z)}}function F(z,X){E=!1,_&&(_=!1,T(C),C=-1),g=!0;var se=h;try{for(A(X),f=n(l);f!==null&&(!(f.expirationTime>X)||z&&!V());){var te=f.callback;if(typeof te=="function"){f.callback=null,h=f.priorityLevel;var ce=te(f.expirationTime<=X);X=t.unstable_now(),typeof ce=="function"?f.callback=ce:f===n(l)&&r(l),A(X)}else r(l);f=n(l)}if(f!==null)var de=!0;else{var ke=n(u);ke!==null&&pe(N,ke.startTime-X),de=!1}return de}finally{f=null,h=se,g=!1}}var j=!1,S=null,C=-1,P=5,D=-1;function V(){return!(t.unstable_now()-D<P)}function L(){if(S!==null){var z=t.unstable_now();D=z;var X=!0;try{X=S(!0,z)}finally{X?M():(j=!1,S=null)}}else j=!1}var M;if(typeof w=="function")M=function(){w(L)};else if(typeof MessageChannel<"u"){var ne=new MessageChannel,ie=ne.port2;ne.port1.onmessage=L,M=function(){ie.postMessage(null)}}else M=function(){I(L,0)};function le(z){S=z,j||(j=!0,M())}function pe(z,X){C=I(function(){z(t.unstable_now())},X)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(z){z.callback=null},t.unstable_continueExecution=function(){E||g||(E=!0,le(F))},t.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<z?Math.floor(1e3/z):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(z){switch(h){case 1:case 2:case 3:var X=3;break;default:X=h}var se=h;h=X;try{return z()}finally{h=se}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(z,X){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var se=h;h=z;try{return X()}finally{h=se}},t.unstable_scheduleCallback=function(z,X,se){var te=t.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?te+se:te):se=te,z){case 1:var ce=-1;break;case 2:ce=250;break;case 5:ce=1073741823;break;case 4:ce=1e4;break;default:ce=5e3}return ce=se+ce,z={id:d++,callback:X,priorityLevel:z,startTime:se,expirationTime:ce,sortIndex:-1},se>te?(z.sortIndex=se,e(u,z),n(l)===null&&z===n(u)&&(_?(T(C),C=-1):_=!0,pe(N,se-te))):(z.sortIndex=ce,e(l,z),E||g||(E=!0,le(F))),z},t.unstable_shouldYield=V,t.unstable_wrapCallback=function(z){var X=h;return function(){var se=h;h=X;try{return z.apply(this,arguments)}finally{h=se}}}})(NT);kT.exports=NT;var lk=kT.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ck=b,Wn=lk;function ee(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var DT=new Set,Vc={};function Go(t,e){rl(t,e),rl(t+"Capture",e)}function rl(t,e){for(Vc[t]=e,t=0;t<e.length;t++)DT.add(e[t])}var Ii=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ug=Object.prototype.hasOwnProperty,uk=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,bw={},Pw={};function dk(t){return ug.call(Pw,t)?!0:ug.call(bw,t)?!1:uk.test(t)?Pw[t]=!0:(bw[t]=!0,!1)}function hk(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function fk(t,e,n,r){if(e===null||typeof e>"u"||hk(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function An(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Kt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Kt[t]=new An(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Kt[e]=new An(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Kt[t]=new An(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Kt[t]=new An(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Kt[t]=new An(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Kt[t]=new An(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Kt[t]=new An(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Kt[t]=new An(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Kt[t]=new An(t,5,!1,t.toLowerCase(),null,!1,!1)});var lv=/[\-:]([a-z])/g;function cv(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(lv,cv);Kt[e]=new An(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(lv,cv);Kt[e]=new An(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(lv,cv);Kt[e]=new An(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Kt[t]=new An(t,1,!1,t.toLowerCase(),null,!1,!1)});Kt.xlinkHref=new An("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Kt[t]=new An(t,1,!1,t.toLowerCase(),null,!0,!0)});function uv(t,e,n,r){var i=Kt.hasOwnProperty(e)?Kt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(fk(e,n,i,r)&&(n=null),r||i===null?dk(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Vi=ck.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Md=Symbol.for("react.element"),Ea=Symbol.for("react.portal"),_a=Symbol.for("react.fragment"),dv=Symbol.for("react.strict_mode"),dg=Symbol.for("react.profiler"),MT=Symbol.for("react.provider"),OT=Symbol.for("react.context"),hv=Symbol.for("react.forward_ref"),hg=Symbol.for("react.suspense"),fg=Symbol.for("react.suspense_list"),fv=Symbol.for("react.memo"),ts=Symbol.for("react.lazy"),VT=Symbol.for("react.offscreen"),kw=Symbol.iterator;function Kl(t){return t===null||typeof t!="object"?null:(t=kw&&t[kw]||t["@@iterator"],typeof t=="function"?t:null)}var mt=Object.assign,pm;function sc(t){if(pm===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);pm=e&&e[1]||""}return`
`+pm+t}var mm=!1;function gm(t,e){if(!t||mm)return"";mm=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{mm=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?sc(t):""}function pk(t){switch(t.tag){case 5:return sc(t.type);case 16:return sc("Lazy");case 13:return sc("Suspense");case 19:return sc("SuspenseList");case 0:case 2:case 15:return t=gm(t.type,!1),t;case 11:return t=gm(t.type.render,!1),t;case 1:return t=gm(t.type,!0),t;default:return""}}function pg(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case _a:return"Fragment";case Ea:return"Portal";case dg:return"Profiler";case dv:return"StrictMode";case hg:return"Suspense";case fg:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case OT:return(t.displayName||"Context")+".Consumer";case MT:return(t._context.displayName||"Context")+".Provider";case hv:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case fv:return e=t.displayName||null,e!==null?e:pg(t.type)||"Memo";case ts:e=t._payload,t=t._init;try{return pg(t(e))}catch{}}return null}function mk(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return pg(e);case 8:return e===dv?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Os(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function LT(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function gk(t){var e=LT(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Od(t){t._valueTracker||(t._valueTracker=gk(t))}function FT(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=LT(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function zh(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function mg(t,e){var n=e.checked;return mt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Nw(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Os(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function BT(t,e){e=e.checked,e!=null&&uv(t,"checked",e,!1)}function gg(t,e){BT(t,e);var n=Os(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?yg(t,e.type,n):e.hasOwnProperty("defaultValue")&&yg(t,e.type,Os(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Dw(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function yg(t,e,n){(e!=="number"||zh(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var oc=Array.isArray;function Ma(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Os(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function vg(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ee(91));return mt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Mw(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(ee(92));if(oc(n)){if(1<n.length)throw Error(ee(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Os(n)}}function UT(t,e){var n=Os(e.value),r=Os(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Ow(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function jT(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function wg(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?jT(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Vd,qT=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Vd=Vd||document.createElement("div"),Vd.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Vd.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Lc(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var yc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},yk=["Webkit","ms","Moz","O"];Object.keys(yc).forEach(function(t){yk.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),yc[e]=yc[t]})});function GT(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||yc.hasOwnProperty(t)&&yc[t]?(""+e).trim():e+"px"}function zT(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=GT(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var vk=mt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Eg(t,e){if(e){if(vk[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ee(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ee(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ee(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ee(62))}}function _g(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Tg=null;function pv(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Cg=null,Oa=null,Va=null;function Vw(t){if(t=Tu(t)){if(typeof Cg!="function")throw Error(ee(280));var e=t.stateNode;e&&(e=Xf(e),Cg(t.stateNode,t.type,e))}}function $T(t){Oa?Va?Va.push(t):Va=[t]:Oa=t}function QT(){if(Oa){var t=Oa,e=Va;if(Va=Oa=null,Vw(t),e)for(t=0;t<e.length;t++)Vw(e[t])}}function YT(t,e){return t(e)}function WT(){}var ym=!1;function KT(t,e,n){if(ym)return t(e,n);ym=!0;try{return YT(t,e,n)}finally{ym=!1,(Oa!==null||Va!==null)&&(WT(),QT())}}function Fc(t,e){var n=t.stateNode;if(n===null)return null;var r=Xf(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(ee(231,e,typeof n));return n}var Ag=!1;if(Ii)try{var Hl={};Object.defineProperty(Hl,"passive",{get:function(){Ag=!0}}),window.addEventListener("test",Hl,Hl),window.removeEventListener("test",Hl,Hl)}catch{Ag=!1}function wk(t,e,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var vc=!1,$h=null,Qh=!1,Ig=null,Ek={onError:function(t){vc=!0,$h=t}};function _k(t,e,n,r,i,s,o,a,l){vc=!1,$h=null,wk.apply(Ek,arguments)}function Tk(t,e,n,r,i,s,o,a,l){if(_k.apply(this,arguments),vc){if(vc){var u=$h;vc=!1,$h=null}else throw Error(ee(198));Qh||(Qh=!0,Ig=u)}}function zo(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function HT(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Lw(t){if(zo(t)!==t)throw Error(ee(188))}function Ck(t){var e=t.alternate;if(!e){if(e=zo(t),e===null)throw Error(ee(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Lw(i),t;if(s===r)return Lw(i),e;s=s.sibling}throw Error(ee(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(ee(189))}}if(n.alternate!==r)throw Error(ee(190))}if(n.tag!==3)throw Error(ee(188));return n.stateNode.current===n?t:e}function JT(t){return t=Ck(t),t!==null?ZT(t):null}function ZT(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=ZT(t);if(e!==null)return e;t=t.sibling}return null}var XT=Wn.unstable_scheduleCallback,Fw=Wn.unstable_cancelCallback,Ak=Wn.unstable_shouldYield,Ik=Wn.unstable_requestPaint,_t=Wn.unstable_now,Rk=Wn.unstable_getCurrentPriorityLevel,mv=Wn.unstable_ImmediatePriority,eC=Wn.unstable_UserBlockingPriority,Yh=Wn.unstable_NormalPriority,Sk=Wn.unstable_LowPriority,tC=Wn.unstable_IdlePriority,Kf=null,qr=null;function xk(t){if(qr&&typeof qr.onCommitFiberRoot=="function")try{qr.onCommitFiberRoot(Kf,t,void 0,(t.current.flags&128)===128)}catch{}}var Ir=Math.clz32?Math.clz32:kk,bk=Math.log,Pk=Math.LN2;function kk(t){return t>>>=0,t===0?32:31-(bk(t)/Pk|0)|0}var Ld=64,Fd=4194304;function ac(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Wh(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=ac(a):(s&=o,s!==0&&(r=ac(s)))}else o=n&~i,o!==0?r=ac(o):s!==0&&(r=ac(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Ir(e),i=1<<n,r|=t[n],e&=~i;return r}function Nk(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Dk(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Ir(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=Nk(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function Rg(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function nC(){var t=Ld;return Ld<<=1,!(Ld&4194240)&&(Ld=64),t}function vm(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Eu(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Ir(e),t[e]=n}function Mk(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Ir(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function gv(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Ir(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Ke=0;function rC(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var iC,yv,sC,oC,aC,Sg=!1,Bd=[],Es=null,_s=null,Ts=null,Bc=new Map,Uc=new Map,is=[],Ok="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Bw(t,e){switch(t){case"focusin":case"focusout":Es=null;break;case"dragenter":case"dragleave":_s=null;break;case"mouseover":case"mouseout":Ts=null;break;case"pointerover":case"pointerout":Bc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Uc.delete(e.pointerId)}}function Jl(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Tu(e),e!==null&&yv(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function Vk(t,e,n,r,i){switch(e){case"focusin":return Es=Jl(Es,t,e,n,r,i),!0;case"dragenter":return _s=Jl(_s,t,e,n,r,i),!0;case"mouseover":return Ts=Jl(Ts,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Bc.set(s,Jl(Bc.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Uc.set(s,Jl(Uc.get(s)||null,t,e,n,r,i)),!0}return!1}function lC(t){var e=vo(t.target);if(e!==null){var n=zo(e);if(n!==null){if(e=n.tag,e===13){if(e=HT(n),e!==null){t.blockedOn=e,aC(t.priority,function(){sC(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ph(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=xg(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Tg=r,n.target.dispatchEvent(r),Tg=null}else return e=Tu(n),e!==null&&yv(e),t.blockedOn=n,!1;e.shift()}return!0}function Uw(t,e,n){ph(t)&&n.delete(e)}function Lk(){Sg=!1,Es!==null&&ph(Es)&&(Es=null),_s!==null&&ph(_s)&&(_s=null),Ts!==null&&ph(Ts)&&(Ts=null),Bc.forEach(Uw),Uc.forEach(Uw)}function Zl(t,e){t.blockedOn===e&&(t.blockedOn=null,Sg||(Sg=!0,Wn.unstable_scheduleCallback(Wn.unstable_NormalPriority,Lk)))}function jc(t){function e(i){return Zl(i,t)}if(0<Bd.length){Zl(Bd[0],t);for(var n=1;n<Bd.length;n++){var r=Bd[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Es!==null&&Zl(Es,t),_s!==null&&Zl(_s,t),Ts!==null&&Zl(Ts,t),Bc.forEach(e),Uc.forEach(e),n=0;n<is.length;n++)r=is[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<is.length&&(n=is[0],n.blockedOn===null);)lC(n),n.blockedOn===null&&is.shift()}var La=Vi.ReactCurrentBatchConfig,Kh=!0;function Fk(t,e,n,r){var i=Ke,s=La.transition;La.transition=null;try{Ke=1,vv(t,e,n,r)}finally{Ke=i,La.transition=s}}function Bk(t,e,n,r){var i=Ke,s=La.transition;La.transition=null;try{Ke=4,vv(t,e,n,r)}finally{Ke=i,La.transition=s}}function vv(t,e,n,r){if(Kh){var i=xg(t,e,n,r);if(i===null)xm(t,e,r,Hh,n),Bw(t,r);else if(Vk(i,t,e,n,r))r.stopPropagation();else if(Bw(t,r),e&4&&-1<Ok.indexOf(t)){for(;i!==null;){var s=Tu(i);if(s!==null&&iC(s),s=xg(t,e,n,r),s===null&&xm(t,e,r,Hh,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else xm(t,e,r,null,n)}}var Hh=null;function xg(t,e,n,r){if(Hh=null,t=pv(r),t=vo(t),t!==null)if(e=zo(t),e===null)t=null;else if(n=e.tag,n===13){if(t=HT(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Hh=t,null}function cC(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Rk()){case mv:return 1;case eC:return 4;case Yh:case Sk:return 16;case tC:return 536870912;default:return 16}default:return 16}}var ms=null,wv=null,mh=null;function uC(){if(mh)return mh;var t,e=wv,n=e.length,r,i="value"in ms?ms.value:ms.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return mh=i.slice(t,1<r?1-r:void 0)}function gh(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ud(){return!0}function jw(){return!1}function Hn(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Ud:jw,this.isPropagationStopped=jw,this}return mt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ud)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ud)},persist:function(){},isPersistent:Ud}),e}var Cl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ev=Hn(Cl),_u=mt({},Cl,{view:0,detail:0}),Uk=Hn(_u),wm,Em,Xl,Hf=mt({},_u,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_v,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Xl&&(Xl&&t.type==="mousemove"?(wm=t.screenX-Xl.screenX,Em=t.screenY-Xl.screenY):Em=wm=0,Xl=t),wm)},movementY:function(t){return"movementY"in t?t.movementY:Em}}),qw=Hn(Hf),jk=mt({},Hf,{dataTransfer:0}),qk=Hn(jk),Gk=mt({},_u,{relatedTarget:0}),_m=Hn(Gk),zk=mt({},Cl,{animationName:0,elapsedTime:0,pseudoElement:0}),$k=Hn(zk),Qk=mt({},Cl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Yk=Hn(Qk),Wk=mt({},Cl,{data:0}),Gw=Hn(Wk),Kk={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Hk={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Jk={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Zk(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Jk[t])?!!e[t]:!1}function _v(){return Zk}var Xk=mt({},_u,{key:function(t){if(t.key){var e=Kk[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=gh(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Hk[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_v,charCode:function(t){return t.type==="keypress"?gh(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?gh(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),e2=Hn(Xk),t2=mt({},Hf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),zw=Hn(t2),n2=mt({},_u,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_v}),r2=Hn(n2),i2=mt({},Cl,{propertyName:0,elapsedTime:0,pseudoElement:0}),s2=Hn(i2),o2=mt({},Hf,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),a2=Hn(o2),l2=[9,13,27,32],Tv=Ii&&"CompositionEvent"in window,wc=null;Ii&&"documentMode"in document&&(wc=document.documentMode);var c2=Ii&&"TextEvent"in window&&!wc,dC=Ii&&(!Tv||wc&&8<wc&&11>=wc),$w=" ",Qw=!1;function hC(t,e){switch(t){case"keyup":return l2.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fC(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ta=!1;function u2(t,e){switch(t){case"compositionend":return fC(e);case"keypress":return e.which!==32?null:(Qw=!0,$w);case"textInput":return t=e.data,t===$w&&Qw?null:t;default:return null}}function d2(t,e){if(Ta)return t==="compositionend"||!Tv&&hC(t,e)?(t=uC(),mh=wv=ms=null,Ta=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return dC&&e.locale!=="ko"?null:e.data;default:return null}}var h2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Yw(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!h2[t.type]:e==="textarea"}function pC(t,e,n,r){$T(r),e=Jh(e,"onChange"),0<e.length&&(n=new Ev("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Ec=null,qc=null;function f2(t){IC(t,0)}function Jf(t){var e=Ia(t);if(FT(e))return t}function p2(t,e){if(t==="change")return e}var mC=!1;if(Ii){var Tm;if(Ii){var Cm="oninput"in document;if(!Cm){var Ww=document.createElement("div");Ww.setAttribute("oninput","return;"),Cm=typeof Ww.oninput=="function"}Tm=Cm}else Tm=!1;mC=Tm&&(!document.documentMode||9<document.documentMode)}function Kw(){Ec&&(Ec.detachEvent("onpropertychange",gC),qc=Ec=null)}function gC(t){if(t.propertyName==="value"&&Jf(qc)){var e=[];pC(e,qc,t,pv(t)),KT(f2,e)}}function m2(t,e,n){t==="focusin"?(Kw(),Ec=e,qc=n,Ec.attachEvent("onpropertychange",gC)):t==="focusout"&&Kw()}function g2(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Jf(qc)}function y2(t,e){if(t==="click")return Jf(e)}function v2(t,e){if(t==="input"||t==="change")return Jf(e)}function w2(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Sr=typeof Object.is=="function"?Object.is:w2;function Gc(t,e){if(Sr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!ug.call(e,i)||!Sr(t[i],e[i]))return!1}return!0}function Hw(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Jw(t,e){var n=Hw(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Hw(n)}}function yC(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?yC(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function vC(){for(var t=window,e=zh();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=zh(t.document)}return e}function Cv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function E2(t){var e=vC(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&yC(n.ownerDocument.documentElement,n)){if(r!==null&&Cv(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=Jw(n,s);var o=Jw(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var _2=Ii&&"documentMode"in document&&11>=document.documentMode,Ca=null,bg=null,_c=null,Pg=!1;function Zw(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Pg||Ca==null||Ca!==zh(r)||(r=Ca,"selectionStart"in r&&Cv(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),_c&&Gc(_c,r)||(_c=r,r=Jh(bg,"onSelect"),0<r.length&&(e=new Ev("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ca)))}function jd(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Aa={animationend:jd("Animation","AnimationEnd"),animationiteration:jd("Animation","AnimationIteration"),animationstart:jd("Animation","AnimationStart"),transitionend:jd("Transition","TransitionEnd")},Am={},wC={};Ii&&(wC=document.createElement("div").style,"AnimationEvent"in window||(delete Aa.animationend.animation,delete Aa.animationiteration.animation,delete Aa.animationstart.animation),"TransitionEvent"in window||delete Aa.transitionend.transition);function Zf(t){if(Am[t])return Am[t];if(!Aa[t])return t;var e=Aa[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in wC)return Am[t]=e[n];return t}var EC=Zf("animationend"),_C=Zf("animationiteration"),TC=Zf("animationstart"),CC=Zf("transitionend"),AC=new Map,Xw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ks(t,e){AC.set(t,e),Go(e,[t])}for(var Im=0;Im<Xw.length;Im++){var Rm=Xw[Im],T2=Rm.toLowerCase(),C2=Rm[0].toUpperCase()+Rm.slice(1);Ks(T2,"on"+C2)}Ks(EC,"onAnimationEnd");Ks(_C,"onAnimationIteration");Ks(TC,"onAnimationStart");Ks("dblclick","onDoubleClick");Ks("focusin","onFocus");Ks("focusout","onBlur");Ks(CC,"onTransitionEnd");rl("onMouseEnter",["mouseout","mouseover"]);rl("onMouseLeave",["mouseout","mouseover"]);rl("onPointerEnter",["pointerout","pointerover"]);rl("onPointerLeave",["pointerout","pointerover"]);Go("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Go("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Go("onBeforeInput",["compositionend","keypress","textInput","paste"]);Go("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Go("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Go("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),A2=new Set("cancel close invalid load scroll toggle".split(" ").concat(lc));function eE(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,Tk(r,e,void 0,t),t.currentTarget=null}function IC(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;eE(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;eE(i,a,u),s=l}}}if(Qh)throw t=Ig,Qh=!1,Ig=null,t}function rt(t,e){var n=e[Og];n===void 0&&(n=e[Og]=new Set);var r=t+"__bubble";n.has(r)||(RC(e,t,2,!1),n.add(r))}function Sm(t,e,n){var r=0;e&&(r|=4),RC(n,t,r,e)}var qd="_reactListening"+Math.random().toString(36).slice(2);function zc(t){if(!t[qd]){t[qd]=!0,DT.forEach(function(n){n!=="selectionchange"&&(A2.has(n)||Sm(n,!1,t),Sm(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[qd]||(e[qd]=!0,Sm("selectionchange",!1,e))}}function RC(t,e,n,r){switch(cC(e)){case 1:var i=Fk;break;case 4:i=Bk;break;default:i=vv}n=i.bind(null,e,n,t),i=void 0,!Ag||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function xm(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=vo(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}KT(function(){var u=s,d=pv(n),f=[];e:{var h=AC.get(t);if(h!==void 0){var g=Ev,E=t;switch(t){case"keypress":if(gh(n)===0)break e;case"keydown":case"keyup":g=e2;break;case"focusin":E="focus",g=_m;break;case"focusout":E="blur",g=_m;break;case"beforeblur":case"afterblur":g=_m;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=qw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=qk;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=r2;break;case EC:case _C:case TC:g=$k;break;case CC:g=s2;break;case"scroll":g=Uk;break;case"wheel":g=a2;break;case"copy":case"cut":case"paste":g=Yk;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=zw}var _=(e&4)!==0,I=!_&&t==="scroll",T=_?h!==null?h+"Capture":null:h;_=[];for(var w=u,A;w!==null;){A=w;var N=A.stateNode;if(A.tag===5&&N!==null&&(A=N,T!==null&&(N=Fc(w,T),N!=null&&_.push($c(w,N,A)))),I)break;w=w.return}0<_.length&&(h=new g(h,E,null,n,d),f.push({event:h,listeners:_}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",h&&n!==Tg&&(E=n.relatedTarget||n.fromElement)&&(vo(E)||E[Ri]))break e;if((g||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,g?(E=n.relatedTarget||n.toElement,g=u,E=E?vo(E):null,E!==null&&(I=zo(E),E!==I||E.tag!==5&&E.tag!==6)&&(E=null)):(g=null,E=u),g!==E)){if(_=qw,N="onMouseLeave",T="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(_=zw,N="onPointerLeave",T="onPointerEnter",w="pointer"),I=g==null?h:Ia(g),A=E==null?h:Ia(E),h=new _(N,w+"leave",g,n,d),h.target=I,h.relatedTarget=A,N=null,vo(d)===u&&(_=new _(T,w+"enter",E,n,d),_.target=A,_.relatedTarget=I,N=_),I=N,g&&E)t:{for(_=g,T=E,w=0,A=_;A;A=pa(A))w++;for(A=0,N=T;N;N=pa(N))A++;for(;0<w-A;)_=pa(_),w--;for(;0<A-w;)T=pa(T),A--;for(;w--;){if(_===T||T!==null&&_===T.alternate)break t;_=pa(_),T=pa(T)}_=null}else _=null;g!==null&&tE(f,h,g,_,!1),E!==null&&I!==null&&tE(f,I,E,_,!0)}}e:{if(h=u?Ia(u):window,g=h.nodeName&&h.nodeName.toLowerCase(),g==="select"||g==="input"&&h.type==="file")var F=p2;else if(Yw(h))if(mC)F=v2;else{F=g2;var j=m2}else(g=h.nodeName)&&g.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(F=y2);if(F&&(F=F(t,u))){pC(f,F,n,d);break e}j&&j(t,h,u),t==="focusout"&&(j=h._wrapperState)&&j.controlled&&h.type==="number"&&yg(h,"number",h.value)}switch(j=u?Ia(u):window,t){case"focusin":(Yw(j)||j.contentEditable==="true")&&(Ca=j,bg=u,_c=null);break;case"focusout":_c=bg=Ca=null;break;case"mousedown":Pg=!0;break;case"contextmenu":case"mouseup":case"dragend":Pg=!1,Zw(f,n,d);break;case"selectionchange":if(_2)break;case"keydown":case"keyup":Zw(f,n,d)}var S;if(Tv)e:{switch(t){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else Ta?hC(t,n)&&(C="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(dC&&n.locale!=="ko"&&(Ta||C!=="onCompositionStart"?C==="onCompositionEnd"&&Ta&&(S=uC()):(ms=d,wv="value"in ms?ms.value:ms.textContent,Ta=!0)),j=Jh(u,C),0<j.length&&(C=new Gw(C,t,null,n,d),f.push({event:C,listeners:j}),S?C.data=S:(S=fC(n),S!==null&&(C.data=S)))),(S=c2?u2(t,n):d2(t,n))&&(u=Jh(u,"onBeforeInput"),0<u.length&&(d=new Gw("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=S))}IC(f,e)})}function $c(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Jh(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Fc(t,n),s!=null&&r.unshift($c(t,s,i)),s=Fc(t,e),s!=null&&r.push($c(t,s,i))),t=t.return}return r}function pa(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function tE(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=Fc(n,s),l!=null&&o.unshift($c(n,l,a))):i||(l=Fc(n,s),l!=null&&o.push($c(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var I2=/\r\n?/g,R2=/\u0000|\uFFFD/g;function nE(t){return(typeof t=="string"?t:""+t).replace(I2,`
`).replace(R2,"")}function Gd(t,e,n){if(e=nE(e),nE(t)!==e&&n)throw Error(ee(425))}function Zh(){}var kg=null,Ng=null;function Dg(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Mg=typeof setTimeout=="function"?setTimeout:void 0,S2=typeof clearTimeout=="function"?clearTimeout:void 0,rE=typeof Promise=="function"?Promise:void 0,x2=typeof queueMicrotask=="function"?queueMicrotask:typeof rE<"u"?function(t){return rE.resolve(null).then(t).catch(b2)}:Mg;function b2(t){setTimeout(function(){throw t})}function bm(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),jc(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);jc(e)}function Cs(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function iE(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Al=Math.random().toString(36).slice(2),jr="__reactFiber$"+Al,Qc="__reactProps$"+Al,Ri="__reactContainer$"+Al,Og="__reactEvents$"+Al,P2="__reactListeners$"+Al,k2="__reactHandles$"+Al;function vo(t){var e=t[jr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ri]||n[jr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=iE(t);t!==null;){if(n=t[jr])return n;t=iE(t)}return e}t=n,n=t.parentNode}return null}function Tu(t){return t=t[jr]||t[Ri],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ia(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ee(33))}function Xf(t){return t[Qc]||null}var Vg=[],Ra=-1;function Hs(t){return{current:t}}function it(t){0>Ra||(t.current=Vg[Ra],Vg[Ra]=null,Ra--)}function et(t,e){Ra++,Vg[Ra]=t.current,t.current=e}var Vs={},un=Hs(Vs),Pn=Hs(!1),Po=Vs;function il(t,e){var n=t.type.contextTypes;if(!n)return Vs;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function kn(t){return t=t.childContextTypes,t!=null}function Xh(){it(Pn),it(un)}function sE(t,e,n){if(un.current!==Vs)throw Error(ee(168));et(un,e),et(Pn,n)}function SC(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(ee(108,mk(t)||"Unknown",i));return mt({},n,r)}function ef(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Vs,Po=un.current,et(un,t),et(Pn,Pn.current),!0}function oE(t,e,n){var r=t.stateNode;if(!r)throw Error(ee(169));n?(t=SC(t,e,Po),r.__reactInternalMemoizedMergedChildContext=t,it(Pn),it(un),et(un,t)):it(Pn),et(Pn,n)}var gi=null,ep=!1,Pm=!1;function xC(t){gi===null?gi=[t]:gi.push(t)}function N2(t){ep=!0,xC(t)}function Js(){if(!Pm&&gi!==null){Pm=!0;var t=0,e=Ke;try{var n=gi;for(Ke=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}gi=null,ep=!1}catch(i){throw gi!==null&&(gi=gi.slice(t+1)),XT(mv,Js),i}finally{Ke=e,Pm=!1}}return null}var Sa=[],xa=0,tf=null,nf=0,rr=[],ir=0,ko=null,vi=1,wi="";function mo(t,e){Sa[xa++]=nf,Sa[xa++]=tf,tf=t,nf=e}function bC(t,e,n){rr[ir++]=vi,rr[ir++]=wi,rr[ir++]=ko,ko=t;var r=vi;t=wi;var i=32-Ir(r)-1;r&=~(1<<i),n+=1;var s=32-Ir(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,vi=1<<32-Ir(e)+i|n<<i|r,wi=s+t}else vi=1<<s|n<<i|r,wi=t}function Av(t){t.return!==null&&(mo(t,1),bC(t,1,0))}function Iv(t){for(;t===tf;)tf=Sa[--xa],Sa[xa]=null,nf=Sa[--xa],Sa[xa]=null;for(;t===ko;)ko=rr[--ir],rr[ir]=null,wi=rr[--ir],rr[ir]=null,vi=rr[--ir],rr[ir]=null}var zn=null,qn=null,ut=!1,Cr=null;function PC(t,e){var n=or(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function aE(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,zn=t,qn=Cs(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,zn=t,qn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ko!==null?{id:vi,overflow:wi}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=or(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,zn=t,qn=null,!0):!1;default:return!1}}function Lg(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Fg(t){if(ut){var e=qn;if(e){var n=e;if(!aE(t,e)){if(Lg(t))throw Error(ee(418));e=Cs(n.nextSibling);var r=zn;e&&aE(t,e)?PC(r,n):(t.flags=t.flags&-4097|2,ut=!1,zn=t)}}else{if(Lg(t))throw Error(ee(418));t.flags=t.flags&-4097|2,ut=!1,zn=t}}}function lE(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;zn=t}function zd(t){if(t!==zn)return!1;if(!ut)return lE(t),ut=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Dg(t.type,t.memoizedProps)),e&&(e=qn)){if(Lg(t))throw kC(),Error(ee(418));for(;e;)PC(t,e),e=Cs(e.nextSibling)}if(lE(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ee(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){qn=Cs(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}qn=null}}else qn=zn?Cs(t.stateNode.nextSibling):null;return!0}function kC(){for(var t=qn;t;)t=Cs(t.nextSibling)}function sl(){qn=zn=null,ut=!1}function Rv(t){Cr===null?Cr=[t]:Cr.push(t)}var D2=Vi.ReactCurrentBatchConfig;function ec(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ee(309));var r=n.stateNode}if(!r)throw Error(ee(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(ee(284));if(!n._owner)throw Error(ee(290,t))}return t}function $d(t,e){throw t=Object.prototype.toString.call(e),Error(ee(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function cE(t){var e=t._init;return e(t._payload)}function NC(t){function e(T,w){if(t){var A=T.deletions;A===null?(T.deletions=[w],T.flags|=16):A.push(w)}}function n(T,w){if(!t)return null;for(;w!==null;)e(T,w),w=w.sibling;return null}function r(T,w){for(T=new Map;w!==null;)w.key!==null?T.set(w.key,w):T.set(w.index,w),w=w.sibling;return T}function i(T,w){return T=Ss(T,w),T.index=0,T.sibling=null,T}function s(T,w,A){return T.index=A,t?(A=T.alternate,A!==null?(A=A.index,A<w?(T.flags|=2,w):A):(T.flags|=2,w)):(T.flags|=1048576,w)}function o(T){return t&&T.alternate===null&&(T.flags|=2),T}function a(T,w,A,N){return w===null||w.tag!==6?(w=Lm(A,T.mode,N),w.return=T,w):(w=i(w,A),w.return=T,w)}function l(T,w,A,N){var F=A.type;return F===_a?d(T,w,A.props.children,N,A.key):w!==null&&(w.elementType===F||typeof F=="object"&&F!==null&&F.$$typeof===ts&&cE(F)===w.type)?(N=i(w,A.props),N.ref=ec(T,w,A),N.return=T,N):(N=Ch(A.type,A.key,A.props,null,T.mode,N),N.ref=ec(T,w,A),N.return=T,N)}function u(T,w,A,N){return w===null||w.tag!==4||w.stateNode.containerInfo!==A.containerInfo||w.stateNode.implementation!==A.implementation?(w=Fm(A,T.mode,N),w.return=T,w):(w=i(w,A.children||[]),w.return=T,w)}function d(T,w,A,N,F){return w===null||w.tag!==7?(w=xo(A,T.mode,N,F),w.return=T,w):(w=i(w,A),w.return=T,w)}function f(T,w,A){if(typeof w=="string"&&w!==""||typeof w=="number")return w=Lm(""+w,T.mode,A),w.return=T,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Md:return A=Ch(w.type,w.key,w.props,null,T.mode,A),A.ref=ec(T,null,w),A.return=T,A;case Ea:return w=Fm(w,T.mode,A),w.return=T,w;case ts:var N=w._init;return f(T,N(w._payload),A)}if(oc(w)||Kl(w))return w=xo(w,T.mode,A,null),w.return=T,w;$d(T,w)}return null}function h(T,w,A,N){var F=w!==null?w.key:null;if(typeof A=="string"&&A!==""||typeof A=="number")return F!==null?null:a(T,w,""+A,N);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case Md:return A.key===F?l(T,w,A,N):null;case Ea:return A.key===F?u(T,w,A,N):null;case ts:return F=A._init,h(T,w,F(A._payload),N)}if(oc(A)||Kl(A))return F!==null?null:d(T,w,A,N,null);$d(T,A)}return null}function g(T,w,A,N,F){if(typeof N=="string"&&N!==""||typeof N=="number")return T=T.get(A)||null,a(w,T,""+N,F);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case Md:return T=T.get(N.key===null?A:N.key)||null,l(w,T,N,F);case Ea:return T=T.get(N.key===null?A:N.key)||null,u(w,T,N,F);case ts:var j=N._init;return g(T,w,A,j(N._payload),F)}if(oc(N)||Kl(N))return T=T.get(A)||null,d(w,T,N,F,null);$d(w,N)}return null}function E(T,w,A,N){for(var F=null,j=null,S=w,C=w=0,P=null;S!==null&&C<A.length;C++){S.index>C?(P=S,S=null):P=S.sibling;var D=h(T,S,A[C],N);if(D===null){S===null&&(S=P);break}t&&S&&D.alternate===null&&e(T,S),w=s(D,w,C),j===null?F=D:j.sibling=D,j=D,S=P}if(C===A.length)return n(T,S),ut&&mo(T,C),F;if(S===null){for(;C<A.length;C++)S=f(T,A[C],N),S!==null&&(w=s(S,w,C),j===null?F=S:j.sibling=S,j=S);return ut&&mo(T,C),F}for(S=r(T,S);C<A.length;C++)P=g(S,T,C,A[C],N),P!==null&&(t&&P.alternate!==null&&S.delete(P.key===null?C:P.key),w=s(P,w,C),j===null?F=P:j.sibling=P,j=P);return t&&S.forEach(function(V){return e(T,V)}),ut&&mo(T,C),F}function _(T,w,A,N){var F=Kl(A);if(typeof F!="function")throw Error(ee(150));if(A=F.call(A),A==null)throw Error(ee(151));for(var j=F=null,S=w,C=w=0,P=null,D=A.next();S!==null&&!D.done;C++,D=A.next()){S.index>C?(P=S,S=null):P=S.sibling;var V=h(T,S,D.value,N);if(V===null){S===null&&(S=P);break}t&&S&&V.alternate===null&&e(T,S),w=s(V,w,C),j===null?F=V:j.sibling=V,j=V,S=P}if(D.done)return n(T,S),ut&&mo(T,C),F;if(S===null){for(;!D.done;C++,D=A.next())D=f(T,D.value,N),D!==null&&(w=s(D,w,C),j===null?F=D:j.sibling=D,j=D);return ut&&mo(T,C),F}for(S=r(T,S);!D.done;C++,D=A.next())D=g(S,T,C,D.value,N),D!==null&&(t&&D.alternate!==null&&S.delete(D.key===null?C:D.key),w=s(D,w,C),j===null?F=D:j.sibling=D,j=D);return t&&S.forEach(function(L){return e(T,L)}),ut&&mo(T,C),F}function I(T,w,A,N){if(typeof A=="object"&&A!==null&&A.type===_a&&A.key===null&&(A=A.props.children),typeof A=="object"&&A!==null){switch(A.$$typeof){case Md:e:{for(var F=A.key,j=w;j!==null;){if(j.key===F){if(F=A.type,F===_a){if(j.tag===7){n(T,j.sibling),w=i(j,A.props.children),w.return=T,T=w;break e}}else if(j.elementType===F||typeof F=="object"&&F!==null&&F.$$typeof===ts&&cE(F)===j.type){n(T,j.sibling),w=i(j,A.props),w.ref=ec(T,j,A),w.return=T,T=w;break e}n(T,j);break}else e(T,j);j=j.sibling}A.type===_a?(w=xo(A.props.children,T.mode,N,A.key),w.return=T,T=w):(N=Ch(A.type,A.key,A.props,null,T.mode,N),N.ref=ec(T,w,A),N.return=T,T=N)}return o(T);case Ea:e:{for(j=A.key;w!==null;){if(w.key===j)if(w.tag===4&&w.stateNode.containerInfo===A.containerInfo&&w.stateNode.implementation===A.implementation){n(T,w.sibling),w=i(w,A.children||[]),w.return=T,T=w;break e}else{n(T,w);break}else e(T,w);w=w.sibling}w=Fm(A,T.mode,N),w.return=T,T=w}return o(T);case ts:return j=A._init,I(T,w,j(A._payload),N)}if(oc(A))return E(T,w,A,N);if(Kl(A))return _(T,w,A,N);$d(T,A)}return typeof A=="string"&&A!==""||typeof A=="number"?(A=""+A,w!==null&&w.tag===6?(n(T,w.sibling),w=i(w,A),w.return=T,T=w):(n(T,w),w=Lm(A,T.mode,N),w.return=T,T=w),o(T)):n(T,w)}return I}var ol=NC(!0),DC=NC(!1),rf=Hs(null),sf=null,ba=null,Sv=null;function xv(){Sv=ba=sf=null}function bv(t){var e=rf.current;it(rf),t._currentValue=e}function Bg(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Fa(t,e){sf=t,Sv=ba=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(bn=!0),t.firstContext=null)}function lr(t){var e=t._currentValue;if(Sv!==t)if(t={context:t,memoizedValue:e,next:null},ba===null){if(sf===null)throw Error(ee(308));ba=t,sf.dependencies={lanes:0,firstContext:t}}else ba=ba.next=t;return e}var wo=null;function Pv(t){wo===null?wo=[t]:wo.push(t)}function MC(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Pv(e)):(n.next=i.next,i.next=n),e.interleaved=n,Si(t,r)}function Si(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ns=!1;function kv(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function OC(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ti(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function As(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,qe&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Si(t,n)}return i=r.interleaved,i===null?(e.next=e,Pv(r)):(e.next=i.next,i.next=e),r.interleaved=e,Si(t,n)}function yh(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,gv(t,n)}}function uE(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function of(t,e,n,r){var i=t.updateQueue;ns=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=l))}if(s!==null){var f=i.baseState;o=0,d=u=l=null,a=s;do{var h=a.lane,g=a.eventTime;if((r&h)===h){d!==null&&(d=d.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var E=t,_=a;switch(h=e,g=n,_.tag){case 1:if(E=_.payload,typeof E=="function"){f=E.call(g,f,h);break e}f=E;break e;case 3:E.flags=E.flags&-65537|128;case 0:if(E=_.payload,h=typeof E=="function"?E.call(g,f,h):E,h==null)break e;f=mt({},f,h);break e;case 2:ns=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else g={eventTime:g,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=g,l=f):d=d.next=g,o|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(d===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Do|=o,t.lanes=o,t.memoizedState=f}}function dE(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(ee(191,i));i.call(r)}}}var Cu={},Gr=Hs(Cu),Yc=Hs(Cu),Wc=Hs(Cu);function Eo(t){if(t===Cu)throw Error(ee(174));return t}function Nv(t,e){switch(et(Wc,e),et(Yc,t),et(Gr,Cu),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:wg(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=wg(e,t)}it(Gr),et(Gr,e)}function al(){it(Gr),it(Yc),it(Wc)}function VC(t){Eo(Wc.current);var e=Eo(Gr.current),n=wg(e,t.type);e!==n&&(et(Yc,t),et(Gr,n))}function Dv(t){Yc.current===t&&(it(Gr),it(Yc))}var ht=Hs(0);function af(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var km=[];function Mv(){for(var t=0;t<km.length;t++)km[t]._workInProgressVersionPrimary=null;km.length=0}var vh=Vi.ReactCurrentDispatcher,Nm=Vi.ReactCurrentBatchConfig,No=0,pt=null,Nt=null,jt=null,lf=!1,Tc=!1,Kc=0,M2=0;function nn(){throw Error(ee(321))}function Ov(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Sr(t[n],e[n]))return!1;return!0}function Vv(t,e,n,r,i,s){if(No=s,pt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,vh.current=t===null||t.memoizedState===null?F2:B2,t=n(r,i),Tc){s=0;do{if(Tc=!1,Kc=0,25<=s)throw Error(ee(301));s+=1,jt=Nt=null,e.updateQueue=null,vh.current=U2,t=n(r,i)}while(Tc)}if(vh.current=cf,e=Nt!==null&&Nt.next!==null,No=0,jt=Nt=pt=null,lf=!1,e)throw Error(ee(300));return t}function Lv(){var t=Kc!==0;return Kc=0,t}function Vr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return jt===null?pt.memoizedState=jt=t:jt=jt.next=t,jt}function cr(){if(Nt===null){var t=pt.alternate;t=t!==null?t.memoizedState:null}else t=Nt.next;var e=jt===null?pt.memoizedState:jt.next;if(e!==null)jt=e,Nt=t;else{if(t===null)throw Error(ee(310));Nt=t,t={memoizedState:Nt.memoizedState,baseState:Nt.baseState,baseQueue:Nt.baseQueue,queue:Nt.queue,next:null},jt===null?pt.memoizedState=jt=t:jt=jt.next=t}return jt}function Hc(t,e){return typeof e=="function"?e(t):e}function Dm(t){var e=cr(),n=e.queue;if(n===null)throw Error(ee(311));n.lastRenderedReducer=t;var r=Nt,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var d=u.lane;if((No&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=f,o=r):l=l.next=f,pt.lanes|=d,Do|=d}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,Sr(r,e.memoizedState)||(bn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,pt.lanes|=s,Do|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Mm(t){var e=cr(),n=e.queue;if(n===null)throw Error(ee(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Sr(s,e.memoizedState)||(bn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function LC(){}function FC(t,e){var n=pt,r=cr(),i=e(),s=!Sr(r.memoizedState,i);if(s&&(r.memoizedState=i,bn=!0),r=r.queue,Fv(jC.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||jt!==null&&jt.memoizedState.tag&1){if(n.flags|=2048,Jc(9,UC.bind(null,n,r,i,e),void 0,null),Gt===null)throw Error(ee(349));No&30||BC(n,e,i)}return i}function BC(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=pt.updateQueue,e===null?(e={lastEffect:null,stores:null},pt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function UC(t,e,n,r){e.value=n,e.getSnapshot=r,qC(e)&&GC(t)}function jC(t,e,n){return n(function(){qC(e)&&GC(t)})}function qC(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Sr(t,n)}catch{return!0}}function GC(t){var e=Si(t,1);e!==null&&Rr(e,t,1,-1)}function hE(t){var e=Vr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Hc,lastRenderedState:t},e.queue=t,t=t.dispatch=L2.bind(null,pt,t),[e.memoizedState,t]}function Jc(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=pt.updateQueue,e===null?(e={lastEffect:null,stores:null},pt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function zC(){return cr().memoizedState}function wh(t,e,n,r){var i=Vr();pt.flags|=t,i.memoizedState=Jc(1|e,n,void 0,r===void 0?null:r)}function tp(t,e,n,r){var i=cr();r=r===void 0?null:r;var s=void 0;if(Nt!==null){var o=Nt.memoizedState;if(s=o.destroy,r!==null&&Ov(r,o.deps)){i.memoizedState=Jc(e,n,s,r);return}}pt.flags|=t,i.memoizedState=Jc(1|e,n,s,r)}function fE(t,e){return wh(8390656,8,t,e)}function Fv(t,e){return tp(2048,8,t,e)}function $C(t,e){return tp(4,2,t,e)}function QC(t,e){return tp(4,4,t,e)}function YC(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function WC(t,e,n){return n=n!=null?n.concat([t]):null,tp(4,4,YC.bind(null,e,t),n)}function Bv(){}function KC(t,e){var n=cr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Ov(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function HC(t,e){var n=cr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Ov(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function JC(t,e,n){return No&21?(Sr(n,e)||(n=nC(),pt.lanes|=n,Do|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,bn=!0),t.memoizedState=n)}function O2(t,e){var n=Ke;Ke=n!==0&&4>n?n:4,t(!0);var r=Nm.transition;Nm.transition={};try{t(!1),e()}finally{Ke=n,Nm.transition=r}}function ZC(){return cr().memoizedState}function V2(t,e,n){var r=Rs(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},XC(t))eA(e,n);else if(n=MC(t,e,n,r),n!==null){var i=Tn();Rr(n,t,r,i),tA(n,e,r)}}function L2(t,e,n){var r=Rs(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(XC(t))eA(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Sr(a,o)){var l=e.interleaved;l===null?(i.next=i,Pv(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=MC(t,e,i,r),n!==null&&(i=Tn(),Rr(n,t,r,i),tA(n,e,r))}}function XC(t){var e=t.alternate;return t===pt||e!==null&&e===pt}function eA(t,e){Tc=lf=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function tA(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,gv(t,n)}}var cf={readContext:lr,useCallback:nn,useContext:nn,useEffect:nn,useImperativeHandle:nn,useInsertionEffect:nn,useLayoutEffect:nn,useMemo:nn,useReducer:nn,useRef:nn,useState:nn,useDebugValue:nn,useDeferredValue:nn,useTransition:nn,useMutableSource:nn,useSyncExternalStore:nn,useId:nn,unstable_isNewReconciler:!1},F2={readContext:lr,useCallback:function(t,e){return Vr().memoizedState=[t,e===void 0?null:e],t},useContext:lr,useEffect:fE,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,wh(4194308,4,YC.bind(null,e,t),n)},useLayoutEffect:function(t,e){return wh(4194308,4,t,e)},useInsertionEffect:function(t,e){return wh(4,2,t,e)},useMemo:function(t,e){var n=Vr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Vr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=V2.bind(null,pt,t),[r.memoizedState,t]},useRef:function(t){var e=Vr();return t={current:t},e.memoizedState=t},useState:hE,useDebugValue:Bv,useDeferredValue:function(t){return Vr().memoizedState=t},useTransition:function(){var t=hE(!1),e=t[0];return t=O2.bind(null,t[1]),Vr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=pt,i=Vr();if(ut){if(n===void 0)throw Error(ee(407));n=n()}else{if(n=e(),Gt===null)throw Error(ee(349));No&30||BC(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,fE(jC.bind(null,r,s,t),[t]),r.flags|=2048,Jc(9,UC.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Vr(),e=Gt.identifierPrefix;if(ut){var n=wi,r=vi;n=(r&~(1<<32-Ir(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Kc++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=M2++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},B2={readContext:lr,useCallback:KC,useContext:lr,useEffect:Fv,useImperativeHandle:WC,useInsertionEffect:$C,useLayoutEffect:QC,useMemo:HC,useReducer:Dm,useRef:zC,useState:function(){return Dm(Hc)},useDebugValue:Bv,useDeferredValue:function(t){var e=cr();return JC(e,Nt.memoizedState,t)},useTransition:function(){var t=Dm(Hc)[0],e=cr().memoizedState;return[t,e]},useMutableSource:LC,useSyncExternalStore:FC,useId:ZC,unstable_isNewReconciler:!1},U2={readContext:lr,useCallback:KC,useContext:lr,useEffect:Fv,useImperativeHandle:WC,useInsertionEffect:$C,useLayoutEffect:QC,useMemo:HC,useReducer:Mm,useRef:zC,useState:function(){return Mm(Hc)},useDebugValue:Bv,useDeferredValue:function(t){var e=cr();return Nt===null?e.memoizedState=t:JC(e,Nt.memoizedState,t)},useTransition:function(){var t=Mm(Hc)[0],e=cr().memoizedState;return[t,e]},useMutableSource:LC,useSyncExternalStore:FC,useId:ZC,unstable_isNewReconciler:!1};function wr(t,e){if(t&&t.defaultProps){e=mt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Ug(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:mt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var np={isMounted:function(t){return(t=t._reactInternals)?zo(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Tn(),i=Rs(t),s=Ti(r,i);s.payload=e,n!=null&&(s.callback=n),e=As(t,s,i),e!==null&&(Rr(e,t,i,r),yh(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Tn(),i=Rs(t),s=Ti(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=As(t,s,i),e!==null&&(Rr(e,t,i,r),yh(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Tn(),r=Rs(t),i=Ti(n,r);i.tag=2,e!=null&&(i.callback=e),e=As(t,i,r),e!==null&&(Rr(e,t,r,n),yh(e,t,r))}};function pE(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Gc(n,r)||!Gc(i,s):!0}function nA(t,e,n){var r=!1,i=Vs,s=e.contextType;return typeof s=="object"&&s!==null?s=lr(s):(i=kn(e)?Po:un.current,r=e.contextTypes,s=(r=r!=null)?il(t,i):Vs),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=np,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function mE(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&np.enqueueReplaceState(e,e.state,null)}function jg(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},kv(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=lr(s):(s=kn(e)?Po:un.current,i.context=il(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Ug(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&np.enqueueReplaceState(i,i.state,null),of(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function ll(t,e){try{var n="",r=e;do n+=pk(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Om(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function qg(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var j2=typeof WeakMap=="function"?WeakMap:Map;function rA(t,e,n){n=Ti(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){df||(df=!0,Zg=r),qg(t,e)},n}function iA(t,e,n){n=Ti(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){qg(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){qg(t,e),typeof r!="function"&&(Is===null?Is=new Set([this]):Is.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function gE(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new j2;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=tN.bind(null,t,e,n),e.then(t,t))}function yE(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function vE(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Ti(-1,1),e.tag=2,As(n,e,1))),n.lanes|=1),t)}var q2=Vi.ReactCurrentOwner,bn=!1;function vn(t,e,n,r){e.child=t===null?DC(e,null,n,r):ol(e,t.child,n,r)}function wE(t,e,n,r,i){n=n.render;var s=e.ref;return Fa(e,i),r=Vv(t,e,n,r,s,i),n=Lv(),t!==null&&!bn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,xi(t,e,i)):(ut&&n&&Av(e),e.flags|=1,vn(t,e,r,i),e.child)}function EE(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Yv(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,sA(t,e,s,r,i)):(t=Ch(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Gc,n(o,r)&&t.ref===e.ref)return xi(t,e,i)}return e.flags|=1,t=Ss(s,r),t.ref=e.ref,t.return=e,e.child=t}function sA(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Gc(s,r)&&t.ref===e.ref)if(bn=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(bn=!0);else return e.lanes=t.lanes,xi(t,e,i)}return Gg(t,e,n,r,i)}function oA(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},et(ka,Bn),Bn|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,et(ka,Bn),Bn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,et(ka,Bn),Bn|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,et(ka,Bn),Bn|=r;return vn(t,e,i,n),e.child}function aA(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Gg(t,e,n,r,i){var s=kn(n)?Po:un.current;return s=il(e,s),Fa(e,i),n=Vv(t,e,n,r,s,i),r=Lv(),t!==null&&!bn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,xi(t,e,i)):(ut&&r&&Av(e),e.flags|=1,vn(t,e,n,i),e.child)}function _E(t,e,n,r,i){if(kn(n)){var s=!0;ef(e)}else s=!1;if(Fa(e,i),e.stateNode===null)Eh(t,e),nA(e,n,r),jg(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=lr(u):(u=kn(n)?Po:un.current,u=il(e,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&mE(e,o,r,u),ns=!1;var h=e.memoizedState;o.state=h,of(e,r,o,i),l=e.memoizedState,a!==r||h!==l||Pn.current||ns?(typeof d=="function"&&(Ug(e,n,d,r),l=e.memoizedState),(a=ns||pE(e,n,a,r,h,l,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,OC(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:wr(e.type,a),o.props=u,f=e.pendingProps,h=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=lr(l):(l=kn(n)?Po:un.current,l=il(e,l));var g=n.getDerivedStateFromProps;(d=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||h!==l)&&mE(e,o,r,l),ns=!1,h=e.memoizedState,o.state=h,of(e,r,o,i);var E=e.memoizedState;a!==f||h!==E||Pn.current||ns?(typeof g=="function"&&(Ug(e,n,g,r),E=e.memoizedState),(u=ns||pE(e,n,u,r,h,E,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,E,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,E,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=E),o.props=r,o.state=E,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return zg(t,e,n,r,s,i)}function zg(t,e,n,r,i,s){aA(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&oE(e,n,!1),xi(t,e,s);r=e.stateNode,q2.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=ol(e,t.child,null,s),e.child=ol(e,null,a,s)):vn(t,e,a,s),e.memoizedState=r.state,i&&oE(e,n,!0),e.child}function lA(t){var e=t.stateNode;e.pendingContext?sE(t,e.pendingContext,e.pendingContext!==e.context):e.context&&sE(t,e.context,!1),Nv(t,e.containerInfo)}function TE(t,e,n,r,i){return sl(),Rv(i),e.flags|=256,vn(t,e,n,r),e.child}var $g={dehydrated:null,treeContext:null,retryLane:0};function Qg(t){return{baseLanes:t,cachePool:null,transitions:null}}function cA(t,e,n){var r=e.pendingProps,i=ht.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),et(ht,i&1),t===null)return Fg(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=sp(o,r,0,null),t=xo(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Qg(n),e.memoizedState=$g,t):Uv(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return G2(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Ss(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Ss(a,s):(s=xo(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Qg(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=$g,r}return s=t.child,t=s.sibling,r=Ss(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Uv(t,e){return e=sp({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Qd(t,e,n,r){return r!==null&&Rv(r),ol(e,t.child,null,n),t=Uv(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function G2(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Om(Error(ee(422))),Qd(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=sp({mode:"visible",children:r.children},i,0,null),s=xo(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&ol(e,t.child,null,o),e.child.memoizedState=Qg(o),e.memoizedState=$g,s);if(!(e.mode&1))return Qd(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(ee(419)),r=Om(s,r,void 0),Qd(t,e,o,r)}if(a=(o&t.childLanes)!==0,bn||a){if(r=Gt,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Si(t,i),Rr(r,t,i,-1))}return Qv(),r=Om(Error(ee(421))),Qd(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=nN.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,qn=Cs(i.nextSibling),zn=e,ut=!0,Cr=null,t!==null&&(rr[ir++]=vi,rr[ir++]=wi,rr[ir++]=ko,vi=t.id,wi=t.overflow,ko=e),e=Uv(e,r.children),e.flags|=4096,e)}function CE(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Bg(t.return,e,n)}function Vm(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function uA(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(vn(t,e,r.children,n),r=ht.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&CE(t,n,e);else if(t.tag===19)CE(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(et(ht,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&af(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Vm(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&af(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Vm(e,!0,n,null,s);break;case"together":Vm(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Eh(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function xi(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Do|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(ee(153));if(e.child!==null){for(t=e.child,n=Ss(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ss(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function z2(t,e,n){switch(e.tag){case 3:lA(e),sl();break;case 5:VC(e);break;case 1:kn(e.type)&&ef(e);break;case 4:Nv(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;et(rf,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(et(ht,ht.current&1),e.flags|=128,null):n&e.child.childLanes?cA(t,e,n):(et(ht,ht.current&1),t=xi(t,e,n),t!==null?t.sibling:null);et(ht,ht.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return uA(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),et(ht,ht.current),r)break;return null;case 22:case 23:return e.lanes=0,oA(t,e,n)}return xi(t,e,n)}var dA,Yg,hA,fA;dA=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Yg=function(){};hA=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Eo(Gr.current);var s=null;switch(n){case"input":i=mg(t,i),r=mg(t,r),s=[];break;case"select":i=mt({},i,{value:void 0}),r=mt({},r,{value:void 0}),s=[];break;case"textarea":i=vg(t,i),r=vg(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Zh)}Eg(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Vc.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Vc.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&rt("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};fA=function(t,e,n,r){n!==r&&(e.flags|=4)};function tc(t,e){if(!ut)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function rn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function $2(t,e,n){var r=e.pendingProps;switch(Iv(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rn(e),null;case 1:return kn(e.type)&&Xh(),rn(e),null;case 3:return r=e.stateNode,al(),it(Pn),it(un),Mv(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(zd(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Cr!==null&&(ty(Cr),Cr=null))),Yg(t,e),rn(e),null;case 5:Dv(e);var i=Eo(Wc.current);if(n=e.type,t!==null&&e.stateNode!=null)hA(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(ee(166));return rn(e),null}if(t=Eo(Gr.current),zd(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[jr]=e,r[Qc]=s,t=(e.mode&1)!==0,n){case"dialog":rt("cancel",r),rt("close",r);break;case"iframe":case"object":case"embed":rt("load",r);break;case"video":case"audio":for(i=0;i<lc.length;i++)rt(lc[i],r);break;case"source":rt("error",r);break;case"img":case"image":case"link":rt("error",r),rt("load",r);break;case"details":rt("toggle",r);break;case"input":Nw(r,s),rt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},rt("invalid",r);break;case"textarea":Mw(r,s),rt("invalid",r)}Eg(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Gd(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Gd(r.textContent,a,t),i=["children",""+a]):Vc.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&rt("scroll",r)}switch(n){case"input":Od(r),Dw(r,s,!0);break;case"textarea":Od(r),Ow(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Zh)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=jT(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[jr]=e,t[Qc]=r,dA(t,e,!1,!1),e.stateNode=t;e:{switch(o=_g(n,r),n){case"dialog":rt("cancel",t),rt("close",t),i=r;break;case"iframe":case"object":case"embed":rt("load",t),i=r;break;case"video":case"audio":for(i=0;i<lc.length;i++)rt(lc[i],t);i=r;break;case"source":rt("error",t),i=r;break;case"img":case"image":case"link":rt("error",t),rt("load",t),i=r;break;case"details":rt("toggle",t),i=r;break;case"input":Nw(t,r),i=mg(t,r),rt("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=mt({},r,{value:void 0}),rt("invalid",t);break;case"textarea":Mw(t,r),i=vg(t,r),rt("invalid",t);break;default:i=r}Eg(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?zT(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&qT(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Lc(t,l):typeof l=="number"&&Lc(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Vc.hasOwnProperty(s)?l!=null&&s==="onScroll"&&rt("scroll",t):l!=null&&uv(t,s,l,o))}switch(n){case"input":Od(t),Dw(t,r,!1);break;case"textarea":Od(t),Ow(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Os(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Ma(t,!!r.multiple,s,!1):r.defaultValue!=null&&Ma(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Zh)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return rn(e),null;case 6:if(t&&e.stateNode!=null)fA(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(ee(166));if(n=Eo(Wc.current),Eo(Gr.current),zd(e)){if(r=e.stateNode,n=e.memoizedProps,r[jr]=e,(s=r.nodeValue!==n)&&(t=zn,t!==null))switch(t.tag){case 3:Gd(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Gd(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[jr]=e,e.stateNode=r}return rn(e),null;case 13:if(it(ht),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ut&&qn!==null&&e.mode&1&&!(e.flags&128))kC(),sl(),e.flags|=98560,s=!1;else if(s=zd(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(ee(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(ee(317));s[jr]=e}else sl(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;rn(e),s=!1}else Cr!==null&&(ty(Cr),Cr=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ht.current&1?Mt===0&&(Mt=3):Qv())),e.updateQueue!==null&&(e.flags|=4),rn(e),null);case 4:return al(),Yg(t,e),t===null&&zc(e.stateNode.containerInfo),rn(e),null;case 10:return bv(e.type._context),rn(e),null;case 17:return kn(e.type)&&Xh(),rn(e),null;case 19:if(it(ht),s=e.memoizedState,s===null)return rn(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)tc(s,!1);else{if(Mt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=af(t),o!==null){for(e.flags|=128,tc(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return et(ht,ht.current&1|2),e.child}t=t.sibling}s.tail!==null&&_t()>cl&&(e.flags|=128,r=!0,tc(s,!1),e.lanes=4194304)}else{if(!r)if(t=af(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),tc(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!ut)return rn(e),null}else 2*_t()-s.renderingStartTime>cl&&n!==1073741824&&(e.flags|=128,r=!0,tc(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=_t(),e.sibling=null,n=ht.current,et(ht,r?n&1|2:n&1),e):(rn(e),null);case 22:case 23:return $v(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Bn&1073741824&&(rn(e),e.subtreeFlags&6&&(e.flags|=8192)):rn(e),null;case 24:return null;case 25:return null}throw Error(ee(156,e.tag))}function Q2(t,e){switch(Iv(e),e.tag){case 1:return kn(e.type)&&Xh(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return al(),it(Pn),it(un),Mv(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Dv(e),null;case 13:if(it(ht),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ee(340));sl()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return it(ht),null;case 4:return al(),null;case 10:return bv(e.type._context),null;case 22:case 23:return $v(),null;case 24:return null;default:return null}}var Yd=!1,ln=!1,Y2=typeof WeakSet=="function"?WeakSet:Set,fe=null;function Pa(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){wt(t,e,r)}else n.current=null}function Wg(t,e,n){try{n()}catch(r){wt(t,e,r)}}var AE=!1;function W2(t,e){if(kg=Kh,t=vC(),Cv(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,d=0,f=t,h=null;t:for(;;){for(var g;f!==n||i!==0&&f.nodeType!==3||(a=o+i),f!==s||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(g=f.firstChild)!==null;)h=f,f=g;for(;;){if(f===t)break t;if(h===n&&++u===i&&(a=o),h===s&&++d===r&&(l=o),(g=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=g}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ng={focusedElem:t,selectionRange:n},Kh=!1,fe=e;fe!==null;)if(e=fe,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,fe=t;else for(;fe!==null;){e=fe;try{var E=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(E!==null){var _=E.memoizedProps,I=E.memoizedState,T=e.stateNode,w=T.getSnapshotBeforeUpdate(e.elementType===e.type?_:wr(e.type,_),I);T.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var A=e.stateNode.containerInfo;A.nodeType===1?A.textContent="":A.nodeType===9&&A.documentElement&&A.removeChild(A.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ee(163))}}catch(N){wt(e,e.return,N)}if(t=e.sibling,t!==null){t.return=e.return,fe=t;break}fe=e.return}return E=AE,AE=!1,E}function Cc(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Wg(e,n,s)}i=i.next}while(i!==r)}}function rp(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Kg(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function pA(t){var e=t.alternate;e!==null&&(t.alternate=null,pA(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[jr],delete e[Qc],delete e[Og],delete e[P2],delete e[k2])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function mA(t){return t.tag===5||t.tag===3||t.tag===4}function IE(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||mA(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Hg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Zh));else if(r!==4&&(t=t.child,t!==null))for(Hg(t,e,n),t=t.sibling;t!==null;)Hg(t,e,n),t=t.sibling}function Jg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Jg(t,e,n),t=t.sibling;t!==null;)Jg(t,e,n),t=t.sibling}var $t=null,Tr=!1;function Wi(t,e,n){for(n=n.child;n!==null;)gA(t,e,n),n=n.sibling}function gA(t,e,n){if(qr&&typeof qr.onCommitFiberUnmount=="function")try{qr.onCommitFiberUnmount(Kf,n)}catch{}switch(n.tag){case 5:ln||Pa(n,e);case 6:var r=$t,i=Tr;$t=null,Wi(t,e,n),$t=r,Tr=i,$t!==null&&(Tr?(t=$t,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):$t.removeChild(n.stateNode));break;case 18:$t!==null&&(Tr?(t=$t,n=n.stateNode,t.nodeType===8?bm(t.parentNode,n):t.nodeType===1&&bm(t,n),jc(t)):bm($t,n.stateNode));break;case 4:r=$t,i=Tr,$t=n.stateNode.containerInfo,Tr=!0,Wi(t,e,n),$t=r,Tr=i;break;case 0:case 11:case 14:case 15:if(!ln&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Wg(n,e,o),i=i.next}while(i!==r)}Wi(t,e,n);break;case 1:if(!ln&&(Pa(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){wt(n,e,a)}Wi(t,e,n);break;case 21:Wi(t,e,n);break;case 22:n.mode&1?(ln=(r=ln)||n.memoizedState!==null,Wi(t,e,n),ln=r):Wi(t,e,n);break;default:Wi(t,e,n)}}function RE(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Y2),e.forEach(function(r){var i=rN.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function vr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:$t=a.stateNode,Tr=!1;break e;case 3:$t=a.stateNode.containerInfo,Tr=!0;break e;case 4:$t=a.stateNode.containerInfo,Tr=!0;break e}a=a.return}if($t===null)throw Error(ee(160));gA(s,o,i),$t=null,Tr=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){wt(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)yA(e,t),e=e.sibling}function yA(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(vr(e,t),Or(t),r&4){try{Cc(3,t,t.return),rp(3,t)}catch(_){wt(t,t.return,_)}try{Cc(5,t,t.return)}catch(_){wt(t,t.return,_)}}break;case 1:vr(e,t),Or(t),r&512&&n!==null&&Pa(n,n.return);break;case 5:if(vr(e,t),Or(t),r&512&&n!==null&&Pa(n,n.return),t.flags&32){var i=t.stateNode;try{Lc(i,"")}catch(_){wt(t,t.return,_)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&BT(i,s),_g(a,o);var u=_g(a,s);for(o=0;o<l.length;o+=2){var d=l[o],f=l[o+1];d==="style"?zT(i,f):d==="dangerouslySetInnerHTML"?qT(i,f):d==="children"?Lc(i,f):uv(i,d,f,u)}switch(a){case"input":gg(i,s);break;case"textarea":UT(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var g=s.value;g!=null?Ma(i,!!s.multiple,g,!1):h!==!!s.multiple&&(s.defaultValue!=null?Ma(i,!!s.multiple,s.defaultValue,!0):Ma(i,!!s.multiple,s.multiple?[]:"",!1))}i[Qc]=s}catch(_){wt(t,t.return,_)}}break;case 6:if(vr(e,t),Or(t),r&4){if(t.stateNode===null)throw Error(ee(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(_){wt(t,t.return,_)}}break;case 3:if(vr(e,t),Or(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{jc(e.containerInfo)}catch(_){wt(t,t.return,_)}break;case 4:vr(e,t),Or(t);break;case 13:vr(e,t),Or(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Gv=_t())),r&4&&RE(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(ln=(u=ln)||d,vr(e,t),ln=u):vr(e,t),Or(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(fe=t,d=t.child;d!==null;){for(f=fe=d;fe!==null;){switch(h=fe,g=h.child,h.tag){case 0:case 11:case 14:case 15:Cc(4,h,h.return);break;case 1:Pa(h,h.return);var E=h.stateNode;if(typeof E.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,E.props=e.memoizedProps,E.state=e.memoizedState,E.componentWillUnmount()}catch(_){wt(r,n,_)}}break;case 5:Pa(h,h.return);break;case 22:if(h.memoizedState!==null){xE(f);continue}}g!==null?(g.return=h,fe=g):xE(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=GT("display",o))}catch(_){wt(t,t.return,_)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(_){wt(t,t.return,_)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:vr(e,t),Or(t),r&4&&RE(t);break;case 21:break;default:vr(e,t),Or(t)}}function Or(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(mA(n)){var r=n;break e}n=n.return}throw Error(ee(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Lc(i,""),r.flags&=-33);var s=IE(t);Jg(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=IE(t);Hg(t,a,o);break;default:throw Error(ee(161))}}catch(l){wt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function K2(t,e,n){fe=t,vA(t)}function vA(t,e,n){for(var r=(t.mode&1)!==0;fe!==null;){var i=fe,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Yd;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||ln;a=Yd;var u=ln;if(Yd=o,(ln=l)&&!u)for(fe=i;fe!==null;)o=fe,l=o.child,o.tag===22&&o.memoizedState!==null?bE(i):l!==null?(l.return=o,fe=l):bE(i);for(;s!==null;)fe=s,vA(s),s=s.sibling;fe=i,Yd=a,ln=u}SE(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,fe=s):SE(t)}}function SE(t){for(;fe!==null;){var e=fe;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:ln||rp(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!ln)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:wr(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&dE(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}dE(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&jc(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ee(163))}ln||e.flags&512&&Kg(e)}catch(h){wt(e,e.return,h)}}if(e===t){fe=null;break}if(n=e.sibling,n!==null){n.return=e.return,fe=n;break}fe=e.return}}function xE(t){for(;fe!==null;){var e=fe;if(e===t){fe=null;break}var n=e.sibling;if(n!==null){n.return=e.return,fe=n;break}fe=e.return}}function bE(t){for(;fe!==null;){var e=fe;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{rp(4,e)}catch(l){wt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){wt(e,i,l)}}var s=e.return;try{Kg(e)}catch(l){wt(e,s,l)}break;case 5:var o=e.return;try{Kg(e)}catch(l){wt(e,o,l)}}}catch(l){wt(e,e.return,l)}if(e===t){fe=null;break}var a=e.sibling;if(a!==null){a.return=e.return,fe=a;break}fe=e.return}}var H2=Math.ceil,uf=Vi.ReactCurrentDispatcher,jv=Vi.ReactCurrentOwner,ar=Vi.ReactCurrentBatchConfig,qe=0,Gt=null,Rt=null,Wt=0,Bn=0,ka=Hs(0),Mt=0,Zc=null,Do=0,ip=0,qv=0,Ac=null,xn=null,Gv=0,cl=1/0,mi=null,df=!1,Zg=null,Is=null,Wd=!1,gs=null,hf=0,Ic=0,Xg=null,_h=-1,Th=0;function Tn(){return qe&6?_t():_h!==-1?_h:_h=_t()}function Rs(t){return t.mode&1?qe&2&&Wt!==0?Wt&-Wt:D2.transition!==null?(Th===0&&(Th=nC()),Th):(t=Ke,t!==0||(t=window.event,t=t===void 0?16:cC(t.type)),t):1}function Rr(t,e,n,r){if(50<Ic)throw Ic=0,Xg=null,Error(ee(185));Eu(t,n,r),(!(qe&2)||t!==Gt)&&(t===Gt&&(!(qe&2)&&(ip|=n),Mt===4&&ss(t,Wt)),Nn(t,r),n===1&&qe===0&&!(e.mode&1)&&(cl=_t()+500,ep&&Js()))}function Nn(t,e){var n=t.callbackNode;Dk(t,e);var r=Wh(t,t===Gt?Wt:0);if(r===0)n!==null&&Fw(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Fw(n),e===1)t.tag===0?N2(PE.bind(null,t)):xC(PE.bind(null,t)),x2(function(){!(qe&6)&&Js()}),n=null;else{switch(rC(r)){case 1:n=mv;break;case 4:n=eC;break;case 16:n=Yh;break;case 536870912:n=tC;break;default:n=Yh}n=RA(n,wA.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function wA(t,e){if(_h=-1,Th=0,qe&6)throw Error(ee(327));var n=t.callbackNode;if(Ba()&&t.callbackNode!==n)return null;var r=Wh(t,t===Gt?Wt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=ff(t,r);else{e=r;var i=qe;qe|=2;var s=_A();(Gt!==t||Wt!==e)&&(mi=null,cl=_t()+500,So(t,e));do try{X2();break}catch(a){EA(t,a)}while(!0);xv(),uf.current=s,qe=i,Rt!==null?e=0:(Gt=null,Wt=0,e=Mt)}if(e!==0){if(e===2&&(i=Rg(t),i!==0&&(r=i,e=ey(t,i))),e===1)throw n=Zc,So(t,0),ss(t,r),Nn(t,_t()),n;if(e===6)ss(t,r);else{if(i=t.current.alternate,!(r&30)&&!J2(i)&&(e=ff(t,r),e===2&&(s=Rg(t),s!==0&&(r=s,e=ey(t,s))),e===1))throw n=Zc,So(t,0),ss(t,r),Nn(t,_t()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(ee(345));case 2:go(t,xn,mi);break;case 3:if(ss(t,r),(r&130023424)===r&&(e=Gv+500-_t(),10<e)){if(Wh(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Tn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Mg(go.bind(null,t,xn,mi),e);break}go(t,xn,mi);break;case 4:if(ss(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Ir(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=_t()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*H2(r/1960))-r,10<r){t.timeoutHandle=Mg(go.bind(null,t,xn,mi),r);break}go(t,xn,mi);break;case 5:go(t,xn,mi);break;default:throw Error(ee(329))}}}return Nn(t,_t()),t.callbackNode===n?wA.bind(null,t):null}function ey(t,e){var n=Ac;return t.current.memoizedState.isDehydrated&&(So(t,e).flags|=256),t=ff(t,e),t!==2&&(e=xn,xn=n,e!==null&&ty(e)),t}function ty(t){xn===null?xn=t:xn.push.apply(xn,t)}function J2(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Sr(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ss(t,e){for(e&=~qv,e&=~ip,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Ir(e),r=1<<n;t[n]=-1,e&=~r}}function PE(t){if(qe&6)throw Error(ee(327));Ba();var e=Wh(t,0);if(!(e&1))return Nn(t,_t()),null;var n=ff(t,e);if(t.tag!==0&&n===2){var r=Rg(t);r!==0&&(e=r,n=ey(t,r))}if(n===1)throw n=Zc,So(t,0),ss(t,e),Nn(t,_t()),n;if(n===6)throw Error(ee(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,go(t,xn,mi),Nn(t,_t()),null}function zv(t,e){var n=qe;qe|=1;try{return t(e)}finally{qe=n,qe===0&&(cl=_t()+500,ep&&Js())}}function Mo(t){gs!==null&&gs.tag===0&&!(qe&6)&&Ba();var e=qe;qe|=1;var n=ar.transition,r=Ke;try{if(ar.transition=null,Ke=1,t)return t()}finally{Ke=r,ar.transition=n,qe=e,!(qe&6)&&Js()}}function $v(){Bn=ka.current,it(ka)}function So(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,S2(n)),Rt!==null)for(n=Rt.return;n!==null;){var r=n;switch(Iv(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Xh();break;case 3:al(),it(Pn),it(un),Mv();break;case 5:Dv(r);break;case 4:al();break;case 13:it(ht);break;case 19:it(ht);break;case 10:bv(r.type._context);break;case 22:case 23:$v()}n=n.return}if(Gt=t,Rt=t=Ss(t.current,null),Wt=Bn=e,Mt=0,Zc=null,qv=ip=Do=0,xn=Ac=null,wo!==null){for(e=0;e<wo.length;e++)if(n=wo[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}wo=null}return t}function EA(t,e){do{var n=Rt;try{if(xv(),vh.current=cf,lf){for(var r=pt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}lf=!1}if(No=0,jt=Nt=pt=null,Tc=!1,Kc=0,jv.current=null,n===null||n.return===null){Mt=1,Zc=e,Rt=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=Wt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=a,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var g=yE(o);if(g!==null){g.flags&=-257,vE(g,o,a,s,e),g.mode&1&&gE(s,u,e),e=g,l=u;var E=e.updateQueue;if(E===null){var _=new Set;_.add(l),e.updateQueue=_}else E.add(l);break e}else{if(!(e&1)){gE(s,u,e),Qv();break e}l=Error(ee(426))}}else if(ut&&a.mode&1){var I=yE(o);if(I!==null){!(I.flags&65536)&&(I.flags|=256),vE(I,o,a,s,e),Rv(ll(l,a));break e}}s=l=ll(l,a),Mt!==4&&(Mt=2),Ac===null?Ac=[s]:Ac.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var T=rA(s,l,e);uE(s,T);break e;case 1:a=l;var w=s.type,A=s.stateNode;if(!(s.flags&128)&&(typeof w.getDerivedStateFromError=="function"||A!==null&&typeof A.componentDidCatch=="function"&&(Is===null||!Is.has(A)))){s.flags|=65536,e&=-e,s.lanes|=e;var N=iA(s,a,e);uE(s,N);break e}}s=s.return}while(s!==null)}CA(n)}catch(F){e=F,Rt===n&&n!==null&&(Rt=n=n.return);continue}break}while(!0)}function _A(){var t=uf.current;return uf.current=cf,t===null?cf:t}function Qv(){(Mt===0||Mt===3||Mt===2)&&(Mt=4),Gt===null||!(Do&268435455)&&!(ip&268435455)||ss(Gt,Wt)}function ff(t,e){var n=qe;qe|=2;var r=_A();(Gt!==t||Wt!==e)&&(mi=null,So(t,e));do try{Z2();break}catch(i){EA(t,i)}while(!0);if(xv(),qe=n,uf.current=r,Rt!==null)throw Error(ee(261));return Gt=null,Wt=0,Mt}function Z2(){for(;Rt!==null;)TA(Rt)}function X2(){for(;Rt!==null&&!Ak();)TA(Rt)}function TA(t){var e=IA(t.alternate,t,Bn);t.memoizedProps=t.pendingProps,e===null?CA(t):Rt=e,jv.current=null}function CA(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Q2(n,e),n!==null){n.flags&=32767,Rt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Mt=6,Rt=null;return}}else if(n=$2(n,e,Bn),n!==null){Rt=n;return}if(e=e.sibling,e!==null){Rt=e;return}Rt=e=t}while(e!==null);Mt===0&&(Mt=5)}function go(t,e,n){var r=Ke,i=ar.transition;try{ar.transition=null,Ke=1,eN(t,e,n,r)}finally{ar.transition=i,Ke=r}return null}function eN(t,e,n,r){do Ba();while(gs!==null);if(qe&6)throw Error(ee(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(ee(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(Mk(t,s),t===Gt&&(Rt=Gt=null,Wt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Wd||(Wd=!0,RA(Yh,function(){return Ba(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=ar.transition,ar.transition=null;var o=Ke;Ke=1;var a=qe;qe|=4,jv.current=null,W2(t,n),yA(n,t),E2(Ng),Kh=!!kg,Ng=kg=null,t.current=n,K2(n),Ik(),qe=a,Ke=o,ar.transition=s}else t.current=n;if(Wd&&(Wd=!1,gs=t,hf=i),s=t.pendingLanes,s===0&&(Is=null),xk(n.stateNode),Nn(t,_t()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(df)throw df=!1,t=Zg,Zg=null,t;return hf&1&&t.tag!==0&&Ba(),s=t.pendingLanes,s&1?t===Xg?Ic++:(Ic=0,Xg=t):Ic=0,Js(),null}function Ba(){if(gs!==null){var t=rC(hf),e=ar.transition,n=Ke;try{if(ar.transition=null,Ke=16>t?16:t,gs===null)var r=!1;else{if(t=gs,gs=null,hf=0,qe&6)throw Error(ee(331));var i=qe;for(qe|=4,fe=t.current;fe!==null;){var s=fe,o=s.child;if(fe.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(fe=u;fe!==null;){var d=fe;switch(d.tag){case 0:case 11:case 15:Cc(8,d,s)}var f=d.child;if(f!==null)f.return=d,fe=f;else for(;fe!==null;){d=fe;var h=d.sibling,g=d.return;if(pA(d),d===u){fe=null;break}if(h!==null){h.return=g,fe=h;break}fe=g}}}var E=s.alternate;if(E!==null){var _=E.child;if(_!==null){E.child=null;do{var I=_.sibling;_.sibling=null,_=I}while(_!==null)}}fe=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,fe=o;else e:for(;fe!==null;){if(s=fe,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Cc(9,s,s.return)}var T=s.sibling;if(T!==null){T.return=s.return,fe=T;break e}fe=s.return}}var w=t.current;for(fe=w;fe!==null;){o=fe;var A=o.child;if(o.subtreeFlags&2064&&A!==null)A.return=o,fe=A;else e:for(o=w;fe!==null;){if(a=fe,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:rp(9,a)}}catch(F){wt(a,a.return,F)}if(a===o){fe=null;break e}var N=a.sibling;if(N!==null){N.return=a.return,fe=N;break e}fe=a.return}}if(qe=i,Js(),qr&&typeof qr.onPostCommitFiberRoot=="function")try{qr.onPostCommitFiberRoot(Kf,t)}catch{}r=!0}return r}finally{Ke=n,ar.transition=e}}return!1}function kE(t,e,n){e=ll(n,e),e=rA(t,e,1),t=As(t,e,1),e=Tn(),t!==null&&(Eu(t,1,e),Nn(t,e))}function wt(t,e,n){if(t.tag===3)kE(t,t,n);else for(;e!==null;){if(e.tag===3){kE(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Is===null||!Is.has(r))){t=ll(n,t),t=iA(e,t,1),e=As(e,t,1),t=Tn(),e!==null&&(Eu(e,1,t),Nn(e,t));break}}e=e.return}}function tN(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Tn(),t.pingedLanes|=t.suspendedLanes&n,Gt===t&&(Wt&n)===n&&(Mt===4||Mt===3&&(Wt&130023424)===Wt&&500>_t()-Gv?So(t,0):qv|=n),Nn(t,e)}function AA(t,e){e===0&&(t.mode&1?(e=Fd,Fd<<=1,!(Fd&130023424)&&(Fd=4194304)):e=1);var n=Tn();t=Si(t,e),t!==null&&(Eu(t,e,n),Nn(t,n))}function nN(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),AA(t,n)}function rN(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(ee(314))}r!==null&&r.delete(e),AA(t,n)}var IA;IA=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Pn.current)bn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return bn=!1,z2(t,e,n);bn=!!(t.flags&131072)}else bn=!1,ut&&e.flags&1048576&&bC(e,nf,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Eh(t,e),t=e.pendingProps;var i=il(e,un.current);Fa(e,n),i=Vv(null,e,r,t,i,n);var s=Lv();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,kn(r)?(s=!0,ef(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,kv(e),i.updater=np,e.stateNode=i,i._reactInternals=e,jg(e,r,t,n),e=zg(null,e,r,!0,s,n)):(e.tag=0,ut&&s&&Av(e),vn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Eh(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=sN(r),t=wr(r,t),i){case 0:e=Gg(null,e,r,t,n);break e;case 1:e=_E(null,e,r,t,n);break e;case 11:e=wE(null,e,r,t,n);break e;case 14:e=EE(null,e,r,wr(r.type,t),n);break e}throw Error(ee(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:wr(r,i),Gg(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:wr(r,i),_E(t,e,r,i,n);case 3:e:{if(lA(e),t===null)throw Error(ee(387));r=e.pendingProps,s=e.memoizedState,i=s.element,OC(t,e),of(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=ll(Error(ee(423)),e),e=TE(t,e,r,n,i);break e}else if(r!==i){i=ll(Error(ee(424)),e),e=TE(t,e,r,n,i);break e}else for(qn=Cs(e.stateNode.containerInfo.firstChild),zn=e,ut=!0,Cr=null,n=DC(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(sl(),r===i){e=xi(t,e,n);break e}vn(t,e,r,n)}e=e.child}return e;case 5:return VC(e),t===null&&Fg(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Dg(r,i)?o=null:s!==null&&Dg(r,s)&&(e.flags|=32),aA(t,e),vn(t,e,o,n),e.child;case 6:return t===null&&Fg(e),null;case 13:return cA(t,e,n);case 4:return Nv(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=ol(e,null,r,n):vn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:wr(r,i),wE(t,e,r,i,n);case 7:return vn(t,e,e.pendingProps,n),e.child;case 8:return vn(t,e,e.pendingProps.children,n),e.child;case 12:return vn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,et(rf,r._currentValue),r._currentValue=o,s!==null)if(Sr(s.value,o)){if(s.children===i.children&&!Pn.current){e=xi(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Ti(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Bg(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(ee(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Bg(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}vn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Fa(e,n),i=lr(i),r=r(i),e.flags|=1,vn(t,e,r,n),e.child;case 14:return r=e.type,i=wr(r,e.pendingProps),i=wr(r.type,i),EE(t,e,r,i,n);case 15:return sA(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:wr(r,i),Eh(t,e),e.tag=1,kn(r)?(t=!0,ef(e)):t=!1,Fa(e,n),nA(e,r,i),jg(e,r,i,n),zg(null,e,r,!0,t,n);case 19:return uA(t,e,n);case 22:return oA(t,e,n)}throw Error(ee(156,e.tag))};function RA(t,e){return XT(t,e)}function iN(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function or(t,e,n,r){return new iN(t,e,n,r)}function Yv(t){return t=t.prototype,!(!t||!t.isReactComponent)}function sN(t){if(typeof t=="function")return Yv(t)?1:0;if(t!=null){if(t=t.$$typeof,t===hv)return 11;if(t===fv)return 14}return 2}function Ss(t,e){var n=t.alternate;return n===null?(n=or(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Ch(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Yv(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case _a:return xo(n.children,i,s,e);case dv:o=8,i|=8;break;case dg:return t=or(12,n,e,i|2),t.elementType=dg,t.lanes=s,t;case hg:return t=or(13,n,e,i),t.elementType=hg,t.lanes=s,t;case fg:return t=or(19,n,e,i),t.elementType=fg,t.lanes=s,t;case VT:return sp(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case MT:o=10;break e;case OT:o=9;break e;case hv:o=11;break e;case fv:o=14;break e;case ts:o=16,r=null;break e}throw Error(ee(130,t==null?t:typeof t,""))}return e=or(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function xo(t,e,n,r){return t=or(7,t,r,e),t.lanes=n,t}function sp(t,e,n,r){return t=or(22,t,r,e),t.elementType=VT,t.lanes=n,t.stateNode={isHidden:!1},t}function Lm(t,e,n){return t=or(6,t,null,e),t.lanes=n,t}function Fm(t,e,n){return e=or(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function oN(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vm(0),this.expirationTimes=vm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vm(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Wv(t,e,n,r,i,s,o,a,l){return t=new oN(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=or(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},kv(s),t}function aN(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ea,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function SA(t){if(!t)return Vs;t=t._reactInternals;e:{if(zo(t)!==t||t.tag!==1)throw Error(ee(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(kn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ee(171))}if(t.tag===1){var n=t.type;if(kn(n))return SC(t,n,e)}return e}function xA(t,e,n,r,i,s,o,a,l){return t=Wv(n,r,!0,t,i,s,o,a,l),t.context=SA(null),n=t.current,r=Tn(),i=Rs(n),s=Ti(r,i),s.callback=e??null,As(n,s,i),t.current.lanes=i,Eu(t,i,r),Nn(t,r),t}function op(t,e,n,r){var i=e.current,s=Tn(),o=Rs(i);return n=SA(n),e.context===null?e.context=n:e.pendingContext=n,e=Ti(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=As(i,e,o),t!==null&&(Rr(t,i,o,s),yh(t,i,o)),o}function pf(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function NE(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Kv(t,e){NE(t,e),(t=t.alternate)&&NE(t,e)}function lN(){return null}var bA=typeof reportError=="function"?reportError:function(t){console.error(t)};function Hv(t){this._internalRoot=t}ap.prototype.render=Hv.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ee(409));op(t,e,null,null)};ap.prototype.unmount=Hv.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Mo(function(){op(null,t,null,null)}),e[Ri]=null}};function ap(t){this._internalRoot=t}ap.prototype.unstable_scheduleHydration=function(t){if(t){var e=oC();t={blockedOn:null,target:t,priority:e};for(var n=0;n<is.length&&e!==0&&e<is[n].priority;n++);is.splice(n,0,t),n===0&&lC(t)}};function Jv(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function lp(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function DE(){}function cN(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=pf(o);s.call(u)}}var o=xA(e,r,t,0,null,!1,!1,"",DE);return t._reactRootContainer=o,t[Ri]=o.current,zc(t.nodeType===8?t.parentNode:t),Mo(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=pf(l);a.call(u)}}var l=Wv(t,0,!1,null,null,!1,!1,"",DE);return t._reactRootContainer=l,t[Ri]=l.current,zc(t.nodeType===8?t.parentNode:t),Mo(function(){op(e,l,n,r)}),l}function cp(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=pf(o);a.call(l)}}op(e,o,t,i)}else o=cN(n,e,t,i,r);return pf(o)}iC=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=ac(e.pendingLanes);n!==0&&(gv(e,n|1),Nn(e,_t()),!(qe&6)&&(cl=_t()+500,Js()))}break;case 13:Mo(function(){var r=Si(t,1);if(r!==null){var i=Tn();Rr(r,t,1,i)}}),Kv(t,1)}};yv=function(t){if(t.tag===13){var e=Si(t,134217728);if(e!==null){var n=Tn();Rr(e,t,134217728,n)}Kv(t,134217728)}};sC=function(t){if(t.tag===13){var e=Rs(t),n=Si(t,e);if(n!==null){var r=Tn();Rr(n,t,e,r)}Kv(t,e)}};oC=function(){return Ke};aC=function(t,e){var n=Ke;try{return Ke=t,e()}finally{Ke=n}};Cg=function(t,e,n){switch(e){case"input":if(gg(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Xf(r);if(!i)throw Error(ee(90));FT(r),gg(r,i)}}}break;case"textarea":UT(t,n);break;case"select":e=n.value,e!=null&&Ma(t,!!n.multiple,e,!1)}};YT=zv;WT=Mo;var uN={usingClientEntryPoint:!1,Events:[Tu,Ia,Xf,$T,QT,zv]},nc={findFiberByHostInstance:vo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},dN={bundleType:nc.bundleType,version:nc.version,rendererPackageName:nc.rendererPackageName,rendererConfig:nc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Vi.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=JT(t),t===null?null:t.stateNode},findFiberByHostInstance:nc.findFiberByHostInstance||lN,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Kd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Kd.isDisabled&&Kd.supportsFiber)try{Kf=Kd.inject(dN),qr=Kd}catch{}}Kn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=uN;Kn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Jv(e))throw Error(ee(200));return aN(t,e,null,n)};Kn.createRoot=function(t,e){if(!Jv(t))throw Error(ee(299));var n=!1,r="",i=bA;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Wv(t,1,!1,null,null,n,!1,r,i),t[Ri]=e.current,zc(t.nodeType===8?t.parentNode:t),new Hv(e)};Kn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ee(188)):(t=Object.keys(t).join(","),Error(ee(268,t)));return t=JT(e),t=t===null?null:t.stateNode,t};Kn.flushSync=function(t){return Mo(t)};Kn.hydrate=function(t,e,n){if(!lp(e))throw Error(ee(200));return cp(null,t,e,!0,n)};Kn.hydrateRoot=function(t,e,n){if(!Jv(t))throw Error(ee(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=bA;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=xA(e,null,t,1,n??null,i,!1,s,o),t[Ri]=e.current,zc(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new ap(e)};Kn.render=function(t,e,n){if(!lp(e))throw Error(ee(200));return cp(null,t,e,!1,n)};Kn.unmountComponentAtNode=function(t){if(!lp(t))throw Error(ee(40));return t._reactRootContainer?(Mo(function(){cp(null,null,t,!1,function(){t._reactRootContainer=null,t[Ri]=null})}),!0):!1};Kn.unstable_batchedUpdates=zv;Kn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!lp(n))throw Error(ee(200));if(t==null||t._reactInternals===void 0)throw Error(ee(38));return cp(t,e,n,!1,r)};Kn.version="18.3.1-next-f1338f8080-20240426";function PA(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(PA)}catch(t){console.error(t)}}PA(),PT.exports=Kn;var Au=PT.exports;const kA=rv(Au);var NA,ME=Au;NA=ME.createRoot,ME.hydrateRoot;const hN=1,fN=1e6;let Bm=0;function pN(){return Bm=(Bm+1)%Number.MAX_SAFE_INTEGER,Bm.toString()}const Um=new Map,OE=t=>{if(Um.has(t))return;const e=setTimeout(()=>{Um.delete(t),Rc({type:"REMOVE_TOAST",toastId:t})},fN);Um.set(t,e)},mN=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,hN)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?OE(n):t.toasts.forEach(r=>{OE(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},Ah=[];let Ih={toasts:[]};function Rc(t){Ih=mN(Ih,t),Ah.forEach(e=>{e(Ih)})}function cn({...t}){const e=pN(),n=i=>Rc({type:"UPDATE_TOAST",toast:{...i,id:e}}),r=()=>Rc({type:"DISMISS_TOAST",toastId:e});return Rc({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:i=>{i||r()}}}),{id:e,dismiss:r,update:n}}function gN(){const[t,e]=b.useState(Ih);return b.useEffect(()=>(Ah.push(e),()=>{const n=Ah.indexOf(e);n>-1&&Ah.splice(n,1)}),[t]),{...t,toast:cn,dismiss:n=>Rc({type:"DISMISS_TOAST",toastId:n})}}function Dt(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function yN(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function DA(...t){return e=>t.forEach(n=>yN(n,e))}function xr(...t){return b.useCallback(DA(...t),t)}function vN(t,e=[]){let n=[];function r(s,o){const a=b.createContext(o),l=n.length;n=[...n,o];function u(f){const{scope:h,children:g,...E}=f,_=(h==null?void 0:h[t][l])||a,I=b.useMemo(()=>E,Object.values(E));return k.jsx(_.Provider,{value:I,children:g})}function d(f,h){const g=(h==null?void 0:h[t][l])||a,E=b.useContext(g);if(E)return E;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${s}\``)}return u.displayName=s+"Provider",[u,d]}const i=()=>{const s=n.map(o=>b.createContext(o));return function(a){const l=(a==null?void 0:a[t])||s;return b.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return i.scopeName=t,[r,wN(i,...e)]}function wN(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:l,scopeName:u})=>{const f=l(s)[`__scope${u}`];return{...a,...f}},{});return b.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var Xc=b.forwardRef((t,e)=>{const{children:n,...r}=t,i=b.Children.toArray(n),s=i.find(EN);if(s){const o=s.props.children,a=i.map(l=>l===s?b.Children.count(o)>1?b.Children.only(null):b.isValidElement(o)?o.props.children:null:l);return k.jsx(ny,{...r,ref:e,children:b.isValidElement(o)?b.cloneElement(o,void 0,a):null})}return k.jsx(ny,{...r,ref:e,children:n})});Xc.displayName="Slot";var ny=b.forwardRef((t,e)=>{const{children:n,...r}=t;if(b.isValidElement(n)){const i=TN(n);return b.cloneElement(n,{..._N(r,n.props),ref:e?DA(e,i):i})}return b.Children.count(n)>1?b.Children.only(null):null});ny.displayName="SlotClone";var MA=({children:t})=>k.jsx(k.Fragment,{children:t});function EN(t){return b.isValidElement(t)&&t.type===MA}function _N(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...a)=>{s(...a),i(...a)}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}function TN(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function CN(t){const e=t+"CollectionProvider",[n,r]=vN(e),[i,s]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=g=>{const{scope:E,children:_}=g,I=Y.useRef(null),T=Y.useRef(new Map).current;return k.jsx(i,{scope:E,itemMap:T,collectionRef:I,children:_})};o.displayName=e;const a=t+"CollectionSlot",l=Y.forwardRef((g,E)=>{const{scope:_,children:I}=g,T=s(a,_),w=xr(E,T.collectionRef);return k.jsx(Xc,{ref:w,children:I})});l.displayName=a;const u=t+"CollectionItemSlot",d="data-radix-collection-item",f=Y.forwardRef((g,E)=>{const{scope:_,children:I,...T}=g,w=Y.useRef(null),A=xr(E,w),N=s(u,_);return Y.useEffect(()=>(N.itemMap.set(w,{ref:w,...T}),()=>void N.itemMap.delete(w))),k.jsx(Xc,{[d]:"",ref:A,children:I})});f.displayName=u;function h(g){const E=s(t+"CollectionConsumer",g);return Y.useCallback(()=>{const I=E.collectionRef.current;if(!I)return[];const T=Array.from(I.querySelectorAll(`[${d}]`));return Array.from(E.itemMap.values()).sort((N,F)=>T.indexOf(N.ref.current)-T.indexOf(F.ref.current))},[E.collectionRef,E.itemMap])}return[{Provider:o,Slot:l,ItemSlot:f},h,r]}function OA(t,e=[]){let n=[];function r(s,o){const a=b.createContext(o),l=n.length;n=[...n,o];const u=f=>{var T;const{scope:h,children:g,...E}=f,_=((T=h==null?void 0:h[t])==null?void 0:T[l])||a,I=b.useMemo(()=>E,Object.values(E));return k.jsx(_.Provider,{value:I,children:g})};u.displayName=s+"Provider";function d(f,h){var _;const g=((_=h==null?void 0:h[t])==null?void 0:_[l])||a,E=b.useContext(g);if(E)return E;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${s}\``)}return[u,d]}const i=()=>{const s=n.map(o=>b.createContext(o));return function(a){const l=(a==null?void 0:a[t])||s;return b.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return i.scopeName=t,[r,AN(i,...e)]}function AN(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:l,scopeName:u})=>{const f=l(s)[`__scope${u}`];return{...a,...f}},{});return b.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var IN=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],In=IN.reduce((t,e)=>{const n=b.forwardRef((r,i)=>{const{asChild:s,...o}=r,a=s?Xc:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),k.jsx(a,{...o,ref:i})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function VA(t,e){t&&Au.flushSync(()=>t.dispatchEvent(e))}function Hr(t){const e=b.useRef(t);return b.useEffect(()=>{e.current=t}),b.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function RN(t,e=globalThis==null?void 0:globalThis.document){const n=Hr(t);b.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var SN="DismissableLayer",ry="dismissableLayer.update",xN="dismissableLayer.pointerDownOutside",bN="dismissableLayer.focusOutside",VE,LA=b.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Zv=b.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,onDismiss:a,...l}=t,u=b.useContext(LA),[d,f]=b.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=b.useState({}),E=xr(e,S=>f(S)),_=Array.from(u.layers),[I]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),T=_.indexOf(I),w=d?_.indexOf(d):-1,A=u.layersWithOutsidePointerEventsDisabled.size>0,N=w>=T,F=kN(S=>{const C=S.target,P=[...u.branches].some(D=>D.contains(C));!N||P||(i==null||i(S),o==null||o(S),S.defaultPrevented||a==null||a())},h),j=NN(S=>{const C=S.target;[...u.branches].some(D=>D.contains(C))||(s==null||s(S),o==null||o(S),S.defaultPrevented||a==null||a())},h);return RN(S=>{w===u.layers.size-1&&(r==null||r(S),!S.defaultPrevented&&a&&(S.preventDefault(),a()))},h),b.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(VE=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),LE(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=VE)}},[d,h,n,u]),b.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),LE())},[d,u]),b.useEffect(()=>{const S=()=>g({});return document.addEventListener(ry,S),()=>document.removeEventListener(ry,S)},[]),k.jsx(In.div,{...l,ref:E,style:{pointerEvents:A?N?"auto":"none":void 0,...t.style},onFocusCapture:Dt(t.onFocusCapture,j.onFocusCapture),onBlurCapture:Dt(t.onBlurCapture,j.onBlurCapture),onPointerDownCapture:Dt(t.onPointerDownCapture,F.onPointerDownCapture)})});Zv.displayName=SN;var PN="DismissableLayerBranch",FA=b.forwardRef((t,e)=>{const n=b.useContext(LA),r=b.useRef(null),i=xr(e,r);return b.useEffect(()=>{const s=r.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),k.jsx(In.div,{...t,ref:i})});FA.displayName=PN;function kN(t,e=globalThis==null?void 0:globalThis.document){const n=Hr(t),r=b.useRef(!1),i=b.useRef(()=>{});return b.useEffect(()=>{const s=a=>{if(a.target&&!r.current){let l=function(){BA(xN,n,u,{discrete:!0})};const u={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=l,e.addEventListener("click",i.current,{once:!0})):l()}else e.removeEventListener("click",i.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function NN(t,e=globalThis==null?void 0:globalThis.document){const n=Hr(t),r=b.useRef(!1);return b.useEffect(()=>{const i=s=>{s.target&&!r.current&&BA(bN,n,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function LE(){const t=new CustomEvent(ry);document.dispatchEvent(t)}function BA(t,e,n,{discrete:r}){const i=n.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?VA(i,s):i.dispatchEvent(s)}var DN=Zv,MN=FA,Oo=globalThis!=null&&globalThis.document?b.useLayoutEffect:()=>{},ON="Portal",UA=b.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[i,s]=b.useState(!1);Oo(()=>s(!0),[]);const o=n||i&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?kA.createPortal(k.jsx(In.div,{...r,ref:e}),o):null});UA.displayName=ON;function VN(t,e){return b.useReducer((n,r)=>e[n][r]??n,t)}var Xv=t=>{const{present:e,children:n}=t,r=LN(e),i=typeof n=="function"?n({present:r.isPresent}):b.Children.only(n),s=xr(r.ref,FN(i));return typeof n=="function"||r.isPresent?b.cloneElement(i,{ref:s}):null};Xv.displayName="Presence";function LN(t){const[e,n]=b.useState(),r=b.useRef({}),i=b.useRef(t),s=b.useRef("none"),o=t?"mounted":"unmounted",[a,l]=VN(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return b.useEffect(()=>{const u=Hd(r.current);s.current=a==="mounted"?u:"none"},[a]),Oo(()=>{const u=r.current,d=i.current;if(d!==t){const h=s.current,g=Hd(u);t?l("MOUNT"):g==="none"||(u==null?void 0:u.display)==="none"?l("UNMOUNT"):l(d&&h!==g?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,l]),Oo(()=>{if(e){let u;const d=e.ownerDocument.defaultView??window,f=g=>{const _=Hd(r.current).includes(g.animationName);if(g.target===e&&_&&(l("ANIMATION_END"),!i.current)){const I=e.style.animationFillMode;e.style.animationFillMode="forwards",u=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=I)})}},h=g=>{g.target===e&&(s.current=Hd(r.current))};return e.addEventListener("animationstart",h),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{d.clearTimeout(u),e.removeEventListener("animationstart",h),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:b.useCallback(u=>{u&&(r.current=getComputedStyle(u)),n(u)},[])}}function Hd(t){return(t==null?void 0:t.animationName)||"none"}function FN(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function BN({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,i]=UN({defaultProp:e,onChange:n}),s=t!==void 0,o=s?t:r,a=Hr(n),l=b.useCallback(u=>{if(s){const f=typeof u=="function"?u(t):u;f!==t&&a(f)}else i(u)},[s,t,i,a]);return[o,l]}function UN({defaultProp:t,onChange:e}){const n=b.useState(t),[r]=n,i=b.useRef(r),s=Hr(e);return b.useEffect(()=>{i.current!==r&&(s(r),i.current=r)},[r,i,s]),n}var jN="VisuallyHidden",up=b.forwardRef((t,e)=>k.jsx(In.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));up.displayName=jN;var qN=up,e0="ToastProvider",[t0,GN,zN]=CN("Toast"),[jA,Hj]=OA("Toast",[zN]),[$N,dp]=jA(e0),qA=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:s=50,children:o}=t,[a,l]=b.useState(null),[u,d]=b.useState(0),f=b.useRef(!1),h=b.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${e0}\`. Expected non-empty \`string\`.`),k.jsx(t0.Provider,{scope:e,children:k.jsx($N,{scope:e,label:n,duration:r,swipeDirection:i,swipeThreshold:s,toastCount:u,viewport:a,onViewportChange:l,onToastAdd:b.useCallback(()=>d(g=>g+1),[]),onToastRemove:b.useCallback(()=>d(g=>g-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:h,children:o})})};qA.displayName=e0;var GA="ToastViewport",QN=["F8"],iy="toast.viewportPause",sy="toast.viewportResume",zA=b.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=QN,label:i="Notifications ({hotkey})",...s}=t,o=dp(GA,n),a=GN(n),l=b.useRef(null),u=b.useRef(null),d=b.useRef(null),f=b.useRef(null),h=xr(e,f,o.onViewportChange),g=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),E=o.toastCount>0;b.useEffect(()=>{const I=T=>{var A;r.length!==0&&r.every(N=>T[N]||T.code===N)&&((A=f.current)==null||A.focus())};return document.addEventListener("keydown",I),()=>document.removeEventListener("keydown",I)},[r]),b.useEffect(()=>{const I=l.current,T=f.current;if(E&&I&&T){const w=()=>{if(!o.isClosePausedRef.current){const j=new CustomEvent(iy);T.dispatchEvent(j),o.isClosePausedRef.current=!0}},A=()=>{if(o.isClosePausedRef.current){const j=new CustomEvent(sy);T.dispatchEvent(j),o.isClosePausedRef.current=!1}},N=j=>{!I.contains(j.relatedTarget)&&A()},F=()=>{I.contains(document.activeElement)||A()};return I.addEventListener("focusin",w),I.addEventListener("focusout",N),I.addEventListener("pointermove",w),I.addEventListener("pointerleave",F),window.addEventListener("blur",w),window.addEventListener("focus",A),()=>{I.removeEventListener("focusin",w),I.removeEventListener("focusout",N),I.removeEventListener("pointermove",w),I.removeEventListener("pointerleave",F),window.removeEventListener("blur",w),window.removeEventListener("focus",A)}}},[E,o.isClosePausedRef]);const _=b.useCallback(({tabbingDirection:I})=>{const w=a().map(A=>{const N=A.ref.current,F=[N,...sD(N)];return I==="forwards"?F:F.reverse()});return(I==="forwards"?w.reverse():w).flat()},[a]);return b.useEffect(()=>{const I=f.current;if(I){const T=w=>{var F,j,S;const A=w.altKey||w.ctrlKey||w.metaKey;if(w.key==="Tab"&&!A){const C=document.activeElement,P=w.shiftKey;if(w.target===I&&P){(F=u.current)==null||F.focus();return}const L=_({tabbingDirection:P?"backwards":"forwards"}),M=L.findIndex(ne=>ne===C);jm(L.slice(M+1))?w.preventDefault():P?(j=u.current)==null||j.focus():(S=d.current)==null||S.focus()}};return I.addEventListener("keydown",T),()=>I.removeEventListener("keydown",T)}},[a,_]),k.jsxs(MN,{ref:l,role:"region","aria-label":i.replace("{hotkey}",g),tabIndex:-1,style:{pointerEvents:E?void 0:"none"},children:[E&&k.jsx(oy,{ref:u,onFocusFromOutsideViewport:()=>{const I=_({tabbingDirection:"forwards"});jm(I)}}),k.jsx(t0.Slot,{scope:n,children:k.jsx(In.ol,{tabIndex:-1,...s,ref:h})}),E&&k.jsx(oy,{ref:d,onFocusFromOutsideViewport:()=>{const I=_({tabbingDirection:"backwards"});jm(I)}})]})});zA.displayName=GA;var $A="ToastFocusProxy",oy=b.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...i}=t,s=dp($A,n);return k.jsx(up,{"aria-hidden":!0,tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:o=>{var u;const a=o.relatedTarget;!((u=s.viewport)!=null&&u.contains(a))&&r()}})});oy.displayName=$A;var hp="Toast",YN="toast.swipeStart",WN="toast.swipeMove",KN="toast.swipeCancel",HN="toast.swipeEnd",QA=b.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:i,onOpenChange:s,...o}=t,[a=!0,l]=BN({prop:r,defaultProp:i,onChange:s});return k.jsx(Xv,{present:n||a,children:k.jsx(XN,{open:a,...o,ref:e,onClose:()=>l(!1),onPause:Hr(t.onPause),onResume:Hr(t.onResume),onSwipeStart:Dt(t.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Dt(t.onSwipeMove,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:Dt(t.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Dt(t.onSwipeEnd,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),l(!1)})})})});QA.displayName=hp;var[JN,ZN]=jA(hp,{onClose(){}}),XN=b.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:i,open:s,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:u,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:h,onSwipeEnd:g,...E}=t,_=dp(hp,n),[I,T]=b.useState(null),w=xr(e,ne=>T(ne)),A=b.useRef(null),N=b.useRef(null),F=i||_.duration,j=b.useRef(0),S=b.useRef(F),C=b.useRef(0),{onToastAdd:P,onToastRemove:D}=_,V=Hr(()=>{var ie;(I==null?void 0:I.contains(document.activeElement))&&((ie=_.viewport)==null||ie.focus()),o()}),L=b.useCallback(ne=>{!ne||ne===1/0||(window.clearTimeout(C.current),j.current=new Date().getTime(),C.current=window.setTimeout(V,ne))},[V]);b.useEffect(()=>{const ne=_.viewport;if(ne){const ie=()=>{L(S.current),u==null||u()},le=()=>{const pe=new Date().getTime()-j.current;S.current=S.current-pe,window.clearTimeout(C.current),l==null||l()};return ne.addEventListener(iy,le),ne.addEventListener(sy,ie),()=>{ne.removeEventListener(iy,le),ne.removeEventListener(sy,ie)}}},[_.viewport,F,l,u,L]),b.useEffect(()=>{s&&!_.isClosePausedRef.current&&L(F)},[s,F,_.isClosePausedRef,L]),b.useEffect(()=>(P(),()=>D()),[P,D]);const M=b.useMemo(()=>I?XA(I):null,[I]);return _.viewport?k.jsxs(k.Fragment,{children:[M&&k.jsx(eD,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:M}),k.jsx(JN,{scope:n,onClose:V,children:Au.createPortal(k.jsx(t0.ItemSlot,{scope:n,children:k.jsx(DN,{asChild:!0,onEscapeKeyDown:Dt(a,()=>{_.isFocusedToastEscapeKeyDownRef.current||V(),_.isFocusedToastEscapeKeyDownRef.current=!1}),children:k.jsx(In.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":_.swipeDirection,...E,ref:w,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:Dt(t.onKeyDown,ne=>{ne.key==="Escape"&&(a==null||a(ne.nativeEvent),ne.nativeEvent.defaultPrevented||(_.isFocusedToastEscapeKeyDownRef.current=!0,V()))}),onPointerDown:Dt(t.onPointerDown,ne=>{ne.button===0&&(A.current={x:ne.clientX,y:ne.clientY})}),onPointerMove:Dt(t.onPointerMove,ne=>{if(!A.current)return;const ie=ne.clientX-A.current.x,le=ne.clientY-A.current.y,pe=!!N.current,z=["left","right"].includes(_.swipeDirection),X=["left","up"].includes(_.swipeDirection)?Math.min:Math.max,se=z?X(0,ie):0,te=z?0:X(0,le),ce=ne.pointerType==="touch"?10:2,de={x:se,y:te},ke={originalEvent:ne,delta:de};pe?(N.current=de,Jd(WN,f,ke,{discrete:!1})):FE(de,_.swipeDirection,ce)?(N.current=de,Jd(YN,d,ke,{discrete:!1}),ne.target.setPointerCapture(ne.pointerId)):(Math.abs(ie)>ce||Math.abs(le)>ce)&&(A.current=null)}),onPointerUp:Dt(t.onPointerUp,ne=>{const ie=N.current,le=ne.target;if(le.hasPointerCapture(ne.pointerId)&&le.releasePointerCapture(ne.pointerId),N.current=null,A.current=null,ie){const pe=ne.currentTarget,z={originalEvent:ne,delta:ie};FE(ie,_.swipeDirection,_.swipeThreshold)?Jd(HN,g,z,{discrete:!0}):Jd(KN,h,z,{discrete:!0}),pe.addEventListener("click",X=>X.preventDefault(),{once:!0})}})})})}),_.viewport)})]}):null}),eD=t=>{const{__scopeToast:e,children:n,...r}=t,i=dp(hp,e),[s,o]=b.useState(!1),[a,l]=b.useState(!1);return rD(()=>o(!0)),b.useEffect(()=>{const u=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(u)},[]),a?null:k.jsx(UA,{asChild:!0,children:k.jsx(up,{...r,children:s&&k.jsxs(k.Fragment,{children:[i.label," ",n]})})})},tD="ToastTitle",YA=b.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return k.jsx(In.div,{...r,ref:e})});YA.displayName=tD;var nD="ToastDescription",WA=b.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return k.jsx(In.div,{...r,ref:e})});WA.displayName=nD;var KA="ToastAction",HA=b.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?k.jsx(ZA,{altText:n,asChild:!0,children:k.jsx(n0,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${KA}\`. Expected non-empty \`string\`.`),null)});HA.displayName=KA;var JA="ToastClose",n0=b.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,i=ZN(JA,n);return k.jsx(ZA,{asChild:!0,children:k.jsx(In.button,{type:"button",...r,ref:e,onClick:Dt(t.onClick,i.onClose)})})});n0.displayName=JA;var ZA=b.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...i}=t;return k.jsx(In.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:e})});function XA(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),iD(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",s=r.dataset.radixToastAnnounceExclude==="";if(!i)if(s){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...XA(r))}}),e}function Jd(t,e,n,{discrete:r}){const i=n.originalEvent.currentTarget,s=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?VA(i,s):i.dispatchEvent(s)}var FE=(t,e,n=0)=>{const r=Math.abs(t.x),i=Math.abs(t.y),s=r>i;return e==="left"||e==="right"?s&&r>n:!s&&i>n};function rD(t=()=>{}){const e=Hr(t);Oo(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function iD(t){return t.nodeType===t.ELEMENT_NODE}function sD(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function jm(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var oD=qA,eI=zA,tI=QA,nI=YA,rI=WA,iI=HA,sI=n0;function oI(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=oI(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function aI(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=oI(t))&&(r&&(r+=" "),r+=e);return r}const BE=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,UE=aI,r0=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return UE(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:s}=e,o=Object.keys(i).map(u=>{const d=n==null?void 0:n[u],f=s==null?void 0:s[u];if(d===null)return null;const h=BE(d)||BE(f);return i[u][h]}),a=n&&Object.entries(n).reduce((u,d)=>{let[f,h]=d;return h===void 0||(u[f]=h),u},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:f,className:h,...g}=d;return Object.entries(g).every(E=>{let[_,I]=E;return Array.isArray(I)?I.includes({...s,...a}[_]):{...s,...a}[_]===I})?[...u,f,h]:u},[]);return UE(t,o,l,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aD=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),lI=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var lD={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cD=b.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:o,...a},l)=>b.createElement("svg",{ref:l,...lD,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:lI("lucide",i),...a},[...o.map(([u,d])=>b.createElement(u,d)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cI=(t,e)=>{const n=b.forwardRef(({className:r,...i},s)=>b.createElement(cD,{ref:s,iconNode:e,className:lI(`lucide-${aD(t)}`,r),...i}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fp=cI("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uD=cI("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),i0="-",dD=t=>{const e=fD(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(i0);return a[0]===""&&a.length!==1&&a.shift(),uI(a,e)||hD(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},uI=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?uI(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const s=t.join(i0);return(o=e.validators.find(({validator:a})=>a(s)))==null?void 0:o.classGroupId},jE=/^\[(.+)\]$/,hD=t=>{if(jE.test(t)){const e=jE.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},fD=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return mD(Object.entries(t.classGroups),n).forEach(([s,o])=>{ay(o,r,s,e)}),r},ay=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const s=i===""?e:qE(e,i);s.classGroupId=n;return}if(typeof i=="function"){if(pD(i)){ay(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([s,o])=>{ay(o,qE(e,s),n,r)})})},qE=(t,e)=>{let n=t;return e.split(i0).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},pD=t=>t.isThemeGetter,mD=(t,e)=>e?t.map(([n,r])=>{const i=r.map(s=>typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([o,a])=>[e+o,a])):s);return[n,i]}):t,gD=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(s,o)=>{n.set(s,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(s){let o=n.get(s);if(o!==void 0)return o;if((o=r.get(s))!==void 0)return i(s,o),o},set(s,o){n.has(s)?n.set(s,o):i(s,o)}}},dI="!",yD=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,i=e[0],s=e.length,o=a=>{const l=[];let u=0,d=0,f;for(let I=0;I<a.length;I++){let T=a[I];if(u===0){if(T===i&&(r||a.slice(I,I+s)===e)){l.push(a.slice(d,I)),d=I+s;continue}if(T==="/"){f=I;continue}}T==="["?u++:T==="]"&&u--}const h=l.length===0?a:a.substring(d),g=h.startsWith(dI),E=g?h.substring(1):h,_=f&&f>d?f-d:void 0;return{modifiers:l,hasImportantModifier:g,baseClassName:E,maybePostfixModifierPosition:_}};return n?a=>n({className:a,parseClassName:o}):o},vD=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},wD=t=>({cache:gD(t.cacheSize),parseClassName:yD(t),...dD(t)}),ED=/\s+/,_D=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=e,s=[],o=t.trim().split(ED);let a="";for(let l=o.length-1;l>=0;l-=1){const u=o[l],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:g}=n(u);let E=!!g,_=r(E?h.substring(0,g):h);if(!_){if(!E){a=u+(a.length>0?" "+a:a);continue}if(_=r(h),!_){a=u+(a.length>0?" "+a:a);continue}E=!1}const I=vD(d).join(":"),T=f?I+dI:I,w=T+_;if(s.includes(w))continue;s.push(w);const A=i(_,E);for(let N=0;N<A.length;++N){const F=A[N];s.push(T+F)}a=u+(a.length>0?" "+a:a)}return a};function TD(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=hI(e))&&(r&&(r+=" "),r+=n);return r}const hI=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=hI(t[r]))&&(n&&(n+=" "),n+=e);return n};function CD(t,...e){let n,r,i,s=o;function o(l){const u=e.reduce((d,f)=>f(d),t());return n=wD(u),r=n.cache.get,i=n.cache.set,s=a,a(l)}function a(l){const u=r(l);if(u)return u;const d=_D(l,n);return i(l,d),d}return function(){return s(TD.apply(null,arguments))}}const nt=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},fI=/^\[(?:([a-z-]+):)?(.+)\]$/i,AD=/^\d+\/\d+$/,ID=new Set(["px","full","screen"]),RD=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,SD=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,xD=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,bD=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,PD=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,fi=t=>Ua(t)||ID.has(t)||AD.test(t),Ki=t=>Il(t,"length",FD),Ua=t=>!!t&&!Number.isNaN(Number(t)),qm=t=>Il(t,"number",Ua),rc=t=>!!t&&Number.isInteger(Number(t)),kD=t=>t.endsWith("%")&&Ua(t.slice(0,-1)),Re=t=>fI.test(t),Hi=t=>RD.test(t),ND=new Set(["length","size","percentage"]),DD=t=>Il(t,ND,pI),MD=t=>Il(t,"position",pI),OD=new Set(["image","url"]),VD=t=>Il(t,OD,UD),LD=t=>Il(t,"",BD),ic=()=>!0,Il=(t,e,n)=>{const r=fI.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},FD=t=>SD.test(t)&&!xD.test(t),pI=()=>!1,BD=t=>bD.test(t),UD=t=>PD.test(t),jD=()=>{const t=nt("colors"),e=nt("spacing"),n=nt("blur"),r=nt("brightness"),i=nt("borderColor"),s=nt("borderRadius"),o=nt("borderSpacing"),a=nt("borderWidth"),l=nt("contrast"),u=nt("grayscale"),d=nt("hueRotate"),f=nt("invert"),h=nt("gap"),g=nt("gradientColorStops"),E=nt("gradientColorStopPositions"),_=nt("inset"),I=nt("margin"),T=nt("opacity"),w=nt("padding"),A=nt("saturate"),N=nt("scale"),F=nt("sepia"),j=nt("skew"),S=nt("space"),C=nt("translate"),P=()=>["auto","contain","none"],D=()=>["auto","hidden","clip","visible","scroll"],V=()=>["auto",Re,e],L=()=>[Re,e],M=()=>["",fi,Ki],ne=()=>["auto",Ua,Re],ie=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],le=()=>["solid","dashed","dotted","double","none"],pe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],z=()=>["start","end","center","between","around","evenly","stretch"],X=()=>["","0",Re],se=()=>["auto","avoid","all","avoid-page","page","left","right","column"],te=()=>[Ua,Re];return{cacheSize:500,separator:":",theme:{colors:[ic],spacing:[fi,Ki],blur:["none","",Hi,Re],brightness:te(),borderColor:[t],borderRadius:["none","","full",Hi,Re],borderSpacing:L(),borderWidth:M(),contrast:te(),grayscale:X(),hueRotate:te(),invert:X(),gap:L(),gradientColorStops:[t],gradientColorStopPositions:[kD,Ki],inset:V(),margin:V(),opacity:te(),padding:L(),saturate:te(),scale:te(),sepia:X(),skew:te(),space:L(),translate:L()},classGroups:{aspect:[{aspect:["auto","square","video",Re]}],container:["container"],columns:[{columns:[Hi]}],"break-after":[{"break-after":se()}],"break-before":[{"break-before":se()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...ie(),Re]}],overflow:[{overflow:D()}],"overflow-x":[{"overflow-x":D()}],"overflow-y":[{"overflow-y":D()}],overscroll:[{overscroll:P()}],"overscroll-x":[{"overscroll-x":P()}],"overscroll-y":[{"overscroll-y":P()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[_]}],"inset-x":[{"inset-x":[_]}],"inset-y":[{"inset-y":[_]}],start:[{start:[_]}],end:[{end:[_]}],top:[{top:[_]}],right:[{right:[_]}],bottom:[{bottom:[_]}],left:[{left:[_]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",rc,Re]}],basis:[{basis:V()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Re]}],grow:[{grow:X()}],shrink:[{shrink:X()}],order:[{order:["first","last","none",rc,Re]}],"grid-cols":[{"grid-cols":[ic]}],"col-start-end":[{col:["auto",{span:["full",rc,Re]},Re]}],"col-start":[{"col-start":ne()}],"col-end":[{"col-end":ne()}],"grid-rows":[{"grid-rows":[ic]}],"row-start-end":[{row:["auto",{span:[rc,Re]},Re]}],"row-start":[{"row-start":ne()}],"row-end":[{"row-end":ne()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Re]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Re]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...z()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...z(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...z(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[w]}],px:[{px:[w]}],py:[{py:[w]}],ps:[{ps:[w]}],pe:[{pe:[w]}],pt:[{pt:[w]}],pr:[{pr:[w]}],pb:[{pb:[w]}],pl:[{pl:[w]}],m:[{m:[I]}],mx:[{mx:[I]}],my:[{my:[I]}],ms:[{ms:[I]}],me:[{me:[I]}],mt:[{mt:[I]}],mr:[{mr:[I]}],mb:[{mb:[I]}],ml:[{ml:[I]}],"space-x":[{"space-x":[S]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[S]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Re,e]}],"min-w":[{"min-w":[Re,e,"min","max","fit"]}],"max-w":[{"max-w":[Re,e,"none","full","min","max","fit","prose",{screen:[Hi]},Hi]}],h:[{h:[Re,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Re,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Re,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Re,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Hi,Ki]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",qm]}],"font-family":[{font:[ic]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Re]}],"line-clamp":[{"line-clamp":["none",Ua,qm]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",fi,Re]}],"list-image":[{"list-image":["none",Re]}],"list-style-type":[{list:["none","disc","decimal",Re]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[T]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[T]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...le(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",fi,Ki]}],"underline-offset":[{"underline-offset":["auto",fi,Re]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:L()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Re]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Re]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[T]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...ie(),MD]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",DD]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},VD]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[E]}],"gradient-via-pos":[{via:[E]}],"gradient-to-pos":[{to:[E]}],"gradient-from":[{from:[g]}],"gradient-via":[{via:[g]}],"gradient-to":[{to:[g]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[T]}],"border-style":[{border:[...le(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[T]}],"divide-style":[{divide:le()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...le()]}],"outline-offset":[{"outline-offset":[fi,Re]}],"outline-w":[{outline:[fi,Ki]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:M()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[T]}],"ring-offset-w":[{"ring-offset":[fi,Ki]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Hi,LD]}],"shadow-color":[{shadow:[ic]}],opacity:[{opacity:[T]}],"mix-blend":[{"mix-blend":[...pe(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":pe()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Hi,Re]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[A]}],sepia:[{sepia:[F]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[T]}],"backdrop-saturate":[{"backdrop-saturate":[A]}],"backdrop-sepia":[{"backdrop-sepia":[F]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Re]}],duration:[{duration:te()}],ease:[{ease:["linear","in","out","in-out",Re]}],delay:[{delay:te()}],animate:[{animate:["none","spin","ping","pulse","bounce",Re]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[N]}],"scale-x":[{"scale-x":[N]}],"scale-y":[{"scale-y":[N]}],rotate:[{rotate:[rc,Re]}],"translate-x":[{"translate-x":[C]}],"translate-y":[{"translate-y":[C]}],"skew-x":[{"skew-x":[j]}],"skew-y":[{"skew-y":[j]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Re]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Re]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":L()}],"scroll-mx":[{"scroll-mx":L()}],"scroll-my":[{"scroll-my":L()}],"scroll-ms":[{"scroll-ms":L()}],"scroll-me":[{"scroll-me":L()}],"scroll-mt":[{"scroll-mt":L()}],"scroll-mr":[{"scroll-mr":L()}],"scroll-mb":[{"scroll-mb":L()}],"scroll-ml":[{"scroll-ml":L()}],"scroll-p":[{"scroll-p":L()}],"scroll-px":[{"scroll-px":L()}],"scroll-py":[{"scroll-py":L()}],"scroll-ps":[{"scroll-ps":L()}],"scroll-pe":[{"scroll-pe":L()}],"scroll-pt":[{"scroll-pt":L()}],"scroll-pr":[{"scroll-pr":L()}],"scroll-pb":[{"scroll-pb":L()}],"scroll-pl":[{"scroll-pl":L()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Re]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[fi,Ki,qm]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},qD=CD(jD),GD=()=>{};var GE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mI=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},zD=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},gI={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,d=s>>2,f=(s&3)<<4|a>>4;let h=(a&15)<<2|u>>6,g=u&63;l||(g=64,o||(h=64)),r.push(n[d],n[f],n[h],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(mI(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):zD(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||f==null)throw new $D;const h=s<<2|a>>4;if(r.push(h),u!==64){const g=a<<4&240|u>>2;if(r.push(g),f!==64){const E=u<<6&192|f;r.push(E)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class $D extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const QD=function(t){const e=mI(t);return gI.encodeByteArray(e,!0)},mf=function(t){return QD(t).replace(/\./g,"")},yI=function(t){try{return gI.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YD(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WD=()=>YD().__FIREBASE_DEFAULTS__,KD=()=>{if(typeof process>"u"||typeof GE>"u")return;const t=GE.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},HD=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&yI(t[1]);return e&&JSON.parse(e)},pp=()=>{try{return GD()||WD()||KD()||HD()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},vI=t=>{var e,n;return(n=(e=pp())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},JD=t=>{const e=vI(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},wI=()=>{var t;return(t=pp())===null||t===void 0?void 0:t.config},EI=t=>{var e;return(e=pp())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZD{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rl(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function _I(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XD(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[mf(JSON.stringify(n)),mf(JSON.stringify(o)),""].join(".")}const Sc={};function eM(){const t={prod:[],emulator:[]};for(const e of Object.keys(Sc))Sc[e]?t.emulator.push(e):t.prod.push(e);return t}function tM(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let zE=!1;function TI(t,e){if(typeof window>"u"||typeof document>"u"||!Rl(window.location.host)||Sc[t]===e||Sc[t]||zE)return;Sc[t]=e;function n(h){return`__firebase__banner__${h}`}const r="__firebase__banner",s=eM().prod.length>0;function o(){const h=document.getElementById(r);h&&h.remove()}function a(h){h.style.display="flex",h.style.background="#7faaf0",h.style.position="fixed",h.style.bottom="5px",h.style.left="5px",h.style.padding=".5em",h.style.borderRadius="5px",h.style.alignItems="center"}function l(h,g){h.setAttribute("width","24"),h.setAttribute("id",g),h.setAttribute("height","24"),h.setAttribute("viewBox","0 0 24 24"),h.setAttribute("fill","none"),h.style.marginLeft="-6px"}function u(){const h=document.createElement("span");return h.style.cursor="pointer",h.style.marginLeft="16px",h.style.fontSize="24px",h.innerHTML=" &times;",h.onclick=()=>{zE=!0,o()},h}function d(h,g){h.setAttribute("id",g),h.innerText="Learn more",h.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",h.setAttribute("target","__blank"),h.style.paddingLeft="5px",h.style.textDecoration="underline"}function f(){const h=tM(r),g=n("text"),E=document.getElementById(g)||document.createElement("span"),_=n("learnmore"),I=document.getElementById(_)||document.createElement("a"),T=n("preprendIcon"),w=document.getElementById(T)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(h.created){const A=h.element;a(A),d(I,_);const N=u();l(w,T),A.append(w,E,I,N),document.body.appendChild(A)}s?(E.innerText="Preview backend disconnected.",w.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(w.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,E.innerText="Preview backend running in this workspace."),E.setAttribute("id",g)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function nM(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(dn())}function rM(){var t;const e=(t=pp())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function iM(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function sM(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function oM(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function aM(){const t=dn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function lM(){return!rM()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function cM(){try{return typeof indexedDB=="object"}catch{return!1}}function uM(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dM="FirebaseError";class Li extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=dM,Object.setPrototypeOf(this,Li.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Iu.prototype.create)}}class Iu{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?hM(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Li(i,a,r)}}function hM(t,e){return t.replace(fM,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const fM=/\{\$([^}]+)}/g;function pM(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Vo(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if($E(s)&&$E(o)){if(!Vo(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function $E(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ru(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function cc(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function uc(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function mM(t,e){const n=new gM(t,e);return n.subscribe.bind(n)}class gM{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");yM(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Gm),i.error===void 0&&(i.error=Gm),i.complete===void 0&&(i.complete=Gm);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function yM(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Gm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tt(t){return t&&t._delegate?t._delegate:t}class Lo{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vM=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new ZD;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(EM(e))try{this.getOrInitializeService({instanceIdentifier:yo})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=yo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=yo){return this.instances.has(e)}getOptions(e=yo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:wM(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=yo){return this.component?this.component.multipleInstances?e:yo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function wM(t){return t===yo?void 0:t}function EM(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _M{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new vM(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var De;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(De||(De={}));const TM={debug:De.DEBUG,verbose:De.VERBOSE,info:De.INFO,warn:De.WARN,error:De.ERROR,silent:De.SILENT},CM=De.INFO,AM={[De.DEBUG]:"log",[De.VERBOSE]:"log",[De.INFO]:"info",[De.WARN]:"warn",[De.ERROR]:"error"},IM=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=AM[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class s0{constructor(e){this.name=e,this._logLevel=CM,this._logHandler=IM,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in De))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?TM[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,De.DEBUG,...e),this._logHandler(this,De.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,De.VERBOSE,...e),this._logHandler(this,De.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,De.INFO,...e),this._logHandler(this,De.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,De.WARN,...e),this._logHandler(this,De.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,De.ERROR,...e),this._logHandler(this,De.ERROR,...e)}}const RM=(t,e)=>e.some(n=>t instanceof n);let QE,YE;function SM(){return QE||(QE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function xM(){return YE||(YE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const CI=new WeakMap,ly=new WeakMap,AI=new WeakMap,zm=new WeakMap,o0=new WeakMap;function bM(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(xs(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&CI.set(n,t)}).catch(()=>{}),o0.set(e,t),e}function PM(t){if(ly.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});ly.set(t,e)}let cy={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return ly.get(t);if(e==="objectStoreNames")return t.objectStoreNames||AI.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return xs(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function kM(t){cy=t(cy)}function NM(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call($m(this),e,...n);return AI.set(r,e.sort?e.sort():[e]),xs(r)}:xM().includes(t)?function(...e){return t.apply($m(this),e),xs(CI.get(this))}:function(...e){return xs(t.apply($m(this),e))}}function DM(t){return typeof t=="function"?NM(t):(t instanceof IDBTransaction&&PM(t),RM(t,SM())?new Proxy(t,cy):t)}function xs(t){if(t instanceof IDBRequest)return bM(t);if(zm.has(t))return zm.get(t);const e=DM(t);return e!==t&&(zm.set(t,e),o0.set(e,t)),e}const $m=t=>o0.get(t);function MM(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=xs(o);return r&&o.addEventListener("upgradeneeded",l=>{r(xs(o.result),l.oldVersion,l.newVersion,xs(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const OM=["get","getKey","getAll","getAllKeys","count"],VM=["put","add","delete","clear"],Qm=new Map;function WE(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Qm.get(e))return Qm.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=VM.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||OM.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return Qm.set(e,s),s}kM(t=>({...t,get:(e,n,r)=>WE(e,n)||t.get(e,n,r),has:(e,n)=>!!WE(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LM{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(FM(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function FM(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const uy="@firebase/app",KE="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bi=new s0("@firebase/app"),BM="@firebase/app-compat",UM="@firebase/analytics-compat",jM="@firebase/analytics",qM="@firebase/app-check-compat",GM="@firebase/app-check",zM="@firebase/auth",$M="@firebase/auth-compat",QM="@firebase/database",YM="@firebase/data-connect",WM="@firebase/database-compat",KM="@firebase/functions",HM="@firebase/functions-compat",JM="@firebase/installations",ZM="@firebase/installations-compat",XM="@firebase/messaging",e4="@firebase/messaging-compat",t4="@firebase/performance",n4="@firebase/performance-compat",r4="@firebase/remote-config",i4="@firebase/remote-config-compat",s4="@firebase/storage",o4="@firebase/storage-compat",a4="@firebase/firestore",l4="@firebase/ai",c4="@firebase/firestore-compat",u4="firebase",d4="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dy="[DEFAULT]",h4={[uy]:"fire-core",[BM]:"fire-core-compat",[jM]:"fire-analytics",[UM]:"fire-analytics-compat",[GM]:"fire-app-check",[qM]:"fire-app-check-compat",[zM]:"fire-auth",[$M]:"fire-auth-compat",[QM]:"fire-rtdb",[YM]:"fire-data-connect",[WM]:"fire-rtdb-compat",[KM]:"fire-fn",[HM]:"fire-fn-compat",[JM]:"fire-iid",[ZM]:"fire-iid-compat",[XM]:"fire-fcm",[e4]:"fire-fcm-compat",[t4]:"fire-perf",[n4]:"fire-perf-compat",[r4]:"fire-rc",[i4]:"fire-rc-compat",[s4]:"fire-gcs",[o4]:"fire-gcs-compat",[a4]:"fire-fst",[c4]:"fire-fst-compat",[l4]:"fire-vertex","fire-js":"fire-js",[u4]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gf=new Map,f4=new Map,hy=new Map;function HE(t,e){try{t.container.addComponent(e)}catch(n){bi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ul(t){const e=t.name;if(hy.has(e))return bi.debug(`There were multiple attempts to register component ${e}.`),!1;hy.set(e,t);for(const n of gf.values())HE(n,t);for(const n of f4.values())HE(n,t);return!0}function a0(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function sr(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p4={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},bs=new Iu("app","Firebase",p4);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m4{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Lo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw bs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sl=d4;function II(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:dy,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw bs.create("bad-app-name",{appName:String(i)});if(n||(n=wI()),!n)throw bs.create("no-options");const s=gf.get(i);if(s){if(Vo(n,s.options)&&Vo(r,s.config))return s;throw bs.create("duplicate-app",{appName:i})}const o=new _M(i);for(const l of hy.values())o.addComponent(l);const a=new m4(n,r,o);return gf.set(i,a),a}function RI(t=dy){const e=gf.get(t);if(!e&&t===dy&&wI())return II();if(!e)throw bs.create("no-app",{appName:t});return e}function Ps(t,e,n){var r;let i=(r=h4[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),bi.warn(a.join(" "));return}ul(new Lo(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g4="firebase-heartbeat-database",y4=1,eu="firebase-heartbeat-store";let Ym=null;function SI(){return Ym||(Ym=MM(g4,y4,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(eu)}catch(n){console.warn(n)}}}}).catch(t=>{throw bs.create("idb-open",{originalErrorMessage:t.message})})),Ym}async function v4(t){try{const n=(await SI()).transaction(eu),r=await n.objectStore(eu).get(xI(t));return await n.done,r}catch(e){if(e instanceof Li)bi.warn(e.message);else{const n=bs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});bi.warn(n.message)}}}async function JE(t,e){try{const r=(await SI()).transaction(eu,"readwrite");await r.objectStore(eu).put(e,xI(t)),await r.done}catch(n){if(n instanceof Li)bi.warn(n.message);else{const r=bs.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});bi.warn(r.message)}}}function xI(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w4=1024,E4=30;class _4{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new C4(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=ZE();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>E4){const o=A4(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){bi.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=ZE(),{heartbeatsToSend:r,unsentEntries:i}=T4(this._heartbeatsCache.heartbeats),s=mf(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return bi.warn(n),""}}}function ZE(){return new Date().toISOString().substring(0,10)}function T4(t,e=w4){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),XE(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),XE(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class C4{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return cM()?uM().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await v4(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return JE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return JE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function XE(t){return mf(JSON.stringify({version:2,heartbeats:t})).length}function A4(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I4(t){ul(new Lo("platform-logger",e=>new LM(e),"PRIVATE")),ul(new Lo("heartbeat",e=>new _4(e),"PRIVATE")),Ps(uy,KE,t),Ps(uy,KE,"esm2017"),Ps("fire-js","")}I4("");var R4="firebase",S4="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ps(R4,S4,"app");var e1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ks,bI;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,C){function P(){}P.prototype=C.prototype,S.D=C.prototype,S.prototype=new P,S.prototype.constructor=S,S.C=function(D,V,L){for(var M=Array(arguments.length-2),ne=2;ne<arguments.length;ne++)M[ne-2]=arguments[ne];return C.prototype[V].apply(D,M)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(S,C,P){P||(P=0);var D=Array(16);if(typeof C=="string")for(var V=0;16>V;++V)D[V]=C.charCodeAt(P++)|C.charCodeAt(P++)<<8|C.charCodeAt(P++)<<16|C.charCodeAt(P++)<<24;else for(V=0;16>V;++V)D[V]=C[P++]|C[P++]<<8|C[P++]<<16|C[P++]<<24;C=S.g[0],P=S.g[1],V=S.g[2];var L=S.g[3],M=C+(L^P&(V^L))+D[0]+3614090360&4294967295;C=P+(M<<7&4294967295|M>>>25),M=L+(V^C&(P^V))+D[1]+3905402710&4294967295,L=C+(M<<12&4294967295|M>>>20),M=V+(P^L&(C^P))+D[2]+606105819&4294967295,V=L+(M<<17&4294967295|M>>>15),M=P+(C^V&(L^C))+D[3]+3250441966&4294967295,P=V+(M<<22&4294967295|M>>>10),M=C+(L^P&(V^L))+D[4]+4118548399&4294967295,C=P+(M<<7&4294967295|M>>>25),M=L+(V^C&(P^V))+D[5]+1200080426&4294967295,L=C+(M<<12&4294967295|M>>>20),M=V+(P^L&(C^P))+D[6]+2821735955&4294967295,V=L+(M<<17&4294967295|M>>>15),M=P+(C^V&(L^C))+D[7]+4249261313&4294967295,P=V+(M<<22&4294967295|M>>>10),M=C+(L^P&(V^L))+D[8]+1770035416&4294967295,C=P+(M<<7&4294967295|M>>>25),M=L+(V^C&(P^V))+D[9]+2336552879&4294967295,L=C+(M<<12&4294967295|M>>>20),M=V+(P^L&(C^P))+D[10]+4294925233&4294967295,V=L+(M<<17&4294967295|M>>>15),M=P+(C^V&(L^C))+D[11]+2304563134&4294967295,P=V+(M<<22&4294967295|M>>>10),M=C+(L^P&(V^L))+D[12]+1804603682&4294967295,C=P+(M<<7&4294967295|M>>>25),M=L+(V^C&(P^V))+D[13]+4254626195&4294967295,L=C+(M<<12&4294967295|M>>>20),M=V+(P^L&(C^P))+D[14]+2792965006&4294967295,V=L+(M<<17&4294967295|M>>>15),M=P+(C^V&(L^C))+D[15]+1236535329&4294967295,P=V+(M<<22&4294967295|M>>>10),M=C+(V^L&(P^V))+D[1]+4129170786&4294967295,C=P+(M<<5&4294967295|M>>>27),M=L+(P^V&(C^P))+D[6]+3225465664&4294967295,L=C+(M<<9&4294967295|M>>>23),M=V+(C^P&(L^C))+D[11]+643717713&4294967295,V=L+(M<<14&4294967295|M>>>18),M=P+(L^C&(V^L))+D[0]+3921069994&4294967295,P=V+(M<<20&4294967295|M>>>12),M=C+(V^L&(P^V))+D[5]+3593408605&4294967295,C=P+(M<<5&4294967295|M>>>27),M=L+(P^V&(C^P))+D[10]+38016083&4294967295,L=C+(M<<9&4294967295|M>>>23),M=V+(C^P&(L^C))+D[15]+3634488961&4294967295,V=L+(M<<14&4294967295|M>>>18),M=P+(L^C&(V^L))+D[4]+3889429448&4294967295,P=V+(M<<20&4294967295|M>>>12),M=C+(V^L&(P^V))+D[9]+568446438&4294967295,C=P+(M<<5&4294967295|M>>>27),M=L+(P^V&(C^P))+D[14]+3275163606&4294967295,L=C+(M<<9&4294967295|M>>>23),M=V+(C^P&(L^C))+D[3]+4107603335&4294967295,V=L+(M<<14&4294967295|M>>>18),M=P+(L^C&(V^L))+D[8]+1163531501&4294967295,P=V+(M<<20&4294967295|M>>>12),M=C+(V^L&(P^V))+D[13]+2850285829&4294967295,C=P+(M<<5&4294967295|M>>>27),M=L+(P^V&(C^P))+D[2]+4243563512&4294967295,L=C+(M<<9&4294967295|M>>>23),M=V+(C^P&(L^C))+D[7]+1735328473&4294967295,V=L+(M<<14&4294967295|M>>>18),M=P+(L^C&(V^L))+D[12]+2368359562&4294967295,P=V+(M<<20&4294967295|M>>>12),M=C+(P^V^L)+D[5]+4294588738&4294967295,C=P+(M<<4&4294967295|M>>>28),M=L+(C^P^V)+D[8]+2272392833&4294967295,L=C+(M<<11&4294967295|M>>>21),M=V+(L^C^P)+D[11]+1839030562&4294967295,V=L+(M<<16&4294967295|M>>>16),M=P+(V^L^C)+D[14]+4259657740&4294967295,P=V+(M<<23&4294967295|M>>>9),M=C+(P^V^L)+D[1]+2763975236&4294967295,C=P+(M<<4&4294967295|M>>>28),M=L+(C^P^V)+D[4]+1272893353&4294967295,L=C+(M<<11&4294967295|M>>>21),M=V+(L^C^P)+D[7]+4139469664&4294967295,V=L+(M<<16&4294967295|M>>>16),M=P+(V^L^C)+D[10]+3200236656&4294967295,P=V+(M<<23&4294967295|M>>>9),M=C+(P^V^L)+D[13]+681279174&4294967295,C=P+(M<<4&4294967295|M>>>28),M=L+(C^P^V)+D[0]+3936430074&4294967295,L=C+(M<<11&4294967295|M>>>21),M=V+(L^C^P)+D[3]+3572445317&4294967295,V=L+(M<<16&4294967295|M>>>16),M=P+(V^L^C)+D[6]+76029189&4294967295,P=V+(M<<23&4294967295|M>>>9),M=C+(P^V^L)+D[9]+3654602809&4294967295,C=P+(M<<4&4294967295|M>>>28),M=L+(C^P^V)+D[12]+3873151461&4294967295,L=C+(M<<11&4294967295|M>>>21),M=V+(L^C^P)+D[15]+530742520&4294967295,V=L+(M<<16&4294967295|M>>>16),M=P+(V^L^C)+D[2]+3299628645&4294967295,P=V+(M<<23&4294967295|M>>>9),M=C+(V^(P|~L))+D[0]+4096336452&4294967295,C=P+(M<<6&4294967295|M>>>26),M=L+(P^(C|~V))+D[7]+1126891415&4294967295,L=C+(M<<10&4294967295|M>>>22),M=V+(C^(L|~P))+D[14]+2878612391&4294967295,V=L+(M<<15&4294967295|M>>>17),M=P+(L^(V|~C))+D[5]+4237533241&4294967295,P=V+(M<<21&4294967295|M>>>11),M=C+(V^(P|~L))+D[12]+1700485571&4294967295,C=P+(M<<6&4294967295|M>>>26),M=L+(P^(C|~V))+D[3]+2399980690&4294967295,L=C+(M<<10&4294967295|M>>>22),M=V+(C^(L|~P))+D[10]+4293915773&4294967295,V=L+(M<<15&4294967295|M>>>17),M=P+(L^(V|~C))+D[1]+2240044497&4294967295,P=V+(M<<21&4294967295|M>>>11),M=C+(V^(P|~L))+D[8]+1873313359&4294967295,C=P+(M<<6&4294967295|M>>>26),M=L+(P^(C|~V))+D[15]+4264355552&4294967295,L=C+(M<<10&4294967295|M>>>22),M=V+(C^(L|~P))+D[6]+2734768916&4294967295,V=L+(M<<15&4294967295|M>>>17),M=P+(L^(V|~C))+D[13]+1309151649&4294967295,P=V+(M<<21&4294967295|M>>>11),M=C+(V^(P|~L))+D[4]+4149444226&4294967295,C=P+(M<<6&4294967295|M>>>26),M=L+(P^(C|~V))+D[11]+3174756917&4294967295,L=C+(M<<10&4294967295|M>>>22),M=V+(C^(L|~P))+D[2]+718787259&4294967295,V=L+(M<<15&4294967295|M>>>17),M=P+(L^(V|~C))+D[9]+3951481745&4294967295,S.g[0]=S.g[0]+C&4294967295,S.g[1]=S.g[1]+(V+(M<<21&4294967295|M>>>11))&4294967295,S.g[2]=S.g[2]+V&4294967295,S.g[3]=S.g[3]+L&4294967295}r.prototype.u=function(S,C){C===void 0&&(C=S.length);for(var P=C-this.blockSize,D=this.B,V=this.h,L=0;L<C;){if(V==0)for(;L<=P;)i(this,S,L),L+=this.blockSize;if(typeof S=="string"){for(;L<C;)if(D[V++]=S.charCodeAt(L++),V==this.blockSize){i(this,D),V=0;break}}else for(;L<C;)if(D[V++]=S[L++],V==this.blockSize){i(this,D),V=0;break}}this.h=V,this.o+=C},r.prototype.v=function(){var S=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);S[0]=128;for(var C=1;C<S.length-8;++C)S[C]=0;var P=8*this.o;for(C=S.length-8;C<S.length;++C)S[C]=P&255,P/=256;for(this.u(S),S=Array(16),C=P=0;4>C;++C)for(var D=0;32>D;D+=8)S[P++]=this.g[C]>>>D&255;return S};function s(S,C){var P=a;return Object.prototype.hasOwnProperty.call(P,S)?P[S]:P[S]=C(S)}function o(S,C){this.h=C;for(var P=[],D=!0,V=S.length-1;0<=V;V--){var L=S[V]|0;D&&L==C||(P[V]=L,D=!1)}this.g=P}var a={};function l(S){return-128<=S&&128>S?s(S,function(C){return new o([C|0],0>C?-1:0)}):new o([S|0],0>S?-1:0)}function u(S){if(isNaN(S)||!isFinite(S))return f;if(0>S)return I(u(-S));for(var C=[],P=1,D=0;S>=P;D++)C[D]=S/P|0,P*=4294967296;return new o(C,0)}function d(S,C){if(S.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(S.charAt(0)=="-")return I(d(S.substring(1),C));if(0<=S.indexOf("-"))throw Error('number format error: interior "-" character');for(var P=u(Math.pow(C,8)),D=f,V=0;V<S.length;V+=8){var L=Math.min(8,S.length-V),M=parseInt(S.substring(V,V+L),C);8>L?(L=u(Math.pow(C,L)),D=D.j(L).add(u(M))):(D=D.j(P),D=D.add(u(M)))}return D}var f=l(0),h=l(1),g=l(16777216);t=o.prototype,t.m=function(){if(_(this))return-I(this).m();for(var S=0,C=1,P=0;P<this.g.length;P++){var D=this.i(P);S+=(0<=D?D:4294967296+D)*C,C*=4294967296}return S},t.toString=function(S){if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(E(this))return"0";if(_(this))return"-"+I(this).toString(S);for(var C=u(Math.pow(S,6)),P=this,D="";;){var V=N(P,C).g;P=T(P,V.j(C));var L=((0<P.g.length?P.g[0]:P.h)>>>0).toString(S);if(P=V,E(P))return L+D;for(;6>L.length;)L="0"+L;D=L+D}},t.i=function(S){return 0>S?0:S<this.g.length?this.g[S]:this.h};function E(S){if(S.h!=0)return!1;for(var C=0;C<S.g.length;C++)if(S.g[C]!=0)return!1;return!0}function _(S){return S.h==-1}t.l=function(S){return S=T(this,S),_(S)?-1:E(S)?0:1};function I(S){for(var C=S.g.length,P=[],D=0;D<C;D++)P[D]=~S.g[D];return new o(P,~S.h).add(h)}t.abs=function(){return _(this)?I(this):this},t.add=function(S){for(var C=Math.max(this.g.length,S.g.length),P=[],D=0,V=0;V<=C;V++){var L=D+(this.i(V)&65535)+(S.i(V)&65535),M=(L>>>16)+(this.i(V)>>>16)+(S.i(V)>>>16);D=M>>>16,L&=65535,M&=65535,P[V]=M<<16|L}return new o(P,P[P.length-1]&-2147483648?-1:0)};function T(S,C){return S.add(I(C))}t.j=function(S){if(E(this)||E(S))return f;if(_(this))return _(S)?I(this).j(I(S)):I(I(this).j(S));if(_(S))return I(this.j(I(S)));if(0>this.l(g)&&0>S.l(g))return u(this.m()*S.m());for(var C=this.g.length+S.g.length,P=[],D=0;D<2*C;D++)P[D]=0;for(D=0;D<this.g.length;D++)for(var V=0;V<S.g.length;V++){var L=this.i(D)>>>16,M=this.i(D)&65535,ne=S.i(V)>>>16,ie=S.i(V)&65535;P[2*D+2*V]+=M*ie,w(P,2*D+2*V),P[2*D+2*V+1]+=L*ie,w(P,2*D+2*V+1),P[2*D+2*V+1]+=M*ne,w(P,2*D+2*V+1),P[2*D+2*V+2]+=L*ne,w(P,2*D+2*V+2)}for(D=0;D<C;D++)P[D]=P[2*D+1]<<16|P[2*D];for(D=C;D<2*C;D++)P[D]=0;return new o(P,0)};function w(S,C){for(;(S[C]&65535)!=S[C];)S[C+1]+=S[C]>>>16,S[C]&=65535,C++}function A(S,C){this.g=S,this.h=C}function N(S,C){if(E(C))throw Error("division by zero");if(E(S))return new A(f,f);if(_(S))return C=N(I(S),C),new A(I(C.g),I(C.h));if(_(C))return C=N(S,I(C)),new A(I(C.g),C.h);if(30<S.g.length){if(_(S)||_(C))throw Error("slowDivide_ only works with positive integers.");for(var P=h,D=C;0>=D.l(S);)P=F(P),D=F(D);var V=j(P,1),L=j(D,1);for(D=j(D,2),P=j(P,2);!E(D);){var M=L.add(D);0>=M.l(S)&&(V=V.add(P),L=M),D=j(D,1),P=j(P,1)}return C=T(S,V.j(C)),new A(V,C)}for(V=f;0<=S.l(C);){for(P=Math.max(1,Math.floor(S.m()/C.m())),D=Math.ceil(Math.log(P)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),L=u(P),M=L.j(C);_(M)||0<M.l(S);)P-=D,L=u(P),M=L.j(C);E(L)&&(L=h),V=V.add(L),S=T(S,M)}return new A(V,S)}t.A=function(S){return N(this,S).h},t.and=function(S){for(var C=Math.max(this.g.length,S.g.length),P=[],D=0;D<C;D++)P[D]=this.i(D)&S.i(D);return new o(P,this.h&S.h)},t.or=function(S){for(var C=Math.max(this.g.length,S.g.length),P=[],D=0;D<C;D++)P[D]=this.i(D)|S.i(D);return new o(P,this.h|S.h)},t.xor=function(S){for(var C=Math.max(this.g.length,S.g.length),P=[],D=0;D<C;D++)P[D]=this.i(D)^S.i(D);return new o(P,this.h^S.h)};function F(S){for(var C=S.g.length+1,P=[],D=0;D<C;D++)P[D]=S.i(D)<<1|S.i(D-1)>>>31;return new o(P,S.h)}function j(S,C){var P=C>>5;C%=32;for(var D=S.g.length-P,V=[],L=0;L<D;L++)V[L]=0<C?S.i(L+P)>>>C|S.i(L+P+1)<<32-C:S.i(L+P);return new o(V,S.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,bI=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=d,ks=o}).apply(typeof e1<"u"?e1:typeof self<"u"?self:typeof window<"u"?window:{});var Zd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var PI,dc,kI,Rh,fy,NI,DI,MI;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,p,v){return c==Array.prototype||c==Object.prototype||(c[p]=v.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Zd=="object"&&Zd];for(var p=0;p<c.length;++p){var v=c[p];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=n(this);function i(c,p){if(p)e:{var v=r;c=c.split(".");for(var x=0;x<c.length-1;x++){var q=c[x];if(!(q in v))break e;v=v[q]}c=c[c.length-1],x=v[c],p=p(x),p!=x&&p!=null&&e(v,c,{configurable:!0,writable:!0,value:p})}}function s(c,p){c instanceof String&&(c+="");var v=0,x=!1,q={next:function(){if(!x&&v<c.length){var Q=v++;return{value:p(Q,c[Q]),done:!1}}return x=!0,{done:!0,value:void 0}}};return q[Symbol.iterator]=function(){return q},q}i("Array.prototype.values",function(c){return c||function(){return s(this,function(p,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(c){var p=typeof c;return p=p!="object"?p:c?Array.isArray(c)?"array":p:"null",p=="array"||p=="object"&&typeof c.length=="number"}function u(c){var p=typeof c;return p=="object"&&c!=null||p=="function"}function d(c,p,v){return c.call.apply(c.bind,arguments)}function f(c,p,v){if(!c)throw Error();if(2<arguments.length){var x=Array.prototype.slice.call(arguments,2);return function(){var q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(q,x),c.apply(p,q)}}return function(){return c.apply(p,arguments)}}function h(c,p,v){return h=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:f,h.apply(null,arguments)}function g(c,p){var v=Array.prototype.slice.call(arguments,1);return function(){var x=v.slice();return x.push.apply(x,arguments),c.apply(this,x)}}function E(c,p){function v(){}v.prototype=p.prototype,c.aa=p.prototype,c.prototype=new v,c.prototype.constructor=c,c.Qb=function(x,q,Q){for(var K=Array(arguments.length-2),We=2;We<arguments.length;We++)K[We-2]=arguments[We];return p.prototype[q].apply(x,K)}}function _(c){const p=c.length;if(0<p){const v=Array(p);for(let x=0;x<p;x++)v[x]=c[x];return v}return[]}function I(c,p){for(let v=1;v<arguments.length;v++){const x=arguments[v];if(l(x)){const q=c.length||0,Q=x.length||0;c.length=q+Q;for(let K=0;K<Q;K++)c[q+K]=x[K]}else c.push(x)}}class T{constructor(p,v){this.i=p,this.j=v,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function w(c){return/^[\s\xa0]*$/.test(c)}function A(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function N(c){return N[" "](c),c}N[" "]=function(){};var F=A().indexOf("Gecko")!=-1&&!(A().toLowerCase().indexOf("webkit")!=-1&&A().indexOf("Edge")==-1)&&!(A().indexOf("Trident")!=-1||A().indexOf("MSIE")!=-1)&&A().indexOf("Edge")==-1;function j(c,p,v){for(const x in c)p.call(v,c[x],x,c)}function S(c,p){for(const v in c)p.call(void 0,c[v],v,c)}function C(c){const p={};for(const v in c)p[v]=c[v];return p}const P="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(c,p){let v,x;for(let q=1;q<arguments.length;q++){x=arguments[q];for(v in x)c[v]=x[v];for(let Q=0;Q<P.length;Q++)v=P[Q],Object.prototype.hasOwnProperty.call(x,v)&&(c[v]=x[v])}}function V(c){var p=1;c=c.split(":");const v=[];for(;0<p&&c.length;)v.push(c.shift()),p--;return c.length&&v.push(c.join(":")),v}function L(c){a.setTimeout(()=>{throw c},0)}function M(){var c=X;let p=null;return c.g&&(p=c.g,c.g=c.g.next,c.g||(c.h=null),p.next=null),p}class ne{constructor(){this.h=this.g=null}add(p,v){const x=ie.get();x.set(p,v),this.h?this.h.next=x:this.g=x,this.h=x}}var ie=new T(()=>new le,c=>c.reset());class le{constructor(){this.next=this.g=this.h=null}set(p,v){this.h=p,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let pe,z=!1,X=new ne,se=()=>{const c=a.Promise.resolve(void 0);pe=()=>{c.then(te)}};var te=()=>{for(var c;c=M();){try{c.h.call(c.g)}catch(v){L(v)}var p=ie;p.j(c),100>p.h&&(p.h++,c.next=p.g,p.g=c)}z=!1};function ce(){this.s=this.s,this.C=this.C}ce.prototype.s=!1,ce.prototype.ma=function(){this.s||(this.s=!0,this.N())},ce.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function de(c,p){this.type=c,this.g=this.target=p,this.defaultPrevented=!1}de.prototype.h=function(){this.defaultPrevented=!0};var ke=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,p=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};a.addEventListener("test",v,p),a.removeEventListener("test",v,p)}catch{}return c}();function Le(c,p){if(de.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var v=this.type=c.type,x=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=p,p=c.relatedTarget){if(F){e:{try{N(p.nodeName);var q=!0;break e}catch{}q=!1}q||(p=null)}}else v=="mouseover"?p=c.fromElement:v=="mouseout"&&(p=c.toElement);this.relatedTarget=p,x?(this.clientX=x.clientX!==void 0?x.clientX:x.pageX,this.clientY=x.clientY!==void 0?x.clientY:x.pageY,this.screenX=x.screenX||0,this.screenY=x.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Ae[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Le.aa.h.call(this)}}E(Le,de);var Ae={2:"touch",3:"pen",4:"mouse"};Le.prototype.h=function(){Le.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var ve="closure_listenable_"+(1e6*Math.random()|0),Ie=0;function Oe(c,p,v,x,q){this.listener=c,this.proxy=null,this.src=p,this.type=v,this.capture=!!x,this.ha=q,this.key=++Ie,this.da=this.fa=!1}function Ye(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function st(c){this.src=c,this.g={},this.h=0}st.prototype.add=function(c,p,v,x,q){var Q=c.toString();c=this.g[Q],c||(c=this.g[Q]=[],this.h++);var K=he(c,p,x,q);return-1<K?(p=c[K],v||(p.fa=!1)):(p=new Oe(p,this.src,Q,!!x,q),p.fa=v,c.push(p)),p};function Xe(c,p){var v=p.type;if(v in c.g){var x=c.g[v],q=Array.prototype.indexOf.call(x,p,void 0),Q;(Q=0<=q)&&Array.prototype.splice.call(x,q,1),Q&&(Ye(p),c.g[v].length==0&&(delete c.g[v],c.h--))}}function he(c,p,v,x){for(var q=0;q<c.length;++q){var Q=c[q];if(!Q.da&&Q.listener==p&&Q.capture==!!v&&Q.ha==x)return q}return-1}var ge="closure_lm_"+(1e6*Math.random()|0),Ct={};function dt(c,p,v,x,q){if(Array.isArray(p)){for(var Q=0;Q<p.length;Q++)dt(c,p[Q],v,x,q);return null}return v=ro(v),c&&c[ve]?c.K(p,v,u(x)?!!x.capture:!!x,q):Jt(c,p,v,!1,x,q)}function Jt(c,p,v,x,q,Q){if(!p)throw Error("Invalid event type");var K=u(q)?!!q.capture:!!q,We=Zn(c);if(We||(c[ge]=We=new st(c)),v=We.add(p,v,x,K,Q),v.proxy)return v;if(x=$e(),v.proxy=x,x.src=c,x.listener=v,c.addEventListener)ke||(q=K),q===void 0&&(q=!1),c.addEventListener(p.toString(),x,q);else if(c.attachEvent)c.attachEvent(ur(p.toString()),x);else if(c.addListener&&c.removeListener)c.addListener(x);else throw Error("addEventListener and attachEvent are unavailable.");return v}function $e(){function c(v){return p.call(c.src,c.listener,v)}const p=ti;return c}function ot(c,p,v,x,q){if(Array.isArray(p))for(var Q=0;Q<p.length;Q++)ot(c,p[Q],v,x,q);else x=u(x)?!!x.capture:!!x,v=ro(v),c&&c[ve]?(c=c.i,p=String(p).toString(),p in c.g&&(Q=c.g[p],v=he(Q,v,x,q),-1<v&&(Ye(Q[v]),Array.prototype.splice.call(Q,v,1),Q.length==0&&(delete c.g[p],c.h--)))):c&&(c=Zn(c))&&(p=c.g[p.toString()],c=-1,p&&(c=he(p,v,x,q)),(v=-1<c?p[c]:null)&&Zt(v))}function Zt(c){if(typeof c!="number"&&c&&!c.da){var p=c.src;if(p&&p[ve])Xe(p.i,c);else{var v=c.type,x=c.proxy;p.removeEventListener?p.removeEventListener(v,x,c.capture):p.detachEvent?p.detachEvent(ur(v),x):p.addListener&&p.removeListener&&p.removeListener(x),(v=Zn(p))?(Xe(v,c),v.h==0&&(v.src=null,p[ge]=null)):Ye(c)}}}function ur(c){return c in Ct?Ct[c]:Ct[c]="on"+c}function ti(c,p){if(c.da)c=!0;else{p=new Le(p,this);var v=c.listener,x=c.ha||c.src;c.fa&&Zt(c),c=v.call(x,p)}return c}function Zn(c){return c=c[ge],c instanceof st?c:null}var ni="__closure_events_fn_"+(1e9*Math.random()>>>0);function ro(c){return typeof c=="function"?c:(c[ni]||(c[ni]=function(p){return c.handleEvent(p)}),c[ni])}function yt(){ce.call(this),this.i=new st(this),this.M=this,this.F=null}E(yt,ce),yt.prototype[ve]=!0,yt.prototype.removeEventListener=function(c,p,v,x){ot(this,c,p,v,x)};function at(c,p){var v,x=c.F;if(x)for(v=[];x;x=x.F)v.push(x);if(c=c.M,x=p.type||p,typeof p=="string")p=new de(p,c);else if(p instanceof de)p.target=p.target||c;else{var q=p;p=new de(x,c),D(p,q)}if(q=!0,v)for(var Q=v.length-1;0<=Q;Q--){var K=p.g=v[Q];q=ri(K,x,!0,p)&&q}if(K=p.g=c,q=ri(K,x,!0,p)&&q,q=ri(K,x,!1,p)&&q,v)for(Q=0;Q<v.length;Q++)K=p.g=v[Q],q=ri(K,x,!1,p)&&q}yt.prototype.N=function(){if(yt.aa.N.call(this),this.i){var c=this.i,p;for(p in c.g){for(var v=c.g[p],x=0;x<v.length;x++)Ye(v[x]);delete c.g[p],c.h--}}this.F=null},yt.prototype.K=function(c,p,v,x){return this.i.add(String(c),p,!1,v,x)},yt.prototype.L=function(c,p,v,x){return this.i.add(String(c),p,!0,v,x)};function ri(c,p,v,x){if(p=c.i.g[String(p)],!p)return!0;p=p.concat();for(var q=!0,Q=0;Q<p.length;++Q){var K=p[Q];if(K&&!K.da&&K.capture==v){var We=K.listener,Pt=K.ha||K.src;K.fa&&Xe(c.i,K),q=We.call(Pt,x)!==!1&&q}}return q&&!x.defaultPrevented}function dr(c,p,v){if(typeof c=="function")v&&(c=h(c,v));else if(c&&typeof c.handleEvent=="function")c=h(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:a.setTimeout(c,p||0)}function io(c){c.g=dr(()=>{c.g=null,c.i&&(c.i=!1,io(c))},c.l);const p=c.h;c.h=null,c.m.apply(null,p)}class Fi extends ce{constructor(p,v){super(),this.m=p,this.l=v,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:io(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Xn(c){ce.call(this),this.h=c,this.g={}}E(Xn,ce);var hr=[];function fr(c){j(c.g,function(p,v){this.g.hasOwnProperty(v)&&Zt(p)},c),c.g={}}Xn.prototype.N=function(){Xn.aa.N.call(this),fr(this)},Xn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var hn=a.JSON.stringify,fn=a.JSON.parse,Vl=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function Ee(){}Ee.prototype.h=null;function Ne(c){return c.h||(c.h=c.i())}function Ge(){}var Vt={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Xt(){de.call(this,"d")}E(Xt,de);function pr(){de.call(this,"c")}E(pr,de);var tt={},Bi=null;function Ve(){return Bi=Bi||new yt}tt.La="serverreachability";function Wu(c){de.call(this,tt.La,c)}E(Wu,de);function en(c){const p=Ve();at(p,new Wu(p))}tt.STAT_EVENT="statevent";function er(c,p){de.call(this,tt.STAT_EVENT,c),this.stat=p}E(er,de);function zt(c){const p=Ve();at(p,new er(p,c))}tt.Ma="timingevent";function Ku(c,p){de.call(this,tt.Ma,c),this.size=p}E(Ku,de);function ii(c,p){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},p)}function si(){this.g=!0}si.prototype.xa=function(){this.g=!1};function Hu(c,p,v,x,q,Q){c.info(function(){if(c.g)if(Q)for(var K="",We=Q.split("&"),Pt=0;Pt<We.length;Pt++){var Fe=We[Pt].split("=");if(1<Fe.length){var Lt=Fe[0];Fe=Fe[1];var Ft=Lt.split("_");K=2<=Ft.length&&Ft[1]=="type"?K+(Lt+"="+Fe+"&"):K+(Lt+"=redacted&")}}else K=null;else K=Q;return"XMLHTTP REQ ("+x+") [attempt "+q+"]: "+p+`
`+v+`
`+K})}function Jp(c,p,v,x,q,Q,K){c.info(function(){return"XMLHTTP RESP ("+x+") [ attempt "+q+"]: "+p+`
`+v+`
`+Q+" "+K})}function oi(c,p,v,x){c.info(function(){return"XMLHTTP TEXT ("+p+"): "+Zp(c,v)+(x?" "+x:"")})}function so(c,p){c.info(function(){return"TIMEOUT: "+p})}si.prototype.info=function(){};function Zp(c,p){if(!c.g)return p;if(!p)return null;try{var v=JSON.parse(p);if(v){for(c=0;c<v.length;c++)if(Array.isArray(v[c])){var x=v[c];if(!(2>x.length)){var q=x[1];if(Array.isArray(q)&&!(1>q.length)){var Q=q[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(var K=1;K<q.length;K++)q[K]=""}}}}return hn(v)}catch{return p}}var ai={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Jo={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Zo;function oo(){}E(oo,Ee),oo.prototype.g=function(){return new XMLHttpRequest},oo.prototype.i=function(){return{}},Zo=new oo;function mr(c,p,v,x){this.j=c,this.i=p,this.l=v,this.R=x||1,this.U=new Xn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ju}function Ju(){this.i=null,this.g="",this.h=!1}var Zu={},Ll={};function Fl(c,p,v){c.L=1,c.v=sa(Mn(p)),c.m=v,c.P=!0,Xo(c,null)}function Xo(c,p){c.F=Date.now(),ea(c),c.A=Mn(c.v);var v=c.A,x=c.R;Array.isArray(x)||(x=[String(x)]),ld(v.i,"t",x),c.C=0,v=c.j.J,c.h=new Ju,c.g=Id(c.j,v?p:null,!c.m),0<c.O&&(c.M=new Fi(h(c.Y,c,c.g),c.O)),p=c.U,v=c.g,x=c.ca;var q="readystatechange";Array.isArray(q)||(q&&(hr[0]=q.toString()),q=hr);for(var Q=0;Q<q.length;Q++){var K=dt(v,q[Q],x||p.handleEvent,!1,p.h||p);if(!K)break;p.g[K.key]=K}p=c.H?C(c.H):{},c.m?(c.u||(c.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,p)):(c.u="GET",c.g.ea(c.A,c.u,null,p)),en(),Hu(c.i,c.u,c.A,c.l,c.R,c.m)}mr.prototype.ca=function(c){c=c.target;const p=this.M;p&&yr(c)==3?p.j():this.Y(c)},mr.prototype.Y=function(c){try{if(c==this.g)e:{const Ft=yr(this.g);var p=this.g.Ba();const Yi=this.g.Z();if(!(3>Ft)&&(Ft!=3||this.g&&(this.h.h||this.g.oa()||gd(this.g)))){this.J||Ft!=4||p==7||(p==8||0>=Yi?en(3):en(2)),Ul(this);var v=this.g.Z();this.X=v;t:if(Xu(this)){var x=gd(this.g);c="";var q=x.length,Q=yr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){li(this),ao(this);var K="";break t}this.h.i=new a.TextDecoder}for(p=0;p<q;p++)this.h.h=!0,c+=this.h.i.decode(x[p],{stream:!(Q&&p==q-1)});x.length=0,this.h.g+=c,this.C=0,K=this.h.g}else K=this.g.oa();if(this.o=v==200,Jp(this.i,this.u,this.A,this.l,this.R,Ft,v),this.o){if(this.T&&!this.K){t:{if(this.g){var We,Pt=this.g;if((We=Pt.g?Pt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(We)){var Fe=We;break t}}Fe=null}if(v=Fe)oi(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ui(this,v);else{this.o=!1,this.s=3,zt(12),li(this),ao(this);break e}}if(this.P){v=!0;let On;for(;!this.J&&this.C<K.length;)if(On=Xp(this,K),On==Ll){Ft==4&&(this.s=4,zt(14),v=!1),oi(this.i,this.l,null,"[Incomplete Response]");break}else if(On==Zu){this.s=4,zt(15),oi(this.i,this.l,K,"[Invalid Chunk]"),v=!1;break}else oi(this.i,this.l,On,null),Ui(this,On);if(Xu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ft!=4||K.length!=0||this.h.h||(this.s=1,zt(16),v=!1),this.o=this.o&&v,!v)oi(this.i,this.l,K,"[Invalid Chunked Response]"),li(this),ao(this);else if(0<K.length&&!this.W){this.W=!0;var Lt=this.j;Lt.g==this&&Lt.ba&&!Lt.M&&(Lt.j.info("Great, no buffering proxy detected. Bytes received: "+K.length),Yl(Lt),Lt.M=!0,zt(11))}}else oi(this.i,this.l,K,null),Ui(this,K);Ft==4&&li(this),this.o&&!this.J&&(Ft==4?Cd(this.j,this):(this.o=!1,ea(this)))}else cm(this.g),v==400&&0<K.indexOf("Unknown SID")?(this.s=3,zt(12)):(this.s=0,zt(13)),li(this),ao(this)}}}catch{}finally{}};function Xu(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Xp(c,p){var v=c.C,x=p.indexOf(`
`,v);return x==-1?Ll:(v=Number(p.substring(v,x)),isNaN(v)?Zu:(x+=1,x+v>p.length?Ll:(p=p.slice(x,x+v),c.C=x+v,p)))}mr.prototype.cancel=function(){this.J=!0,li(this)};function ea(c){c.S=Date.now()+c.I,Bl(c,c.I)}function Bl(c,p){if(c.B!=null)throw Error("WatchDog timer not null");c.B=ii(h(c.ba,c),p)}function Ul(c){c.B&&(a.clearTimeout(c.B),c.B=null)}mr.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(so(this.i,this.A),this.L!=2&&(en(),zt(17)),li(this),this.s=2,ao(this)):Bl(this,this.S-c)};function ao(c){c.j.G==0||c.J||Cd(c.j,c)}function li(c){Ul(c);var p=c.M;p&&typeof p.ma=="function"&&p.ma(),c.M=null,fr(c.U),c.g&&(p=c.g,c.g=null,p.abort(),p.ma())}function Ui(c,p){try{var v=c.j;if(v.G!=0&&(v.g==c||ta(v.h,c))){if(!c.K&&ta(v.h,c)&&v.G==3){try{var x=v.Da.g.parse(p)}catch{x=null}if(Array.isArray(x)&&x.length==3){var q=x;if(q[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<c.F)ua(v),fo(v);else break e;Ql(v),zt(18)}}else v.za=q[1],0<v.za-v.T&&37500>q[2]&&v.F&&v.v==0&&!v.C&&(v.C=ii(h(v.Za,v),6e3));if(1>=jl(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else di(v,11)}else if((c.K||v.g==c)&&ua(v),!w(p))for(q=v.Da.g.parse(p),p=0;p<q.length;p++){let Fe=q[p];if(v.T=Fe[0],Fe=Fe[1],v.G==2)if(Fe[0]=="c"){v.K=Fe[1],v.ia=Fe[2];const Lt=Fe[3];Lt!=null&&(v.la=Lt,v.j.info("VER="+v.la));const Ft=Fe[4];Ft!=null&&(v.Aa=Ft,v.j.info("SVER="+v.Aa));const Yi=Fe[5];Yi!=null&&typeof Yi=="number"&&0<Yi&&(x=1.5*Yi,v.L=x,v.j.info("backChannelRequestTimeoutMs_="+x)),x=v;const On=c.g;if(On){const fa=On.g?On.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(fa){var Q=x.h;Q.g||fa.indexOf("spdy")==-1&&fa.indexOf("quic")==-1&&fa.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(na(Q,Q.h),Q.h=null))}if(x.D){const Wl=On.g?On.g.getResponseHeader("X-HTTP-Session-Id"):null;Wl&&(x.ya=Wl,He(x.I,x.D,Wl))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-c.F,v.j.info("Handshake RTT: "+v.R+"ms")),x=v;var K=c;if(x.qa=Ad(x,x.J?x.ia:null,x.W),K.K){be(x.h,K);var We=K,Pt=x.L;Pt&&(We.I=Pt),We.B&&(Ul(We),ea(We)),x.g=K}else _d(x);0<v.i.length&&ca(v)}else Fe[0]!="stop"&&Fe[0]!="close"||di(v,7);else v.G==3&&(Fe[0]=="stop"||Fe[0]=="close"?Fe[0]=="stop"?di(v,7):$l(v):Fe[0]!="noop"&&v.l&&v.l.ta(Fe),v.v=0)}}en(4)}catch{}}var em=class{constructor(c,p){this.g=c,this.map=p}};function ed(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function lo(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function jl(c){return c.h?1:c.g?c.g.size:0}function ta(c,p){return c.h?c.h==p:c.g?c.g.has(p):!1}function na(c,p){c.g?c.g.add(p):c.h=p}function be(c,p){c.h&&c.h==p?c.h=null:c.g&&c.g.has(p)&&c.g.delete(p)}ed.prototype.cancel=function(){if(this.i=td(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function td(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let p=c.i;for(const v of c.g.values())p=p.concat(v.D);return p}return _(c.i)}function tm(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(l(c)){for(var p=[],v=c.length,x=0;x<v;x++)p.push(c[x]);return p}p=[],v=0;for(x in c)p[v++]=c[x];return p}function Dn(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(l(c)||typeof c=="string"){var p=[];c=c.length;for(var v=0;v<c;v++)p.push(v);return p}p=[],v=0;for(const x in c)p[v++]=x;return p}}}function nd(c,p){if(c.forEach&&typeof c.forEach=="function")c.forEach(p,void 0);else if(l(c)||typeof c=="string")Array.prototype.forEach.call(c,p,void 0);else for(var v=Dn(c),x=tm(c),q=x.length,Q=0;Q<q;Q++)p.call(void 0,x[Q],v&&v[Q],c)}var ql=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ra(c,p){if(c){c=c.split("&");for(var v=0;v<c.length;v++){var x=c[v].indexOf("="),q=null;if(0<=x){var Q=c[v].substring(0,x);q=c[v].substring(x+1)}else Q=c[v];p(Q,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function ci(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof ci){this.h=c.h,ia(this,c.j),this.o=c.o,this.g=c.g,ji(this,c.s),this.l=c.l;var p=c.i,v=new co;v.i=p.i,p.g&&(v.g=new Map(p.g),v.h=p.h),rd(this,v),this.m=c.m}else c&&(p=String(c).match(ql))?(this.h=!1,ia(this,p[1]||"",!0),this.o=ui(p[2]||""),this.g=ui(p[3]||"",!0),ji(this,p[4]),this.l=ui(p[5]||"",!0),rd(this,p[6]||"",!0),this.m=ui(p[7]||"")):(this.h=!1,this.i=new co(null,this.h))}ci.prototype.toString=function(){var c=[],p=this.j;p&&c.push(pn(p,id,!0),":");var v=this.g;return(v||p=="file")&&(c.push("//"),(p=this.o)&&c.push(pn(p,id,!0),"@"),c.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&c.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(pn(v,v.charAt(0)=="/"?gr:nm,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",pn(v,rm)),c.join("")};function Mn(c){return new ci(c)}function ia(c,p,v){c.j=v?ui(p,!0):p,c.j&&(c.j=c.j.replace(/:$/,""))}function ji(c,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);c.s=p}else c.s=null}function rd(c,p,v){p instanceof co?(c.i=p,im(c.i,c.h)):(v||(p=pn(p,sd)),c.i=new co(p,c.h))}function He(c,p,v){c.i.set(p,v)}function sa(c){return He(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function ui(c,p){return c?p?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function pn(c,p,v){return typeof c=="string"?(c=encodeURI(c).replace(p,Gl),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Gl(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var id=/[#\/\?@]/g,nm=/[#\?:]/g,gr=/[#\?]/g,sd=/[#\?@]/g,rm=/#/g;function co(c,p){this.h=this.g=null,this.i=c||null,this.j=!!p}function Mr(c){c.g||(c.g=new Map,c.h=0,c.i&&ra(c.i,function(p,v){c.add(decodeURIComponent(p.replace(/\+/g," ")),v)}))}t=co.prototype,t.add=function(c,p){Mr(this),this.i=null,c=qi(this,c);var v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(p),this.h+=1,this};function od(c,p){Mr(c),p=qi(c,p),c.g.has(p)&&(c.i=null,c.h-=c.g.get(p).length,c.g.delete(p))}function ad(c,p){return Mr(c),p=qi(c,p),c.g.has(p)}t.forEach=function(c,p){Mr(this),this.g.forEach(function(v,x){v.forEach(function(q){c.call(p,q,x,this)},this)},this)},t.na=function(){Mr(this);const c=Array.from(this.g.values()),p=Array.from(this.g.keys()),v=[];for(let x=0;x<p.length;x++){const q=c[x];for(let Q=0;Q<q.length;Q++)v.push(p[x])}return v},t.V=function(c){Mr(this);let p=[];if(typeof c=="string")ad(this,c)&&(p=p.concat(this.g.get(qi(this,c))));else{c=Array.from(this.g.values());for(let v=0;v<c.length;v++)p=p.concat(c[v])}return p},t.set=function(c,p){return Mr(this),this.i=null,c=qi(this,c),ad(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[p]),this.h+=1,this},t.get=function(c,p){return c?(c=this.V(c),0<c.length?String(c[0]):p):p};function ld(c,p,v){od(c,p),0<v.length&&(c.i=null,c.g.set(qi(c,p),_(v)),c.h+=v.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],p=Array.from(this.g.keys());for(var v=0;v<p.length;v++){var x=p[v];const Q=encodeURIComponent(String(x)),K=this.V(x);for(x=0;x<K.length;x++){var q=Q;K[x]!==""&&(q+="="+encodeURIComponent(String(K[x]))),c.push(q)}}return this.i=c.join("&")};function qi(c,p){return p=String(p),c.j&&(p=p.toLowerCase()),p}function im(c,p){p&&!c.j&&(Mr(c),c.i=null,c.g.forEach(function(v,x){var q=x.toLowerCase();x!=q&&(od(this,x),ld(this,q,v))},c)),c.j=p}function sm(c,p){const v=new si;if(a.Image){const x=new Image;x.onload=g(mn,v,"TestLoadImage: loaded",!0,p,x),x.onerror=g(mn,v,"TestLoadImage: error",!1,p,x),x.onabort=g(mn,v,"TestLoadImage: abort",!1,p,x),x.ontimeout=g(mn,v,"TestLoadImage: timeout",!1,p,x),a.setTimeout(function(){x.ontimeout&&x.ontimeout()},1e4),x.src=c}else p(!1)}function om(c,p){const v=new si,x=new AbortController,q=setTimeout(()=>{x.abort(),mn(v,"TestPingServer: timeout",!1,p)},1e4);fetch(c,{signal:x.signal}).then(Q=>{clearTimeout(q),Q.ok?mn(v,"TestPingServer: ok",!0,p):mn(v,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(q),mn(v,"TestPingServer: error",!1,p)})}function mn(c,p,v,x,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),x(v)}catch{}}function cd(){this.g=new Vl}function ud(c,p,v){const x=v||"";try{nd(c,function(q,Q){let K=q;u(q)&&(K=hn(q)),p.push(x+Q+"="+encodeURIComponent(K))})}catch(q){throw p.push(x+"type="+encodeURIComponent("_badmap")),q}}function uo(c){this.l=c.Ub||null,this.j=c.eb||!1}E(uo,Ee),uo.prototype.g=function(){return new oa(this.l,this.j)},uo.prototype.i=function(c){return function(){return c}}({});function oa(c,p){yt.call(this),this.D=c,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}E(oa,yt),t=oa.prototype,t.open=function(c,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=p,this.readyState=1,ho(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(p.body=c),(this.D||a).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Gi(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,ho(this)),this.g&&(this.readyState=3,ho(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;dd(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function dd(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var p=c.value?c.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!c.done}))&&(this.response=this.responseText+=p)}c.done?Gi(this):ho(this),this.readyState==3&&dd(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,Gi(this))},t.Qa=function(c){this.g&&(this.response=c,Gi(this))},t.ga=function(){this.g&&Gi(this)};function Gi(c){c.readyState=4,c.l=null,c.j=null,c.v=null,ho(c)}t.setRequestHeader=function(c,p){this.u.append(c,p)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],p=this.h.entries();for(var v=p.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=p.next();return c.join(`\r
`)};function ho(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(oa.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function hd(c){let p="";return j(c,function(v,x){p+=x,p+=":",p+=v,p+=`\r
`}),p}function zl(c,p,v){e:{for(x in v){var x=!1;break e}x=!0}x||(v=hd(v),typeof c=="string"?v!=null&&encodeURIComponent(String(v)):He(c,p,v))}function lt(c){yt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}E(lt,yt);var am=/^https?$/i,lm=["POST","PUT"];t=lt.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,p,v,x){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);p=p?p.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Zo.g(),this.v=this.o?Ne(this.o):Ne(Zo),this.g.onreadystatechange=h(this.Ea,this);try{this.B=!0,this.g.open(p,String(c),!0),this.B=!1}catch(Q){fd(this,Q);return}if(c=v||"",v=new Map(this.headers),x)if(Object.getPrototypeOf(x)===Object.prototype)for(var q in x)v.set(q,x[q]);else if(typeof x.keys=="function"&&typeof x.get=="function")for(const Q of x.keys())v.set(Q,x.get(Q));else throw Error("Unknown input type for opt_headers: "+String(x));x=Array.from(v.keys()).find(Q=>Q.toLowerCase()=="content-type"),q=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(lm,p,void 0))||x||q||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,K]of v)this.g.setRequestHeader(Q,K);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{la(this),this.u=!0,this.g.send(c),this.u=!1}catch(Q){fd(this,Q)}};function fd(c,p){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=p,c.m=5,pd(c),aa(c)}function pd(c){c.A||(c.A=!0,at(c,"complete"),at(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,at(this,"complete"),at(this,"abort"),aa(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),aa(this,!0)),lt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?md(this):this.bb())},t.bb=function(){md(this)};function md(c){if(c.h&&typeof o<"u"&&(!c.v[1]||yr(c)!=4||c.Z()!=2)){if(c.u&&yr(c)==4)dr(c.Ea,0,c);else if(at(c,"readystatechange"),yr(c)==4){c.h=!1;try{const K=c.Z();e:switch(K){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var v;if(!(v=p)){var x;if(x=K===0){var q=String(c.D).match(ql)[1]||null;!q&&a.self&&a.self.location&&(q=a.self.location.protocol.slice(0,-1)),x=!am.test(q?q.toLowerCase():"")}v=x}if(v)at(c,"complete"),at(c,"success");else{c.m=6;try{var Q=2<yr(c)?c.g.statusText:""}catch{Q=""}c.l=Q+" ["+c.Z()+"]",pd(c)}}finally{aa(c)}}}}function aa(c,p){if(c.g){la(c);const v=c.g,x=c.v[0]?()=>{}:null;c.g=null,c.v=null,p||at(c,"ready");try{v.onreadystatechange=x}catch{}}}function la(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function yr(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<yr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var p=this.g.responseText;return c&&p.indexOf(c)==0&&(p=p.substring(c.length)),fn(p)}};function gd(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function cm(c){const p={};c=(c.g&&2<=yr(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let x=0;x<c.length;x++){if(w(c[x]))continue;var v=V(c[x]);const q=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const Q=p[q]||[];p[q]=Q,Q.push(v)}S(p,function(x){return x.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function zi(c,p,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||p}function yd(c){this.Aa=0,this.i=[],this.j=new si,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=zi("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=zi("baseRetryDelayMs",5e3,c),this.cb=zi("retryDelaySeedMs",1e4,c),this.Wa=zi("forwardChannelMaxRetries",2,c),this.wa=zi("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new ed(c&&c.concurrentRequestLimit),this.Da=new cd,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=yd.prototype,t.la=8,t.G=1,t.connect=function(c,p,v,x){zt(0),this.W=c,this.H=p||{},v&&x!==void 0&&(this.H.OSID=v,this.H.OAID=x),this.F=this.X,this.I=Ad(this,null,this.W),ca(this)};function $l(c){if(vd(c),c.G==3){var p=c.U++,v=Mn(c.I);if(He(v,"SID",c.K),He(v,"RID",p),He(v,"TYPE","terminate"),po(c,v),p=new mr(c,c.j,p),p.L=2,p.v=sa(Mn(v)),v=!1,a.navigator&&a.navigator.sendBeacon)try{v=a.navigator.sendBeacon(p.v.toString(),"")}catch{}!v&&a.Image&&(new Image().src=p.v,v=!0),v||(p.g=Id(p.j,null),p.g.ea(p.v)),p.F=Date.now(),ea(p)}$i(c)}function fo(c){c.g&&(Yl(c),c.g.cancel(),c.g=null)}function vd(c){fo(c),c.u&&(a.clearTimeout(c.u),c.u=null),ua(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function ca(c){if(!lo(c.h)&&!c.s){c.s=!0;var p=c.Ga;pe||se(),z||(pe(),z=!0),X.add(p,c),c.B=0}}function um(c,p){return jl(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=p.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=ii(h(c.Ga,c,p),da(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const q=new mr(this,this.j,c);let Q=this.o;if(this.S&&(Q?(Q=C(Q),D(Q,this.S)):Q=this.S),this.m!==null||this.O||(q.H=Q,Q=null),this.P)e:{for(var p=0,v=0;v<this.i.length;v++){t:{var x=this.i[v];if("__data__"in x.map&&(x=x.map.__data__,typeof x=="string")){x=x.length;break t}x=void 0}if(x===void 0)break;if(p+=x,4096<p){p=v;break e}if(p===4096||v===this.i.length-1){p=v+1;break e}}p=1e3}else p=1e3;p=Ed(this,q,p),v=Mn(this.I),He(v,"RID",c),He(v,"CVER",22),this.D&&He(v,"X-HTTP-Session-Id",this.D),po(this,v),Q&&(this.O?p="headers="+encodeURIComponent(String(hd(Q)))+"&"+p:this.m&&zl(v,this.m,Q)),na(this.h,q),this.Ua&&He(v,"TYPE","init"),this.P?(He(v,"$req",p),He(v,"SID","null"),q.T=!0,Fl(q,v,null)):Fl(q,v,p),this.G=2}}else this.G==3&&(c?wd(this,c):this.i.length==0||lo(this.h)||wd(this))};function wd(c,p){var v;p?v=p.l:v=c.U++;const x=Mn(c.I);He(x,"SID",c.K),He(x,"RID",v),He(x,"AID",c.T),po(c,x),c.m&&c.o&&zl(x,c.m,c.o),v=new mr(c,c.j,v,c.B+1),c.m===null&&(v.H=c.o),p&&(c.i=p.D.concat(c.i)),p=Ed(c,v,1e3),v.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),na(c.h,v),Fl(v,x,p)}function po(c,p){c.H&&j(c.H,function(v,x){He(p,x,v)}),c.l&&nd({},function(v,x){He(p,x,v)})}function Ed(c,p,v){v=Math.min(c.i.length,v);var x=c.l?h(c.l.Na,c.l,c):null;e:{var q=c.i;let Q=-1;for(;;){const K=["count="+v];Q==-1?0<v?(Q=q[0].g,K.push("ofs="+Q)):Q=0:K.push("ofs="+Q);let We=!0;for(let Pt=0;Pt<v;Pt++){let Fe=q[Pt].g;const Lt=q[Pt].map;if(Fe-=Q,0>Fe)Q=Math.max(0,q[Pt].g-100),We=!1;else try{ud(Lt,K,"req"+Fe+"_")}catch{x&&x(Lt)}}if(We){x=K.join("&");break e}}}return c=c.i.splice(0,v),p.D=c,x}function _d(c){if(!c.g&&!c.u){c.Y=1;var p=c.Fa;pe||se(),z||(pe(),z=!0),X.add(p,c),c.v=0}}function Ql(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=ii(h(c.Fa,c),da(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,Td(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=ii(h(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,zt(10),fo(this),Td(this))};function Yl(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function Td(c){c.g=new mr(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var p=Mn(c.qa);He(p,"RID","rpc"),He(p,"SID",c.K),He(p,"AID",c.T),He(p,"CI",c.F?"0":"1"),!c.F&&c.ja&&He(p,"TO",c.ja),He(p,"TYPE","xmlhttp"),po(c,p),c.m&&c.o&&zl(p,c.m,c.o),c.L&&(c.g.I=c.L);var v=c.g;c=c.ia,v.L=1,v.v=sa(Mn(p)),v.m=null,v.P=!0,Xo(v,c)}t.Za=function(){this.C!=null&&(this.C=null,fo(this),Ql(this),zt(19))};function ua(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function Cd(c,p){var v=null;if(c.g==p){ua(c),Yl(c),c.g=null;var x=2}else if(ta(c.h,p))v=p.D,be(c.h,p),x=1;else return;if(c.G!=0){if(p.o)if(x==1){v=p.m?p.m.length:0,p=Date.now()-p.F;var q=c.B;x=Ve(),at(x,new Ku(x,v)),ca(c)}else _d(c);else if(q=p.s,q==3||q==0&&0<p.X||!(x==1&&um(c,p)||x==2&&Ql(c)))switch(v&&0<v.length&&(p=c.h,p.i=p.i.concat(v)),q){case 1:di(c,5);break;case 4:di(c,10);break;case 3:di(c,6);break;default:di(c,2)}}}function da(c,p){let v=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(v*=2),v*p}function di(c,p){if(c.j.info("Error code "+p),p==2){var v=h(c.fb,c),x=c.Xa;const q=!x;x=new ci(x||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||ia(x,"https"),sa(x),q?sm(x.toString(),v):om(x.toString(),v)}else zt(2);c.G=0,c.l&&c.l.sa(p),$i(c),vd(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),zt(2)):(this.j.info("Failed to ping google.com"),zt(1))};function $i(c){if(c.G=0,c.ka=[],c.l){const p=td(c.h);(p.length!=0||c.i.length!=0)&&(I(c.ka,p),I(c.ka,c.i),c.h.i.length=0,_(c.i),c.i.length=0),c.l.ra()}}function Ad(c,p,v){var x=v instanceof ci?Mn(v):new ci(v);if(x.g!="")p&&(x.g=p+"."+x.g),ji(x,x.s);else{var q=a.location;x=q.protocol,p=p?p+"."+q.hostname:q.hostname,q=+q.port;var Q=new ci(null);x&&ia(Q,x),p&&(Q.g=p),q&&ji(Q,q),v&&(Q.l=v),x=Q}return v=c.D,p=c.ya,v&&p&&He(x,v,p),He(x,"VER",c.la),po(c,x),x}function Id(c,p,v){if(p&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=c.Ca&&!c.pa?new lt(new uo({eb:v})):new lt(c.pa),p.Ha(c.J),p}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Rd(){}t=Rd.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function ha(){}ha.prototype.g=function(c,p){return new gn(c,p)};function gn(c,p){yt.call(this),this.g=new yd(p),this.l=c,this.h=p&&p.messageUrlParams||null,c=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(c?c["X-WebChannel-Content-Type"]=p.messageContentType:c={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(c?c["X-WebChannel-Client-Profile"]=p.va:c={"X-WebChannel-Client-Profile":p.va}),this.g.S=c,(c=p&&p.Sb)&&!w(c)&&(this.g.m=c),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!w(p)&&(this.g.D=p,c=this.h,c!==null&&p in c&&(c=this.h,p in c&&delete c[p])),this.j=new Qi(this)}E(gn,yt),gn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},gn.prototype.close=function(){$l(this.g)},gn.prototype.o=function(c){var p=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.u&&(v={},v.__data__=hn(c),c=v);p.i.push(new em(p.Ya++,c)),p.G==3&&ca(p)},gn.prototype.N=function(){this.g.l=null,delete this.j,$l(this.g),delete this.g,gn.aa.N.call(this)};function Sd(c){Xt.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var p=c.__sm__;if(p){e:{for(const v in p){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,p=p!==null&&c in p?p[c]:void 0),this.data=p}else this.data=c}E(Sd,Xt);function xd(){pr.call(this),this.status=1}E(xd,pr);function Qi(c){this.g=c}E(Qi,Rd),Qi.prototype.ua=function(){at(this.g,"a")},Qi.prototype.ta=function(c){at(this.g,new Sd(c))},Qi.prototype.sa=function(c){at(this.g,new xd)},Qi.prototype.ra=function(){at(this.g,"b")},ha.prototype.createWebChannel=ha.prototype.g,gn.prototype.send=gn.prototype.o,gn.prototype.open=gn.prototype.m,gn.prototype.close=gn.prototype.close,MI=function(){return new ha},DI=function(){return Ve()},NI=tt,fy={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ai.NO_ERROR=0,ai.TIMEOUT=8,ai.HTTP_ERROR=6,Rh=ai,Jo.COMPLETE="complete",kI=Jo,Ge.EventType=Vt,Vt.OPEN="a",Vt.CLOSE="b",Vt.ERROR="c",Vt.MESSAGE="d",yt.prototype.listen=yt.prototype.K,dc=Ge,lt.prototype.listenOnce=lt.prototype.L,lt.prototype.getLastError=lt.prototype.Ka,lt.prototype.getLastErrorCode=lt.prototype.Ba,lt.prototype.getStatus=lt.prototype.Z,lt.prototype.getResponseJson=lt.prototype.Oa,lt.prototype.getResponseText=lt.prototype.oa,lt.prototype.send=lt.prototype.ea,lt.prototype.setWithCredentials=lt.prototype.Ha,PI=lt}).apply(typeof Zd<"u"?Zd:typeof self<"u"?self:typeof window<"u"?window:{});const t1="@firebase/firestore",n1="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}an.UNAUTHENTICATED=new an(null),an.GOOGLE_CREDENTIALS=new an("google-credentials-uid"),an.FIRST_PARTY=new an("first-party-uid"),an.MOCK_USER=new an("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xl="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fo=new s0("@firebase/firestore");function ma(){return Fo.logLevel}function ue(t,...e){if(Fo.logLevel<=De.DEBUG){const n=e.map(l0);Fo.debug(`Firestore (${xl}): ${t}`,...n)}}function Pi(t,...e){if(Fo.logLevel<=De.ERROR){const n=e.map(l0);Fo.error(`Firestore (${xl}): ${t}`,...n)}}function Ls(t,...e){if(Fo.logLevel<=De.WARN){const n=e.map(l0);Fo.warn(`Firestore (${xl}): ${t}`,...n)}}function l0(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ye(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,OI(t,r,n)}function OI(t,e,n){let r=`FIRESTORE (${xl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Pi(r),new Error(r)}function Ue(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||OI(e,i,r)}function Ce(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ae extends Li{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VI{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class x4{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(an.UNAUTHENTICATED))}shutdown(){}}class b4{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class P4{constructor(e){this.t=e,this.currentUser=an.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ue(this.o===void 0,42304);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new zr;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new zr,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new zr)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ue(typeof r.accessToken=="string",31837,{l:r}),new VI(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ue(e===null||typeof e=="string",2055,{h:e}),new an(e)}}class k4{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=an.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class N4{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new k4(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(an.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class r1{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class D4{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,sr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ue(this.o===void 0,3512);const r=s=>{s.error!=null&&ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.m;return this.m=s.token,ue("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new r1(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ue(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new r1(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M4(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LI(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c0{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=M4(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}}function xe(t,e){return t<e?-1:t>e?1:0}function py(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),i=e.codePointAt(n);if(r!==i){if(r<128&&i<128)return xe(r,i);{const s=LI(),o=O4(s.encode(i1(t,n)),s.encode(i1(e,n)));return o!==0?o:xe(r,i)}}n+=r>65535?2:1}return xe(t.length,e.length)}function i1(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function O4(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return xe(t[n],e[n]);return xe(t.length,e.length)}function dl(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s1="__name__";class Lr{constructor(e,n,r){n===void 0?n=0:n>e.length&&ye(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&ye(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Lr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Lr?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=Lr.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return xe(e.length,n.length)}static compareSegments(e,n){const r=Lr.isNumericId(e),i=Lr.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Lr.extractNumericId(e).compare(Lr.extractNumericId(n)):py(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ks.fromString(e.substring(4,e.length-2))}}class Je extends Lr{construct(e,n,r){return new Je(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ae(W.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Je(n)}static emptyPath(){return new Je([])}}const V4=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Yt extends Lr{construct(e,n,r){return new Yt(e,n,r)}static isValidIdentifier(e){return V4.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Yt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===s1}static keyField(){return new Yt([s1])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new ae(W.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new ae(W.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new ae(W.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new ae(W.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Yt(n)}static emptyPath(){return new Yt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class me{constructor(e){this.path=e}static fromPath(e){return new me(Je.fromString(e))}static fromName(e){return new me(Je.fromString(e).popFirst(5))}static empty(){return new me(Je.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Je.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Je.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new me(new Je(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FI(t,e,n){if(!n)throw new ae(W.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function L4(t,e,n,r){if(e===!0&&r===!0)throw new ae(W.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function o1(t){if(!me.isDocumentKey(t))throw new ae(W.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function a1(t){if(me.isDocumentKey(t))throw new ae(W.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function BI(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function mp(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ye(12329,{type:typeof t})}function $n(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ae(W.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=mp(t);throw new ae(W.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xt(t,e){const n={typeString:t};return e&&(n.value=e),n}function Su(t,e){if(!BI(t))throw new ae(W.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,s="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(i&&typeof o!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(s!==void 0&&o!==s.value){n=`Expected '${r}' field to equal '${s.value}'`;break}}if(n)throw new ae(W.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l1=-62135596800,c1=1e6;class Ze{static now(){return Ze.fromMillis(Date.now())}static fromDate(e){return Ze.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*c1);return new Ze(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ae(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ae(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<l1)throw new ae(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ae(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/c1}_compareTo(e){return this.seconds===e.seconds?xe(this.nanoseconds,e.nanoseconds):xe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ze._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Su(e,Ze._jsonSchema))return new Ze(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-l1;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ze._jsonSchemaVersion="firestore/timestamp/1.0",Ze._jsonSchema={type:xt("string",Ze._jsonSchemaVersion),seconds:xt("number"),nanoseconds:xt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{static fromTimestamp(e){return new _e(e)}static min(){return new _e(new Ze(0,0))}static max(){return new _e(new Ze(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tu=-1;function F4(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=_e.fromTimestamp(r===1e9?new Ze(n+1,0):new Ze(n,r));return new Fs(i,me.empty(),e)}function B4(t){return new Fs(t.readTime,t.key,tu)}class Fs{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Fs(_e.min(),me.empty(),tu)}static max(){return new Fs(_e.max(),me.empty(),tu)}}function U4(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=me.comparator(t.documentKey,e.documentKey),n!==0?n:xe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j4="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class q4{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bl(t){if(t.code!==W.FAILED_PRECONDITION||t.message!==j4)throw t;ue("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ye(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new H((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof H?n:H.resolve(n)}catch(n){return H.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):H.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):H.reject(n)}static resolve(e){return new H((n,r)=>{n(e)})}static reject(e){return new H((n,r)=>{r(e)})}static waitFor(e){return new H((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=H.resolve(!1);for(const r of e)n=n.next(i=>i?H.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new H((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(e[u]).next(d=>{o[u]=d,++a,a===s&&r(o)},d=>i(d))}})}static doWhile(e,n){return new H((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function G4(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Pl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gp{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this._e(r),this.ae=r=>n.writeSequenceNumber(r))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}gp.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u0=-1;function xu(t){return t==null}function yf(t){return t===0&&1/t==-1/0}function z4(t){return typeof t=="number"&&Number.isInteger(t)&&!yf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UI="";function $4(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=u1(e)),e=Q4(t.get(n),e);return u1(e)}function Q4(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case UI:n+="";break;default:n+=s}}return n}function u1(t){return t+UI+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d1(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Zs(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function jI(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(e,n){this.comparator=e,this.root=n||Qt.EMPTY}insert(e,n){return new gt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Qt.BLACK,null,null))}remove(e){return new gt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Qt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Xd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Xd(this.root,e,this.comparator,!1)}getReverseIterator(){return new Xd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Xd(this.root,e,this.comparator,!0)}}class Xd{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Qt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Qt.RED,this.left=i??Qt.EMPTY,this.right=s??Qt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Qt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Qt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Qt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Qt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Qt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ye(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ye(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ye(27949);return e+(this.isRed()?0:1)}}Qt.EMPTY=null,Qt.RED=!0,Qt.BLACK=!1;Qt.EMPTY=new class{constructor(){this.size=0}get key(){throw ye(57766)}get value(){throw ye(16141)}get color(){throw ye(16727)}get left(){throw ye(29726)}get right(){throw ye(36894)}copy(e,n,r,i,s){return this}insert(e,n,r){return new Qt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(e){this.comparator=e,this.data=new gt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new h1(this.data.getIterator())}getIteratorFrom(e){return new h1(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Ot)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ot(this.comparator);return n.data=e,n}}class h1{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn{constructor(e){this.fields=e,e.sort(Yt.comparator)}static empty(){return new Gn([])}unionWith(e){let n=new Ot(Yt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Gn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return dl(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qI extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new qI("Invalid base64 string: "+s):s}}(e);return new Ht(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new Ht(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return xe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ht.EMPTY_BYTE_STRING=new Ht("");const Y4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Bs(t){if(Ue(!!t,39018),typeof t=="string"){let e=0;const n=Y4.exec(t);if(Ue(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Et(t.seconds),nanos:Et(t.nanos)}}function Et(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Us(t){return typeof t=="string"?Ht.fromBase64String(t):Ht.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GI="server_timestamp",zI="__type__",$I="__previous_value__",QI="__local_write_time__";function d0(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[zI])===null||n===void 0?void 0:n.stringValue)===GI}function yp(t){const e=t.mapValue.fields[$I];return d0(e)?yp(e):e}function nu(t){const e=Bs(t.mapValue.fields[QI].timestampValue);return new Ze(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W4{constructor(e,n,r,i,s,o,a,l,u,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u,this.isUsingEmulator=d}}const vf="(default)";class ru{constructor(e,n){this.projectId=e,this.database=n||vf}static empty(){return new ru("","")}get isDefaultDatabase(){return this.database===vf}isEqual(e){return e instanceof ru&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YI="__type__",WI="__max__",eh={mapValue:{fields:{__type__:{stringValue:WI}}}},KI="__vector__",wf="value";function js(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?d0(t)?4:H4(t)?9007199254740991:K4(t)?10:11:ye(28295,{value:t})}function Jr(t,e){if(t===e)return!0;const n=js(t);if(n!==js(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return nu(t).isEqual(nu(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Bs(i.timestampValue),a=Bs(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Us(i.bytesValue).isEqual(Us(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Et(i.geoPointValue.latitude)===Et(s.geoPointValue.latitude)&&Et(i.geoPointValue.longitude)===Et(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Et(i.integerValue)===Et(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Et(i.doubleValue),a=Et(s.doubleValue);return o===a?yf(o)===yf(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return dl(t.arrayValue.values||[],e.arrayValue.values||[],Jr);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(d1(o)!==d1(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Jr(o[l],a[l])))return!1;return!0}(t,e);default:return ye(52216,{left:t})}}function iu(t,e){return(t.values||[]).find(n=>Jr(n,e))!==void 0}function hl(t,e){if(t===e)return 0;const n=js(t),r=js(e);if(n!==r)return xe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return xe(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=Et(s.integerValue||s.doubleValue),l=Et(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return f1(t.timestampValue,e.timestampValue);case 4:return f1(nu(t),nu(e));case 5:return py(t.stringValue,e.stringValue);case 6:return function(s,o){const a=Us(s),l=Us(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const d=xe(a[u],l[u]);if(d!==0)return d}return xe(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=xe(Et(s.latitude),Et(o.latitude));return a!==0?a:xe(Et(s.longitude),Et(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return p1(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,l,u,d;const f=s.fields||{},h=o.fields||{},g=(a=f[wf])===null||a===void 0?void 0:a.arrayValue,E=(l=h[wf])===null||l===void 0?void 0:l.arrayValue,_=xe(((u=g==null?void 0:g.values)===null||u===void 0?void 0:u.length)||0,((d=E==null?void 0:E.values)===null||d===void 0?void 0:d.length)||0);return _!==0?_:p1(g,E)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===eh.mapValue&&o===eh.mapValue)return 0;if(s===eh.mapValue)return 1;if(o===eh.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),u=o.fields||{},d=Object.keys(u);l.sort(),d.sort();for(let f=0;f<l.length&&f<d.length;++f){const h=py(l[f],d[f]);if(h!==0)return h;const g=hl(a[l[f]],u[d[f]]);if(g!==0)return g}return xe(l.length,d.length)}(t.mapValue,e.mapValue);default:throw ye(23264,{le:n})}}function f1(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return xe(t,e);const n=Bs(t),r=Bs(e),i=xe(n.seconds,r.seconds);return i!==0?i:xe(n.nanos,r.nanos)}function p1(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=hl(n[i],r[i]);if(s)return s}return xe(n.length,r.length)}function fl(t){return my(t)}function my(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Bs(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Us(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return me.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=my(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${my(n.fields[o])}`;return i+"}"}(t.mapValue):ye(61005,{value:t})}function Sh(t){switch(js(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=yp(t);return e?16+Sh(e):16;case 5:return 2*t.stringValue.length;case 6:return Us(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+Sh(s),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return Zs(r.fields,(s,o)=>{i+=s.length+Sh(o)}),i}(t.mapValue);default:throw ye(13486,{value:t})}}function m1(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function gy(t){return!!t&&"integerValue"in t}function h0(t){return!!t&&"arrayValue"in t}function g1(t){return!!t&&"nullValue"in t}function y1(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function xh(t){return!!t&&"mapValue"in t}function K4(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[YI])===null||n===void 0?void 0:n.stringValue)===KI}function xc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Zs(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=xc(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=xc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function H4(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===WI}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e){this.value=e}static empty(){return new En({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!xh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=xc(n)}setAll(e){let n=Yt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=xc(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());xh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Jr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];xh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Zs(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new En(xc(this.value))}}function HI(t){const e=[];return Zs(t.fields,(n,r)=>{const i=new Yt([n]);if(xh(r)){const s=HI(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Gn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new qt(e,0,_e.min(),_e.min(),_e.min(),En.empty(),0)}static newFoundDocument(e,n,r,i){return new qt(e,1,n,_e.min(),r,i,0)}static newNoDocument(e,n){return new qt(e,2,n,_e.min(),_e.min(),En.empty(),0)}static newUnknownDocument(e,n){return new qt(e,3,n,_e.min(),_e.min(),En.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(_e.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=En.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=En.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=_e.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof qt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new qt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ef{constructor(e,n){this.position=e,this.inclusive=n}}function v1(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=me.comparator(me.fromName(o.referenceValue),n.key):r=hl(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function w1(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Jr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _f{constructor(e,n="asc"){this.field=e,this.dir=n}}function J4(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JI{}class St extends JI{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new X4(e,n,r):n==="array-contains"?new nO(e,r):n==="in"?new rO(e,r):n==="not-in"?new iO(e,r):n==="array-contains-any"?new sO(e,r):new St(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new eO(e,r):new tO(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(hl(n,this.value)):n!==null&&js(this.value)===js(n)&&this.matchesComparison(hl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ye(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class br extends JI{constructor(e,n){super(),this.filters=e,this.op=n,this.he=null}static create(e,n){return new br(e,n)}matches(e){return ZI(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function ZI(t){return t.op==="and"}function XI(t){return Z4(t)&&ZI(t)}function Z4(t){for(const e of t.filters)if(e instanceof br)return!1;return!0}function yy(t){if(t instanceof St)return t.field.canonicalString()+t.op.toString()+fl(t.value);if(XI(t))return t.filters.map(e=>yy(e)).join(",");{const e=t.filters.map(n=>yy(n)).join(",");return`${t.op}(${e})`}}function eR(t,e){return t instanceof St?function(r,i){return i instanceof St&&r.op===i.op&&r.field.isEqual(i.field)&&Jr(r.value,i.value)}(t,e):t instanceof br?function(r,i){return i instanceof br&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&eR(o,i.filters[a]),!0):!1}(t,e):void ye(19439)}function tR(t){return t instanceof St?function(n){return`${n.field.canonicalString()} ${n.op} ${fl(n.value)}`}(t):t instanceof br?function(n){return n.op.toString()+" {"+n.getFilters().map(tR).join(" ,")+"}"}(t):"Filter"}class X4 extends St{constructor(e,n,r){super(e,n,r),this.key=me.fromName(r.referenceValue)}matches(e){const n=me.comparator(e.key,this.key);return this.matchesComparison(n)}}class eO extends St{constructor(e,n){super(e,"in",n),this.keys=nR("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class tO extends St{constructor(e,n){super(e,"not-in",n),this.keys=nR("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function nR(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>me.fromName(r.referenceValue))}class nO extends St{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return h0(n)&&iu(n.arrayValue,this.value)}}class rO extends St{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&iu(this.value.arrayValue,n)}}class iO extends St{constructor(e,n){super(e,"not-in",n)}matches(e){if(iu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!iu(this.value.arrayValue,n)}}class sO extends St{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!h0(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>iu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oO{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.Pe=null}}function E1(t,e=null,n=[],r=[],i=null,s=null,o=null){return new oO(t,e,n,r,i,s,o)}function f0(t){const e=Ce(t);if(e.Pe===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>yy(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),xu(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>fl(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>fl(r)).join(",")),e.Pe=n}return e.Pe}function p0(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!J4(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!eR(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!w1(t.startAt,e.startAt)&&w1(t.endAt,e.endAt)}function vy(t){return me.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bu{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function aO(t,e,n,r,i,s,o,a){return new bu(t,e,n,r,i,s,o,a)}function vp(t){return new bu(t)}function _1(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function rR(t){return t.collectionGroup!==null}function bc(t){const e=Ce(t);if(e.Te===null){e.Te=[];const n=new Set;for(const s of e.explicitOrderBy)e.Te.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Ot(Yt.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.Te.push(new _f(s,r))}),n.has(Yt.keyField().canonicalString())||e.Te.push(new _f(Yt.keyField(),r))}return e.Te}function $r(t){const e=Ce(t);return e.Ie||(e.Ie=lO(e,bc(t))),e.Ie}function lO(t,e){if(t.limitType==="F")return E1(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new _f(i.field,s)});const n=t.endAt?new Ef(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Ef(t.startAt.position,t.startAt.inclusive):null;return E1(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function wy(t,e){const n=t.filters.concat([e]);return new bu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Ey(t,e,n){return new bu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function wp(t,e){return p0($r(t),$r(e))&&t.limitType===e.limitType}function iR(t){return`${f0($r(t))}|lt:${t.limitType}`}function ga(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>tR(i)).join(", ")}]`),xu(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>fl(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>fl(i)).join(",")),`Target(${r})`}($r(t))}; limitType=${t.limitType})`}function Ep(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):me.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of bc(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const u=v1(o,a,l);return o.inclusive?u<=0:u<0}(r.startAt,bc(r),i)||r.endAt&&!function(o,a,l){const u=v1(o,a,l);return o.inclusive?u>=0:u>0}(r.endAt,bc(r),i))}(t,e)}function cO(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function sR(t){return(e,n)=>{let r=!1;for(const i of bc(t)){const s=uO(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function uO(t,e,n){const r=t.field.isKeyField()?me.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),u=a.data.field(s);return l!==null&&u!==null?hl(l,u):ye(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ye(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $o{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Zs(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return jI(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dO=new gt(me.comparator);function ki(){return dO}const oR=new gt(me.comparator);function hc(...t){let e=oR;for(const n of t)e=e.insert(n.key,n);return e}function aR(t){let e=oR;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function _o(){return Pc()}function lR(){return Pc()}function Pc(){return new $o(t=>t.toString(),(t,e)=>t.isEqual(e))}const hO=new gt(me.comparator),fO=new Ot(me.comparator);function Me(...t){let e=fO;for(const n of t)e=e.add(n);return e}const pO=new Ot(xe);function mO(){return pO}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m0(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:yf(e)?"-0":e}}function cR(t){return{integerValue:""+t}}function uR(t,e){return z4(e)?cR(e):m0(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _p{constructor(){this._=void 0}}function gO(t,e,n){return t instanceof Tf?function(i,s){const o={fields:{[zI]:{stringValue:GI},[QI]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&d0(s)&&(s=yp(s)),s&&(o.fields[$I]=s),{mapValue:o}}(n,e):t instanceof su?hR(t,e):t instanceof ou?fR(t,e):function(i,s){const o=dR(i,s),a=T1(o)+T1(i.Ee);return gy(o)&&gy(i.Ee)?cR(a):m0(i.serializer,a)}(t,e)}function yO(t,e,n){return t instanceof su?hR(t,e):t instanceof ou?fR(t,e):n}function dR(t,e){return t instanceof au?function(r){return gy(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Tf extends _p{}class su extends _p{constructor(e){super(),this.elements=e}}function hR(t,e){const n=pR(e);for(const r of t.elements)n.some(i=>Jr(i,r))||n.push(r);return{arrayValue:{values:n}}}class ou extends _p{constructor(e){super(),this.elements=e}}function fR(t,e){let n=pR(e);for(const r of t.elements)n=n.filter(i=>!Jr(i,r));return{arrayValue:{values:n}}}class au extends _p{constructor(e,n){super(),this.serializer=e,this.Ee=n}}function T1(t){return Et(t.integerValue||t.doubleValue)}function pR(t){return h0(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vO{constructor(e,n){this.field=e,this.transform=n}}function wO(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof su&&i instanceof su||r instanceof ou&&i instanceof ou?dl(r.elements,i.elements,Jr):r instanceof au&&i instanceof au?Jr(r.Ee,i.Ee):r instanceof Tf&&i instanceof Tf}(t.transform,e.transform)}class EO{constructor(e,n){this.version=e,this.transformResults=n}}class _n{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new _n}static exists(e){return new _n(void 0,e)}static updateTime(e){return new _n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function bh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}let Tp=class{};function mR(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new g0(t.key,_n.none()):new Pu(t.key,t.data,_n.none());{const n=t.data,r=En.empty();let i=new Ot(Yt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Xs(t.key,r,new Gn(i.toArray()),_n.none())}}function _O(t,e,n){t instanceof Pu?function(i,s,o){const a=i.value.clone(),l=A1(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Xs?function(i,s,o){if(!bh(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=A1(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(gR(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function kc(t,e,n,r){return t instanceof Pu?function(s,o,a,l){if(!bh(s.precondition,o))return a;const u=s.value.clone(),d=I1(s.fieldTransforms,l,o);return u.setAll(d),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Xs?function(s,o,a,l){if(!bh(s.precondition,o))return a;const u=I1(s.fieldTransforms,l,o),d=o.data;return d.setAll(gR(s)),d.setAll(u),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(s,o,a){return bh(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function TO(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=dR(r.transform,i||null);s!=null&&(n===null&&(n=En.empty()),n.set(r.field,s))}return n||null}function C1(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&dl(r,i,(s,o)=>wO(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Pu extends Tp{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Xs extends Tp{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function gR(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function A1(t,e,n){const r=new Map;Ue(t.length===n.length,32656,{Ae:n.length,Re:t.length});for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,yO(o,a,n[i]))}return r}function I1(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,gO(s,o,e))}return r}class g0 extends Tp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class yR extends Tp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CO{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&_O(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=kc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=kc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=lR();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=mR(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(_e.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Me())}isEqual(e){return this.batchId===e.batchId&&dl(this.mutations,e.mutations,(n,r)=>C1(n,r))&&dl(this.baseMutations,e.baseMutations,(n,r)=>C1(n,r))}}class y0{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ue(e.mutations.length===r.length,58842,{Ve:e.mutations.length,me:r.length});let i=function(){return hO}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new y0(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AO{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IO{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var It,Be;function vR(t){switch(t){case W.OK:return ye(64938);case W.CANCELLED:case W.UNKNOWN:case W.DEADLINE_EXCEEDED:case W.RESOURCE_EXHAUSTED:case W.INTERNAL:case W.UNAVAILABLE:case W.UNAUTHENTICATED:return!1;case W.INVALID_ARGUMENT:case W.NOT_FOUND:case W.ALREADY_EXISTS:case W.PERMISSION_DENIED:case W.FAILED_PRECONDITION:case W.ABORTED:case W.OUT_OF_RANGE:case W.UNIMPLEMENTED:case W.DATA_LOSS:return!0;default:return ye(15467,{code:t})}}function wR(t){if(t===void 0)return Pi("GRPC error has no .code"),W.UNKNOWN;switch(t){case It.OK:return W.OK;case It.CANCELLED:return W.CANCELLED;case It.UNKNOWN:return W.UNKNOWN;case It.DEADLINE_EXCEEDED:return W.DEADLINE_EXCEEDED;case It.RESOURCE_EXHAUSTED:return W.RESOURCE_EXHAUSTED;case It.INTERNAL:return W.INTERNAL;case It.UNAVAILABLE:return W.UNAVAILABLE;case It.UNAUTHENTICATED:return W.UNAUTHENTICATED;case It.INVALID_ARGUMENT:return W.INVALID_ARGUMENT;case It.NOT_FOUND:return W.NOT_FOUND;case It.ALREADY_EXISTS:return W.ALREADY_EXISTS;case It.PERMISSION_DENIED:return W.PERMISSION_DENIED;case It.FAILED_PRECONDITION:return W.FAILED_PRECONDITION;case It.ABORTED:return W.ABORTED;case It.OUT_OF_RANGE:return W.OUT_OF_RANGE;case It.UNIMPLEMENTED:return W.UNIMPLEMENTED;case It.DATA_LOSS:return W.DATA_LOSS;default:return ye(39323,{code:t})}}(Be=It||(It={}))[Be.OK=0]="OK",Be[Be.CANCELLED=1]="CANCELLED",Be[Be.UNKNOWN=2]="UNKNOWN",Be[Be.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Be[Be.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Be[Be.NOT_FOUND=5]="NOT_FOUND",Be[Be.ALREADY_EXISTS=6]="ALREADY_EXISTS",Be[Be.PERMISSION_DENIED=7]="PERMISSION_DENIED",Be[Be.UNAUTHENTICATED=16]="UNAUTHENTICATED",Be[Be.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Be[Be.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Be[Be.ABORTED=10]="ABORTED",Be[Be.OUT_OF_RANGE=11]="OUT_OF_RANGE",Be[Be.UNIMPLEMENTED=12]="UNIMPLEMENTED",Be[Be.INTERNAL=13]="INTERNAL",Be[Be.UNAVAILABLE=14]="UNAVAILABLE",Be[Be.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RO=new ks([4294967295,4294967295],0);function R1(t){const e=LI().encode(t),n=new bI;return n.update(e),new Uint8Array(n.digest())}function S1(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new ks([n,r],0),new ks([i,s],0)]}class v0{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new fc(`Invalid padding: ${n}`);if(r<0)throw new fc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new fc(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new fc(`Invalid padding when bitmap length is 0: ${n}`);this.fe=8*e.length-n,this.ge=ks.fromNumber(this.fe)}pe(e,n,r){let i=e.add(n.multiply(ks.fromNumber(r)));return i.compare(RO)===1&&(i=new ks([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const n=R1(e),[r,i]=S1(n);for(let s=0;s<this.hashCount;s++){const o=this.pe(r,i,s);if(!this.ye(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new v0(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.fe===0)return;const n=R1(e),[r,i]=S1(n);for(let s=0;s<this.hashCount;s++){const o=this.pe(r,i,s);this.we(o)}}we(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class fc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cp{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,ku.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Cp(_e.min(),i,new gt(xe),ki(),Me())}}class ku{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new ku(r,n,Me(),Me(),Me())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph{constructor(e,n,r,i){this.Se=e,this.removedTargetIds=n,this.key=r,this.be=i}}class ER{constructor(e,n){this.targetId=e,this.De=n}}class _R{constructor(e,n,r=Ht.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class x1{constructor(){this.ve=0,this.Ce=b1(),this.Fe=Ht.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=Me(),n=Me(),r=Me();return this.Ce.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ye(38017,{changeType:s})}}),new ku(this.Fe,this.Me,e,n,r)}ke(){this.xe=!1,this.Ce=b1()}qe(e,n){this.xe=!0,this.Ce=this.Ce.insert(e,n)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,Ue(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class SO{constructor(e){this.We=e,this.Ge=new Map,this.ze=ki(),this.je=th(),this.Je=th(),this.He=new gt(xe)}Ye(e){for(const n of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(n,e.be):this.Xe(n,e.key,e.be);for(const n of e.removedTargetIds)this.Xe(n,e.key,e.be)}et(e){this.forEachTarget(e,n=>{const r=this.tt(n);switch(e.state){case 0:this.nt(n)&&r.Be(e.resumeToken);break;case 1:r.Ue(),r.Oe||r.ke(),r.Be(e.resumeToken);break;case 2:r.Ue(),r.Oe||this.removeTarget(n);break;case 3:this.nt(n)&&(r.Ke(),r.Be(e.resumeToken));break;case 4:this.nt(n)&&(this.rt(n),r.Be(e.resumeToken));break;default:ye(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Ge.forEach((r,i)=>{this.nt(i)&&n(i)})}it(e){const n=e.targetId,r=e.De.count,i=this.st(n);if(i){const s=i.target;if(vy(s))if(r===0){const o=new me(s.path);this.Xe(n,o,qt.newNoDocument(o,_e.min()))}else Ue(r===1,20013,{expectedCount:r});else{const o=this.ot(n);if(o!==r){const a=this._t(e),l=a?this.ut(a,e,o):1;if(l!==0){this.rt(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(n,u)}}}}}_t(e){const n=e.De.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=Us(r).toUint8Array()}catch(l){if(l instanceof qI)return Ls("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new v0(o,i,s)}catch(l){return Ls(l instanceof fc?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.fe===0?null:a}ut(e,n,r){return n.De.count===r-this.ht(e,n.targetId)?0:2}ht(e,n){const r=this.We.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.We.lt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Xe(n,s,null),i++)}),i}Pt(e){const n=new Map;this.Ge.forEach((s,o)=>{const a=this.st(o);if(a){if(s.current&&vy(a.target)){const l=new me(a.target.path);this.Tt(l).has(o)||this.It(o,l)||this.Xe(o,l,qt.newNoDocument(l,e))}s.Ne&&(n.set(o,s.Le()),s.ke())}});let r=Me();this.Je.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.st(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ze.forEach((s,o)=>o.setReadTime(e));const i=new Cp(e,n,this.He,this.ze,r);return this.ze=ki(),this.je=th(),this.Je=th(),this.He=new gt(xe),i}Ze(e,n){if(!this.nt(e))return;const r=this.It(e,n.key)?2:0;this.tt(e).qe(n.key,r),this.ze=this.ze.insert(n.key,n),this.je=this.je.insert(n.key,this.Tt(n.key).add(e)),this.Je=this.Je.insert(n.key,this.dt(n.key).add(e))}Xe(e,n,r){if(!this.nt(e))return;const i=this.tt(e);this.It(e,n)?i.qe(n,1):i.Qe(n),this.Je=this.Je.insert(n,this.dt(n).delete(e)),this.Je=this.Je.insert(n,this.dt(n).add(e)),r&&(this.ze=this.ze.insert(n,r))}removeTarget(e){this.Ge.delete(e)}ot(e){const n=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let n=this.Ge.get(e);return n||(n=new x1,this.Ge.set(e,n)),n}dt(e){let n=this.Je.get(e);return n||(n=new Ot(xe),this.Je=this.Je.insert(e,n)),n}Tt(e){let n=this.je.get(e);return n||(n=new Ot(xe),this.je=this.je.insert(e,n)),n}nt(e){const n=this.st(e)!==null;return n||ue("WatchChangeAggregator","Detected inactive target",e),n}st(e){const n=this.Ge.get(e);return n&&n.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new x1),this.We.getRemoteKeysForTarget(e).forEach(n=>{this.Xe(e,n,null)})}It(e,n){return this.We.getRemoteKeysForTarget(e).has(n)}}function th(){return new gt(me.comparator)}function b1(){return new gt(me.comparator)}const xO={asc:"ASCENDING",desc:"DESCENDING"},bO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},PO={and:"AND",or:"OR"};class kO{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function _y(t,e){return t.useProto3Json||xu(e)?e:{value:e}}function Cf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function TR(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function NO(t,e){return Cf(t,e.toTimestamp())}function Qn(t){return Ue(!!t,49232),_e.fromTimestamp(function(n){const r=Bs(n);return new Ze(r.seconds,r.nanos)}(t))}function w0(t,e){return Ty(t,e).canonicalString()}function Ty(t,e){const n=function(i){return new Je(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function CR(t){const e=Je.fromString(t);return Ue(bR(e),10190,{key:e.toString()}),e}function Af(t,e){return w0(t.databaseId,e.path)}function Nc(t,e){const n=CR(e);if(n.get(1)!==t.databaseId.projectId)throw new ae(W.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ae(W.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new me(IR(n))}function AR(t,e){return w0(t.databaseId,e)}function DO(t){const e=CR(t);return e.length===4?Je.emptyPath():IR(e)}function Cy(t){return new Je(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function IR(t){return Ue(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function P1(t,e,n){return{name:Af(t,e),fields:n.value.mapValue.fields}}function MO(t,e){return"found"in e?function(r,i){Ue(!!i.found,43571),i.found.name,i.found.updateTime;const s=Nc(r,i.found.name),o=Qn(i.found.updateTime),a=i.found.createTime?Qn(i.found.createTime):_e.min(),l=new En({mapValue:{fields:i.found.fields}});return qt.newFoundDocument(s,o,a,l)}(t,e):"missing"in e?function(r,i){Ue(!!i.missing,3894),Ue(!!i.readTime,22933);const s=Nc(r,i.missing),o=Qn(i.readTime);return qt.newNoDocument(s,o)}(t,e):ye(7234,{result:e})}function OO(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:ye(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,d){return u.useProto3Json?(Ue(d===void 0||typeof d=="string",58123),Ht.fromBase64String(d||"")):(Ue(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),Ht.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const d=u.code===void 0?W.UNKNOWN:wR(u.code);return new ae(d,u.message||"")}(o);n=new _R(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Nc(t,r.document.name),s=Qn(r.document.updateTime),o=r.document.createTime?Qn(r.document.createTime):_e.min(),a=new En({mapValue:{fields:r.document.fields}}),l=qt.newFoundDocument(i,s,o,a),u=r.targetIds||[],d=r.removedTargetIds||[];n=new Ph(u,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Nc(t,r.document),s=r.readTime?Qn(r.readTime):_e.min(),o=qt.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Ph([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Nc(t,r.document),s=r.removedTargetIds||[];n=new Ph([],s,i,null)}else{if(!("filter"in e))return ye(11601,{At:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new IO(i,s),a=r.targetId;n=new ER(a,o)}}return n}function RR(t,e){let n;if(e instanceof Pu)n={update:P1(t,e.key,e.value)};else if(e instanceof g0)n={delete:Af(t,e.key)};else if(e instanceof Xs)n={update:P1(t,e.key,e.data),updateMask:zO(e.fieldMask)};else{if(!(e instanceof yR))return ye(16599,{Rt:e.type});n={verify:Af(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof Tf)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof su)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof ou)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof au)return{fieldPath:o.field.canonicalString(),increment:a.Ee};throw ye(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:NO(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:ye(27497)}(t,e.precondition)),n}function VO(t,e){return t&&t.length>0?(Ue(e!==void 0,14353),t.map(n=>function(i,s){let o=i.updateTime?Qn(i.updateTime):Qn(s);return o.isEqual(_e.min())&&(o=Qn(s)),new EO(o,i.transformResults||[])}(n,e))):[]}function LO(t,e){return{documents:[AR(t,e.path)]}}function FO(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=AR(t,i);const s=function(u){if(u.length!==0)return xR(br.create(u,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(u){if(u.length!==0)return u.map(d=>function(h){return{field:ya(h.field),direction:jO(h.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=_y(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{Vt:n,parent:i}}function BO(t){let e=DO(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Ue(r===1,65062);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let s=[];n.where&&(s=function(f){const h=SR(f);return h instanceof br&&XI(h)?h.getFilters():[h]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(h=>function(E){return new _f(va(E.field),function(I){switch(I){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(E.direction))}(h))}(n.orderBy));let a=null;n.limit&&(a=function(f){let h;return h=typeof f=="object"?f.value:f,xu(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(f){const h=!!f.before,g=f.values||[];return new Ef(g,h)}(n.startAt));let u=null;return n.endAt&&(u=function(f){const h=!f.before,g=f.values||[];return new Ef(g,h)}(n.endAt)),aO(e,i,o,s,a,"F",l,u)}function UO(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ye(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function SR(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=va(n.unaryFilter.field);return St.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=va(n.unaryFilter.field);return St.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=va(n.unaryFilter.field);return St.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=va(n.unaryFilter.field);return St.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ye(61313);default:return ye(60726)}}(t):t.fieldFilter!==void 0?function(n){return St.create(va(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ye(58110);default:return ye(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return br.create(n.compositeFilter.filters.map(r=>SR(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ye(1026)}}(n.compositeFilter.op))}(t):ye(30097,{filter:t})}function jO(t){return xO[t]}function qO(t){return bO[t]}function GO(t){return PO[t]}function ya(t){return{fieldPath:t.canonicalString()}}function va(t){return Yt.fromServerFormat(t.fieldPath)}function xR(t){return t instanceof St?function(n){if(n.op==="=="){if(y1(n.value))return{unaryFilter:{field:ya(n.field),op:"IS_NAN"}};if(g1(n.value))return{unaryFilter:{field:ya(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(y1(n.value))return{unaryFilter:{field:ya(n.field),op:"IS_NOT_NAN"}};if(g1(n.value))return{unaryFilter:{field:ya(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ya(n.field),op:qO(n.op),value:n.value}}}(t):t instanceof br?function(n){const r=n.getFilters().map(i=>xR(i));return r.length===1?r[0]:{compositeFilter:{op:GO(n.op),filters:r}}}(t):ye(54877,{filter:t})}function zO(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function bR(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys{constructor(e,n,r,i,s=_e.min(),o=_e.min(),a=Ht.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new ys(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ys(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ys(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ys(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $O{constructor(e){this.gt=e}}function QO(t){const e=BO({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Ey(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YO{constructor(){this.Dn=new WO}addToCollectionParentIndex(e,n){return this.Dn.add(n),H.resolve()}getCollectionParents(e,n){return H.resolve(this.Dn.getEntries(n))}addFieldIndex(e,n){return H.resolve()}deleteFieldIndex(e,n){return H.resolve()}deleteAllFieldIndexes(e){return H.resolve()}createTargetIndexes(e,n){return H.resolve()}getDocumentsMatchingTarget(e,n){return H.resolve(null)}getIndexType(e,n){return H.resolve(0)}getFieldIndexes(e,n){return H.resolve([])}getNextCollectionGroupToUpdate(e){return H.resolve(null)}getMinOffset(e,n){return H.resolve(Fs.min())}getMinOffsetFromCollectionGroup(e,n){return H.resolve(Fs.min())}updateCollectionGroup(e,n,r){return H.resolve()}updateIndexEntries(e,n){return H.resolve()}}class WO{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Ot(Je.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ot(Je.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},PR=41943040;class Sn{static withCacheSize(e){return new Sn(e,Sn.DEFAULT_COLLECTION_PERCENTILE,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Sn.DEFAULT_COLLECTION_PERCENTILE=10,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Sn.DEFAULT=new Sn(PR,Sn.DEFAULT_COLLECTION_PERCENTILE,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Sn.DISABLED=new Sn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pl{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new pl(0)}static ur(){return new pl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N1="LruGarbageCollector",KO=1048576;function D1([t,e],[n,r]){const i=xe(t,n);return i===0?xe(e,r):i}class HO{constructor(e){this.Tr=e,this.buffer=new Ot(D1),this.Ir=0}dr(){return++this.Ir}Er(e){const n=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();D1(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class JO{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){ue(N1,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Pl(n)?ue(N1,"Ignoring IndexedDB error during garbage collection: ",n):await bl(n)}await this.Rr(3e5)})}}class ZO{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.mr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return H.resolve(gp.ue);const r=new HO(n);return this.Vr.forEachTarget(e,i=>r.Er(i.sequenceNumber)).next(()=>this.Vr.gr(e,i=>r.Er(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ue("LruGarbageCollector","Garbage collection skipped; disabled"),H.resolve(k1)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(ue("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),k1):this.pr(e,n))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,n){let r,i,s,o,a,l,u;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(ue("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,o=Date.now(),this.nthSequenceNumber(e,i))).next(f=>(r=f,a=Date.now(),this.removeTargets(e,r,n))).next(f=>(s=f,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(u=Date.now(),ma()<=De.DEBUG&&ue("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(l-a)+`ms
	Removed ${f} documents in `+(u-l)+`ms
Total Duration: ${u-d}ms`),H.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:f})))}}function XO(t,e){return new ZO(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eV{constructor(){this.changes=new $o(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,qt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?H.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tV{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nV{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&kc(r.mutation,i,Gn.empty(),Ze.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Me()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Me()){const i=_o();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=hc();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=_o();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Me()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=ki();const o=Pc(),a=function(){return Pc()}();return n.forEach((l,u)=>{const d=r.get(u.key);i.has(u.key)&&(d===void 0||d.mutation instanceof Xs)?s=s.insert(u.key,u):d!==void 0?(o.set(u.key,d.mutation.getFieldMask()),kc(d.mutation,u,d.mutation.getFieldMask(),Ze.now())):o.set(u.key,Gn.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,d)=>o.set(u,d)),n.forEach((u,d)=>{var f;return a.set(u,new tV(d,(f=o.get(u))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Pc();let i=new gt((o,a)=>o-a),s=Me();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let d=r.get(l)||Gn.empty();d=a.applyToLocalView(u,d),r.set(l,d);const f=(i.get(a.batchId)||Me()).add(l);i=i.insert(a.batchId,f)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,d=l.value,f=lR();d.forEach(h=>{if(!s.has(h)){const g=mR(n.get(h),r.get(h));g!==null&&f.set(h,g),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,f))}return H.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return me.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):rR(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):H.resolve(_o());let a=tu,l=s;return o.next(u=>H.forEach(u,(d,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),s.get(d)?H.resolve():this.remoteDocumentCache.getEntry(e,d).next(h=>{l=l.insert(d,h)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,Me())).next(d=>({batchId:a,changes:aR(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new me(n)).next(r=>{let i=hc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=hc();return this.indexManager.getCollectionParents(e,s).next(a=>H.forEach(a,l=>{const u=function(f,h){return new bu(h,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(d=>{d.forEach((f,h)=>{o=o.insert(f,h)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,u)=>{const d=u.getKey();o.get(d)===null&&(o=o.insert(d,qt.newInvalidDocument(d)))});let a=hc();return o.forEach((l,u)=>{const d=s.get(l);d!==void 0&&kc(d.mutation,u,Gn.empty(),Ze.now()),Ep(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rV{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,n){return H.resolve(this.Br.get(n))}saveBundleMetadata(e,n){return this.Br.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Qn(i.createTime)}}(n)),H.resolve()}getNamedQuery(e,n){return H.resolve(this.Lr.get(n))}saveNamedQuery(e,n){return this.Lr.set(n.name,function(i){return{name:i.name,query:QO(i.bundledQuery),readTime:Qn(i.readTime)}}(n)),H.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iV{constructor(){this.overlays=new gt(me.comparator),this.kr=new Map}getOverlay(e,n){return H.resolve(this.overlays.get(n))}getOverlays(e,n){const r=_o();return H.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.wt(e,n,s)}),H.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.kr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.kr.delete(r)),H.resolve()}getOverlaysForCollection(e,n,r){const i=_o(),s=n.length+1,o=new me(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return H.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new gt((u,d)=>u-d);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let d=s.get(u.largestBatchId);d===null&&(d=_o(),s=s.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const a=_o(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,d)=>a.set(u,d)),!(a.size()>=i)););return H.resolve(a)}wt(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.kr.get(i.largestBatchId).delete(r.key);this.kr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new AO(n,r));let s=this.kr.get(n);s===void 0&&(s=Me(),this.kr.set(n,s)),this.kr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sV{constructor(){this.sessionToken=Ht.EMPTY_BYTE_STRING}getSessionToken(e){return H.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,H.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E0{constructor(){this.qr=new Ot(Ut.Qr),this.$r=new Ot(Ut.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,n){const r=new Ut(e,n);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Wr(new Ut(e,n))}Gr(e,n){e.forEach(r=>this.removeReference(r,n))}zr(e){const n=new me(new Je([])),r=new Ut(n,e),i=new Ut(n,e+1),s=[];return this.$r.forEachInRange([r,i],o=>{this.Wr(o),s.push(o.key)}),s}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const n=new me(new Je([])),r=new Ut(n,e),i=new Ut(n,e+1);let s=Me();return this.$r.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Ut(e,0),r=this.qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Ut{constructor(e,n){this.key=e,this.Hr=n}static Qr(e,n){return me.comparator(e.key,n.key)||xe(e.Hr,n.Hr)}static Ur(e,n){return xe(e.Hr,n.Hr)||me.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oV{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.er=1,this.Yr=new Ot(Ut.Qr)}checkEmpty(e){return H.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new CO(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.Yr=this.Yr.add(new Ut(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return H.resolve(o)}lookupMutationBatch(e,n){return H.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Xr(r),s=i<0?0:i;return H.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return H.resolve(this.mutationQueue.length===0?u0:this.er-1)}getAllMutationBatches(e){return H.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Ut(n,0),i=new Ut(n,Number.POSITIVE_INFINITY),s=[];return this.Yr.forEachInRange([r,i],o=>{const a=this.Zr(o.Hr);s.push(a)}),H.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ot(xe);return n.forEach(i=>{const s=new Ut(i,0),o=new Ut(i,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([s,o],a=>{r=r.add(a.Hr)})}),H.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;me.isDocumentKey(s)||(s=s.child(""));const o=new Ut(new me(s),0);let a=new Ot(xe);return this.Yr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.Hr)),!0)},o),H.resolve(this.ei(a))}ei(e){const n=[];return e.forEach(r=>{const i=this.Zr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Ue(this.ti(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return H.forEach(n.mutations,i=>{const s=new Ut(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Yr=r})}rr(e){}containsKey(e,n){const r=new Ut(n,0),i=this.Yr.firstAfterOrEqual(r);return H.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,H.resolve()}ti(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aV{constructor(e){this.ni=e,this.docs=function(){return new gt(me.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.ni(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return H.resolve(r?r.document.mutableCopy():qt.newInvalidDocument(n))}getEntries(e,n){let r=ki();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():qt.newInvalidDocument(i))}),H.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=ki();const o=n.path,a=new me(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:d}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||U4(B4(d),r)<=0||(i.has(d.key)||Ep(n,d))&&(s=s.insert(d.key,d.mutableCopy()))}return H.resolve(s)}getAllFromCollectionGroup(e,n,r,i){ye(9500)}ri(e,n){return H.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new lV(this)}getSize(e){return H.resolve(this.size)}}class lV extends eV{constructor(e){super(),this.Or=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Or.addEntry(e,i)):this.Or.removeEntry(r)}),H.waitFor(n)}getFromCache(e,n){return this.Or.getEntry(e,n)}getAllFromCache(e,n){return this.Or.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cV{constructor(e){this.persistence=e,this.ii=new $o(n=>f0(n),p0),this.lastRemoteSnapshotVersion=_e.min(),this.highestTargetId=0,this.si=0,this.oi=new E0,this.targetCount=0,this._i=pl.ar()}forEachTarget(e,n){return this.ii.forEach((r,i)=>n(i)),H.resolve()}getLastRemoteSnapshotVersion(e){return H.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return H.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),H.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.si&&(this.si=n),H.resolve()}hr(e){this.ii.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this._i=new pl(n),this.highestTargetId=n),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,n){return this.hr(n),this.targetCount+=1,H.resolve()}updateTargetData(e,n){return this.hr(n),H.resolve()}removeTargetData(e,n){return this.ii.delete(n.target),this.oi.zr(n.targetId),this.targetCount-=1,H.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.ii.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.ii.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),H.waitFor(s).next(()=>i)}getTargetCount(e){return H.resolve(this.targetCount)}getTargetData(e,n){const r=this.ii.get(n)||null;return H.resolve(r)}addMatchingKeys(e,n,r){return this.oi.Kr(n,r),H.resolve()}removeMatchingKeys(e,n,r){this.oi.Gr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),H.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.oi.zr(n),H.resolve()}getMatchingKeysForTargetId(e,n){const r=this.oi.Jr(n);return H.resolve(r)}containsKey(e,n){return H.resolve(this.oi.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kR{constructor(e,n){this.ai={},this.overlays={},this.ui=new gp(0),this.ci=!1,this.ci=!0,this.li=new sV,this.referenceDelegate=e(this),this.hi=new cV(this),this.indexManager=new YO,this.remoteDocumentCache=function(i){return new aV(i)}(r=>this.referenceDelegate.Pi(r)),this.serializer=new $O(n),this.Ti=new rV(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new iV,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ai[e.toKey()];return r||(r=new oV(n,this.referenceDelegate),this.ai[e.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,n,r){ue("MemoryPersistence","Starting transaction:",e);const i=new uV(this.ui.next());return this.referenceDelegate.Ii(),r(i).next(s=>this.referenceDelegate.di(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ei(e,n){return H.or(Object.values(this.ai).map(r=>()=>r.containsKey(e,n)))}}class uV extends q4{constructor(e){super(),this.currentSequenceNumber=e}}class _0{constructor(e){this.persistence=e,this.Ai=new E0,this.Ri=null}static Vi(e){return new _0(e)}get mi(){if(this.Ri)return this.Ri;throw ye(60996)}addReference(e,n,r){return this.Ai.addReference(r,n),this.mi.delete(r.toString()),H.resolve()}removeReference(e,n,r){return this.Ai.removeReference(r,n),this.mi.add(r.toString()),H.resolve()}markPotentiallyOrphaned(e,n){return this.mi.add(n.toString()),H.resolve()}removeTarget(e,n){this.Ai.zr(n.targetId).forEach(i=>this.mi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.mi.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ii(){this.Ri=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return H.forEach(this.mi,r=>{const i=me.fromPath(r);return this.fi(e,i).next(s=>{s||n.removeEntry(i,_e.min())})}).next(()=>(this.Ri=null,n.apply(e)))}updateLimboDocument(e,n){return this.fi(e,n).next(r=>{r?this.mi.delete(n.toString()):this.mi.add(n.toString())})}Pi(e){return 0}fi(e,n){return H.or([()=>H.resolve(this.Ai.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class If{constructor(e,n){this.persistence=e,this.gi=new $o(r=>$4(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=XO(this,n)}static Vi(e,n){return new If(e,n)}Ii(){}di(e){return H.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}mr(e){const n=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}yr(e){let n=0;return this.gr(e,r=>{n++}).next(()=>n)}gr(e,n){return H.forEach(this.gi,(r,i)=>this.Sr(e,r,i).next(s=>s?H.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ri(e,o=>this.Sr(e,o,n).next(a=>{a||(r++,s.removeEntry(o,_e.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.gi.set(n,e.currentSequenceNumber),H.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),H.resolve()}removeReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),H.resolve()}updateLimboDocument(e,n){return this.gi.set(n,e.currentSequenceNumber),H.resolve()}Pi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Sh(e.data.value)),n}Sr(e,n,r){return H.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.gi.get(n);return H.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T0{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Is=r,this.ds=i}static Es(e,n){let r=Me(),i=Me();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new T0(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dV{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hV{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return lM()?8:G4(dn())>0?6:4}()}initialize(e,n){this.gs=e,this.indexManager=n,this.As=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ps(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ys(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new dV;return this.ws(e,n,o).next(a=>{if(s.result=a,this.Rs)return this.Ss(e,n,o,a.size)})}).next(()=>s.result)}Ss(e,n,r,i){return r.documentReadCount<this.Vs?(ma()<=De.DEBUG&&ue("QueryEngine","SDK will not create cache indexes for query:",ga(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),H.resolve()):(ma()<=De.DEBUG&&ue("QueryEngine","Query:",ga(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.fs*i?(ma()<=De.DEBUG&&ue("QueryEngine","The SDK decides to create cache indexes for query:",ga(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,$r(n))):H.resolve())}ps(e,n){if(_1(n))return H.resolve(null);let r=$r(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Ey(n,null,"F"),r=$r(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=Me(...s);return this.gs.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.bs(n,a);return this.Ds(n,u,o,l.readTime)?this.ps(e,Ey(n,null,"F")):this.vs(e,u,n,l)}))})))}ys(e,n,r,i){return _1(n)||i.isEqual(_e.min())?H.resolve(null):this.gs.getDocuments(e,r).next(s=>{const o=this.bs(n,s);return this.Ds(n,o,r,i)?H.resolve(null):(ma()<=De.DEBUG&&ue("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ga(n)),this.vs(e,o,n,F4(i,tu)).next(a=>a))})}bs(e,n){let r=new Ot(sR(e));return n.forEach((i,s)=>{Ep(e,s)&&(r=r.add(s))}),r}Ds(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}ws(e,n,r){return ma()<=De.DEBUG&&ue("QueryEngine","Using full collection scan to execute query:",ga(n)),this.gs.getDocumentsMatchingQuery(e,n,Fs.min(),r)}vs(e,n,r,i){return this.gs.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C0="LocalStore",fV=3e8;class pV{constructor(e,n,r,i){this.persistence=e,this.Cs=n,this.serializer=i,this.Fs=new gt(xe),this.Ms=new $o(s=>f0(s),p0),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(r)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new nV(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Fs))}}function mV(t,e,n,r){return new pV(t,e,n,r)}async function NR(t,e){const n=Ce(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.Ns(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=Me();for(const u of i){o.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}for(const u of s){a.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(u=>({Bs:u,removedBatchIds:o,addedBatchIds:a}))})})}function gV(t,e){const n=Ce(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Os.newChangeBuffer({trackRemovals:!0});return function(a,l,u,d){const f=u.batch,h=f.keys();let g=H.resolve();return h.forEach(E=>{g=g.next(()=>d.getEntry(l,E)).next(_=>{const I=u.docVersions.get(E);Ue(I!==null,48541),_.version.compareTo(I)<0&&(f.applyToRemoteDocument(_,u),_.isValidDocument()&&(_.setReadTime(u.commitVersion),d.addEntry(_)))})}),g.next(()=>a.mutationQueue.removeMutationBatch(l,f))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Me();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function DR(t){const e=Ce(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.hi.getLastRemoteSnapshotVersion(n))}function yV(t,e){const n=Ce(t),r=e.snapshotVersion;let i=n.Fs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Os.newChangeBuffer({trackRemovals:!0});i=n.Fs;const a=[];e.targetChanges.forEach((d,f)=>{const h=i.get(f);if(!h)return;a.push(n.hi.removeMatchingKeys(s,d.removedDocuments,f).next(()=>n.hi.addMatchingKeys(s,d.addedDocuments,f)));let g=h.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(f)!==null?g=g.withResumeToken(Ht.EMPTY_BYTE_STRING,_e.min()).withLastLimboFreeSnapshotVersion(_e.min()):d.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(d.resumeToken,r)),i=i.insert(f,g),function(_,I,T){return _.resumeToken.approximateByteSize()===0||I.snapshotVersion.toMicroseconds()-_.snapshotVersion.toMicroseconds()>=fV?!0:T.addedDocuments.size+T.modifiedDocuments.size+T.removedDocuments.size>0}(h,g,d)&&a.push(n.hi.updateTargetData(s,g))});let l=ki(),u=Me();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))}),a.push(vV(s,o,e.documentUpdates).next(d=>{l=d.Ls,u=d.ks})),!r.isEqual(_e.min())){const d=n.hi.getLastRemoteSnapshotVersion(s).next(f=>n.hi.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(d)}return H.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.Fs=i,s))}function vV(t,e,n){let r=Me(),i=Me();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=ki();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(_e.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):ue(C0,"Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{Ls:o,ks:i}})}function wV(t,e){const n=Ce(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=u0),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function EV(t,e){const n=Ce(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.hi.getTargetData(r,e).next(s=>s?(i=s,H.resolve(i)):n.hi.allocateTargetId(r).next(o=>(i=new ys(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.hi.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Fs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Fs=n.Fs.insert(r.targetId,r),n.Ms.set(e,r.targetId)),r})}async function Ay(t,e,n){const r=Ce(t),i=r.Fs.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Pl(o))throw o;ue(C0,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Fs=r.Fs.remove(e),r.Ms.delete(i.target)}function M1(t,e,n){const r=Ce(t);let i=_e.min(),s=Me();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,d){const f=Ce(l),h=f.Ms.get(d);return h!==void 0?H.resolve(f.Fs.get(h)):f.hi.getTargetData(u,d)}(r,o,$r(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.Cs.getDocumentsMatchingQuery(o,e,n?i:_e.min(),n?s:Me())).next(a=>(_V(r,cO(e),a),{documents:a,qs:s})))}function _V(t,e,n){let r=t.xs.get(e)||_e.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.xs.set(e,r)}class O1{constructor(){this.activeTargetIds=mO()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class TV{constructor(){this.Fo=new O1,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,n,r){this.Mo[e]=n}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new O1,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CV{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V1="ConnectivityMonitor";class L1{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){ue(V1,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){ue(V1,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nh=null;function Iy(){return nh===null?nh=function(){return 268435456+Math.round(2147483648*Math.random())}():nh++,"0x"+nh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wm="RestConnection",AV={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class IV{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.$o=n+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.Ko=this.databaseId.database===vf?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,n,r,i,s){const o=Iy(),a=this.Go(e,n.toUriEncodedString());ue(Wm,`Sending RPC '${e}' ${o}:`,a,r);const l={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(l,i,s);const{host:u}=new URL(a),d=Rl(u);return this.jo(e,a,l,r,d).then(f=>(ue(Wm,`Received RPC '${e}' ${o}: `,f),f),f=>{throw Ls(Wm,`RPC '${e}' ${o} failed with error: `,f,"url: ",a,"request:",r),f})}Jo(e,n,r,i,s,o){return this.Wo(e,n,r,i,s)}zo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+xl}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}Go(e,n){const r=AV[e];return`${this.$o}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RV{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sn="WebChannelConnection";class SV extends IV{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,n,r,i,s){const o=Iy();return new Promise((a,l)=>{const u=new PI;u.setWithCredentials(!0),u.listenOnce(kI.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Rh.NO_ERROR:const f=u.getResponseJson();ue(sn,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(f)),a(f);break;case Rh.TIMEOUT:ue(sn,`RPC '${e}' ${o} timed out`),l(new ae(W.DEADLINE_EXCEEDED,"Request time out"));break;case Rh.HTTP_ERROR:const h=u.getStatus();if(ue(sn,`RPC '${e}' ${o} failed with status:`,h,"response text:",u.getResponseText()),h>0){let g=u.getResponseJson();Array.isArray(g)&&(g=g[0]);const E=g==null?void 0:g.error;if(E&&E.status&&E.message){const _=function(T){const w=T.toLowerCase().replace(/_/g,"-");return Object.values(W).indexOf(w)>=0?w:W.UNKNOWN}(E.status);l(new ae(_,E.message))}else l(new ae(W.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new ae(W.UNAVAILABLE,"Connection failed."));break;default:ye(9055,{c_:e,streamId:o,l_:u.getLastErrorCode(),h_:u.getLastError()})}}finally{ue(sn,`RPC '${e}' ${o} completed.`)}});const d=JSON.stringify(i);ue(sn,`RPC '${e}' ${o} sending request:`,i),u.send(n,"POST",d,r,15)})}P_(e,n,r){const i=Iy(),s=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=MI(),a=DI(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.zo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const d=s.join("");ue(sn,`Creating RPC '${e}' stream ${i}: ${d}`,l);const f=o.createWebChannel(d,l);this.T_(f);let h=!1,g=!1;const E=new RV({Ho:I=>{g?ue(sn,`Not sending because RPC '${e}' stream ${i} is closed:`,I):(h||(ue(sn,`Opening RPC '${e}' stream ${i} transport.`),f.open(),h=!0),ue(sn,`RPC '${e}' stream ${i} sending:`,I),f.send(I))},Yo:()=>f.close()}),_=(I,T,w)=>{I.listen(T,A=>{try{w(A)}catch(N){setTimeout(()=>{throw N},0)}})};return _(f,dc.EventType.OPEN,()=>{g||(ue(sn,`RPC '${e}' stream ${i} transport opened.`),E.s_())}),_(f,dc.EventType.CLOSE,()=>{g||(g=!0,ue(sn,`RPC '${e}' stream ${i} transport closed`),E.__(),this.I_(f))}),_(f,dc.EventType.ERROR,I=>{g||(g=!0,Ls(sn,`RPC '${e}' stream ${i} transport errored. Name:`,I.name,"Message:",I.message),E.__(new ae(W.UNAVAILABLE,"The operation could not be completed")))}),_(f,dc.EventType.MESSAGE,I=>{var T;if(!g){const w=I.data[0];Ue(!!w,16349);const A=w,N=(A==null?void 0:A.error)||((T=A[0])===null||T===void 0?void 0:T.error);if(N){ue(sn,`RPC '${e}' stream ${i} received error:`,N);const F=N.status;let j=function(P){const D=It[P];if(D!==void 0)return wR(D)}(F),S=N.message;j===void 0&&(j=W.INTERNAL,S="Unknown error status: "+F+" with message "+N.message),g=!0,E.__(new ae(j,S)),f.close()}else ue(sn,`RPC '${e}' stream ${i} received:`,w),E.a_(w)}}),_(a,NI.STAT_EVENT,I=>{I.stat===fy.PROXY?ue(sn,`RPC '${e}' stream ${i} detected buffering proxy`):I.stat===fy.NOPROXY&&ue(sn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{E.o_()},0),E}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(n=>n===e)}}function Km(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ap(t){return new kO(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A0{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Fi=e,this.timerId=n,this.d_=r,this.E_=i,this.A_=s,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const n=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),i=Math.max(0,n-r);i>0&&ue("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.R_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,i,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F1="PersistentStream";class MR{constructor(e,n,r,i,s,o,a,l){this.Fi=e,this.w_=r,this.S_=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new A0(e,n)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():n&&n.code===W.RESOURCE_EXHAUSTED?(Pi(n.toString()),Pi("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):n&&n.code===W.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(n)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),n=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.b_===n&&this.W_(r,i)},r=>{e(()=>{const i=new ae(W.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(i)})})}W_(e,n){const r=this.K_(this.b_);this.stream=this.z_(e,n),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.e_(()=>{r(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(i=>{r(()=>this.G_(i))}),this.stream.onMessage(i=>{r(()=>++this.C_==1?this.j_(i):this.onNext(i))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return ue(F1,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return n=>{this.Fi.enqueueAndForget(()=>this.b_===e?n():(ue(F1,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class xV extends MR{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}z_(e,n){return this.connection.P_("Listen",e,n)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const n=OO(this.serializer,e),r=function(s){if(!("targetChange"in s))return _e.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?_e.min():o.readTime?Qn(o.readTime):_e.min()}(e);return this.listener.J_(n,r)}H_(e){const n={};n.database=Cy(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=vy(l)?{documents:LO(s,l)}:{query:FO(s,l).Vt},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=TR(s,o.resumeToken);const u=_y(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(_e.min())>0){a.readTime=Cf(s,o.snapshotVersion.toTimestamp());const u=_y(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=UO(this.serializer,e);r&&(n.labels=r),this.k_(n)}Y_(e){const n={};n.database=Cy(this.serializer),n.removeTarget=e,this.k_(n)}}class bV extends MR{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,n){return this.connection.P_("Write",e,n)}j_(e){return Ue(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ue(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){Ue(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const n=VO(e.writeResults,e.commitTime),r=Qn(e.commitTime);return this.listener.ta(r,n)}na(){const e={};e.database=Cy(this.serializer),this.k_(e)}X_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>RR(this.serializer,r))};this.k_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PV{}class kV extends PV{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ra=!1}ia(){if(this.ra)throw new ae(W.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,i){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Wo(e,Ty(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ae(W.UNKNOWN,s.toString())})}Jo(e,n,r,i,s){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Jo(e,Ty(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ae(W.UNKNOWN,o.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class NV{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(Pi(n),this._a=!1):ue("OnlineStateTracker",n)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bo="RemoteStore";class DV{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=s,this.Ea.xo(o=>{r.enqueueAndForget(async()=>{Qo(this)&&(ue(Bo,"Restarting streams for network reachability change."),await async function(l){const u=Ce(l);u.Ia.add(4),await Nu(u),u.Aa.set("Unknown"),u.Ia.delete(4),await Ip(u)}(this))})}),this.Aa=new NV(r,i)}}async function Ip(t){if(Qo(t))for(const e of t.da)await e(!0)}async function Nu(t){for(const e of t.da)await e(!1)}function OR(t,e){const n=Ce(t);n.Ta.has(e.targetId)||(n.Ta.set(e.targetId,e),x0(n)?S0(n):kl(n).x_()&&R0(n,e))}function I0(t,e){const n=Ce(t),r=kl(n);n.Ta.delete(e),r.x_()&&VR(n,e),n.Ta.size===0&&(r.x_()?r.B_():Qo(n)&&n.Aa.set("Unknown"))}function R0(t,e){if(t.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(_e.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}kl(t).H_(e)}function VR(t,e){t.Ra.$e(e),kl(t).Y_(e)}function S0(t){t.Ra=new SO({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>t.Ta.get(e)||null,lt:()=>t.datastore.serializer.databaseId}),kl(t).start(),t.Aa.aa()}function x0(t){return Qo(t)&&!kl(t).M_()&&t.Ta.size>0}function Qo(t){return Ce(t).Ia.size===0}function LR(t){t.Ra=void 0}async function MV(t){t.Aa.set("Online")}async function OV(t){t.Ta.forEach((e,n)=>{R0(t,e)})}async function VV(t,e){LR(t),x0(t)?(t.Aa.la(e),S0(t)):t.Aa.set("Unknown")}async function LV(t,e,n){if(t.Aa.set("Online"),e instanceof _R&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.Ta.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.Ta.delete(a),i.Ra.removeTarget(a))}(t,e)}catch(r){ue(Bo,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Rf(t,r)}else if(e instanceof Ph?t.Ra.Ye(e):e instanceof ER?t.Ra.it(e):t.Ra.et(e),!n.isEqual(_e.min()))try{const r=await DR(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.Ra.Pt(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const d=s.Ta.get(u);d&&s.Ta.set(u,d.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const d=s.Ta.get(l);if(!d)return;s.Ta.set(l,d.withResumeToken(Ht.EMPTY_BYTE_STRING,d.snapshotVersion)),VR(s,l);const f=new ys(d.target,l,u,d.sequenceNumber);R0(s,f)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){ue(Bo,"Failed to raise snapshot:",r),await Rf(t,r)}}async function Rf(t,e,n){if(!Pl(e))throw e;t.Ia.add(1),await Nu(t),t.Aa.set("Offline"),n||(n=()=>DR(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ue(Bo,"Retrying IndexedDB access"),await n(),t.Ia.delete(1),await Ip(t)})}function FR(t,e){return e().catch(n=>Rf(t,n,e))}async function Rp(t){const e=Ce(t),n=qs(e);let r=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:u0;for(;FV(e);)try{const i=await wV(e.localStore,r);if(i===null){e.Pa.length===0&&n.B_();break}r=i.batchId,BV(e,i)}catch(i){await Rf(e,i)}BR(e)&&UR(e)}function FV(t){return Qo(t)&&t.Pa.length<10}function BV(t,e){t.Pa.push(e);const n=qs(t);n.x_()&&n.Z_&&n.X_(e.mutations)}function BR(t){return Qo(t)&&!qs(t).M_()&&t.Pa.length>0}function UR(t){qs(t).start()}async function UV(t){qs(t).na()}async function jV(t){const e=qs(t);for(const n of t.Pa)e.X_(n.mutations)}async function qV(t,e,n){const r=t.Pa.shift(),i=y0.from(r,e,n);await FR(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Rp(t)}async function GV(t,e){e&&qs(t).Z_&&await async function(r,i){if(function(o){return vR(o)&&o!==W.ABORTED}(i.code)){const s=r.Pa.shift();qs(r).N_(),await FR(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Rp(r)}}(t,e),BR(t)&&UR(t)}async function B1(t,e){const n=Ce(t);n.asyncQueue.verifyOperationInProgress(),ue(Bo,"RemoteStore received new credentials");const r=Qo(n);n.Ia.add(3),await Nu(n),r&&n.Aa.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ia.delete(3),await Ip(n)}async function zV(t,e){const n=Ce(t);e?(n.Ia.delete(2),await Ip(n)):e||(n.Ia.add(2),await Nu(n),n.Aa.set("Unknown"))}function kl(t){return t.Va||(t.Va=function(n,r,i){const s=Ce(n);return s.ia(),new xV(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Zo:MV.bind(null,t),e_:OV.bind(null,t),n_:VV.bind(null,t),J_:LV.bind(null,t)}),t.da.push(async e=>{e?(t.Va.N_(),x0(t)?S0(t):t.Aa.set("Unknown")):(await t.Va.stop(),LR(t))})),t.Va}function qs(t){return t.ma||(t.ma=function(n,r,i){const s=Ce(n);return s.ia(),new bV(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),e_:UV.bind(null,t),n_:GV.bind(null,t),ea:jV.bind(null,t),ta:qV.bind(null,t)}),t.da.push(async e=>{e?(t.ma.N_(),await Rp(t)):(await t.ma.stop(),t.Pa.length>0&&(ue(Bo,`Stopping write stream with ${t.Pa.length} pending writes`),t.Pa=[]))})),t.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b0{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new zr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new b0(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ae(W.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function P0(t,e){if(Pi("AsyncQueue",`${e}: ${t}`),Pl(t))return new ae(W.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja{static emptySet(e){return new ja(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||me.comparator(n.key,r.key):(n,r)=>me.comparator(n.key,r.key),this.keyedMap=hc(),this.sortedSet=new gt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ja)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new ja;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U1{constructor(){this.fa=new gt(me.comparator)}track(e){const n=e.doc.key,r=this.fa.get(n);r?e.type!==0&&r.type===3?this.fa=this.fa.insert(n,e):e.type===3&&r.type!==1?this.fa=this.fa.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.fa=this.fa.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.fa=this.fa.remove(n):e.type===1&&r.type===2?this.fa=this.fa.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):ye(63341,{At:e,ga:r}):this.fa=this.fa.insert(n,e)}pa(){const e=[];return this.fa.inorderTraversal((n,r)=>{e.push(r)}),e}}class ml{constructor(e,n,r,i,s,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new ml(e,n,ja.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&wp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $V{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}}class QV{constructor(){this.queries=j1(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(n,r){const i=Ce(n),s=i.queries;i.queries=j1(),s.forEach((o,a)=>{for(const l of a.wa)l.onError(r)})})(this,new ae(W.ABORTED,"Firestore shutting down"))}}function j1(){return new $o(t=>iR(t),wp)}async function k0(t,e){const n=Ce(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.Sa()&&e.ba()&&(r=2):(s=new $V,r=e.ba()?0:1);try{switch(r){case 0:s.ya=await n.onListen(i,!0);break;case 1:s.ya=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=P0(o,`Initialization of query '${ga(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.wa.push(e),e.va(n.onlineState),s.ya&&e.Ca(s.ya)&&D0(n)}async function N0(t,e){const n=Ce(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.wa.indexOf(e);o>=0&&(s.wa.splice(o,1),s.wa.length===0?i=e.ba()?0:1:!s.Sa()&&e.ba()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function YV(t,e){const n=Ce(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.wa)a.Ca(i)&&(r=!0);o.ya=i}}r&&D0(n)}function WV(t,e,n){const r=Ce(t),i=r.queries.get(e);if(i)for(const s of i.wa)s.onError(n);r.queries.delete(e)}function D0(t){t.Da.forEach(e=>{e.next()})}var Ry,q1;(q1=Ry||(Ry={})).Fa="default",q1.Cache="cache";class M0{constructor(e,n,r){this.query=e,this.Ma=n,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=r||{}}Ca(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new ml(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),n=!0):this.Ba(e,this.onlineState)&&(this.La(e),n=!0),this.Oa=e,n}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let n=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),n=!0),n}Ba(e,n){if(!e.fromCache||!this.ba())return!0;const r=n!=="Offline";return(!this.options.ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const n=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}La(e){e=ml.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==Ry.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jR{constructor(e){this.key=e}}class qR{constructor(e){this.key=e}}class KV{constructor(e,n){this.query=e,this.Ha=n,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=Me(),this.mutatedKeys=Me(),this.Xa=sR(e),this.eu=new ja(this.Xa)}get tu(){return this.Ha}nu(e,n){const r=n?n.ru:new U1,i=n?n.eu:this.eu;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,f)=>{const h=i.get(d),g=Ep(this.query,f)?f:null,E=!!h&&this.mutatedKeys.has(h.key),_=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let I=!1;h&&g?h.data.isEqual(g.data)?E!==_&&(r.track({type:3,doc:g}),I=!0):this.iu(h,g)||(r.track({type:2,doc:g}),I=!0,(l&&this.Xa(g,l)>0||u&&this.Xa(g,u)<0)&&(a=!0)):!h&&g?(r.track({type:0,doc:g}),I=!0):h&&!g&&(r.track({type:1,doc:h}),I=!0,(l||u)&&(a=!0)),I&&(g?(o=o.add(g),s=_?s.add(d):s.delete(d)):(o=o.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),s=s.delete(d.key),r.track({type:1,doc:d})}return{eu:o,ru:r,Ds:a,mutatedKeys:s}}iu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const o=e.ru.pa();o.sort((d,f)=>function(g,E){const _=I=>{switch(I){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ye(20277,{At:I})}};return _(g)-_(E)}(d.type,f.type)||this.Xa(d.doc,f.doc)),this.su(r),i=i!=null&&i;const a=n&&!i?this.ou():[],l=this.Za.size===0&&this.current&&!i?1:0,u=l!==this.Ya;return this.Ya=l,o.length!==0||u?{snapshot:new ml(this.query,e.eu,s,o,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),_u:a}:{_u:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new U1,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=Me(),this.eu.forEach(r=>{this.au(r.key)&&(this.Za=this.Za.add(r.key))});const n=[];return e.forEach(r=>{this.Za.has(r)||n.push(new qR(r))}),this.Za.forEach(r=>{e.has(r)||n.push(new jR(r))}),n}uu(e){this.Ha=e.qs,this.Za=Me();const n=this.nu(e.documents);return this.applyChanges(n,!0)}cu(){return ml.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const O0="SyncEngine";class HV{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class JV{constructor(e){this.key=e,this.lu=!1}}class ZV{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.hu={},this.Pu=new $o(a=>iR(a),wp),this.Tu=new Map,this.Iu=new Set,this.du=new gt(me.comparator),this.Eu=new Map,this.Au=new E0,this.Ru={},this.Vu=new Map,this.mu=pl.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function XV(t,e,n=!0){const r=WR(t);let i;const s=r.Pu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.cu()):i=await GR(r,e,n,!0),i}async function eL(t,e){const n=WR(t);await GR(n,e,!0,!1)}async function GR(t,e,n,r){const i=await EV(t.localStore,$r(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await tL(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&OR(t.remoteStore,i),a}async function tL(t,e,n,r,i){t.gu=(f,h,g)=>async function(_,I,T,w){let A=I.view.nu(T);A.Ds&&(A=await M1(_.localStore,I.query,!1).then(({documents:S})=>I.view.nu(S,A)));const N=w&&w.targetChanges.get(I.targetId),F=w&&w.targetMismatches.get(I.targetId)!=null,j=I.view.applyChanges(A,_.isPrimaryClient,N,F);return z1(_,I.targetId,j._u),j.snapshot}(t,f,h,g);const s=await M1(t.localStore,e,!0),o=new KV(e,s.qs),a=o.nu(s.documents),l=ku.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,l);z1(t,n,u._u);const d=new HV(e,n,o);return t.Pu.set(e,d),t.Tu.has(n)?t.Tu.get(n).push(e):t.Tu.set(n,[e]),u.snapshot}async function nL(t,e,n){const r=Ce(t),i=r.Pu.get(e),s=r.Tu.get(i.targetId);if(s.length>1)return r.Tu.set(i.targetId,s.filter(o=>!wp(o,e))),void r.Pu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Ay(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&I0(r.remoteStore,i.targetId),Sy(r,i.targetId)}).catch(bl)):(Sy(r,i.targetId),await Ay(r.localStore,i.targetId,!0))}async function rL(t,e){const n=Ce(t),r=n.Pu.get(e),i=n.Tu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),I0(n.remoteStore,r.targetId))}async function iL(t,e,n){const r=dL(t);try{const i=await function(o,a){const l=Ce(o),u=Ze.now(),d=a.reduce((g,E)=>g.add(E.key),Me());let f,h;return l.persistence.runTransaction("Locally write mutations","readwrite",g=>{let E=ki(),_=Me();return l.Os.getEntries(g,d).next(I=>{E=I,E.forEach((T,w)=>{w.isValidDocument()||(_=_.add(T))})}).next(()=>l.localDocuments.getOverlayedDocuments(g,E)).next(I=>{f=I;const T=[];for(const w of a){const A=TO(w,f.get(w.key).overlayedDocument);A!=null&&T.push(new Xs(w.key,A,HI(A.value.mapValue),_n.exists(!0)))}return l.mutationQueue.addMutationBatch(g,u,T,a)}).next(I=>{h=I;const T=I.applyToLocalDocumentSet(f,_);return l.documentOverlayCache.saveOverlays(g,I.batchId,T)})}).then(()=>({batchId:h.batchId,changes:aR(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let u=o.Ru[o.currentUser.toKey()];u||(u=new gt(xe)),u=u.insert(a,l),o.Ru[o.currentUser.toKey()]=u}(r,i.batchId,n),await Du(r,i.changes),await Rp(r.remoteStore)}catch(i){const s=P0(i,"Failed to persist write");n.reject(s)}}async function zR(t,e){const n=Ce(t);try{const r=await yV(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Eu.get(s);o&&(Ue(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.lu=!0:i.modifiedDocuments.size>0?Ue(o.lu,14607):i.removedDocuments.size>0&&(Ue(o.lu,42227),o.lu=!1))}),await Du(n,r,e)}catch(r){await bl(r)}}function G1(t,e,n){const r=Ce(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Pu.forEach((s,o)=>{const a=o.view.va(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=Ce(o);l.onlineState=a;let u=!1;l.queries.forEach((d,f)=>{for(const h of f.wa)h.va(a)&&(u=!0)}),u&&D0(l)}(r.eventManager,e),i.length&&r.hu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function sL(t,e,n){const r=Ce(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Eu.get(e),s=i&&i.key;if(s){let o=new gt(me.comparator);o=o.insert(s,qt.newNoDocument(s,_e.min()));const a=Me().add(s),l=new Cp(_e.min(),new Map,new gt(xe),o,a);await zR(r,l),r.du=r.du.remove(s),r.Eu.delete(e),V0(r)}else await Ay(r.localStore,e,!1).then(()=>Sy(r,e,n)).catch(bl)}async function oL(t,e){const n=Ce(t),r=e.batch.batchId;try{const i=await gV(n.localStore,e);QR(n,r,null),$R(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Du(n,i)}catch(i){await bl(i)}}async function aL(t,e,n){const r=Ce(t);try{const i=await function(o,a){const l=Ce(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return l.mutationQueue.lookupMutationBatch(u,a).next(f=>(Ue(f!==null,37113),d=f.keys(),l.mutationQueue.removeMutationBatch(u,f))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>l.localDocuments.getDocuments(u,d))})}(r.localStore,e);QR(r,e,n),$R(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Du(r,i)}catch(i){await bl(i)}}function $R(t,e){(t.Vu.get(e)||[]).forEach(n=>{n.resolve()}),t.Vu.delete(e)}function QR(t,e,n){const r=Ce(t);let i=r.Ru[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ru[r.currentUser.toKey()]=i}}function Sy(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Tu.get(e))t.Pu.delete(r),n&&t.hu.pu(r,n);t.Tu.delete(e),t.isPrimaryClient&&t.Au.zr(e).forEach(r=>{t.Au.containsKey(r)||YR(t,r)})}function YR(t,e){t.Iu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(I0(t.remoteStore,n),t.du=t.du.remove(e),t.Eu.delete(n),V0(t))}function z1(t,e,n){for(const r of n)r instanceof jR?(t.Au.addReference(r.key,e),lL(t,r)):r instanceof qR?(ue(O0,"Document no longer in limbo: "+r.key),t.Au.removeReference(r.key,e),t.Au.containsKey(r.key)||YR(t,r.key)):ye(19791,{yu:r})}function lL(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Iu.has(r)||(ue(O0,"New document in limbo: "+n),t.Iu.add(r),V0(t))}function V0(t){for(;t.Iu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Iu.values().next().value;t.Iu.delete(e);const n=new me(Je.fromString(e)),r=t.mu.next();t.Eu.set(r,new JV(n)),t.du=t.du.insert(n,r),OR(t.remoteStore,new ys($r(vp(n.path)),r,"TargetPurposeLimboResolution",gp.ue))}}async function Du(t,e,n){const r=Ce(t),i=[],s=[],o=[];r.Pu.isEmpty()||(r.Pu.forEach((a,l)=>{o.push(r.gu(l,e,n).then(u=>{var d;if((u||n)&&r.isPrimaryClient){const f=u?!u.fromCache:(d=n==null?void 0:n.targetChanges.get(l.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(u){i.push(u);const f=T0.Es(l.targetId,u);s.push(f)}}))}),await Promise.all(o),r.hu.J_(i),await async function(l,u){const d=Ce(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>H.forEach(u,h=>H.forEach(h.Is,g=>d.persistence.referenceDelegate.addReference(f,h.targetId,g)).next(()=>H.forEach(h.ds,g=>d.persistence.referenceDelegate.removeReference(f,h.targetId,g)))))}catch(f){if(!Pl(f))throw f;ue(C0,"Failed to update sequence numbers: "+f)}for(const f of u){const h=f.targetId;if(!f.fromCache){const g=d.Fs.get(h),E=g.snapshotVersion,_=g.withLastLimboFreeSnapshotVersion(E);d.Fs=d.Fs.insert(h,_)}}}(r.localStore,s))}async function cL(t,e){const n=Ce(t);if(!n.currentUser.isEqual(e)){ue(O0,"User change. New user:",e.toKey());const r=await NR(n.localStore,e);n.currentUser=e,function(s,o){s.Vu.forEach(a=>{a.forEach(l=>{l.reject(new ae(W.CANCELLED,o))})}),s.Vu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Du(n,r.Bs)}}function uL(t,e){const n=Ce(t),r=n.Eu.get(e);if(r&&r.lu)return Me().add(r.key);{let i=Me();const s=n.Tu.get(e);if(!s)return i;for(const o of s){const a=n.Pu.get(o);i=i.unionWith(a.view.tu)}return i}}function WR(t){const e=Ce(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=zR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=uL.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=sL.bind(null,e),e.hu.J_=YV.bind(null,e.eventManager),e.hu.pu=WV.bind(null,e.eventManager),e}function dL(t){const e=Ce(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=oL.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=aL.bind(null,e),e}class Sf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ap(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,n){return null}Fu(e,n){return null}vu(e){return mV(this.persistence,new hV,e.initialUser,this.serializer)}Du(e){return new kR(_0.Vi,this.serializer)}bu(e){return new TV}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Sf.provider={build:()=>new Sf};class hL extends Sf{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,n){Ue(this.persistence.referenceDelegate instanceof If,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new JO(r,e.asyncQueue,n)}Du(e){const n=this.cacheSizeBytes!==void 0?Sn.withCacheSize(this.cacheSizeBytes):Sn.DEFAULT;return new kR(r=>If.Vi(r,n),this.serializer)}}class xy{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>G1(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=cL.bind(null,this.syncEngine),await zV(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new QV}()}createDatastore(e){const n=Ap(e.databaseInfo.databaseId),r=function(s){return new SV(s)}(e.databaseInfo);return function(s,o,a,l){return new kV(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new DV(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>G1(this.syncEngine,n,0),function(){return L1.C()?new L1:new CV}())}createSyncEngine(e,n){return function(i,s,o,a,l,u,d){const f=new ZV(i,s,o,a,l,u);return d&&(f.fu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=Ce(i);ue(Bo,"RemoteStore shutting down."),s.Ia.add(5),await Nu(s),s.Ea.shutdown(),s.Aa.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}xy.provider={build:()=>new xy};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L0{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):Pi("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fL{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new ae(W.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const n=await async function(i,s){const o=Ce(i),a={documents:s.map(f=>Af(o.serializer,f))},l=await o.Jo("BatchGetDocuments",o.serializer.databaseId,Je.emptyPath(),a,s.length),u=new Map;l.forEach(f=>{const h=MO(o.serializer,f);u.set(h.key.toString(),h)});const d=[];return s.forEach(f=>{const h=u.get(f.toString());Ue(!!h,55234,{key:f}),d.push(h)}),d}(this.datastore,e);return n.forEach(r=>this.recordVersion(r)),n}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new g0(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach(n=>{e.delete(n.key.toString())}),e.forEach((n,r)=>{const i=me.fromPath(r);this.mutations.push(new yR(i,this.precondition(i)))}),await async function(r,i){const s=Ce(r),o={writes:i.map(a=>RR(s.serializer,a))};await s.Wo("Commit",s.serializer.databaseId,Je.emptyPath(),o)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw ye(50498,{Wu:e.constructor.name});n=_e.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new ae(W.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(_e.min())?_n.exists(!1):_n.updateTime(n):_n.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(_e.min()))throw new ae(W.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return _n.updateTime(n)}return _n.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pL{constructor(e,n,r,i,s){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=s,this.Gu=r.maxAttempts,this.F_=new A0(this.asyncQueue,"transaction_retry")}zu(){this.Gu-=1,this.ju()}ju(){this.F_.g_(async()=>{const e=new fL(this.datastore),n=this.Ju(e);n&&n.then(r=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(r)}).catch(i=>{this.Hu(i)}))}).catch(r=>{this.Hu(r)})})}Ju(e){try{const n=this.updateFunction(e);return!xu(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}Hu(e){this.Gu>0&&this.Yu(e)?(this.Gu-=1,this.asyncQueue.enqueueAndForget(()=>(this.ju(),Promise.resolve()))):this.deferred.reject(e)}Yu(e){if(e.name==="FirebaseError"){const n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!vR(n)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gs="FirestoreClient";class mL{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=an.UNAUTHENTICATED,this.clientId=c0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{ue(Gs,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(ue(Gs,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new zr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=P0(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Hm(t,e){t.asyncQueue.verifyOperationInProgress(),ue(Gs,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await NR(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>{Ls("Terminating Firestore due to IndexedDb database deletion"),t.terminate().then(()=>{ue("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(i=>{Ls("Terminating Firestore due to IndexedDb database deletion failed",i)})}),t._offlineComponents=e}async function $1(t,e){t.asyncQueue.verifyOperationInProgress();const n=await gL(t);ue(Gs,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>B1(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>B1(e.remoteStore,i)),t._onlineComponents=e}async function gL(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ue(Gs,"Using user provided OfflineComponentProvider");try{await Hm(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===W.FAILED_PRECONDITION||i.code===W.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Ls("Error using user provided cache. Falling back to memory cache: "+n),await Hm(t,new Sf)}}else ue(Gs,"Using default OfflineComponentProvider"),await Hm(t,new hL(void 0));return t._offlineComponents}async function F0(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ue(Gs,"Using user provided OnlineComponentProvider"),await $1(t,t._uninitializedComponentsProvider._online)):(ue(Gs,"Using default OnlineComponentProvider"),await $1(t,new xy))),t._onlineComponents}function yL(t){return F0(t).then(e=>e.syncEngine)}function vL(t){return F0(t).then(e=>e.datastore)}async function xf(t){const e=await F0(t),n=e.eventManager;return n.onListen=XV.bind(null,e.syncEngine),n.onUnlisten=nL.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=eL.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=rL.bind(null,e.syncEngine),n}function wL(t,e,n={}){const r=new zr;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const d=new L0({next:h=>{d.Ou(),o.enqueueAndForget(()=>N0(s,f));const g=h.docs.has(a);!g&&h.fromCache?u.reject(new ae(W.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&h.fromCache&&l&&l.source==="server"?u.reject(new ae(W.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(h)},error:h=>u.reject(h)}),f=new M0(vp(a.path),d,{includeMetadataChanges:!0,ka:!0});return k0(s,f)}(await xf(t),t.asyncQueue,e,n,r)),r.promise}function EL(t,e,n={}){const r=new zr;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const d=new L0({next:h=>{d.Ou(),o.enqueueAndForget(()=>N0(s,f)),h.fromCache&&l.source==="server"?u.reject(new ae(W.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(h)},error:h=>u.reject(h)}),f=new M0(a,d,{includeMetadataChanges:!0,ka:!0});return k0(s,f)}(await xf(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KR(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q1=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HR="firestore.googleapis.com",Y1=!0;class W1{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ae(W.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=HR,this.ssl=Y1}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:Y1;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=PR;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<KO)throw new ae(W.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}L4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=KR((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ae(W.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ae(W.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ae(W.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Sp{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new W1({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ae(W.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ae(W.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new W1(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new x4;switch(r.type){case"firstParty":return new N4(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ae(W.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Q1.get(n);r&&(ue("ComponentProvider","Removing Datastore"),Q1.delete(n),r.terminate())}(this),Promise.resolve()}}function _L(t,e,n,r={}){var i;t=$n(t,Sp);const s=Rl(e),o=t._getSettings(),a=Object.assign(Object.assign({},o),{emulatorOptions:t._getEmulatorOptions()}),l=`${e}:${n}`;s&&(_I(`https://${l}`),TI("Firestore",!0)),o.host!==HR&&o.host!==l&&Ls("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u=Object.assign(Object.assign({},o),{host:l,ssl:s,emulatorOptions:r});if(!Vo(u,a)&&(t._setSettings(u),r.mockUserToken)){let d,f;if(typeof r.mockUserToken=="string")d=r.mockUserToken,f=an.MOCK_USER;else{d=XD(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const h=r.mockUserToken.sub||r.mockUserToken.user_id;if(!h)throw new ae(W.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new an(h)}t._authCredentials=new b4(new VI(d,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mu=class JR{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new JR(this.firestore,e,this._query)}};class ft{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ns(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ft(this.firestore,e,this._key)}toJSON(){return{type:ft._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Su(n,ft._jsonSchema))return new ft(e,r||null,new me(Je.fromString(n.referencePath)))}}ft._jsonSchemaVersion="firestore/documentReference/1.0",ft._jsonSchema={type:xt("string",ft._jsonSchemaVersion),referencePath:xt("string")};class Ns extends Mu{constructor(e,n,r){super(e,n,vp(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ft(this.firestore,null,new me(e))}withConverter(e){return new Ns(this.firestore,e,this._path)}}function K1(t,e,...n){if(t=Tt(t),FI("collection","path",e),t instanceof Sp){const r=Je.fromString(e,...n);return a1(r),new Ns(t,null,r)}{if(!(t instanceof ft||t instanceof Ns))throw new ae(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Je.fromString(e,...n));return a1(r),new Ns(t.firestore,null,r)}}function wa(t,e,...n){if(t=Tt(t),arguments.length===1&&(e=c0.newId()),FI("doc","path",e),t instanceof Sp){const r=Je.fromString(e,...n);return o1(r),new ft(t,null,new me(r))}{if(!(t instanceof ft||t instanceof Ns))throw new ae(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Je.fromString(e,...n));return o1(r),new ft(t.firestore,t instanceof Ns?t.converter:null,new me(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H1="AsyncQueue";class J1{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new A0(this,"async_queue_retry"),this.oc=()=>{const r=Km();r&&ue(H1,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;const n=Km();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const n=Km();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});const n=new zr;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!Pl(e))throw e;ue(H1,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){const n=this._c.then(()=>(this.nc=!0,e().catch(r=>{throw this.tc=r,this.nc=!1,Pi("INTERNAL UNHANDLED ERROR: ",Z1(r)),r}).then(r=>(this.nc=!1,r))));return this._c=n,n}enqueueAfterDelay(e,n,r){this.ac(),this.sc.indexOf(e)>-1&&(n=0);const i=b0.createAndSchedule(this,e,n,r,s=>this.lc(s));return this.ec.push(i),i}ac(){this.tc&&ye(47125,{hc:Z1(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const n of this.ec)if(n.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.ec)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){const n=this.ec.indexOf(e);this.ec.splice(n,1)}}function Z1(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X1(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class zs extends Sp{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new J1,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new J1(e),this._firestoreClient=void 0,await e}}}function TL(t,e){const n=typeof t=="object"?t:RI(),r=typeof t=="string"?t:vf,i=a0(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=JD("firestore");s&&_L(i,...s)}return i}function Ou(t){if(t._terminated)throw new ae(W.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||CL(t),t._firestoreClient}function CL(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,u,d){return new W4(a,l,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,KR(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new mL(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new jn(Ht.fromBase64String(e))}catch(n){throw new ae(W.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new jn(Ht.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:jn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Su(e,jn._jsonSchema))return jn.fromBase64String(e.bytes)}}jn._jsonSchemaVersion="firestore/bytes/1.0",jn._jsonSchema={type:xt("string",jn._jsonSchemaVersion),bytes:xt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vu{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ae(W.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Yt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xp{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ae(W.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ae(W.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return xe(this._lat,e._lat)||xe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Qr._jsonSchemaVersion}}static fromJSON(e){if(Su(e,Qr._jsonSchema))return new Qr(e.latitude,e.longitude)}}Qr._jsonSchemaVersion="firestore/geoPoint/1.0",Qr._jsonSchema={type:xt("string",Qr._jsonSchemaVersion),latitude:xt("number"),longitude:xt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Yr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Su(e,Yr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new Yr(e.vectorValues);throw new ae(W.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Yr._jsonSchemaVersion="firestore/vectorValue/1.0",Yr._jsonSchema={type:xt("string",Yr._jsonSchemaVersion),vectorValues:xt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AL=/^__.*__$/;class IL{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Xs(e,this.data,this.fieldMask,n,this.fieldTransforms):new Pu(e,this.data,n,this.fieldTransforms)}}class ZR{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Xs(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function XR(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ye(40011,{Ec:t})}}class B0{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Ac(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new B0(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Rc({path:r,mc:!1});return i.fc(e),i}gc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Rc({path:r,mc:!1});return i.Ac(),i}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return bf(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(XR(this.Ec)&&AL.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class RL{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Ap(e)}Dc(e,n,r,i=!1){return new B0({Ec:e,methodName:n,bc:r,path:Yt.emptyPath(),mc:!1,Sc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function bp(t){const e=t._freezeSettings(),n=Ap(t._databaseId);return new RL(t._databaseId,!!e.ignoreUndefinedProperties,n)}function eS(t,e,n,r,i,s={}){const o=t.Dc(s.merge||s.mergeFields?2:0,e,n,i);j0("Data must be an object, but it was:",o,r);const a=rS(r,o);let l,u;if(s.merge)l=new Gn(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const d=[];for(const f of s.mergeFields){const h=by(e,f,n);if(!o.contains(h))throw new ae(W.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);sS(d,h)||d.push(h)}l=new Gn(d),u=o.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,u=o.fieldTransforms;return new IL(new En(a),l,u)}class Pp extends xp{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Pp}}class U0 extends xp{constructor(e,n){super(e),this.Cc=n}_toFieldTransform(e){const n=new au(e.serializer,uR(e.serializer,this.Cc));return new vO(e.path,n)}isEqual(e){return e instanceof U0&&this.Cc===e.Cc}}function tS(t,e,n,r){const i=t.Dc(1,e,n);j0("Data must be an object, but it was:",i,r);const s=[],o=En.empty();Zs(r,(l,u)=>{const d=q0(e,l,n);u=Tt(u);const f=i.gc(d);if(u instanceof Pp)s.push(d);else{const h=Lu(u,f);h!=null&&(s.push(d),o.set(d,h))}});const a=new Gn(s);return new ZR(o,a,i.fieldTransforms)}function nS(t,e,n,r,i,s){const o=t.Dc(1,e,n),a=[by(e,r,n)],l=[i];if(s.length%2!=0)throw new ae(W.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<s.length;h+=2)a.push(by(e,s[h])),l.push(s[h+1]);const u=[],d=En.empty();for(let h=a.length-1;h>=0;--h)if(!sS(u,a[h])){const g=a[h];let E=l[h];E=Tt(E);const _=o.gc(g);if(E instanceof Pp)u.push(g);else{const I=Lu(E,_);I!=null&&(u.push(g),d.set(g,I))}}const f=new Gn(u);return new ZR(d,f,o.fieldTransforms)}function SL(t,e,n,r=!1){return Lu(n,t.Dc(r?4:3,e))}function Lu(t,e){if(iS(t=Tt(t)))return j0("Unsupported field value:",e,t),rS(t,e);if(t instanceof xp)return function(r,i){if(!XR(i.Ec))throw i.wc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.wc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=Lu(a,i.yc(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Tt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return uR(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Ze.fromDate(r);return{timestampValue:Cf(i.serializer,s)}}if(r instanceof Ze){const s=new Ze(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Cf(i.serializer,s)}}if(r instanceof Qr)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof jn)return{bytesValue:TR(i.serializer,r._byteString)};if(r instanceof ft){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.wc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:w0(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Yr)return function(o,a){return{mapValue:{fields:{[YI]:{stringValue:KI},[wf]:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw a.wc("VectorValues must only contain numeric values.");return m0(a.serializer,u)})}}}}}}(r,i);throw i.wc(`Unsupported field value: ${mp(r)}`)}(t,e)}function rS(t,e){const n={};return jI(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Zs(t,(r,i)=>{const s=Lu(i,e.Vc(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function iS(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ze||t instanceof Qr||t instanceof jn||t instanceof ft||t instanceof xp||t instanceof Yr)}function j0(t,e,n){if(!iS(n)||!BI(n)){const r=mp(n);throw r==="an object"?e.wc(t+" a custom object"):e.wc(t+" "+r)}}function by(t,e,n){if((e=Tt(e))instanceof Vu)return e._internalPath;if(typeof e=="string")return q0(t,e);throw bf("Field path arguments must be of type string or ",t,!1,void 0,n)}const xL=new RegExp("[~\\*/\\[\\]]");function q0(t,e,n){if(e.search(xL)>=0)throw bf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Vu(...e.split("."))._internalPath}catch{throw bf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function bf(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new ae(W.INVALID_ARGUMENT,a+t+l)}function sS(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pf{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new ft(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new bL(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(G0("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class bL extends Pf{data(){return super.data()}}function G0(t,e){return typeof e=="string"?q0(t,e):e instanceof Vu?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oS(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ae(W.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class z0{}class PL extends z0{}function e_(t,e,...n){let r=[];e instanceof z0&&r.push(e),r=r.concat(n),function(s){const o=s.filter(l=>l instanceof $0).length,a=s.filter(l=>l instanceof kp).length;if(o>1||o>0&&a>0)throw new ae(W.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class kp extends PL{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new kp(e,n,r)}_apply(e){const n=this._parse(e);return aS(e._query,n),new Mu(e.firestore,e.converter,wy(e._query,n))}_parse(e){const n=bp(e.firestore);return function(s,o,a,l,u,d,f){let h;if(u.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new ae(W.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){n_(f,d);const E=[];for(const _ of f)E.push(t_(l,s,_));h={arrayValue:{values:E}}}else h=t_(l,s,f)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||n_(f,d),h=SL(a,o,f,d==="in"||d==="not-in");return St.create(u,d,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function rh(t,e,n){const r=e,i=G0("where",t);return kp._create(i,r,n)}class $0 extends z0{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new $0(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:br.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)aS(o,l),o=wy(o,l)}(e._query,n),new Mu(e.firestore,e.converter,wy(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function t_(t,e,n){if(typeof(n=Tt(n))=="string"){if(n==="")throw new ae(W.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!rR(e)&&n.indexOf("/")!==-1)throw new ae(W.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Je.fromString(n));if(!me.isDocumentKey(r))throw new ae(W.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return m1(t,new me(r))}if(n instanceof ft)return m1(t,n._key);throw new ae(W.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${mp(n)}.`)}function n_(t,e){if(!Array.isArray(t)||t.length===0)throw new ae(W.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function aS(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ae(W.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ae(W.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class lS{convertValue(e,n="none"){switch(js(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Et(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Us(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ye(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Zs(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n[wf].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>Et(o.doubleValue));return new Yr(s)}convertGeoPoint(e){return new Qr(Et(e.latitude),Et(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=yp(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(nu(e));default:return null}}convertTimestamp(e){const n=Bs(e);return new Ze(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Je.fromString(e);Ue(bR(r),9688,{name:e});const i=new ru(r.get(1),r.get(3)),s=new me(r.popFirst(5));return i.isEqual(n)||Pi(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cS(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class kL extends lS{constructor(e){super(),this.firestore=e}convertBytes(e){return new jn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ft(this.firestore,null,n)}}class Na{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ds extends Pf{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new kh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(G0("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ae(W.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Ds._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Ds._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ds._jsonSchema={type:xt("string",Ds._jsonSchemaVersion),bundleSource:xt("string","DocumentSnapshot"),bundleName:xt("string"),bundle:xt("string")};class kh extends Ds{data(e={}){return super.data(e)}}class bo{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Na(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new kh(this._firestore,this._userDataWriter,r.key,r,new Na(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ae(W.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new kh(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Na(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new kh(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Na(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,d=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:NL(a.type),doc:l,oldIndex:u,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ae(W.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=bo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=c0.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach(s=>{s._document!==null&&(n.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function NL(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ye(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DL(t){t=$n(t,ft);const e=$n(t.firestore,zs);return wL(Ou(e),t._key).then(n=>dS(e,t,n))}bo._jsonSchemaVersion="firestore/querySnapshot/1.0",bo._jsonSchema={type:xt("string",bo._jsonSchemaVersion),bundleSource:xt("string","QuerySnapshot"),bundleName:xt("string"),bundle:xt("string")};class Np extends lS{constructor(e){super(),this.firestore=e}convertBytes(e){return new jn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ft(this.firestore,null,n)}}function r_(t){t=$n(t,Mu);const e=$n(t.firestore,zs),n=Ou(e),r=new Np(e);return oS(t._query),EL(n,t._query).then(i=>new bo(e,r,t,i))}function ML(t,e,n){t=$n(t,ft);const r=$n(t.firestore,zs),i=cS(t.converter,e,n);return uS(r,[eS(bp(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,_n.none())])}function i_(t,e,n,...r){t=$n(t,ft);const i=$n(t.firestore,zs),s=bp(i);let o;return o=typeof(e=Tt(e))=="string"||e instanceof Vu?nS(s,"updateDoc",t._key,e,n,r):tS(s,"updateDoc",t._key,e),uS(i,[o.toMutation(t._key,_n.exists(!0))])}function OL(t,...e){var n,r,i;t=Tt(t);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||X1(e[o])||(s=e[o++]);const a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(X1(e[o])){const f=e[o];e[o]=(n=f.next)===null||n===void 0?void 0:n.bind(f),e[o+1]=(r=f.error)===null||r===void 0?void 0:r.bind(f),e[o+2]=(i=f.complete)===null||i===void 0?void 0:i.bind(f)}let l,u,d;if(t instanceof ft)u=$n(t.firestore,zs),d=vp(t._key.path),l={next:f=>{e[o]&&e[o](dS(u,t,f))},error:e[o+1],complete:e[o+2]};else{const f=$n(t,Mu);u=$n(f.firestore,zs),d=f._query;const h=new Np(u);l={next:g=>{e[o]&&e[o](new bo(u,h,f,g))},error:e[o+1],complete:e[o+2]},oS(t._query)}return function(h,g,E,_){const I=new L0(_),T=new M0(g,I,E);return h.asyncQueue.enqueueAndForget(async()=>k0(await xf(h),T)),()=>{I.Ou(),h.asyncQueue.enqueueAndForget(async()=>N0(await xf(h),T))}}(Ou(u),d,a,l)}function uS(t,e){return function(r,i){const s=new zr;return r.asyncQueue.enqueueAndForget(async()=>iL(await yL(r),i,s)),s.promise}(Ou(t),e)}function dS(t,e,n){const r=n.docs.get(e._key),i=new Np(t);return new Ds(t,i,e._key,r,new Na(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VL={maxAttempts:5};function pc(t,e){if((t=Tt(t)).firestore!==e)throw new ae(W.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LL{constructor(e,n){this._firestore=e,this._transaction=n,this._dataReader=bp(e)}get(e){const n=pc(e,this._firestore),r=new kL(this._firestore);return this._transaction.lookup([n._key]).then(i=>{if(!i||i.length!==1)return ye(24041);const s=i[0];if(s.isFoundDocument())return new Pf(this._firestore,r,s.key,s,n.converter);if(s.isNoDocument())return new Pf(this._firestore,r,n._key,null,n.converter);throw ye(18433,{doc:s})})}set(e,n,r){const i=pc(e,this._firestore),s=cS(i.converter,n,r),o=eS(this._dataReader,"Transaction.set",i._key,s,i.converter!==null,r);return this._transaction.set(i._key,o),this}update(e,n,r,...i){const s=pc(e,this._firestore);let o;return o=typeof(n=Tt(n))=="string"||n instanceof Vu?nS(this._dataReader,"Transaction.update",s._key,n,r,i):tS(this._dataReader,"Transaction.update",s._key,n),this._transaction.update(s._key,o),this}delete(e){const n=pc(e,this._firestore);return this._transaction.delete(n._key),this}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FL extends LL{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=pc(e,this._firestore),r=new Np(this._firestore);return super.get(e).then(i=>new Ds(this._firestore,r,n._key,i._document,new Na(!1,!1),n.converter))}}function BL(t,e,n){t=$n(t,zs);const r=Object.assign(Object.assign({},VL),n);return function(s){if(s.maxAttempts<1)throw new ae(W.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(s,o,a){const l=new zr;return s.asyncQueue.enqueueAndForget(async()=>{const u=await vL(s);new pL(s.asyncQueue,u,a,o,l).zu()}),l.promise}(Ou(t),i=>e(new FL(t,i)),r)}function UL(t){return new U0("increment",t)}(function(e,n=!0){(function(i){xl=i})(Sl),ul(new Lo("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new zs(new P4(r.getProvider("auth-internal")),new D4(o,r.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new ae(W.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ru(u.options.projectId,d)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Ps(t1,n1,e),Ps(t1,n1,"esm2017")})();function Q0(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function hS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const jL=hS,fS=new Iu("auth","Firebase",hS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kf=new s0("@firebase/auth");function qL(t,...e){kf.logLevel<=De.WARN&&kf.warn(`Auth (${Sl}): ${t}`,...e)}function Nh(t,...e){kf.logLevel<=De.ERROR&&kf.error(`Auth (${Sl}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pr(t,...e){throw Y0(t,...e)}function Wr(t,...e){return Y0(t,...e)}function pS(t,e,n){const r=Object.assign(Object.assign({},jL()),{[e]:n});return new Iu("auth","Firebase",r).create(e,{appName:t.name})}function Ci(t){return pS(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Y0(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return fS.create(t,...e)}function Te(t,e,...n){if(!t)throw Y0(e,...n)}function Ei(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Nh(e),new Error(e)}function Ni(t,e){t||Ei(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Py(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function GL(){return s_()==="http:"||s_()==="https:"}function s_(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zL(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(GL()||sM()||"connection"in navigator)?navigator.onLine:!0}function $L(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fu{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ni(n>e,"Short delay should be less than long delay!"),this.isMobile=nM()||oM()}get(){return zL()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W0(t,e){Ni(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mS{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ei("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ei("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ei("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QL={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YL=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],WL=new Fu(3e4,6e4);function eo(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function to(t,e,n,r,i={}){return gS(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=Ru(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:l},s);return iM()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&Rl(t.emulatorConfig.host)&&(u.credentials="include"),mS.fetch()(await yS(t,t.config.apiHost,n,a),u)})}async function gS(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},QL),e);try{const i=new HL(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw ih(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw ih(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw ih(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw ih(t,"user-disabled",o);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw pS(t,d,u);Pr(t,d)}}catch(i){if(i instanceof Li)throw i;Pr(t,"network-request-failed",{message:String(i)})}}async function Bu(t,e,n,r,i={}){const s=await to(t,e,n,r,i);return"mfaPendingCredential"in s&&Pr(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function yS(t,e,n,r){const i=`${e}${n}?${r}`,s=t,o=s.config.emulator?W0(t.config,i):`${t.config.apiScheme}://${i}`;return YL.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(o).toString():o}function KL(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class HL{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Wr(this.auth,"network-request-failed")),WL.get())})}}function ih(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Wr(t,e,r);return i.customData._tokenResponse=n,i}function o_(t){return t!==void 0&&t.enterprise!==void 0}class JL{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return KL(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function ZL(t,e){return to(t,"GET","/v2/recaptchaConfig",eo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XL(t,e){return to(t,"POST","/v1/accounts:delete",e)}async function Nf(t,e){return to(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function eF(t,e=!1){const n=Tt(t),r=await n.getIdToken(e),i=K0(r);Te(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Dc(Jm(i.auth_time)),issuedAtTime:Dc(Jm(i.iat)),expirationTime:Dc(Jm(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Jm(t){return Number(t)*1e3}function K0(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Nh("JWT malformed, contained fewer than 3 sections"),null;try{const i=yI(n);return i?JSON.parse(i):(Nh("Failed to decode base64 JWT payload"),null)}catch(i){return Nh("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function a_(t){const e=K0(t);return Te(e,"internal-error"),Te(typeof e.exp<"u","internal-error"),Te(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lu(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Li&&tF(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function tF({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nF{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ky{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Dc(this.lastLoginAt),this.creationTime=Dc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Df(t){var e;const n=t.auth,r=await t.getIdToken(),i=await lu(t,Nf(n,{idToken:r}));Te(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?vS(s.providerUserInfo):[],a=iF(t.providerData,o),l=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),d=l?u:!1,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new ky(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,f)}async function rF(t){const e=Tt(t);await Df(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function iF(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function vS(t){return t.map(e=>{var{providerId:n}=e,r=Q0(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sF(t,e){const n=await gS(t,{},async()=>{const r=Ru({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=await yS(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:a,body:r};return t.emulatorConfig&&Rl(t.emulatorConfig.host)&&(l.credentials="include"),mS.fetch()(o,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function oF(t,e){return to(t,"POST","/v2/accounts:revokeToken",eo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Te(e.idToken,"internal-error"),Te(typeof e.idToken<"u","internal-error"),Te(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):a_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Te(e.length!==0,"internal-error");const n=a_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Te(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await sF(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new qa;return r&&(Te(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(Te(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(Te(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new qa,this.toJSON())}_performRefresh(){return Ei("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ji(t,e){Te(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ar{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Q0(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new nF(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new ky(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await lu(this,this.stsTokenManager.getToken(this.auth,e));return Te(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return eF(this,e)}reload(){return rF(this)}_assign(e){this!==e&&(Te(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ar(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Df(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(sr(this.auth.app))return Promise.reject(Ci(this.auth));const e=await this.getIdToken();return await lu(this,XL(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,u,d;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,g=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,E=(o=n.photoURL)!==null&&o!==void 0?o:void 0,_=(a=n.tenantId)!==null&&a!==void 0?a:void 0,I=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,T=(u=n.createdAt)!==null&&u!==void 0?u:void 0,w=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:A,emailVerified:N,isAnonymous:F,providerData:j,stsTokenManager:S}=n;Te(A&&S,e,"internal-error");const C=qa.fromJSON(this.name,S);Te(typeof A=="string",e,"internal-error"),Ji(f,e.name),Ji(h,e.name),Te(typeof N=="boolean",e,"internal-error"),Te(typeof F=="boolean",e,"internal-error"),Ji(g,e.name),Ji(E,e.name),Ji(_,e.name),Ji(I,e.name),Ji(T,e.name),Ji(w,e.name);const P=new Ar({uid:A,auth:e,email:h,emailVerified:N,displayName:f,isAnonymous:F,photoURL:E,phoneNumber:g,tenantId:_,stsTokenManager:C,createdAt:T,lastLoginAt:w});return j&&Array.isArray(j)&&(P.providerData=j.map(D=>Object.assign({},D))),I&&(P._redirectEventId=I),P}static async _fromIdTokenResponse(e,n,r=!1){const i=new qa;i.updateFromServerResponse(n);const s=new Ar({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Df(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Te(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?vS(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new qa;a.updateFromIdToken(r);const l=new Ar({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new ky(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l_=new Map;function _i(t){Ni(t instanceof Function,"Expected a class definition");let e=l_.get(t);return e?(Ni(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,l_.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}wS.type="NONE";const c_=wS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dh(t,e,n){return`firebase:${t}:${e}:${n}`}class Ga{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Dh(this.userKey,i.apiKey,s),this.fullPersistenceKey=Dh("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Nf(this.auth,{idToken:e}).catch(()=>{});return n?Ar._fromGetAccountInfoResponse(this.auth,n,e):null}return Ar._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Ga(_i(c_),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||_i(c_);const o=Dh(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const d=await u._get(o);if(d){let f;if(typeof d=="string"){const h=await Nf(e,{idToken:d}).catch(()=>{});if(!h)break;f=await Ar._fromGetAccountInfoResponse(e,h,d)}else f=Ar._fromJSON(e,d);u!==s&&(a=f),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new Ga(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new Ga(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u_(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(CS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(ES(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(IS(e))return"Blackberry";if(RS(e))return"Webos";if(_S(e))return"Safari";if((e.includes("chrome/")||TS(e))&&!e.includes("edge/"))return"Chrome";if(AS(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function ES(t=dn()){return/firefox\//i.test(t)}function _S(t=dn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function TS(t=dn()){return/crios\//i.test(t)}function CS(t=dn()){return/iemobile/i.test(t)}function AS(t=dn()){return/android/i.test(t)}function IS(t=dn()){return/blackberry/i.test(t)}function RS(t=dn()){return/webos/i.test(t)}function H0(t=dn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function aF(t=dn()){var e;return H0(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function lF(){return aM()&&document.documentMode===10}function SS(t=dn()){return H0(t)||AS(t)||RS(t)||IS(t)||/windows phone/i.test(t)||CS(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xS(t,e=[]){let n;switch(t){case"Browser":n=u_(dn());break;case"Worker":n=`${u_(dn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Sl}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cF{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uF(t,e={}){return to(t,"GET","/v2/passwordPolicy",eo(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dF=6;class hF{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:dF,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fF{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new d_(this),this.idTokenSubscription=new d_(this),this.beforeStateQueue=new cF(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=fS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=_i(n)),this._initializationPromise=this.queue(async()=>{var r,i,s;if(!this._deleted&&(this.persistenceManager=await Ga.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Nf(this,{idToken:e}),r=await Ar._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(sr(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Te(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Df(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=$L()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(sr(this.app))return Promise.reject(Ci(this));const n=e?Tt(e):null;return n&&Te(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Te(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return sr(this.app)?Promise.reject(Ci(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return sr(this.app)?Promise.reject(Ci(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(_i(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await uF(this),n=new hF(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Iu("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await oF(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&_i(e)||this._popupRedirectResolver;Te(n,this,"argument-error"),this.redirectPersistenceManager=await Ga.create(this,[_i(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Te(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=xS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;if(sr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&qL(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Yo(t){return Tt(t)}class d_{constructor(e){this.auth=e,this.observer=null,this.addObserver=mM(n=>this.observer=n)}get next(){return Te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function pF(t){Dp=t}function bS(t){return Dp.loadJS(t)}function mF(){return Dp.recaptchaEnterpriseScript}function gF(){return Dp.gapiScript}function yF(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class vF{constructor(){this.enterprise=new wF}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class wF{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const EF="recaptcha-enterprise",PS="NO_RECAPTCHA";class _F{constructor(e){this.type=EF,this.auth=Yo(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{ZL(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new JL(l);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;o_(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(()=>{o(PS)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new vF().execute("siteKey",{action:"verify"}):new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&o_(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=mF();l.length!==0&&(l+=a),bS(l).then(()=>{i(a,s,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})}}async function h_(t,e,n,r=!1,i=!1){const s=new _F(t);let o;if(i)o=PS;else try{o=await s.verify(n)}catch{o=await s.verify(n,!0)}const a=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,u=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:u,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function Ny(t,e,n,r,i){var s;if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await h_(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await h_(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TF(t,e){const n=a0(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Vo(s,e??{}))return i;Pr(i,"already-initialized")}return n.initialize({options:e})}function CF(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(_i);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function AF(t,e,n){const r=Yo(t);Te(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=kS(e),{host:o,port:a}=IF(e),l=a===null?"":`:${a}`,u={url:`${s}//${o}${l}/`},d=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Te(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Te(Vo(u,r.config.emulator)&&Vo(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,Rl(o)?(_I(`${s}//${o}${l}`),TI("Auth",!0)):RF()}function kS(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function IF(t){const e=kS(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:f_(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:f_(o)}}}function f_(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function RF(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J0{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ei("not implemented")}_getIdTokenResponse(e){return Ei("not implemented")}_linkToIdToken(e,n){return Ei("not implemented")}_getReauthenticationResolver(e){return Ei("not implemented")}}async function SF(t,e){return to(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xF(t,e){return Bu(t,"POST","/v1/accounts:signInWithPassword",eo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bF(t,e){return Bu(t,"POST","/v1/accounts:signInWithEmailLink",eo(t,e))}async function PF(t,e){return Bu(t,"POST","/v1/accounts:signInWithEmailLink",eo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cu extends J0{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new cu(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new cu(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ny(e,n,"signInWithPassword",xF);case"emailLink":return bF(e,{email:this._email,oobCode:this._password});default:Pr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ny(e,r,"signUpPassword",SF);case"emailLink":return PF(e,{idToken:n,email:this._email,oobCode:this._password});default:Pr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function za(t,e){return Bu(t,"POST","/v1/accounts:signInWithIdp",eo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kF="http://localhost";class Uo extends J0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Uo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Pr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=Q0(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Uo(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return za(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,za(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,za(e,n)}buildRequest(){const e={requestUri:kF,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Ru(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NF(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function DF(t){const e=cc(uc(t)).link,n=e?cc(uc(e)).deep_link_id:null,r=cc(uc(t)).deep_link_id;return(r?cc(uc(r)).link:null)||r||n||e||t}class Z0{constructor(e){var n,r,i,s,o,a;const l=cc(uc(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,d=(r=l.oobCode)!==null&&r!==void 0?r:null,f=NF((i=l.mode)!==null&&i!==void 0?i:null);Te(u&&d&&f,"argument-error"),this.apiKey=u,this.operation=f,this.code=d,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.lang)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=DF(e);try{return new Z0(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nl{constructor(){this.providerId=Nl.PROVIDER_ID}static credential(e,n){return cu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Z0.parseLink(n);return Te(r,"argument-error"),cu._fromEmailAndCode(e,r.code,r.tenantId)}}Nl.PROVIDER_ID="password";Nl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Nl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NS{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uu extends NS{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os extends Uu{constructor(){super("facebook.com")}static credential(e){return Uo._fromParams({providerId:os.PROVIDER_ID,signInMethod:os.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return os.credentialFromTaggedObject(e)}static credentialFromError(e){return os.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return os.credential(e.oauthAccessToken)}catch{return null}}}os.FACEBOOK_SIGN_IN_METHOD="facebook.com";os.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as extends Uu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Uo._fromParams({providerId:as.PROVIDER_ID,signInMethod:as.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return as.credentialFromTaggedObject(e)}static credentialFromError(e){return as.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return as.credential(n,r)}catch{return null}}}as.GOOGLE_SIGN_IN_METHOD="google.com";as.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls extends Uu{constructor(){super("github.com")}static credential(e){return Uo._fromParams({providerId:ls.PROVIDER_ID,signInMethod:ls.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ls.credentialFromTaggedObject(e)}static credentialFromError(e){return ls.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ls.credential(e.oauthAccessToken)}catch{return null}}}ls.GITHUB_SIGN_IN_METHOD="github.com";ls.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs extends Uu{constructor(){super("twitter.com")}static credential(e,n){return Uo._fromParams({providerId:cs.PROVIDER_ID,signInMethod:cs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return cs.credentialFromTaggedObject(e)}static credentialFromError(e){return cs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return cs.credential(n,r)}catch{return null}}}cs.TWITTER_SIGN_IN_METHOD="twitter.com";cs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MF(t,e){return Bu(t,"POST","/v1/accounts:signUp",eo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Ar._fromIdTokenResponse(e,r,i),o=p_(r);return new jo({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=p_(r);return new jo({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function p_(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mf extends Li{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Mf.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Mf(e,n,r,i)}}function DS(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Mf._fromErrorAndOperation(t,s,e,r):s})}async function OF(t,e,n=!1){const r=await lu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return jo._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VF(t,e,n=!1){const{auth:r}=t;if(sr(r.app))return Promise.reject(Ci(r));const i="reauthenticate";try{const s=await lu(t,DS(r,i,e,t),n);Te(s.idToken,r,"internal-error");const o=K0(s.idToken);Te(o,r,"internal-error");const{sub:a}=o;return Te(t.uid===a,r,"user-mismatch"),jo._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Pr(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MS(t,e,n=!1){if(sr(t.app))return Promise.reject(Ci(t));const r="signIn",i=await DS(t,r,e),s=await jo._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function LF(t,e){return MS(Yo(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OS(t){const e=Yo(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function FF(t,e,n){if(sr(t.app))return Promise.reject(Ci(t));const r=Yo(t),o=await Ny(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",MF).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&OS(t),l}),a=await jo._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function BF(t,e,n){return sr(t.app)?Promise.reject(Ci(t)):LF(Tt(t),Nl.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&OS(t),r})}function UF(t,e,n,r){return Tt(t).onIdTokenChanged(e,n,r)}function jF(t,e,n){return Tt(t).beforeAuthStateChanged(e,n)}function qF(t,e,n,r){return Tt(t).onAuthStateChanged(e,n,r)}function GF(t){return Tt(t).signOut()}const Of="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VS{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Of,"1"),this.storage.removeItem(Of),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zF=1e3,$F=10;class LS extends VS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=SS(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);lF()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,$F):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},zF)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}LS.type="LOCAL";const QF=LS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FS extends VS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}FS.type="SESSION";const BS=FS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YF(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mp{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Mp(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),l=await YF(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Mp.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X0(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WF{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=X0("",20);i.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(f){const h=f;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(h.data.response);break;default:clearTimeout(d),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kr(){return window}function KF(t){Kr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function US(){return typeof Kr().WorkerGlobalScope<"u"&&typeof Kr().importScripts=="function"}async function HF(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function JF(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function ZF(){return US()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jS="firebaseLocalStorageDb",XF=1,Vf="firebaseLocalStorage",qS="fbase_key";class ju{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Op(t,e){return t.transaction([Vf],e?"readwrite":"readonly").objectStore(Vf)}function eB(){const t=indexedDB.deleteDatabase(jS);return new ju(t).toPromise()}function Dy(){const t=indexedDB.open(jS,XF);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Vf,{keyPath:qS})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Vf)?e(r):(r.close(),await eB(),e(await Dy()))})})}async function m_(t,e,n){const r=Op(t,!0).put({[qS]:e,value:n});return new ju(r).toPromise()}async function tB(t,e){const n=Op(t,!1).get(e),r=await new ju(n).toPromise();return r===void 0?null:r.value}function g_(t,e){const n=Op(t,!0).delete(e);return new ju(n).toPromise()}const nB=800,rB=3;class GS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Dy(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>rB)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return US()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Mp._getInstance(ZF()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await HF(),!this.activeServiceWorker)return;this.sender=new WF(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||JF()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Dy();return await m_(e,Of,"1"),await g_(e,Of),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>m_(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>tB(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>g_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Op(i,!1).getAll();return new ju(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),nB)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}GS.type="LOCAL";const iB=GS;new Fu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sB(t,e){return e?_i(e):(Te(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ew extends J0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return za(e,this._buildIdpRequest())}_linkToIdToken(e,n){return za(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return za(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function oB(t){return MS(t.auth,new ew(t),t.bypassAuthState)}function aB(t){const{auth:e,user:n}=t;return Te(n,e,"internal-error"),VF(n,new ew(t),t.bypassAuthState)}async function lB(t){const{auth:e,user:n}=t;return Te(n,e,"internal-error"),OF(n,new ew(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zS{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return oB;case"linkViaPopup":case"linkViaRedirect":return lB;case"reauthViaPopup":case"reauthViaRedirect":return aB;default:Pr(this.auth,"internal-error")}}resolve(e){Ni(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ni(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cB=new Fu(2e3,1e4);class Da extends zS{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Da.currentPopupAction&&Da.currentPopupAction.cancel(),Da.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Te(e,this.auth,"internal-error"),e}async onExecution(){Ni(this.filter.length===1,"Popup operations only handle one event");const e=X0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Wr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Wr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Da.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Wr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,cB.get())};e()}}Da.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uB="pendingRedirect",Mh=new Map;class dB extends zS{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Mh.get(this.auth._key());if(!e){try{const r=await hB(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Mh.set(this.auth._key(),e)}return this.bypassAuthState||Mh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function hB(t,e){const n=mB(e),r=pB(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function fB(t,e){Mh.set(t._key(),e)}function pB(t){return _i(t._redirectPersistence)}function mB(t){return Dh(uB,t.config.apiKey,t.name)}async function gB(t,e,n=!1){if(sr(t.app))return Promise.reject(Ci(t));const r=Yo(t),i=sB(r,e),o=await new dB(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yB=10*60*1e3;class vB{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!wB(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!$S(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Wr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=yB&&this.cachedEventUids.clear(),this.cachedEventUids.has(y_(e))}saveEventToCache(e){this.cachedEventUids.add(y_(e)),this.lastProcessedEventTime=Date.now()}}function y_(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function $S({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function wB(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return $S(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EB(t,e={}){return to(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _B=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,TB=/^https?/;async function CB(t){if(t.config.emulator)return;const{authorizedDomains:e}=await EB(t);for(const n of e)try{if(AB(n))return}catch{}Pr(t,"unauthorized-domain")}function AB(t){const e=Py(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!TB.test(n))return!1;if(_B.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IB=new Fu(3e4,6e4);function v_(){const t=Kr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function RB(t){return new Promise((e,n)=>{var r,i,s;function o(){v_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{v_(),n(Wr(t,"network-request-failed"))},timeout:IB.get()})}if(!((i=(r=Kr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Kr().gapi)===null||s===void 0)&&s.load)o();else{const a=yF("iframefcb");return Kr()[a]=()=>{gapi.load?o():n(Wr(t,"network-request-failed"))},bS(`${gF()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Oh=null,e})}let Oh=null;function SB(t){return Oh=Oh||RB(t),Oh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xB=new Fu(5e3,15e3),bB="__/auth/iframe",PB="emulator/auth/iframe",kB={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},NB=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function DB(t){const e=t.config;Te(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?W0(e,PB):`https://${t.config.authDomain}/${bB}`,r={apiKey:e.apiKey,appName:t.name,v:Sl},i=NB.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Ru(r).slice(1)}`}async function MB(t){const e=await SB(t),n=Kr().gapi;return Te(n,t,"internal-error"),e.open({where:document.body,url:DB(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:kB,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Wr(t,"network-request-failed"),a=Kr().setTimeout(()=>{s(o)},xB.get());function l(){Kr().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OB={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},VB=500,LB=600,FB="_blank",BB="http://localhost";class w_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function UB(t,e,n,r=VB,i=LB){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},OB),{width:r.toString(),height:i.toString(),top:s,left:o}),u=dn().toLowerCase();n&&(a=TS(u)?FB:n),ES(u)&&(e=e||BB,l.scrollbars="yes");const d=Object.entries(l).reduce((h,[g,E])=>`${h}${g}=${E},`,"");if(aF(u)&&a!=="_self")return jB(e||"",a),new w_(null);const f=window.open(e||"",a,d);Te(f,t,"popup-blocked");try{f.focus()}catch{}return new w_(f)}function jB(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qB="__/auth/handler",GB="emulator/auth/handler",zB=encodeURIComponent("fac");async function E_(t,e,n,r,i,s){Te(t.config.authDomain,t,"auth-domain-config-required"),Te(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Sl,eventId:i};if(e instanceof NS){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",pM(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,f]of Object.entries({}))o[d]=f}if(e instanceof Uu){const d=e.getScopes().filter(f=>f!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await t._getAppCheckToken(),u=l?`#${zB}=${encodeURIComponent(l)}`:"";return`${$B(t)}?${Ru(a).slice(1)}${u}`}function $B({config:t}){return t.emulator?W0(t,GB):`https://${t.authDomain}/${qB}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zm="webStorageSupport";class QB{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=BS,this._completeRedirectFn=gB,this._overrideRedirectResult=fB}async _openPopup(e,n,r,i){var s;Ni((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await E_(e,n,r,Py(),i);return UB(e,o,X0())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await E_(e,n,r,Py(),i);return KF(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Ni(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await MB(e),r=new vB(e);return n.register("authEvent",i=>(Te(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Zm,{type:Zm},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Zm];o!==void 0&&n(!!o),Pr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=CB(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return SS()||_S()||H0()}}const YB=QB;var __="@firebase/auth",T_="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WB{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KB(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function HB(t){ul(new Lo("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;Te(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:xS(t)},u=new fF(r,i,s,l);return CF(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ul(new Lo("auth-internal",e=>{const n=Yo(e.getProvider("auth").getImmediate());return(r=>new WB(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ps(__,T_,KB(t)),Ps(__,T_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JB=5*60,ZB=EI("authIdTokenMaxAge")||JB;let C_=null;const XB=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>ZB)return;const i=n==null?void 0:n.token;C_!==i&&(C_=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function e5(t=RI()){const e=a0(t,"auth");if(e.isInitialized())return e.getImmediate();const n=TF(t,{popupRedirectResolver:YB,persistence:[iB,QF,BS]}),r=EI("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=XB(s.toString());jF(n,o,()=>o(n.currentUser)),UF(n,a=>o(a))}}const i=vI("auth");return i&&AF(n,`http://${i}`),n}function t5(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}pF({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Wr("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",t5().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});HB("Browser");const n5={apiKey:"AIzaSyBS3_IVikDTZwStfJLSL2y_OvAIhFPQO3s",authDomain:"ape-shop-84c95.firebaseapp.com",projectId:"vape-shop-84c95",storageBucket:"vape-shop-84c95.appspot.com",messagingSenderId:"131179049959",appId:"1:131179049959:web:d31446fba53784c68a4342"},QS=II(n5),yi=TL(QS),sh=e5(QS);function Dr(...t){return qD(aI(t))}const r5=oD,YS=b.forwardRef(({className:t,...e},n)=>k.jsx(eI,{ref:n,className:Dr("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));YS.displayName=eI.displayName;const i5=r0("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),WS=b.forwardRef(({className:t,variant:e,...n},r)=>k.jsx(tI,{ref:r,className:Dr(i5({variant:e}),t),...n}));WS.displayName=tI.displayName;const s5=b.forwardRef(({className:t,...e},n)=>k.jsx(iI,{ref:n,className:Dr("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));s5.displayName=iI.displayName;const KS=b.forwardRef(({className:t,...e},n)=>k.jsx(sI,{ref:n,className:Dr("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:k.jsx(uD,{className:"h-4 w-4"})}));KS.displayName=sI.displayName;const HS=b.forwardRef(({className:t,...e},n)=>k.jsx(nI,{ref:n,className:Dr("text-sm font-semibold",t),...e}));HS.displayName=nI.displayName;const JS=b.forwardRef(({className:t,...e},n)=>k.jsx(rI,{ref:n,className:Dr("text-sm opacity-90",t),...e}));JS.displayName=rI.displayName;function o5(){const{toasts:t}=gN();return k.jsxs(r5,{children:[t.map(function({id:e,title:n,description:r,action:i,...s}){return k.jsxs(WS,{...s,children:[k.jsxs("div",{className:"grid gap-1",children:[n&&k.jsx(HS,{children:n}),r&&k.jsx(JS,{children:r})]}),i,k.jsx(KS,{})]},e)}),k.jsx(YS,{})]})}var A_=["light","dark"],a5="(prefers-color-scheme: dark)",l5=b.createContext(void 0),c5={setTheme:t=>{},themes:[]},u5=()=>{var t;return(t=b.useContext(l5))!=null?t:c5};b.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:i,defaultTheme:s,value:o,attrs:a,nonce:l})=>{let u=s==="system",d=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${a.map(E=>`'${E}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,f=i?A_.includes(s)&&s?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${s}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",h=(E,_=!1,I=!0)=>{let T=o?o[E]:E,w=_?E+"|| ''":`'${T}'`,A="";return i&&I&&!_&&A_.includes(E)&&(A+=`d.style.colorScheme = '${E}';`),n==="class"?_||T?A+=`c.add(${w})`:A+="null":T&&(A+=`d[s](n,${w})`),A},g=t?`!function(){${d}${h(t)}}()`:r?`!function(){try{${d}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${u})){var t='${a5}',m=window.matchMedia(t);if(m.media!==t||m.matches){${h("dark")}}else{${h("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${h(o?"x[e]":"e",!0)}}${u?"":"else{"+h(s,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${e}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${h(o?"x[e]":"e",!0)}}else{${h(s,!1,!1)};}${f}}catch(t){}}();`;return b.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:g}})});var d5=t=>{switch(t){case"success":return p5;case"info":return g5;case"warning":return m5;case"error":return y5;default:return null}},h5=Array(12).fill(0),f5=({visible:t})=>Y.createElement("div",{className:"sonner-loading-wrapper","data-visible":t},Y.createElement("div",{className:"sonner-spinner"},h5.map((e,n)=>Y.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),p5=Y.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Y.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),m5=Y.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},Y.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),g5=Y.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Y.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),y5=Y.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Y.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),v5=()=>{let[t,e]=Y.useState(document.hidden);return Y.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},My=1,w5=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;let{message:n,...r}=t,i=typeof(t==null?void 0:t.id)=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:My++,s=this.toasts.find(a=>a.id===i),o=t.dismissible===void 0?!0:t.dismissible;return s?this.toasts=this.toasts.map(a=>a.id===i?(this.publish({...a,...t,id:i,title:n}),{...a,...t,id:i,dismissible:o,title:n}):a):this.addToast({title:n,...r,dismissible:o,id:i}),i},this.dismiss=t=>(t||this.toasts.forEach(e=>{this.subscribers.forEach(n=>n({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:t,dismiss:!0})),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let n;e.loading!==void 0&&(n=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let r=t instanceof Promise?t:t(),i=n!==void 0;return r.then(async s=>{if(_5(s)&&!s.ok){i=!1;let o=typeof e.error=="function"?await e.error(`HTTP error! status: ${s.status}`):e.error,a=typeof e.description=="function"?await e.description(`HTTP error! status: ${s.status}`):e.description;this.create({id:n,type:"error",message:o,description:a})}else if(e.success!==void 0){i=!1;let o=typeof e.success=="function"?await e.success(s):e.success,a=typeof e.description=="function"?await e.description(s):e.description;this.create({id:n,type:"success",message:o,description:a})}}).catch(async s=>{if(e.error!==void 0){i=!1;let o=typeof e.error=="function"?await e.error(s):e.error,a=typeof e.description=="function"?await e.description(s):e.description;this.create({id:n,type:"error",message:o,description:a})}}).finally(()=>{var s;i&&(this.dismiss(n),n=void 0),(s=e.finally)==null||s.call(e)}),n},this.custom=(t,e)=>{let n=(e==null?void 0:e.id)||My++;return this.create({jsx:t(n),id:n,...e}),n},this.subscribers=[],this.toasts=[]}},Fn=new w5,E5=(t,e)=>{let n=(e==null?void 0:e.id)||My++;return Fn.addToast({title:t,...e,id:n}),n},_5=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",T5=E5,C5=()=>Fn.toasts;Object.assign(T5,{success:Fn.success,info:Fn.info,warning:Fn.warning,error:Fn.error,custom:Fn.custom,message:Fn.message,promise:Fn.promise,dismiss:Fn.dismiss,loading:Fn.loading},{getHistory:C5});function A5(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}A5(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function oh(t){return t.label!==void 0}var I5=3,R5="32px",S5=4e3,x5=356,b5=14,P5=20,k5=200;function N5(...t){return t.filter(Boolean).join(" ")}var D5=t=>{var e,n,r,i,s,o,a,l,u,d;let{invert:f,toast:h,unstyled:g,interacting:E,setHeights:_,visibleToasts:I,heights:T,index:w,toasts:A,expanded:N,removeToast:F,defaultRichColors:j,closeButton:S,style:C,cancelButtonStyle:P,actionButtonStyle:D,className:V="",descriptionClassName:L="",duration:M,position:ne,gap:ie,loadingIcon:le,expandByDefault:pe,classNames:z,icons:X,closeButtonAriaLabel:se="Close toast",pauseWhenPageIsHidden:te,cn:ce}=t,[de,ke]=Y.useState(!1),[Le,Ae]=Y.useState(!1),[ve,Ie]=Y.useState(!1),[Oe,Ye]=Y.useState(!1),[st,Xe]=Y.useState(0),[he,ge]=Y.useState(0),Ct=Y.useRef(null),dt=Y.useRef(null),Jt=w===0,$e=w+1<=I,ot=h.type,Zt=h.dismissible!==!1,ur=h.className||"",ti=h.descriptionClassName||"",Zn=Y.useMemo(()=>T.findIndex(Ee=>Ee.toastId===h.id)||0,[T,h.id]),ni=Y.useMemo(()=>{var Ee;return(Ee=h.closeButton)!=null?Ee:S},[h.closeButton,S]),ro=Y.useMemo(()=>h.duration||M||S5,[h.duration,M]),yt=Y.useRef(0),at=Y.useRef(0),ri=Y.useRef(0),dr=Y.useRef(null),[io,Fi]=ne.split("-"),Xn=Y.useMemo(()=>T.reduce((Ee,Ne,Ge)=>Ge>=Zn?Ee:Ee+Ne.height,0),[T,Zn]),hr=v5(),fr=h.invert||f,hn=ot==="loading";at.current=Y.useMemo(()=>Zn*ie+Xn,[Zn,Xn]),Y.useEffect(()=>{ke(!0)},[]),Y.useLayoutEffect(()=>{if(!de)return;let Ee=dt.current,Ne=Ee.style.height;Ee.style.height="auto";let Ge=Ee.getBoundingClientRect().height;Ee.style.height=Ne,ge(Ge),_(Vt=>Vt.find(Xt=>Xt.toastId===h.id)?Vt.map(Xt=>Xt.toastId===h.id?{...Xt,height:Ge}:Xt):[{toastId:h.id,height:Ge,position:h.position},...Vt])},[de,h.title,h.description,_,h.id]);let fn=Y.useCallback(()=>{Ae(!0),Xe(at.current),_(Ee=>Ee.filter(Ne=>Ne.toastId!==h.id)),setTimeout(()=>{F(h)},k5)},[h,F,_,at]);Y.useEffect(()=>{if(h.promise&&ot==="loading"||h.duration===1/0||h.type==="loading")return;let Ee,Ne=ro;return N||E||te&&hr?(()=>{if(ri.current<yt.current){let Ge=new Date().getTime()-yt.current;Ne=Ne-Ge}ri.current=new Date().getTime()})():Ne!==1/0&&(yt.current=new Date().getTime(),Ee=setTimeout(()=>{var Ge;(Ge=h.onAutoClose)==null||Ge.call(h,h),fn()},Ne)),()=>clearTimeout(Ee)},[N,E,pe,h,ro,fn,h.promise,ot,te,hr]),Y.useEffect(()=>{let Ee=dt.current;if(Ee){let Ne=Ee.getBoundingClientRect().height;return ge(Ne),_(Ge=>[{toastId:h.id,height:Ne,position:h.position},...Ge]),()=>_(Ge=>Ge.filter(Vt=>Vt.toastId!==h.id))}},[_,h.id]),Y.useEffect(()=>{h.delete&&fn()},[fn,h.delete]);function Vl(){return X!=null&&X.loading?Y.createElement("div",{className:"sonner-loader","data-visible":ot==="loading"},X.loading):le?Y.createElement("div",{className:"sonner-loader","data-visible":ot==="loading"},le):Y.createElement(f5,{visible:ot==="loading"})}return Y.createElement("li",{"aria-live":h.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:dt,className:ce(V,ur,z==null?void 0:z.toast,(e=h==null?void 0:h.classNames)==null?void 0:e.toast,z==null?void 0:z.default,z==null?void 0:z[ot],(n=h==null?void 0:h.classNames)==null?void 0:n[ot]),"data-sonner-toast":"","data-rich-colors":(r=h.richColors)!=null?r:j,"data-styled":!(h.jsx||h.unstyled||g),"data-mounted":de,"data-promise":!!h.promise,"data-removed":Le,"data-visible":$e,"data-y-position":io,"data-x-position":Fi,"data-index":w,"data-front":Jt,"data-swiping":ve,"data-dismissible":Zt,"data-type":ot,"data-invert":fr,"data-swipe-out":Oe,"data-expanded":!!(N||pe&&de),style:{"--index":w,"--toasts-before":w,"--z-index":A.length-w,"--offset":`${Le?st:at.current}px`,"--initial-height":pe?"auto":`${he}px`,...C,...h.style},onPointerDown:Ee=>{hn||!Zt||(Ct.current=new Date,Xe(at.current),Ee.target.setPointerCapture(Ee.pointerId),Ee.target.tagName!=="BUTTON"&&(Ie(!0),dr.current={x:Ee.clientX,y:Ee.clientY}))},onPointerUp:()=>{var Ee,Ne,Ge,Vt;if(Oe||!Zt)return;dr.current=null;let Xt=Number(((Ee=dt.current)==null?void 0:Ee.style.getPropertyValue("--swipe-amount").replace("px",""))||0),pr=new Date().getTime()-((Ne=Ct.current)==null?void 0:Ne.getTime()),tt=Math.abs(Xt)/pr;if(Math.abs(Xt)>=P5||tt>.11){Xe(at.current),(Ge=h.onDismiss)==null||Ge.call(h,h),fn(),Ye(!0);return}(Vt=dt.current)==null||Vt.style.setProperty("--swipe-amount","0px"),Ie(!1)},onPointerMove:Ee=>{var Ne;if(!dr.current||!Zt)return;let Ge=Ee.clientY-dr.current.y,Vt=Ee.clientX-dr.current.x,Xt=(io==="top"?Math.min:Math.max)(0,Ge),pr=Ee.pointerType==="touch"?10:2;Math.abs(Xt)>pr?(Ne=dt.current)==null||Ne.style.setProperty("--swipe-amount",`${Ge}px`):Math.abs(Vt)>pr&&(dr.current=null)}},ni&&!h.jsx?Y.createElement("button",{"aria-label":se,"data-disabled":hn,"data-close-button":!0,onClick:hn||!Zt?()=>{}:()=>{var Ee;fn(),(Ee=h.onDismiss)==null||Ee.call(h,h)},className:ce(z==null?void 0:z.closeButton,(i=h==null?void 0:h.classNames)==null?void 0:i.closeButton)},Y.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},Y.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Y.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,h.jsx||Y.isValidElement(h.title)?h.jsx||h.title:Y.createElement(Y.Fragment,null,ot||h.icon||h.promise?Y.createElement("div",{"data-icon":"",className:ce(z==null?void 0:z.icon,(s=h==null?void 0:h.classNames)==null?void 0:s.icon)},h.promise||h.type==="loading"&&!h.icon?h.icon||Vl():null,h.type!=="loading"?h.icon||(X==null?void 0:X[ot])||d5(ot):null):null,Y.createElement("div",{"data-content":"",className:ce(z==null?void 0:z.content,(o=h==null?void 0:h.classNames)==null?void 0:o.content)},Y.createElement("div",{"data-title":"",className:ce(z==null?void 0:z.title,(a=h==null?void 0:h.classNames)==null?void 0:a.title)},h.title),h.description?Y.createElement("div",{"data-description":"",className:ce(L,ti,z==null?void 0:z.description,(l=h==null?void 0:h.classNames)==null?void 0:l.description)},h.description):null),Y.isValidElement(h.cancel)?h.cancel:h.cancel&&oh(h.cancel)?Y.createElement("button",{"data-button":!0,"data-cancel":!0,style:h.cancelButtonStyle||P,onClick:Ee=>{var Ne,Ge;oh(h.cancel)&&Zt&&((Ge=(Ne=h.cancel).onClick)==null||Ge.call(Ne,Ee),fn())},className:ce(z==null?void 0:z.cancelButton,(u=h==null?void 0:h.classNames)==null?void 0:u.cancelButton)},h.cancel.label):null,Y.isValidElement(h.action)?h.action:h.action&&oh(h.action)?Y.createElement("button",{"data-button":!0,"data-action":!0,style:h.actionButtonStyle||D,onClick:Ee=>{var Ne,Ge;oh(h.action)&&(Ee.defaultPrevented||((Ge=(Ne=h.action).onClick)==null||Ge.call(Ne,Ee),fn()))},className:ce(z==null?void 0:z.actionButton,(d=h==null?void 0:h.classNames)==null?void 0:d.actionButton)},h.action.label):null))};function I_(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}var M5=t=>{let{invert:e,position:n="bottom-right",hotkey:r=["altKey","KeyT"],expand:i,closeButton:s,className:o,offset:a,theme:l="light",richColors:u,duration:d,style:f,visibleToasts:h=I5,toastOptions:g,dir:E=I_(),gap:_=b5,loadingIcon:I,icons:T,containerAriaLabel:w="Notifications",pauseWhenPageIsHidden:A,cn:N=N5}=t,[F,j]=Y.useState([]),S=Y.useMemo(()=>Array.from(new Set([n].concat(F.filter(te=>te.position).map(te=>te.position)))),[F,n]),[C,P]=Y.useState([]),[D,V]=Y.useState(!1),[L,M]=Y.useState(!1),[ne,ie]=Y.useState(l!=="system"?l:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),le=Y.useRef(null),pe=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),z=Y.useRef(null),X=Y.useRef(!1),se=Y.useCallback(te=>{var ce;(ce=F.find(de=>de.id===te.id))!=null&&ce.delete||Fn.dismiss(te.id),j(de=>de.filter(({id:ke})=>ke!==te.id))},[F]);return Y.useEffect(()=>Fn.subscribe(te=>{if(te.dismiss){j(ce=>ce.map(de=>de.id===te.id?{...de,delete:!0}:de));return}setTimeout(()=>{kA.flushSync(()=>{j(ce=>{let de=ce.findIndex(ke=>ke.id===te.id);return de!==-1?[...ce.slice(0,de),{...ce[de],...te},...ce.slice(de+1)]:[te,...ce]})})})}),[]),Y.useEffect(()=>{if(l!=="system"){ie(l);return}l==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?ie("dark"):ie("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:te})=>{ie(te?"dark":"light")})},[l]),Y.useEffect(()=>{F.length<=1&&V(!1)},[F]),Y.useEffect(()=>{let te=ce=>{var de,ke;r.every(Le=>ce[Le]||ce.code===Le)&&(V(!0),(de=le.current)==null||de.focus()),ce.code==="Escape"&&(document.activeElement===le.current||(ke=le.current)!=null&&ke.contains(document.activeElement))&&V(!1)};return document.addEventListener("keydown",te),()=>document.removeEventListener("keydown",te)},[r]),Y.useEffect(()=>{if(le.current)return()=>{z.current&&(z.current.focus({preventScroll:!0}),z.current=null,X.current=!1)}},[le.current]),F.length?Y.createElement("section",{"aria-label":`${w} ${pe}`,tabIndex:-1},S.map((te,ce)=>{var de;let[ke,Le]=te.split("-");return Y.createElement("ol",{key:te,dir:E==="auto"?I_():E,tabIndex:-1,ref:le,className:o,"data-sonner-toaster":!0,"data-theme":ne,"data-y-position":ke,"data-x-position":Le,style:{"--front-toast-height":`${((de=C[0])==null?void 0:de.height)||0}px`,"--offset":typeof a=="number"?`${a}px`:a||R5,"--width":`${x5}px`,"--gap":`${_}px`,...f},onBlur:Ae=>{X.current&&!Ae.currentTarget.contains(Ae.relatedTarget)&&(X.current=!1,z.current&&(z.current.focus({preventScroll:!0}),z.current=null))},onFocus:Ae=>{Ae.target instanceof HTMLElement&&Ae.target.dataset.dismissible==="false"||X.current||(X.current=!0,z.current=Ae.relatedTarget)},onMouseEnter:()=>V(!0),onMouseMove:()=>V(!0),onMouseLeave:()=>{L||V(!1)},onPointerDown:Ae=>{Ae.target instanceof HTMLElement&&Ae.target.dataset.dismissible==="false"||M(!0)},onPointerUp:()=>M(!1)},F.filter(Ae=>!Ae.position&&ce===0||Ae.position===te).map((Ae,ve)=>{var Ie,Oe;return Y.createElement(D5,{key:Ae.id,icons:T,index:ve,toast:Ae,defaultRichColors:u,duration:(Ie=g==null?void 0:g.duration)!=null?Ie:d,className:g==null?void 0:g.className,descriptionClassName:g==null?void 0:g.descriptionClassName,invert:e,visibleToasts:h,closeButton:(Oe=g==null?void 0:g.closeButton)!=null?Oe:s,interacting:L,position:te,style:g==null?void 0:g.style,unstyled:g==null?void 0:g.unstyled,classNames:g==null?void 0:g.classNames,cancelButtonStyle:g==null?void 0:g.cancelButtonStyle,actionButtonStyle:g==null?void 0:g.actionButtonStyle,removeToast:se,toasts:F.filter(Ye=>Ye.position==Ae.position),heights:C.filter(Ye=>Ye.position==Ae.position),setHeights:P,expandByDefault:i,gap:_,loadingIcon:I,expanded:D,pauseWhenPageIsHidden:A,cn:N})}))})):null};const O5=({...t})=>{const{theme:e="system"}=u5();return k.jsx(M5,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})},V5=["top","right","bottom","left"],$s=Math.min,Un=Math.max,Lf=Math.round,ah=Math.floor,Qs=t=>({x:t,y:t}),L5={left:"right",right:"left",bottom:"top",top:"bottom"},F5={start:"end",end:"start"};function Oy(t,e,n){return Un(t,$s(e,n))}function Di(t,e){return typeof t=="function"?t(e):t}function Mi(t){return t.split("-")[0]}function Dl(t){return t.split("-")[1]}function tw(t){return t==="x"?"y":"x"}function nw(t){return t==="y"?"height":"width"}function Ys(t){return["top","bottom"].includes(Mi(t))?"y":"x"}function rw(t){return tw(Ys(t))}function B5(t,e,n){n===void 0&&(n=!1);const r=Dl(t),i=rw(t),s=nw(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=Ff(o)),[o,Ff(o)]}function U5(t){const e=Ff(t);return[Vy(t),e,Vy(e)]}function Vy(t){return t.replace(/start|end/g,e=>F5[e])}function j5(t,e,n){const r=["left","right"],i=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:r:e?r:i;case"left":case"right":return e?s:o;default:return[]}}function q5(t,e,n,r){const i=Dl(t);let s=j5(Mi(t),n==="start",r);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map(Vy)))),s}function Ff(t){return t.replace(/left|right|bottom|top/g,e=>L5[e])}function G5(t){return{top:0,right:0,bottom:0,left:0,...t}}function ZS(t){return typeof t!="number"?G5(t):{top:t,right:t,bottom:t,left:t}}function Bf(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function R_(t,e,n){let{reference:r,floating:i}=t;const s=Ys(e),o=rw(e),a=nw(o),l=Mi(e),u=s==="y",d=r.x+r.width/2-i.width/2,f=r.y+r.height/2-i.height/2,h=r[a]/2-i[a]/2;let g;switch(l){case"top":g={x:d,y:r.y-i.height};break;case"bottom":g={x:d,y:r.y+r.height};break;case"right":g={x:r.x+r.width,y:f};break;case"left":g={x:r.x-i.width,y:f};break;default:g={x:r.x,y:r.y}}switch(Dl(e)){case"start":g[o]-=h*(n&&u?-1:1);break;case"end":g[o]+=h*(n&&u?-1:1);break}return g}const z5=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=n,a=s.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let u=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:d,y:f}=R_(u,r,l),h=r,g={},E=0;for(let _=0;_<a.length;_++){const{name:I,fn:T}=a[_],{x:w,y:A,data:N,reset:F}=await T({x:d,y:f,initialPlacement:r,placement:h,strategy:i,middlewareData:g,rects:u,platform:o,elements:{reference:t,floating:e}});d=w??d,f=A??f,g={...g,[I]:{...g[I],...N}},F&&E<=50&&(E++,typeof F=="object"&&(F.placement&&(h=F.placement),F.rects&&(u=F.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):F.rects),{x:d,y:f}=R_(u,h,l)),_=-1)}return{x:d,y:f,placement:h,strategy:i,middlewareData:g}};async function uu(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:o,elements:a,strategy:l}=t,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:g=0}=Di(e,t),E=ZS(g),I=a[h?f==="floating"?"reference":"floating":f],T=Bf(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(I)))==null||n?I:I.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:u,rootBoundary:d,strategy:l})),w=f==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,A=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),N=await(s.isElement==null?void 0:s.isElement(A))?await(s.getScale==null?void 0:s.getScale(A))||{x:1,y:1}:{x:1,y:1},F=Bf(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:w,offsetParent:A,strategy:l}):w);return{top:(T.top-F.top+E.top)/N.y,bottom:(F.bottom-T.bottom+E.bottom)/N.y,left:(T.left-F.left+E.left)/N.x,right:(F.right-T.right+E.right)/N.x}}const $5=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:s,platform:o,elements:a,middlewareData:l}=e,{element:u,padding:d=0}=Di(t,e)||{};if(u==null)return{};const f=ZS(d),h={x:n,y:r},g=rw(i),E=nw(g),_=await o.getDimensions(u),I=g==="y",T=I?"top":"left",w=I?"bottom":"right",A=I?"clientHeight":"clientWidth",N=s.reference[E]+s.reference[g]-h[g]-s.floating[E],F=h[g]-s.reference[g],j=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let S=j?j[A]:0;(!S||!await(o.isElement==null?void 0:o.isElement(j)))&&(S=a.floating[A]||s.floating[E]);const C=N/2-F/2,P=S/2-_[E]/2-1,D=$s(f[T],P),V=$s(f[w],P),L=D,M=S-_[E]-V,ne=S/2-_[E]/2+C,ie=Oy(L,ne,M),le=!l.arrow&&Dl(i)!=null&&ne!==ie&&s.reference[E]/2-(ne<L?D:V)-_[E]/2<0,pe=le?ne<L?ne-L:ne-M:0;return{[g]:h[g]+pe,data:{[g]:ie,centerOffset:ne-ie-pe,...le&&{alignmentOffset:pe}},reset:le}}}),Q5=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:a,platform:l,elements:u}=e,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:E="none",flipAlignment:_=!0,...I}=Di(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const T=Mi(i),w=Ys(a),A=Mi(a)===a,N=await(l.isRTL==null?void 0:l.isRTL(u.floating)),F=h||(A||!_?[Ff(a)]:U5(a)),j=E!=="none";!h&&j&&F.push(...q5(a,_,E,N));const S=[a,...F],C=await uu(e,I),P=[];let D=((r=s.flip)==null?void 0:r.overflows)||[];if(d&&P.push(C[T]),f){const ne=B5(i,o,N);P.push(C[ne[0]],C[ne[1]])}if(D=[...D,{placement:i,overflows:P}],!P.every(ne=>ne<=0)){var V,L;const ne=(((V=s.flip)==null?void 0:V.index)||0)+1,ie=S[ne];if(ie)return{data:{index:ne,overflows:D},reset:{placement:ie}};let le=(L=D.filter(pe=>pe.overflows[0]<=0).sort((pe,z)=>pe.overflows[1]-z.overflows[1])[0])==null?void 0:L.placement;if(!le)switch(g){case"bestFit":{var M;const pe=(M=D.filter(z=>{if(j){const X=Ys(z.placement);return X===w||X==="y"}return!0}).map(z=>[z.placement,z.overflows.filter(X=>X>0).reduce((X,se)=>X+se,0)]).sort((z,X)=>z[1]-X[1])[0])==null?void 0:M[0];pe&&(le=pe);break}case"initialPlacement":le=a;break}if(i!==le)return{reset:{placement:le}}}return{}}}};function S_(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function x_(t){return V5.some(e=>t[e]>=0)}const Y5=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=Di(t,e);switch(r){case"referenceHidden":{const s=await uu(e,{...i,elementContext:"reference"}),o=S_(s,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:x_(o)}}}case"escaped":{const s=await uu(e,{...i,altBoundary:!0}),o=S_(s,n.floating);return{data:{escapedOffsets:o,escaped:x_(o)}}}default:return{}}}}};async function W5(t,e){const{placement:n,platform:r,elements:i}=t,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=Mi(n),a=Dl(n),l=Ys(n)==="y",u=["left","top"].includes(o)?-1:1,d=s&&l?-1:1,f=Di(e,t);let{mainAxis:h,crossAxis:g,alignmentAxis:E}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return a&&typeof E=="number"&&(g=a==="end"?E*-1:E),l?{x:g*d,y:h*u}:{x:h*u,y:g*d}}const K5=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:s,placement:o,middlewareData:a}=e,l=await W5(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:s+l.y,data:{...l,placement:o}}}}},H5=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:I=>{let{x:T,y:w}=I;return{x:T,y:w}}},...l}=Di(t,e),u={x:n,y:r},d=await uu(e,l),f=Ys(Mi(i)),h=tw(f);let g=u[h],E=u[f];if(s){const I=h==="y"?"top":"left",T=h==="y"?"bottom":"right",w=g+d[I],A=g-d[T];g=Oy(w,g,A)}if(o){const I=f==="y"?"top":"left",T=f==="y"?"bottom":"right",w=E+d[I],A=E-d[T];E=Oy(w,E,A)}const _=a.fn({...e,[h]:g,[f]:E});return{..._,data:{x:_.x-n,y:_.y-r,enabled:{[h]:s,[f]:o}}}}}},J5=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:s,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:u=!0}=Di(t,e),d={x:n,y:r},f=Ys(i),h=tw(f);let g=d[h],E=d[f];const _=Di(a,e),I=typeof _=="number"?{mainAxis:_,crossAxis:0}:{mainAxis:0,crossAxis:0,..._};if(l){const A=h==="y"?"height":"width",N=s.reference[h]-s.floating[A]+I.mainAxis,F=s.reference[h]+s.reference[A]-I.mainAxis;g<N?g=N:g>F&&(g=F)}if(u){var T,w;const A=h==="y"?"width":"height",N=["top","left"].includes(Mi(i)),F=s.reference[f]-s.floating[A]+(N&&((T=o.offset)==null?void 0:T[f])||0)+(N?0:I.crossAxis),j=s.reference[f]+s.reference[A]+(N?0:((w=o.offset)==null?void 0:w[f])||0)-(N?I.crossAxis:0);E<F?E=F:E>j&&(E=j)}return{[h]:g,[f]:E}}}},Z5=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:s,platform:o,elements:a}=e,{apply:l=()=>{},...u}=Di(t,e),d=await uu(e,u),f=Mi(i),h=Dl(i),g=Ys(i)==="y",{width:E,height:_}=s.floating;let I,T;f==="top"||f==="bottom"?(I=f,T=h===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(T=f,I=h==="end"?"top":"bottom");const w=_-d.top-d.bottom,A=E-d.left-d.right,N=$s(_-d[I],w),F=$s(E-d[T],A),j=!e.middlewareData.shift;let S=N,C=F;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(C=A),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(S=w),j&&!h){const D=Un(d.left,0),V=Un(d.right,0),L=Un(d.top,0),M=Un(d.bottom,0);g?C=E-2*(D!==0||V!==0?D+V:Un(d.left,d.right)):S=_-2*(L!==0||M!==0?L+M:Un(d.top,d.bottom))}await l({...e,availableWidth:C,availableHeight:S});const P=await o.getDimensions(a.floating);return E!==P.width||_!==P.height?{reset:{rects:!0}}:{}}}};function Vp(){return typeof window<"u"}function Ml(t){return XS(t)?(t.nodeName||"").toLowerCase():"#document"}function Yn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Xr(t){var e;return(e=(XS(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function XS(t){return Vp()?t instanceof Node||t instanceof Yn(t).Node:!1}function kr(t){return Vp()?t instanceof Element||t instanceof Yn(t).Element:!1}function Zr(t){return Vp()?t instanceof HTMLElement||t instanceof Yn(t).HTMLElement:!1}function b_(t){return!Vp()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Yn(t).ShadowRoot}function qu(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=Nr(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function X5(t){return["table","td","th"].includes(Ml(t))}function Lp(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function iw(t){const e=sw(),n=kr(t)?Nr(t):t;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function e3(t){let e=Ws(t);for(;Zr(e)&&!gl(e);){if(iw(e))return e;if(Lp(e))return null;e=Ws(e)}return null}function sw(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function gl(t){return["html","body","#document"].includes(Ml(t))}function Nr(t){return Yn(t).getComputedStyle(t)}function Fp(t){return kr(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Ws(t){if(Ml(t)==="html")return t;const e=t.assignedSlot||t.parentNode||b_(t)&&t.host||Xr(t);return b_(e)?e.host:e}function ex(t){const e=Ws(t);return gl(e)?t.ownerDocument?t.ownerDocument.body:t.body:Zr(e)&&qu(e)?e:ex(e)}function du(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=ex(t),s=i===((r=t.ownerDocument)==null?void 0:r.body),o=Yn(i);if(s){const a=Ly(o);return e.concat(o,o.visualViewport||[],qu(i)?i:[],a&&n?du(a):[])}return e.concat(i,du(i,[],n))}function Ly(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function tx(t){const e=Nr(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=Zr(t),s=i?t.offsetWidth:n,o=i?t.offsetHeight:r,a=Lf(n)!==s||Lf(r)!==o;return a&&(n=s,r=o),{width:n,height:r,$:a}}function ow(t){return kr(t)?t:t.contextElement}function $a(t){const e=ow(t);if(!Zr(e))return Qs(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:s}=tx(e);let o=(s?Lf(n.width):n.width)/r,a=(s?Lf(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const t3=Qs(0);function nx(t){const e=Yn(t);return!sw()||!e.visualViewport?t3:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function n3(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Yn(t)?!1:e}function qo(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),s=ow(t);let o=Qs(1);e&&(r?kr(r)&&(o=$a(r)):o=$a(t));const a=n3(s,n,r)?nx(s):Qs(0);let l=(i.left+a.x)/o.x,u=(i.top+a.y)/o.y,d=i.width/o.x,f=i.height/o.y;if(s){const h=Yn(s),g=r&&kr(r)?Yn(r):r;let E=h,_=Ly(E);for(;_&&r&&g!==E;){const I=$a(_),T=_.getBoundingClientRect(),w=Nr(_),A=T.left+(_.clientLeft+parseFloat(w.paddingLeft))*I.x,N=T.top+(_.clientTop+parseFloat(w.paddingTop))*I.y;l*=I.x,u*=I.y,d*=I.x,f*=I.y,l+=A,u+=N,E=Yn(_),_=Ly(E)}}return Bf({width:d,height:f,x:l,y:u})}function r3(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const s=i==="fixed",o=Xr(r),a=e?Lp(e.floating):!1;if(r===o||a&&s)return n;let l={scrollLeft:0,scrollTop:0},u=Qs(1);const d=Qs(0),f=Zr(r);if((f||!f&&!s)&&((Ml(r)!=="body"||qu(o))&&(l=Fp(r)),Zr(r))){const h=qo(r);u=$a(r),d.x=h.x+r.clientLeft,d.y=h.y+r.clientTop}return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-l.scrollLeft*u.x+d.x,y:n.y*u.y-l.scrollTop*u.y+d.y}}function i3(t){return Array.from(t.getClientRects())}function Fy(t,e){const n=Fp(t).scrollLeft;return e?e.left+n:qo(Xr(t)).left+n}function s3(t){const e=Xr(t),n=Fp(t),r=t.ownerDocument.body,i=Un(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=Un(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+Fy(t);const a=-n.scrollTop;return Nr(r).direction==="rtl"&&(o+=Un(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:a}}function o3(t,e){const n=Yn(t),r=Xr(t),i=n.visualViewport;let s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;const u=sw();(!u||u&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a,y:l}}function a3(t,e){const n=qo(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,s=Zr(t)?$a(t):Qs(1),o=t.clientWidth*s.x,a=t.clientHeight*s.y,l=i*s.x,u=r*s.y;return{width:o,height:a,x:l,y:u}}function P_(t,e,n){let r;if(e==="viewport")r=o3(t,n);else if(e==="document")r=s3(Xr(t));else if(kr(e))r=a3(e,n);else{const i=nx(t);r={...e,x:e.x-i.x,y:e.y-i.y}}return Bf(r)}function rx(t,e){const n=Ws(t);return n===e||!kr(n)||gl(n)?!1:Nr(n).position==="fixed"||rx(n,e)}function l3(t,e){const n=e.get(t);if(n)return n;let r=du(t,[],!1).filter(a=>kr(a)&&Ml(a)!=="body"),i=null;const s=Nr(t).position==="fixed";let o=s?Ws(t):t;for(;kr(o)&&!gl(o);){const a=Nr(o),l=iw(o);!l&&a.position==="fixed"&&(i=null),(s?!l&&!i:!l&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||qu(o)&&!l&&rx(t,o))?r=r.filter(d=>d!==o):i=a,o=Ws(o)}return e.set(t,r),r}function c3(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const o=[...n==="clippingAncestors"?Lp(e)?[]:l3(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((u,d)=>{const f=P_(e,d,i);return u.top=Un(f.top,u.top),u.right=$s(f.right,u.right),u.bottom=$s(f.bottom,u.bottom),u.left=Un(f.left,u.left),u},P_(e,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function u3(t){const{width:e,height:n}=tx(t);return{width:e,height:n}}function d3(t,e,n){const r=Zr(e),i=Xr(e),s=n==="fixed",o=qo(t,!0,s,e);let a={scrollLeft:0,scrollTop:0};const l=Qs(0);if(r||!r&&!s)if((Ml(e)!=="body"||qu(i))&&(a=Fp(e)),r){const g=qo(e,!0,s,e);l.x=g.x+e.clientLeft,l.y=g.y+e.clientTop}else i&&(l.x=Fy(i));let u=0,d=0;if(i&&!r&&!s){const g=i.getBoundingClientRect();d=g.top+a.scrollTop,u=g.left+a.scrollLeft-Fy(i,g)}const f=o.left+a.scrollLeft-l.x-u,h=o.top+a.scrollTop-l.y-d;return{x:f,y:h,width:o.width,height:o.height}}function Xm(t){return Nr(t).position==="static"}function k_(t,e){if(!Zr(t)||Nr(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Xr(t)===n&&(n=n.ownerDocument.body),n}function ix(t,e){const n=Yn(t);if(Lp(t))return n;if(!Zr(t)){let i=Ws(t);for(;i&&!gl(i);){if(kr(i)&&!Xm(i))return i;i=Ws(i)}return n}let r=k_(t,e);for(;r&&X5(r)&&Xm(r);)r=k_(r,e);return r&&gl(r)&&Xm(r)&&!iw(r)?n:r||e3(t)||n}const h3=async function(t){const e=this.getOffsetParent||ix,n=this.getDimensions,r=await n(t.floating);return{reference:d3(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function f3(t){return Nr(t).direction==="rtl"}const p3={convertOffsetParentRelativeRectToViewportRelativeRect:r3,getDocumentElement:Xr,getClippingRect:c3,getOffsetParent:ix,getElementRects:h3,getClientRects:i3,getDimensions:u3,getScale:$a,isElement:kr,isRTL:f3};function m3(t,e){let n=null,r;const i=Xr(t);function s(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const{left:u,top:d,width:f,height:h}=t.getBoundingClientRect();if(a||e(),!f||!h)return;const g=ah(d),E=ah(i.clientWidth-(u+f)),_=ah(i.clientHeight-(d+h)),I=ah(u),w={rootMargin:-g+"px "+-E+"px "+-_+"px "+-I+"px",threshold:Un(0,$s(1,l))||1};let A=!0;function N(F){const j=F[0].intersectionRatio;if(j!==l){if(!A)return o();j?o(!1,j):r=setTimeout(()=>{o(!1,1e-7)},1e3)}A=!1}try{n=new IntersectionObserver(N,{...w,root:i.ownerDocument})}catch{n=new IntersectionObserver(N,w)}n.observe(t)}return o(!0),s}function g3(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,u=ow(t),d=i||s?[...u?du(u):[],...du(e)]:[];d.forEach(T=>{i&&T.addEventListener("scroll",n,{passive:!0}),s&&T.addEventListener("resize",n)});const f=u&&a?m3(u,n):null;let h=-1,g=null;o&&(g=new ResizeObserver(T=>{let[w]=T;w&&w.target===u&&g&&(g.unobserve(e),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var A;(A=g)==null||A.observe(e)})),n()}),u&&!l&&g.observe(u),g.observe(e));let E,_=l?qo(t):null;l&&I();function I(){const T=qo(t);_&&(T.x!==_.x||T.y!==_.y||T.width!==_.width||T.height!==_.height)&&n(),_=T,E=requestAnimationFrame(I)}return n(),()=>{var T;d.forEach(w=>{i&&w.removeEventListener("scroll",n),s&&w.removeEventListener("resize",n)}),f==null||f(),(T=g)==null||T.disconnect(),g=null,l&&cancelAnimationFrame(E)}}const y3=K5,v3=H5,w3=Q5,E3=Z5,_3=Y5,N_=$5,T3=J5,C3=(t,e,n)=>{const r=new Map,i={platform:p3,...n},s={...i.platform,_c:r};return z5(t,e,{...i,platform:s})};var Vh=typeof document<"u"?b.useLayoutEffect:b.useEffect;function Uf(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Uf(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&t.$$typeof)&&!Uf(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function sx(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function D_(t,e){const n=sx(t);return Math.round(e*n)/n}function eg(t){const e=b.useRef(t);return Vh(()=>{e.current=t}),e}function A3(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:l,open:u}=t,[d,f]=b.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[h,g]=b.useState(r);Uf(h,r)||g(r);const[E,_]=b.useState(null),[I,T]=b.useState(null),w=b.useCallback(z=>{z!==j.current&&(j.current=z,_(z))},[]),A=b.useCallback(z=>{z!==S.current&&(S.current=z,T(z))},[]),N=s||E,F=o||I,j=b.useRef(null),S=b.useRef(null),C=b.useRef(d),P=l!=null,D=eg(l),V=eg(i),L=eg(u),M=b.useCallback(()=>{if(!j.current||!S.current)return;const z={placement:e,strategy:n,middleware:h};V.current&&(z.platform=V.current),C3(j.current,S.current,z).then(X=>{const se={...X,isPositioned:L.current!==!1};ne.current&&!Uf(C.current,se)&&(C.current=se,Au.flushSync(()=>{f(se)}))})},[h,e,n,V,L]);Vh(()=>{u===!1&&C.current.isPositioned&&(C.current.isPositioned=!1,f(z=>({...z,isPositioned:!1})))},[u]);const ne=b.useRef(!1);Vh(()=>(ne.current=!0,()=>{ne.current=!1}),[]),Vh(()=>{if(N&&(j.current=N),F&&(S.current=F),N&&F){if(D.current)return D.current(N,F,M);M()}},[N,F,M,D,P]);const ie=b.useMemo(()=>({reference:j,floating:S,setReference:w,setFloating:A}),[w,A]),le=b.useMemo(()=>({reference:N,floating:F}),[N,F]),pe=b.useMemo(()=>{const z={position:n,left:0,top:0};if(!le.floating)return z;const X=D_(le.floating,d.x),se=D_(le.floating,d.y);return a?{...z,transform:"translate("+X+"px, "+se+"px)",...sx(le.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:X,top:se}},[n,a,le.floating,d.x,d.y]);return b.useMemo(()=>({...d,update:M,refs:ie,elements:le,floatingStyles:pe}),[d,M,ie,le,pe])}const I3=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?N_({element:r.current,padding:i}).fn(n):{}:r?N_({element:r,padding:i}).fn(n):{}}}},R3=(t,e)=>({...y3(t),options:[t,e]}),S3=(t,e)=>({...v3(t),options:[t,e]}),x3=(t,e)=>({...T3(t),options:[t,e]}),b3=(t,e)=>({...w3(t),options:[t,e]}),P3=(t,e)=>({...E3(t),options:[t,e]}),k3=(t,e)=>({..._3(t),options:[t,e]}),N3=(t,e)=>({...I3(t),options:[t,e]});var D3="Arrow",ox=b.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...s}=t;return k.jsx(In.svg,{...s,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:k.jsx("polygon",{points:"0,0 30,0 15,10"})})});ox.displayName=D3;var M3=ox;function O3(t,e=[]){let n=[];function r(s,o){const a=b.createContext(o),l=n.length;n=[...n,o];function u(f){const{scope:h,children:g,...E}=f,_=(h==null?void 0:h[t][l])||a,I=b.useMemo(()=>E,Object.values(E));return k.jsx(_.Provider,{value:I,children:g})}function d(f,h){const g=(h==null?void 0:h[t][l])||a,E=b.useContext(g);if(E)return E;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${s}\``)}return u.displayName=s+"Provider",[u,d]}const i=()=>{const s=n.map(o=>b.createContext(o));return function(a){const l=(a==null?void 0:a[t])||s;return b.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return i.scopeName=t,[r,V3(i,...e)]}function V3(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:l,scopeName:u})=>{const f=l(s)[`__scope${u}`];return{...a,...f}},{});return b.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function L3(t){const[e,n]=b.useState(void 0);return Oo(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let o,a;if("borderBoxSize"in s){const l=s.borderBoxSize,u=Array.isArray(l)?l[0]:l;o=u.inlineSize,a=u.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var ax="Popper",[lx,cx]=O3(ax),[e9,ux]=lx(ax),dx="PopperAnchor",hx=b.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,s=ux(dx,n),o=b.useRef(null),a=xr(e,o);return b.useEffect(()=>{s.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:k.jsx(In.div,{...i,ref:a})});hx.displayName=dx;var aw="PopperContent",[F3,B3]=lx(aw),fx=b.forwardRef((t,e)=>{var ve,Ie,Oe,Ye,st,Xe;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:s="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:g="optimized",onPlaced:E,..._}=t,I=ux(aw,n),[T,w]=b.useState(null),A=xr(e,he=>w(he)),[N,F]=b.useState(null),j=L3(N),S=(j==null?void 0:j.width)??0,C=(j==null?void 0:j.height)??0,P=r+(s!=="center"?"-"+s:""),D=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},V=Array.isArray(u)?u:[u],L=V.length>0,M={padding:D,boundary:V.filter(j3),altBoundary:L},{refs:ne,floatingStyles:ie,placement:le,isPositioned:pe,middlewareData:z}=A3({strategy:"fixed",placement:P,whileElementsMounted:(...he)=>g3(...he,{animationFrame:g==="always"}),elements:{reference:I.anchor},middleware:[R3({mainAxis:i+C,alignmentAxis:o}),l&&S3({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?x3():void 0,...M}),l&&b3({...M}),P3({...M,apply:({elements:he,rects:ge,availableWidth:Ct,availableHeight:dt})=>{const{width:Jt,height:$e}=ge.reference,ot=he.floating.style;ot.setProperty("--radix-popper-available-width",`${Ct}px`),ot.setProperty("--radix-popper-available-height",`${dt}px`),ot.setProperty("--radix-popper-anchor-width",`${Jt}px`),ot.setProperty("--radix-popper-anchor-height",`${$e}px`)}}),N&&N3({element:N,padding:a}),q3({arrowWidth:S,arrowHeight:C}),h&&k3({strategy:"referenceHidden",...M})]}),[X,se]=gx(le),te=Hr(E);Oo(()=>{pe&&(te==null||te())},[pe,te]);const ce=(ve=z.arrow)==null?void 0:ve.x,de=(Ie=z.arrow)==null?void 0:Ie.y,ke=((Oe=z.arrow)==null?void 0:Oe.centerOffset)!==0,[Le,Ae]=b.useState();return Oo(()=>{T&&Ae(window.getComputedStyle(T).zIndex)},[T]),k.jsx("div",{ref:ne.setFloating,"data-radix-popper-content-wrapper":"",style:{...ie,transform:pe?ie.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Le,"--radix-popper-transform-origin":[(Ye=z.transformOrigin)==null?void 0:Ye.x,(st=z.transformOrigin)==null?void 0:st.y].join(" "),...((Xe=z.hide)==null?void 0:Xe.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:k.jsx(F3,{scope:n,placedSide:X,onArrowChange:F,arrowX:ce,arrowY:de,shouldHideArrow:ke,children:k.jsx(In.div,{"data-side":X,"data-align":se,..._,ref:A,style:{..._.style,animation:pe?void 0:"none"}})})})});fx.displayName=aw;var px="PopperArrow",U3={top:"bottom",right:"left",bottom:"top",left:"right"},mx=b.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,s=B3(px,r),o=U3[s.placedSide];return k.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:k.jsx(M3,{...i,ref:n,style:{...i.style,display:"block"}})})});mx.displayName=px;function j3(t){return t!==null}var q3=t=>({name:"transformOrigin",options:t,fn(e){var I,T,w;const{placement:n,rects:r,middlewareData:i}=e,o=((I=i.arrow)==null?void 0:I.centerOffset)!==0,a=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[u,d]=gx(n),f={start:"0%",center:"50%",end:"100%"}[d],h=(((T=i.arrow)==null?void 0:T.x)??0)+a/2,g=(((w=i.arrow)==null?void 0:w.y)??0)+l/2;let E="",_="";return u==="bottom"?(E=o?f:`${h}px`,_=`${-l}px`):u==="top"?(E=o?f:`${h}px`,_=`${r.floating.height+l}px`):u==="right"?(E=`${-l}px`,_=o?f:`${g}px`):u==="left"&&(E=`${r.floating.width+l}px`,_=o?f:`${g}px`),{data:{x:E,y:_}}}});function gx(t){const[e,n="center"]=t.split("-");return[e,n]}var G3=hx,z3=fx,$3=mx,[Bp,t9]=OA("Tooltip",[cx]),lw=cx(),yx="TooltipProvider",Q3=700,M_="tooltip.open",[Y3,vx]=Bp(yx),wx=t=>{const{__scopeTooltip:e,delayDuration:n=Q3,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:s}=t,[o,a]=b.useState(!0),l=b.useRef(!1),u=b.useRef(0);return b.useEffect(()=>{const d=u.current;return()=>window.clearTimeout(d)},[]),k.jsx(Y3,{scope:e,isOpenDelayed:o,delayDuration:n,onOpen:b.useCallback(()=>{window.clearTimeout(u.current),a(!1)},[]),onClose:b.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>a(!0),r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:b.useCallback(d=>{l.current=d},[]),disableHoverableContent:i,children:s})};wx.displayName=yx;var Ex="Tooltip",[n9,Up]=Bp(Ex),By="TooltipTrigger",W3=b.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=Up(By,n),s=vx(By,n),o=lw(n),a=b.useRef(null),l=xr(e,a,i.onTriggerChange),u=b.useRef(!1),d=b.useRef(!1),f=b.useCallback(()=>u.current=!1,[]);return b.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),k.jsx(G3,{asChild:!0,...o,children:k.jsx(In.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:l,onPointerMove:Dt(t.onPointerMove,h=>{h.pointerType!=="touch"&&!d.current&&!s.isPointerInTransitRef.current&&(i.onTriggerEnter(),d.current=!0)}),onPointerLeave:Dt(t.onPointerLeave,()=>{i.onTriggerLeave(),d.current=!1}),onPointerDown:Dt(t.onPointerDown,()=>{u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:Dt(t.onFocus,()=>{u.current||i.onOpen()}),onBlur:Dt(t.onBlur,i.onClose),onClick:Dt(t.onClick,i.onClose)})})});W3.displayName=By;var K3="TooltipPortal",[r9,H3]=Bp(K3,{forceMount:void 0}),yl="TooltipContent",_x=b.forwardRef((t,e)=>{const n=H3(yl,t.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...s}=t,o=Up(yl,t.__scopeTooltip);return k.jsx(Xv,{present:r||o.open,children:o.disableHoverableContent?k.jsx(Tx,{side:i,...s,ref:e}):k.jsx(J3,{side:i,...s,ref:e})})}),J3=b.forwardRef((t,e)=>{const n=Up(yl,t.__scopeTooltip),r=vx(yl,t.__scopeTooltip),i=b.useRef(null),s=xr(e,i),[o,a]=b.useState(null),{trigger:l,onClose:u}=n,d=i.current,{onPointerInTransitChange:f}=r,h=b.useCallback(()=>{a(null),f(!1)},[f]),g=b.useCallback((E,_)=>{const I=E.currentTarget,T={x:E.clientX,y:E.clientY},w=t6(T,I.getBoundingClientRect()),A=n6(T,w),N=r6(_.getBoundingClientRect()),F=s6([...A,...N]);a(F),f(!0)},[f]);return b.useEffect(()=>()=>h(),[h]),b.useEffect(()=>{if(l&&d){const E=I=>g(I,d),_=I=>g(I,l);return l.addEventListener("pointerleave",E),d.addEventListener("pointerleave",_),()=>{l.removeEventListener("pointerleave",E),d.removeEventListener("pointerleave",_)}}},[l,d,g,h]),b.useEffect(()=>{if(o){const E=_=>{const I=_.target,T={x:_.clientX,y:_.clientY},w=(l==null?void 0:l.contains(I))||(d==null?void 0:d.contains(I)),A=!i6(T,o);w?h():A&&(h(),u())};return document.addEventListener("pointermove",E),()=>document.removeEventListener("pointermove",E)}},[l,d,o,u,h]),k.jsx(Tx,{...t,ref:s})}),[Z3,X3]=Bp(Ex,{isInside:!1}),Tx=b.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:s,onPointerDownOutside:o,...a}=t,l=Up(yl,n),u=lw(n),{onClose:d}=l;return b.useEffect(()=>(document.addEventListener(M_,d),()=>document.removeEventListener(M_,d)),[d]),b.useEffect(()=>{if(l.trigger){const f=h=>{const g=h.target;g!=null&&g.contains(l.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[l.trigger,d]),k.jsx(Zv,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:k.jsxs(z3,{"data-state":l.stateAttribute,...u,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[k.jsx(MA,{children:r}),k.jsx(Z3,{scope:n,isInside:!0,children:k.jsx(qN,{id:l.contentId,role:"tooltip",children:i||r})})]})})});_x.displayName=yl;var Cx="TooltipArrow",e6=b.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=lw(n);return X3(Cx,n).isInside?null:k.jsx($3,{...i,...r,ref:e})});e6.displayName=Cx;function t6(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),s=Math.abs(e.left-t.x);switch(Math.min(n,r,i,s)){case s:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function n6(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function r6(t){const{top:e,right:n,bottom:r,left:i}=t;return[{x:i,y:e},{x:n,y:e},{x:n,y:r},{x:i,y:r}]}function i6(t,e){const{x:n,y:r}=t;let i=!1;for(let s=0,o=e.length-1;s<e.length;o=s++){const a=e[s].x,l=e[s].y,u=e[o].x,d=e[o].y;l>r!=d>r&&n<(u-a)*(r-l)/(d-l)+a&&(i=!i)}return i}function s6(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),o6(e)}function o6(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const i=t[r];for(;e.length>=2;){const s=e[e.length-1],o=e[e.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))e.pop();else break}e.push(i)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const i=t[r];for(;n.length>=2;){const s=n[n.length-1],o=n[n.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))n.pop();else break}n.push(i)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var a6=wx,Ax=_x;const l6=a6,c6=b.forwardRef(({className:t,sideOffset:e=4,...n},r)=>k.jsx(Ax,{ref:r,sideOffset:e,className:Dr("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));c6.displayName=Ax.displayName;var jp=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},qp=typeof window>"u"||"Deno"in globalThis;function Er(){}function u6(t,e){return typeof t=="function"?t(e):t}function d6(t){return typeof t=="number"&&t>=0&&t!==1/0}function h6(t,e){return Math.max(t+(e||0)-Date.now(),0)}function O_(t,e){return typeof t=="function"?t(e):t}function f6(t,e){return typeof t=="function"?t(e):t}function V_(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:s,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==cw(o,e.options))return!1}else if(!fu(e.queryKey,o))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||i&&i!==e.state.fetchStatus||s&&!s(e))}function L_(t,e){const{exact:n,status:r,predicate:i,mutationKey:s}=t;if(s){if(!e.options.mutationKey)return!1;if(n){if(hu(e.options.mutationKey)!==hu(s))return!1}else if(!fu(e.options.mutationKey,s))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function cw(t,e){return((e==null?void 0:e.queryKeyHashFn)||hu)(t)}function hu(t){return JSON.stringify(t,(e,n)=>Uy(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function fu(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!fu(t[n],e[n])):!1}function Ix(t,e){if(t===e)return t;const n=F_(t)&&F_(e);if(n||Uy(t)&&Uy(e)){const r=n?t:Object.keys(t),i=r.length,s=n?e:Object.keys(e),o=s.length,a=n?[]:{};let l=0;for(let u=0;u<o;u++){const d=n?u:s[u];(!n&&r.includes(d)||n)&&t[d]===void 0&&e[d]===void 0?(a[d]=void 0,l++):(a[d]=Ix(t[d],e[d]),a[d]===t[d]&&t[d]!==void 0&&l++)}return i===o&&l===i?t:a}return e}function F_(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Uy(t){if(!B_(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!B_(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function B_(t){return Object.prototype.toString.call(t)==="[object Object]"}function p6(t){return new Promise(e=>{setTimeout(e,t)})}function m6(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?Ix(t,e):e}function g6(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function y6(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var uw=Symbol();function Rx(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===uw?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var Co,us,Wa,uT,v6=(uT=class extends jp{constructor(){super();Qe(this,Co);Qe(this,us);Qe(this,Wa);Se(this,Wa,e=>{if(!qp&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){J(this,us)||this.setEventListener(J(this,Wa))}onUnsubscribe(){var e;this.hasListeners()||((e=J(this,us))==null||e.call(this),Se(this,us,void 0))}setEventListener(e){var n;Se(this,Wa,e),(n=J(this,us))==null||n.call(this),Se(this,us,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){J(this,Co)!==e&&(Se(this,Co,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof J(this,Co)=="boolean"?J(this,Co):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Co=new WeakMap,us=new WeakMap,Wa=new WeakMap,uT),Sx=new v6,Ka,ds,Ha,dT,w6=(dT=class extends jp{constructor(){super();Qe(this,Ka,!0);Qe(this,ds);Qe(this,Ha);Se(this,Ha,e=>{if(!qp&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){J(this,ds)||this.setEventListener(J(this,Ha))}onUnsubscribe(){var e;this.hasListeners()||((e=J(this,ds))==null||e.call(this),Se(this,ds,void 0))}setEventListener(e){var n;Se(this,Ha,e),(n=J(this,ds))==null||n.call(this),Se(this,ds,e(this.setOnline.bind(this)))}setOnline(e){J(this,Ka)!==e&&(Se(this,Ka,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return J(this,Ka)}},Ka=new WeakMap,ds=new WeakMap,Ha=new WeakMap,dT),jf=new w6;function E6(){let t,e;const n=new Promise((i,s)=>{t=i,e=s});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),t(i)},n.reject=i=>{r({status:"rejected",reason:i}),e(i)},n}function _6(t){return Math.min(1e3*2**t,3e4)}function xx(t){return(t??"online")==="online"?jf.isOnline():!0}var bx=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function tg(t){return t instanceof bx}function Px(t){let e=!1,n=0,r=!1,i;const s=E6(),o=_=>{var I;r||(h(new bx(_)),(I=t.abort)==null||I.call(t))},a=()=>{e=!0},l=()=>{e=!1},u=()=>Sx.isFocused()&&(t.networkMode==="always"||jf.isOnline())&&t.canRun(),d=()=>xx(t.networkMode)&&t.canRun(),f=_=>{var I;r||(r=!0,(I=t.onSuccess)==null||I.call(t,_),i==null||i(),s.resolve(_))},h=_=>{var I;r||(r=!0,(I=t.onError)==null||I.call(t,_),i==null||i(),s.reject(_))},g=()=>new Promise(_=>{var I;i=T=>{(r||u())&&_(T)},(I=t.onPause)==null||I.call(t)}).then(()=>{var _;i=void 0,r||(_=t.onContinue)==null||_.call(t)}),E=()=>{if(r)return;let _;const I=n===0?t.initialPromise:void 0;try{_=I??t.fn()}catch(T){_=Promise.reject(T)}Promise.resolve(_).then(f).catch(T=>{var j;if(r)return;const w=t.retry??(qp?0:3),A=t.retryDelay??_6,N=typeof A=="function"?A(n,T):A,F=w===!0||typeof w=="number"&&n<w||typeof w=="function"&&w(n,T);if(e||!F){h(T);return}n++,(j=t.onFail)==null||j.call(t,n,T),p6(N).then(()=>u()?void 0:g()).then(()=>{e?h(T):E()})})};return{promise:s,cancel:o,continue:()=>(i==null||i(),s),cancelRetry:a,continueRetry:l,canStart:d,start:()=>(d()?E():g().then(E),s)}}function T6(){let t=[],e=0,n=a=>{a()},r=a=>{a()},i=a=>setTimeout(a,0);const s=a=>{e?t.push(a):i(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&i(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||o()}return l},batchCalls:a=>(...l)=>{s(()=>{a(...l)})},schedule:s,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{i=a}}}var wn=T6(),Ao,hT,kx=(hT=class{constructor(){Qe(this,Ao)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),d6(this.gcTime)&&Se(this,Ao,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(qp?1/0:5*60*1e3))}clearGcTimeout(){J(this,Ao)&&(clearTimeout(J(this,Ao)),Se(this,Ao,void 0))}},Ao=new WeakMap,hT),Ja,Za,nr,on,yu,Io,_r,pi,fT,C6=(fT=class extends kx{constructor(e){super();Qe(this,_r);Qe(this,Ja);Qe(this,Za);Qe(this,nr);Qe(this,on);Qe(this,yu);Qe(this,Io);Se(this,Io,!1),Se(this,yu,e.defaultOptions),this.setOptions(e.options),this.observers=[],Se(this,nr,e.cache),this.queryKey=e.queryKey,this.queryHash=e.queryHash,Se(this,Ja,I6(this.options)),this.state=e.state??J(this,Ja),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=J(this,on))==null?void 0:e.promise}setOptions(e){this.options={...J(this,yu),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&J(this,nr).remove(this)}setData(e,n){const r=m6(this.state.data,e,this.options);return tn(this,_r,pi).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(e,n){tn(this,_r,pi).call(this,{type:"setState",state:e,setStateOptions:n})}cancel(e){var r,i;const n=(r=J(this,on))==null?void 0:r.promise;return(i=J(this,on))==null||i.cancel(e),n?n.then(Er).catch(Er):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(J(this,Ja))}isActive(){return this.observers.some(e=>f6(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===uw||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!h6(this.state.dataUpdatedAt,e)}onFocus(){var n;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(n=J(this,on))==null||n.continue()}onOnline(){var n;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(n=J(this,on))==null||n.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),J(this,nr).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(J(this,on)&&(J(this,Io)?J(this,on).cancel({revert:!0}):J(this,on).cancelRetry()),this.scheduleGc()),J(this,nr).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||tn(this,_r,pi).call(this,{type:"invalidate"})}fetch(e,n){var l,u,d;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(J(this,on))return J(this,on).continueRetry(),J(this,on).promise}if(e&&this.setOptions(e),!this.options.queryFn){const f=this.observers.find(h=>h.options.queryFn);f&&this.setOptions(f.options)}const r=new AbortController,i=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(Se(this,Io,!0),r.signal)})},s=()=>{const f=Rx(this.options,n),h={queryKey:this.queryKey,meta:this.meta};return i(h),Se(this,Io,!1),this.options.persister?this.options.persister(f,h,this):f(h)},o={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:s};i(o),(l=this.options.behavior)==null||l.onFetch(o,this),Se(this,Za,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=o.fetchOptions)==null?void 0:u.meta))&&tn(this,_r,pi).call(this,{type:"fetch",meta:(d=o.fetchOptions)==null?void 0:d.meta});const a=f=>{var h,g,E,_;tg(f)&&f.silent||tn(this,_r,pi).call(this,{type:"error",error:f}),tg(f)||((g=(h=J(this,nr).config).onError)==null||g.call(h,f,this),(_=(E=J(this,nr).config).onSettled)==null||_.call(E,this.state.data,f,this)),this.scheduleGc()};return Se(this,on,Px({initialPromise:n==null?void 0:n.initialPromise,fn:o.fetchFn,abort:r.abort.bind(r),onSuccess:f=>{var h,g,E,_;if(f===void 0){a(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(I){a(I);return}(g=(h=J(this,nr).config).onSuccess)==null||g.call(h,f,this),(_=(E=J(this,nr).config).onSettled)==null||_.call(E,f,this.state.error,this),this.scheduleGc()},onError:a,onFail:(f,h)=>{tn(this,_r,pi).call(this,{type:"failed",failureCount:f,error:h})},onPause:()=>{tn(this,_r,pi).call(this,{type:"pause"})},onContinue:()=>{tn(this,_r,pi).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),J(this,on).start()}},Ja=new WeakMap,Za=new WeakMap,nr=new WeakMap,on=new WeakMap,yu=new WeakMap,Io=new WeakMap,_r=new WeakSet,pi=function(e){const n=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...A6(r.data,this.options),fetchMeta:e.meta??null};case"success":return{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=e.error;return tg(i)&&i.revert&&J(this,Za)?{...J(this,Za),fetchStatus:"idle"}:{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),wn.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),J(this,nr).notify({query:this,type:"updated",action:e})})},fT);function A6(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:xx(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function I6(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Fr,pT,R6=(pT=class extends jp{constructor(e={}){super();Qe(this,Fr);this.config=e,Se(this,Fr,new Map)}build(e,n,r){const i=n.queryKey,s=n.queryHash??cw(i,n);let o=this.get(s);return o||(o=new C6({cache:this,queryKey:i,queryHash:s,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(i)}),this.add(o)),o}add(e){J(this,Fr).has(e.queryHash)||(J(this,Fr).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=J(this,Fr).get(e.queryHash);n&&(e.destroy(),n===e&&J(this,Fr).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){wn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return J(this,Fr).get(e)}getAll(){return[...J(this,Fr).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>V_(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>V_(e,r)):n}notify(e){wn.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){wn.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){wn.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Fr=new WeakMap,pT),Br,yn,Ro,Ur,Xi,mT,S6=(mT=class extends kx{constructor(e){super();Qe(this,Ur);Qe(this,Br);Qe(this,yn);Qe(this,Ro);this.mutationId=e.mutationId,Se(this,yn,e.mutationCache),Se(this,Br,[]),this.state=e.state||x6(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){J(this,Br).includes(e)||(J(this,Br).push(e),this.clearGcTimeout(),J(this,yn).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){Se(this,Br,J(this,Br).filter(n=>n!==e)),this.scheduleGc(),J(this,yn).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){J(this,Br).length||(this.state.status==="pending"?this.scheduleGc():J(this,yn).remove(this))}continue(){var e;return((e=J(this,Ro))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var i,s,o,a,l,u,d,f,h,g,E,_,I,T,w,A,N,F,j,S;Se(this,Ro,Px({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(C,P)=>{tn(this,Ur,Xi).call(this,{type:"failed",failureCount:C,error:P})},onPause:()=>{tn(this,Ur,Xi).call(this,{type:"pause"})},onContinue:()=>{tn(this,Ur,Xi).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>J(this,yn).canRun(this)}));const n=this.state.status==="pending",r=!J(this,Ro).canStart();try{if(!n){tn(this,Ur,Xi).call(this,{type:"pending",variables:e,isPaused:r}),await((s=(i=J(this,yn).config).onMutate)==null?void 0:s.call(i,e,this));const P=await((a=(o=this.options).onMutate)==null?void 0:a.call(o,e));P!==this.state.context&&tn(this,Ur,Xi).call(this,{type:"pending",context:P,variables:e,isPaused:r})}const C=await J(this,Ro).start();return await((u=(l=J(this,yn).config).onSuccess)==null?void 0:u.call(l,C,e,this.state.context,this)),await((f=(d=this.options).onSuccess)==null?void 0:f.call(d,C,e,this.state.context)),await((g=(h=J(this,yn).config).onSettled)==null?void 0:g.call(h,C,null,this.state.variables,this.state.context,this)),await((_=(E=this.options).onSettled)==null?void 0:_.call(E,C,null,e,this.state.context)),tn(this,Ur,Xi).call(this,{type:"success",data:C}),C}catch(C){try{throw await((T=(I=J(this,yn).config).onError)==null?void 0:T.call(I,C,e,this.state.context,this)),await((A=(w=this.options).onError)==null?void 0:A.call(w,C,e,this.state.context)),await((F=(N=J(this,yn).config).onSettled)==null?void 0:F.call(N,void 0,C,this.state.variables,this.state.context,this)),await((S=(j=this.options).onSettled)==null?void 0:S.call(j,void 0,C,e,this.state.context)),C}finally{tn(this,Ur,Xi).call(this,{type:"error",error:C})}}finally{J(this,yn).runNext(this)}}},Br=new WeakMap,yn=new WeakMap,Ro=new WeakMap,Ur=new WeakSet,Xi=function(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),wn.batch(()=>{J(this,Br).forEach(r=>{r.onMutationUpdate(e)}),J(this,yn).notify({mutation:this,type:"updated",action:e})})},mT);function x6(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Ln,vu,gT,b6=(gT=class extends jp{constructor(e={}){super();Qe(this,Ln);Qe(this,vu);this.config=e,Se(this,Ln,new Map),Se(this,vu,Date.now())}build(e,n,r){const i=new S6({mutationCache:this,mutationId:++Nd(this,vu)._,options:e.defaultMutationOptions(n),state:r});return this.add(i),i}add(e){const n=lh(e),r=J(this,Ln).get(n)??[];r.push(e),J(this,Ln).set(n,r),this.notify({type:"added",mutation:e})}remove(e){var r;const n=lh(e);if(J(this,Ln).has(n)){const i=(r=J(this,Ln).get(n))==null?void 0:r.filter(s=>s!==e);i&&(i.length===0?J(this,Ln).delete(n):J(this,Ln).set(n,i))}this.notify({type:"removed",mutation:e})}canRun(e){var r;const n=(r=J(this,Ln).get(lh(e)))==null?void 0:r.find(i=>i.state.status==="pending");return!n||n===e}runNext(e){var r;const n=(r=J(this,Ln).get(lh(e)))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){wn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...J(this,Ln).values()].flat()}find(e){const n={exact:!0,...e};return this.getAll().find(r=>L_(n,r))}findAll(e={}){return this.getAll().filter(n=>L_(e,n))}notify(e){wn.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return wn.batch(()=>Promise.all(e.map(n=>n.continue().catch(Er))))}},Ln=new WeakMap,vu=new WeakMap,gT);function lh(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function U_(t){return{onFetch:(e,n)=>{var d,f,h,g,E;const r=e.options,i=(h=(f=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,s=((g=e.state.data)==null?void 0:g.pages)||[],o=((E=e.state.data)==null?void 0:E.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const u=async()=>{let _=!1;const I=A=>{Object.defineProperty(A,"signal",{enumerable:!0,get:()=>(e.signal.aborted?_=!0:e.signal.addEventListener("abort",()=>{_=!0}),e.signal)})},T=Rx(e.options,e.fetchOptions),w=async(A,N,F)=>{if(_)return Promise.reject();if(N==null&&A.pages.length)return Promise.resolve(A);const j={queryKey:e.queryKey,pageParam:N,direction:F?"backward":"forward",meta:e.options.meta};I(j);const S=await T(j),{maxPages:C}=e.options,P=F?y6:g6;return{pages:P(A.pages,S,C),pageParams:P(A.pageParams,N,C)}};if(i&&s.length){const A=i==="backward",N=A?P6:j_,F={pages:s,pageParams:o},j=N(r,F);a=await w(F,j,A)}else{const A=t??s.length;do{const N=l===0?o[0]??r.initialPageParam:j_(r,a);if(l>0&&N==null)break;a=await w(a,N),l++}while(l<A)}return a};e.options.persister?e.fetchFn=()=>{var _,I;return(I=(_=e.options).persister)==null?void 0:I.call(_,u,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=u}}}function j_(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function P6(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var vt,hs,fs,Xa,el,ps,tl,nl,yT,k6=(yT=class{constructor(t={}){Qe(this,vt);Qe(this,hs);Qe(this,fs);Qe(this,Xa);Qe(this,el);Qe(this,ps);Qe(this,tl);Qe(this,nl);Se(this,vt,t.queryCache||new R6),Se(this,hs,t.mutationCache||new b6),Se(this,fs,t.defaultOptions||{}),Se(this,Xa,new Map),Se(this,el,new Map),Se(this,ps,0)}mount(){Nd(this,ps)._++,J(this,ps)===1&&(Se(this,tl,Sx.subscribe(async t=>{t&&(await this.resumePausedMutations(),J(this,vt).onFocus())})),Se(this,nl,jf.subscribe(async t=>{t&&(await this.resumePausedMutations(),J(this,vt).onOnline())})))}unmount(){var t,e;Nd(this,ps)._--,J(this,ps)===0&&((t=J(this,tl))==null||t.call(this),Se(this,tl,void 0),(e=J(this,nl))==null||e.call(this),Se(this,nl,void 0))}isFetching(t){return J(this,vt).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return J(this,hs).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=J(this,vt).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const n=this.defaultQueryOptions(t),r=J(this,vt).build(this,n);return t.revalidateIfStale&&r.isStaleByTime(O_(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(e)}}getQueriesData(t){return J(this,vt).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),i=J(this,vt).get(r.queryHash),s=i==null?void 0:i.state.data,o=u6(e,s);if(o!==void 0)return J(this,vt).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return wn.batch(()=>J(this,vt).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=J(this,vt).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=J(this,vt);wn.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=J(this,vt),r={type:"active",...t};return wn.batch(()=>(n.findAll(t).forEach(i=>{i.reset()}),this.refetchQueries(r,e)))}cancelQueries(t={},e={}){const n={revert:!0,...e},r=wn.batch(()=>J(this,vt).findAll(t).map(i=>i.cancel(n)));return Promise.all(r).then(Er).catch(Er)}invalidateQueries(t={},e={}){return wn.batch(()=>{if(J(this,vt).findAll(t).forEach(r=>{r.invalidate()}),t.refetchType==="none")return Promise.resolve();const n={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(n,e)})}refetchQueries(t={},e){const n={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},r=wn.batch(()=>J(this,vt).findAll(t).filter(i=>!i.isDisabled()).map(i=>{let s=i.fetch(void 0,n);return n.throwOnError||(s=s.catch(Er)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(r).then(Er)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=J(this,vt).build(this,e);return n.isStaleByTime(O_(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Er).catch(Er)}fetchInfiniteQuery(t){return t.behavior=U_(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Er).catch(Er)}ensureInfiniteQueryData(t){return t.behavior=U_(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return jf.isOnline()?J(this,hs).resumePausedMutations():Promise.resolve()}getQueryCache(){return J(this,vt)}getMutationCache(){return J(this,hs)}getDefaultOptions(){return J(this,fs)}setDefaultOptions(t){Se(this,fs,t)}setQueryDefaults(t,e){J(this,Xa).set(hu(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...J(this,Xa).values()];let n={};return e.forEach(r=>{fu(t,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(t,e){J(this,el).set(hu(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...J(this,el).values()];let n={};return e.forEach(r=>{fu(t,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...J(this,fs).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=cw(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===uw&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...J(this,fs).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){J(this,vt).clear(),J(this,hs).clear()}},vt=new WeakMap,hs=new WeakMap,fs=new WeakMap,Xa=new WeakMap,el=new WeakMap,ps=new WeakMap,tl=new WeakMap,nl=new WeakMap,yT),N6=b.createContext(void 0),D6=({client:t,children:e})=>(b.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),k.jsx(N6.Provider,{value:t,children:e}));/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function pu(){return pu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pu.apply(this,arguments)}var vs;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(vs||(vs={}));const q_="popstate";function M6(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return jy("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:qf(i)}return V6(e,n,null,t)}function bt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Nx(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function O6(){return Math.random().toString(36).substr(2,8)}function G_(t,e){return{usr:t.state,key:t.key,idx:e}}function jy(t,e,n,r){return n===void 0&&(n=null),pu({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Ol(e):e,{state:n,key:e&&e.key||r||O6()})}function qf(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Ol(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function V6(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=vs.Pop,l=null,u=d();u==null&&(u=0,o.replaceState(pu({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function f(){a=vs.Pop;let I=d(),T=I==null?null:I-u;u=I,l&&l({action:a,location:_.location,delta:T})}function h(I,T){a=vs.Push;let w=jy(_.location,I,T);u=d()+1;let A=G_(w,u),N=_.createHref(w);try{o.pushState(A,"",N)}catch(F){if(F instanceof DOMException&&F.name==="DataCloneError")throw F;i.location.assign(N)}s&&l&&l({action:a,location:_.location,delta:1})}function g(I,T){a=vs.Replace;let w=jy(_.location,I,T);u=d();let A=G_(w,u),N=_.createHref(w);o.replaceState(A,"",N),s&&l&&l({action:a,location:_.location,delta:0})}function E(I){let T=i.location.origin!=="null"?i.location.origin:i.location.href,w=typeof I=="string"?I:qf(I);return w=w.replace(/ $/,"%20"),bt(T,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,T)}let _={get action(){return a},get location(){return t(i,o)},listen(I){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(q_,f),l=I,()=>{i.removeEventListener(q_,f),l=null}},createHref(I){return e(i,I)},createURL:E,encodeLocation(I){let T=E(I);return{pathname:T.pathname,search:T.search,hash:T.hash}},push:h,replace:g,go(I){return o.go(I)}};return _}var z_;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(z_||(z_={}));function L6(t,e,n){return n===void 0&&(n="/"),F6(t,e,n,!1)}function F6(t,e,n,r){let i=typeof e=="string"?Ol(e):e,s=dw(i.pathname||"/",n);if(s==null)return null;let o=Dx(t);B6(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=H6(s);a=W6(o[l],u,r)}return a}function Dx(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(bt(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=Ms([r,l.relativePath]),d=n.concat(l);s.children&&s.children.length>0&&(bt(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Dx(s.children,e,d,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:Q6(u,s.index),routesMeta:d})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of Mx(s.path))i(s,o,l)}),e}function Mx(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=Mx(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function B6(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:Y6(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const U6=/^:[\w-]+$/,j6=3,q6=2,G6=1,z6=10,$6=-2,$_=t=>t==="*";function Q6(t,e){let n=t.split("/"),r=n.length;return n.some($_)&&(r+=$6),e&&(r+=q6),n.filter(i=>!$_(i)).reduce((i,s)=>i+(U6.test(s)?j6:s===""?G6:z6),r)}function Y6(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function W6(t,e,n){let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],u=a===r.length-1,d=s==="/"?e:e.slice(s.length)||"/",f=Q_({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},d),h=l.route;if(!f&&u&&n&&!r[r.length-1].route.index&&(f=Q_({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!f)return null;Object.assign(i,f.params),o.push({params:i,pathname:Ms([s,f.pathname]),pathnameBase:eU(Ms([s,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(s=Ms([s,f.pathnameBase]))}return o}function Q_(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=K6(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,d,f)=>{let{paramName:h,isOptional:g}=d;if(h==="*"){let _=a[f]||"";o=s.slice(0,s.length-_.length).replace(/(.)\/+$/,"$1")}const E=a[f];return g&&!E?u[h]=void 0:u[h]=(E||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:t}}function K6(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Nx(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function H6(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Nx(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function dw(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function J6(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Ol(t):t;return{pathname:n?n.startsWith("/")?n:Z6(n,e):e,search:tU(r),hash:nU(i)}}function Z6(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function ng(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function X6(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Ox(t,e){let n=X6(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Vx(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Ol(t):(i=pu({},t),bt(!i.pathname||!i.pathname.includes("?"),ng("?","pathname","search",i)),bt(!i.pathname||!i.pathname.includes("#"),ng("#","pathname","hash",i)),bt(!i.search||!i.search.includes("#"),ng("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let f=e.length-1;if(!r&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),f-=1;i.pathname=h.join("/")}a=f>=0?e[f]:"/"}let l=J6(i,a),u=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}const Ms=t=>t.join("/").replace(/\/\/+/g,"/"),eU=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),tU=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,nU=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function rU(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Lx=["post","put","patch","delete"];new Set(Lx);const iU=["get",...Lx];new Set(iU);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function mu(){return mu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mu.apply(this,arguments)}const hw=b.createContext(null),sU=b.createContext(null),Wo=b.createContext(null),Gp=b.createContext(null),Ko=b.createContext({outlet:null,matches:[],isDataRoute:!1}),Fx=b.createContext(null);function oU(t,e){let{relative:n}=e===void 0?{}:e;Gu()||bt(!1);let{basename:r,navigator:i}=b.useContext(Wo),{hash:s,pathname:o,search:a}=Ux(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:Ms([r,o])),i.createHref({pathname:l,search:a,hash:s})}function Gu(){return b.useContext(Gp)!=null}function zu(){return Gu()||bt(!1),b.useContext(Gp).location}function Bx(t){b.useContext(Wo).static||b.useLayoutEffect(t)}function $u(){let{isDataRoute:t}=b.useContext(Ko);return t?wU():aU()}function aU(){Gu()||bt(!1);let t=b.useContext(hw),{basename:e,future:n,navigator:r}=b.useContext(Wo),{matches:i}=b.useContext(Ko),{pathname:s}=zu(),o=JSON.stringify(Ox(i,n.v7_relativeSplatPath)),a=b.useRef(!1);return Bx(()=>{a.current=!0}),b.useCallback(function(u,d){if(d===void 0&&(d={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let f=Vx(u,JSON.parse(o),s,d.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:Ms([e,f.pathname])),(d.replace?r.replace:r.push)(f,d.state,d)},[e,r,o,s,t])}function Ux(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=b.useContext(Wo),{matches:i}=b.useContext(Ko),{pathname:s}=zu(),o=JSON.stringify(Ox(i,r.v7_relativeSplatPath));return b.useMemo(()=>Vx(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function lU(t,e){return cU(t,e)}function cU(t,e,n,r){Gu()||bt(!1);let{navigator:i}=b.useContext(Wo),{matches:s}=b.useContext(Ko),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=zu(),d;if(e){var f;let I=typeof e=="string"?Ol(e):e;l==="/"||(f=I.pathname)!=null&&f.startsWith(l)||bt(!1),d=I}else d=u;let h=d.pathname||"/",g=h;if(l!=="/"){let I=l.replace(/^\//,"").split("/");g="/"+h.replace(/^\//,"").split("/").slice(I.length).join("/")}let E=L6(t,{pathname:g}),_=pU(E&&E.map(I=>Object.assign({},I,{params:Object.assign({},a,I.params),pathname:Ms([l,i.encodeLocation?i.encodeLocation(I.pathname).pathname:I.pathname]),pathnameBase:I.pathnameBase==="/"?l:Ms([l,i.encodeLocation?i.encodeLocation(I.pathnameBase).pathname:I.pathnameBase])})),s,n,r);return e&&_?b.createElement(Gp.Provider,{value:{location:mu({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:vs.Pop}},_):_}function uU(){let t=vU(),e=rU(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},e),n?b.createElement("pre",{style:i},n):null,null)}const dU=b.createElement(uU,null);class hU extends b.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?b.createElement(Ko.Provider,{value:this.props.routeContext},b.createElement(Fx.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function fU(t){let{routeContext:e,match:n,children:r}=t,i=b.useContext(hw);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),b.createElement(Ko.Provider,{value:e},r)}function pU(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let d=o.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);d>=0||bt(!1),o=o.slice(0,Math.min(o.length,d+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:g}=n,E=f.route.loader&&h[f.route.id]===void 0&&(!g||g[f.route.id]===void 0);if(f.route.lazy||E){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,f,h)=>{let g,E=!1,_=null,I=null;n&&(g=a&&f.route.id?a[f.route.id]:void 0,_=f.route.errorElement||dU,l&&(u<0&&h===0?(E=!0,I=null):u===h&&(E=!0,I=f.route.hydrateFallbackElement||null)));let T=e.concat(o.slice(0,h+1)),w=()=>{let A;return g?A=_:E?A=I:f.route.Component?A=b.createElement(f.route.Component,null):f.route.element?A=f.route.element:A=d,b.createElement(fU,{match:f,routeContext:{outlet:d,matches:T,isDataRoute:n!=null},children:A})};return n&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?b.createElement(hU,{location:n.location,revalidation:n.revalidation,component:_,error:g,children:w(),routeContext:{outlet:null,matches:T,isDataRoute:!0}}):w()},null)}var jx=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(jx||{}),Gf=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Gf||{});function mU(t){let e=b.useContext(hw);return e||bt(!1),e}function gU(t){let e=b.useContext(sU);return e||bt(!1),e}function yU(t){let e=b.useContext(Ko);return e||bt(!1),e}function qx(t){let e=yU(),n=e.matches[e.matches.length-1];return n.route.id||bt(!1),n.route.id}function vU(){var t;let e=b.useContext(Fx),n=gU(Gf.UseRouteError),r=qx(Gf.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function wU(){let{router:t}=mU(jx.UseNavigateStable),e=qx(Gf.UseNavigateStable),n=b.useRef(!1);return Bx(()=>{n.current=!0}),b.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,mu({fromRouteId:e},s)))},[t,e])}function es(t){bt(!1)}function EU(t){let{basename:e="/",children:n=null,location:r,navigationType:i=vs.Pop,navigator:s,static:o=!1,future:a}=t;Gu()&&bt(!1);let l=e.replace(/^\/*/,"/"),u=b.useMemo(()=>({basename:l,navigator:s,static:o,future:mu({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=Ol(r));let{pathname:d="/",search:f="",hash:h="",state:g=null,key:E="default"}=r,_=b.useMemo(()=>{let I=dw(d,l);return I==null?null:{location:{pathname:I,search:f,hash:h,state:g,key:E},navigationType:i}},[l,d,f,h,g,E,i]);return _==null?null:b.createElement(Wo.Provider,{value:u},b.createElement(Gp.Provider,{children:n,value:_}))}function _U(t){let{children:e,location:n}=t;return lU(qy(e),n)}new Promise(()=>{});function qy(t,e){e===void 0&&(e=[]);let n=[];return b.Children.forEach(t,(r,i)=>{if(!b.isValidElement(r))return;let s=[...e,i];if(r.type===b.Fragment){n.push.apply(n,qy(r.props.children,s));return}r.type!==es&&bt(!1),!r.props.index||!r.props.children||bt(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=qy(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Gy(){return Gy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gy.apply(this,arguments)}function TU(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function CU(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function AU(t,e){return t.button===0&&(!e||e==="_self")&&!CU(t)}const IU=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],RU="6";try{window.__reactRouterVersion=RU}catch{}const SU="startTransition",Y_=tk[SU];function xU(t){let{basename:e,children:n,future:r,window:i}=t,s=b.useRef();s.current==null&&(s.current=M6({window:i,v5Compat:!0}));let o=s.current,[a,l]=b.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},d=b.useCallback(f=>{u&&Y_?Y_(()=>l(f)):l(f)},[l,u]);return b.useLayoutEffect(()=>o.listen(d),[o,d]),b.createElement(EU,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const bU=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",PU=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Oi=b.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:d,viewTransition:f}=e,h=TU(e,IU),{basename:g}=b.useContext(Wo),E,_=!1;if(typeof u=="string"&&PU.test(u)&&(E=u,bU))try{let A=new URL(window.location.href),N=u.startsWith("//")?new URL(A.protocol+u):new URL(u),F=dw(N.pathname,g);N.origin===A.origin&&F!=null?u=F+N.search+N.hash:_=!0}catch{}let I=oU(u,{relative:i}),T=kU(u,{replace:o,state:a,target:l,preventScrollReset:d,relative:i,viewTransition:f});function w(A){r&&r(A),A.defaultPrevented||T(A)}return b.createElement("a",Gy({},h,{href:E||I,onClick:_||s?r:w,ref:n,target:l}))});var W_;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(W_||(W_={}));var K_;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(K_||(K_={}));function kU(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,viewTransition:a}=e===void 0?{}:e,l=$u(),u=zu(),d=Ux(t,{relative:o});return b.useCallback(f=>{if(AU(f,n)){f.preventDefault();let h=r!==void 0?r:qf(u)===qf(d);l(t,{replace:h,state:i,preventScrollReset:s,relative:o,viewTransition:a})}},[u,l,d,r,i,n,t,s,o,a])}const Gx=b.createContext(null),NU=({children:t})=>{const[e,n]=b.useState(null);b.useEffect(()=>{let l=null;const u=qF(sh,d=>{if(d){const f=wa(yi,"users",d.uid);l=OL(f,h=>{if(h.exists()){const g=h.data();console.log("User data updated in real-time:",{name:g.name,purchases:g.purchases,isRewardReady:g.isRewardReady}),n(g)}else console.log("User document does not exist"),n(null)},h=>{console.error("Error listening to user data:",h),n(null)})}else n(null),l&&(l(),l=null)});return()=>{u(),l&&l()}},[]);const r=async(l,u)=>{const d=await BF(sh,l,u),f=await DL(wa(yi,"users",d.user.uid));return f.exists()?f.data():null},i=async(l,u,d,f)=>{console.log("registering user",l,u,d,f);const h=await FF(sh,u,d),g={id:h.user.uid,name:l,email:u,feedback:f,purchases:0,isRewardReady:!1,createdAt:Ze.now(),rewards:[]};return await ML(wa(yi,"users",h.user.uid),g),g},s=async()=>{if(!e)return;const l=wa(yi,"users",e.id),d=e.purchases+1>=5;await i_(l,{purchases:UL(1),isRewardReady:d,lastScanAt:Ze.now()})},o=async()=>{if(!e)return;const l=wa(yi,"users",e.id),u={rewardId:`reward_${Date.now()}`,claimedAt:Ze.now()};await i_(l,{purchases:0,isRewardReady:!1,rewards:[...e.rewards||[],u]})},a=async()=>{await GF(sh),n(null)};return k.jsx(Gx.Provider,{value:{user:e,login:r,register:i,addPurchase:s,useReward:o,logout:a},children:t})},zp=()=>{const t=b.useContext(Gx);if(!t)throw new Error("useAuth must be used within AuthProvider");return t},DU=r0("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Ai=b.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...i},s)=>{const o=r?Xc:"button";return k.jsx(o,{className:Dr(DU({variant:e,size:n,className:t})),ref:s,...i})});Ai.displayName="Button";const MU=()=>k.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-black via-gray-900 to-red-950 relative overflow-hidden",children:[k.jsxs("div",{className:"absolute inset-0 opacity-20",children:[k.jsx("div",{className:"absolute top-10 left-10 w-32 h-32 bg-red-500 rounded-full blur-3xl animate-pulse"}),k.jsx("div",{className:"absolute bottom-20 right-10 w-40 h-40 bg-red-600 rounded-full blur-3xl animate-pulse delay-1000"}),k.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-60 h-60 bg-red-700 rounded-full blur-3xl animate-pulse delay-500"})]}),k.jsxs("div",{className:"relative z-10 flex flex-col items-center justify-center min-h-screen px-6 text-center",children:[k.jsxs("div",{className:"mb-8",children:[k.jsxs("h1",{className:"text-5xl md:text-7xl font-bold text-white mb-4 tracking-tight",children:["VAPE ",k.jsx("span",{className:"text-red-500",children:"MASTER"})]}),k.jsx("div",{className:"w-32 h-1 bg-gradient-to-r from-red-500 to-red-700 mx-auto rounded-full"})]}),k.jsxs("div",{className:"mb-12 max-w-md",children:[k.jsx("h2",{className:"text-2xl md:text-3xl font-semibold text-white mb-4",children:"Loyalty Program"}),k.jsx("p",{className:"text-gray-300 text-lg leading-relaxed",children:"Join our loyalty program and get rewards! Earn points with every purchase and unlock exclusive benefits."})]}),k.jsxs("div",{className:"space-y-4 w-full max-w-sm",children:[k.jsx(Oi,{to:"/register",className:"block",children:k.jsx(Ai,{className:"w-full py-4 text-lg font-semibold bg-gradient-to-r from-red-600 to-red-700 hover:from-red-700 hover:to-red-800 text-white border-none shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105",children:"Join Now"})}),k.jsx(Oi,{to:"/login",className:"block",children:k.jsx(Ai,{variant:"outline",className:"w-full py-4 text-lg font-semibold bg-transparent border-2 border-red-500 text-red-400 hover:bg-red-500 hover:text-white transition-all duration-300 transform hover:scale-105",children:"Already a Member?"})})]}),k.jsx("div",{className:"absolute bottom-6 text-center text-gray-500",children:k.jsx("p",{className:"text-sm",children:"Smoke responsibly  21+ only"})})]})]}),Qa=b.forwardRef(({className:t,type:e,...n},r)=>k.jsx("input",{type:e,className:Dr("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));Qa.displayName="Input";var OU="Label",zx=b.forwardRef((t,e)=>k.jsx(In.label,{...t,ref:e,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=t.onMouseDown)==null||i.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));zx.displayName=OU;var $x=zx;const VU=r0("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),To=b.forwardRef(({className:t,...e},n)=>k.jsx($x,{ref:n,className:Dr(VU(),t),...e}));To.displayName=$x.displayName;const Qx=b.forwardRef(({className:t,...e},n)=>k.jsx("textarea",{className:Dr("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));Qx.displayName="Textarea";const LU=()=>{const[t,e]=b.useState(""),[n,r]=b.useState(""),[i,s]=b.useState(""),[o,a]=b.useState(""),[l,u]=b.useState(!1),{register:d}=zp(),f=$u(),h=async g=>{if(g.preventDefault(),!t.trim()||!n.trim()||!o.trim()){cn({title:"Missing Information",description:"Please fill in your name, email, and password.",variant:"destructive"});return}u(!0);try{await d(t.trim(),n.trim(),o.trim(),i.trim()||null),cn({title:"Welcome to Vape Master!",description:"Your loyalty card is ready!"}),f("/dashboard")}catch(E){let _="Please try again.";E&&typeof E=="object"&&"message"in E&&typeof E.message=="string"&&(_=E.message),cn({title:"Registration Failed",description:_,variant:"destructive"})}finally{u(!1)}};return k.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-black via-gray-900 to-red-950 relative overflow-hidden",children:[k.jsxs("div",{className:"absolute inset-0 opacity-10",children:[k.jsx("div",{className:"absolute top-20 right-10 w-40 h-40 bg-red-500 rounded-full blur-3xl animate-pulse"}),k.jsx("div",{className:"absolute bottom-32 left-10 w-32 h-32 bg-red-600 rounded-full blur-3xl animate-pulse delay-1000"})]}),k.jsxs("div",{className:"relative z-10 min-h-screen flex flex-col",children:[k.jsxs("div",{className:"p-6 flex items-center",children:[k.jsx(Oi,{to:"/",className:"text-red-400 hover:text-red-300 transition-colors",children:k.jsx(fp,{className:"w-6 h-6"})}),k.jsx("h1",{className:"ml-4 text-2xl font-bold text-white",children:"Join Vape Master"})]}),k.jsx("div",{className:"flex-1 flex items-center justify-center px-6",children:k.jsxs("div",{className:"w-full max-w-md bg-gray-900/80 backdrop-blur-sm border border-red-900/30 rounded-2xl p-8 shadow-2xl",children:[k.jsxs("div",{className:"text-center mb-8",children:[k.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:"Create Account"}),k.jsx("p",{className:"text-gray-400",children:"Get your loyalty card in seconds"})]}),k.jsxs("form",{onSubmit:h,className:"space-y-6",children:[k.jsxs("div",{className:"space-y-2",children:[k.jsx(To,{htmlFor:"name",className:"text-white font-medium",children:"Full Name"}),k.jsx(Qa,{id:"name",type:"text",value:t,onChange:g=>e(g.target.value),placeholder:"Enter your full name",className:"bg-black/50 border-red-900/50 text-white placeholder:text-gray-500 focus:border-red-500 focus:ring-red-500",required:!0})]}),k.jsxs("div",{className:"space-y-2",children:[k.jsx(To,{htmlFor:"email",className:"text-white font-medium",children:"Email Address"}),k.jsx(Qa,{id:"email",type:"email",value:n,onChange:g=>r(g.target.value),placeholder:"Enter your email",className:"bg-black/50 border-red-900/50 text-white placeholder:text-gray-500 focus:border-red-500 focus:ring-red-500",required:!0})]}),k.jsxs("div",{className:"space-y-2",children:[k.jsx(To,{htmlFor:"password",className:"text-white font-medium",children:"Password"}),k.jsx(Qa,{id:"password",type:"password",value:o,onChange:g=>a(g.target.value),placeholder:"Create a password",className:"bg-black/50 border-red-900/50 text-white placeholder:text-gray-500 focus:border-red-500 focus:ring-red-500",required:!0})]}),k.jsxs("div",{className:"space-y-2",children:[k.jsxs(To,{htmlFor:"feedback",className:"text-white font-medium",children:["Feedback"," ",k.jsx("span",{className:"text-gray-500 text-sm",children:"(Optional)"})]}),k.jsx(Qx,{id:"feedback",value:i,onChange:g=>s(g.target.value),placeholder:"Tell us how we can improve...",className:"bg-black/50 border-red-900/50 text-white placeholder:text-gray-500 focus:border-red-500 focus:ring-red-500 min-h-[100px] resize-none"})]}),k.jsx(Ai,{type:"submit",disabled:l,className:"w-full py-4 text-lg font-semibold bg-gradient-to-r from-red-600 to-red-700 hover:from-red-700 hover:to-red-800 text-white border-none shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",children:l?"Creating Account...":"Get My Loyalty Card"})]}),k.jsx("div",{className:"mt-6 text-center",children:k.jsxs("p",{className:"text-gray-400",children:["Already have an account?"," ",k.jsx(Oi,{to:"/login",className:"text-red-400 hover:text-red-300 font-medium",children:"Sign in here"})]})})]})})]})]})},FU=()=>{const[t,e]=b.useState(""),[n,r]=b.useState(""),[i,s]=b.useState(!1),{login:o}=zp(),a=$u(),l=async u=>{if(u.preventDefault(),!t.trim()||!n.trim()){cn({title:"Missing Information",description:"Please enter your email and password.",variant:"destructive"});return}s(!0);try{const d=await o(t.trim(),n.trim());d?(cn({title:"Welcome back!",description:`Good to see you again, ${d.name}!`}),a("/dashboard")):cn({title:"User Not Found",description:"No account found with this email. Please register first.",variant:"destructive"})}catch(d){let f="Please try again.";d&&typeof d=="object"&&"message"in d&&typeof d.message=="string"&&(f=d.message),cn({title:"Login Failed",description:f,variant:"destructive"})}finally{s(!1)}};return k.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-black via-gray-900 to-red-950 relative overflow-hidden",children:[k.jsxs("div",{className:"absolute inset-0 opacity-10",children:[k.jsx("div",{className:"absolute top-20 right-10 w-40 h-40 bg-red-500 rounded-full blur-3xl animate-pulse"}),k.jsx("div",{className:"absolute bottom-32 left-10 w-32 h-32 bg-red-600 rounded-full blur-3xl animate-pulse delay-1000"})]}),k.jsxs("div",{className:"relative z-10 min-h-screen flex flex-col",children:[k.jsxs("div",{className:"p-6 flex items-center",children:[k.jsx(Oi,{to:"/",className:"text-red-400 hover:text-red-300 transition-colors",children:k.jsx(fp,{className:"w-6 h-6"})}),k.jsx("h1",{className:"ml-4 text-2xl font-bold text-white",children:"Member Login"})]}),k.jsx("div",{className:"flex-1 flex items-center justify-center px-6",children:k.jsxs("div",{className:"w-full max-w-md bg-gray-900/80 backdrop-blur-sm border border-red-900/30 rounded-2xl p-8 shadow-2xl",children:[k.jsxs("div",{className:"text-center mb-8",children:[k.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:"Welcome Back"}),k.jsx("p",{className:"text-gray-400",children:"Access your loyalty dashboard"})]}),k.jsxs("form",{onSubmit:l,className:"space-y-6",children:[k.jsxs("div",{className:"space-y-2",children:[k.jsx(To,{htmlFor:"email",className:"text-white font-medium",children:"Email Address"}),k.jsx(Qa,{id:"email",type:"email",value:t,onChange:u=>e(u.target.value),placeholder:"Enter your email",className:"bg-black/50 border-red-900/50 text-white placeholder:text-gray-500 focus:border-red-500 focus:ring-red-500",required:!0})]}),k.jsxs("div",{className:"space-y-2",children:[k.jsx(To,{htmlFor:"password",className:"text-white font-medium",children:"Password"}),k.jsx(Qa,{id:"password",type:"password",value:n,onChange:u=>r(u.target.value),placeholder:"Enter your password",className:"bg-black/50 border-red-900/50 text-white placeholder:text-gray-500 focus:border-red-500 focus:ring-red-500",required:!0})]}),k.jsx(Ai,{type:"submit",disabled:i,className:"w-full py-4 text-lg font-semibold bg-gradient-to-r from-red-600 to-red-700 hover:from-red-700 hover:to-red-800 text-white border-none shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",children:i?"Signing In...":"Access Dashboard"})]}),k.jsx("div",{className:"mt-6 text-center",children:k.jsxs("p",{className:"text-gray-400",children:["Don't have an account?"," ",k.jsx(Oi,{to:"/register",className:"text-red-400 hover:text-red-300 font-medium",children:"Join now"})]})})]})})]})]})};var Qu={},BU=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},Yx={},Jn={};let fw;const UU=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];Jn.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return e*4+17};Jn.getSymbolTotalCodewords=function(e){return UU[e]};Jn.getBCHDigit=function(t){let e=0;for(;t!==0;)e++,t>>>=1;return e};Jn.setToSJISFunction=function(e){if(typeof e!="function")throw new Error('"toSJISFunc" is not a valid function.');fw=e};Jn.isKanjiModeEnabled=function(){return typeof fw<"u"};Jn.toSJIS=function(e){return fw(e)};var $p={};(function(t){t.L={bit:1},t.M={bit:0},t.Q={bit:3},t.H={bit:2};function e(n){if(typeof n!="string")throw new Error("Param is not a string");switch(n.toLowerCase()){case"l":case"low":return t.L;case"m":case"medium":return t.M;case"q":case"quartile":return t.Q;case"h":case"high":return t.H;default:throw new Error("Unknown EC Level: "+n)}}t.isValid=function(r){return r&&typeof r.bit<"u"&&r.bit>=0&&r.bit<4},t.from=function(r,i){if(t.isValid(r))return r;try{return e(r)}catch{return i}}})($p);function Wx(){this.buffer=[],this.length=0}Wx.prototype={get:function(t){const e=Math.floor(t/8);return(this.buffer[e]>>>7-t%8&1)===1},put:function(t,e){for(let n=0;n<e;n++)this.putBit((t>>>e-n-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(t){const e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var jU=Wx;function Yu(t){if(!t||t<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=t,this.data=new Uint8Array(t*t),this.reservedBit=new Uint8Array(t*t)}Yu.prototype.set=function(t,e,n,r){const i=t*this.size+e;this.data[i]=n,r&&(this.reservedBit[i]=!0)};Yu.prototype.get=function(t,e){return this.data[t*this.size+e]};Yu.prototype.xor=function(t,e,n){this.data[t*this.size+e]^=n};Yu.prototype.isReserved=function(t,e){return this.reservedBit[t*this.size+e]};var qU=Yu,Kx={};(function(t){const e=Jn.getSymbolSize;t.getRowColCoords=function(r){if(r===1)return[];const i=Math.floor(r/7)+2,s=e(r),o=s===145?26:Math.ceil((s-13)/(2*i-2))*2,a=[s-7];for(let l=1;l<i-1;l++)a[l]=a[l-1]-o;return a.push(6),a.reverse()},t.getPositions=function(r){const i=[],s=t.getRowColCoords(r),o=s.length;for(let a=0;a<o;a++)for(let l=0;l<o;l++)a===0&&l===0||a===0&&l===o-1||a===o-1&&l===0||i.push([s[a],s[l]]);return i}})(Kx);var Hx={};const GU=Jn.getSymbolSize,H_=7;Hx.getPositions=function(e){const n=GU(e);return[[0,0],[n-H_,0],[0,n-H_]]};var Jx={};(function(t){t.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const e={N1:3,N2:3,N3:40,N4:10};t.isValid=function(i){return i!=null&&i!==""&&!isNaN(i)&&i>=0&&i<=7},t.from=function(i){return t.isValid(i)?parseInt(i,10):void 0},t.getPenaltyN1=function(i){const s=i.size;let o=0,a=0,l=0,u=null,d=null;for(let f=0;f<s;f++){a=l=0,u=d=null;for(let h=0;h<s;h++){let g=i.get(f,h);g===u?a++:(a>=5&&(o+=e.N1+(a-5)),u=g,a=1),g=i.get(h,f),g===d?l++:(l>=5&&(o+=e.N1+(l-5)),d=g,l=1)}a>=5&&(o+=e.N1+(a-5)),l>=5&&(o+=e.N1+(l-5))}return o},t.getPenaltyN2=function(i){const s=i.size;let o=0;for(let a=0;a<s-1;a++)for(let l=0;l<s-1;l++){const u=i.get(a,l)+i.get(a,l+1)+i.get(a+1,l)+i.get(a+1,l+1);(u===4||u===0)&&o++}return o*e.N2},t.getPenaltyN3=function(i){const s=i.size;let o=0,a=0,l=0;for(let u=0;u<s;u++){a=l=0;for(let d=0;d<s;d++)a=a<<1&2047|i.get(u,d),d>=10&&(a===1488||a===93)&&o++,l=l<<1&2047|i.get(d,u),d>=10&&(l===1488||l===93)&&o++}return o*e.N3},t.getPenaltyN4=function(i){let s=0;const o=i.data.length;for(let l=0;l<o;l++)s+=i.data[l];return Math.abs(Math.ceil(s*100/o/5)-10)*e.N4};function n(r,i,s){switch(r){case t.Patterns.PATTERN000:return(i+s)%2===0;case t.Patterns.PATTERN001:return i%2===0;case t.Patterns.PATTERN010:return s%3===0;case t.Patterns.PATTERN011:return(i+s)%3===0;case t.Patterns.PATTERN100:return(Math.floor(i/2)+Math.floor(s/3))%2===0;case t.Patterns.PATTERN101:return i*s%2+i*s%3===0;case t.Patterns.PATTERN110:return(i*s%2+i*s%3)%2===0;case t.Patterns.PATTERN111:return(i*s%3+(i+s)%2)%2===0;default:throw new Error("bad maskPattern:"+r)}}t.applyMask=function(i,s){const o=s.size;for(let a=0;a<o;a++)for(let l=0;l<o;l++)s.isReserved(l,a)||s.xor(l,a,n(i,l,a))},t.getBestMask=function(i,s){const o=Object.keys(t.Patterns).length;let a=0,l=1/0;for(let u=0;u<o;u++){s(u),t.applyMask(u,i);const d=t.getPenaltyN1(i)+t.getPenaltyN2(i)+t.getPenaltyN3(i)+t.getPenaltyN4(i);t.applyMask(u,i),d<l&&(l=d,a=u)}return a}})(Jx);var Qp={};const ws=$p,ch=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],uh=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];Qp.getBlocksCount=function(e,n){switch(n){case ws.L:return ch[(e-1)*4+0];case ws.M:return ch[(e-1)*4+1];case ws.Q:return ch[(e-1)*4+2];case ws.H:return ch[(e-1)*4+3];default:return}};Qp.getTotalCodewordsCount=function(e,n){switch(n){case ws.L:return uh[(e-1)*4+0];case ws.M:return uh[(e-1)*4+1];case ws.Q:return uh[(e-1)*4+2];case ws.H:return uh[(e-1)*4+3];default:return}};var Zx={},Yp={};const Mc=new Uint8Array(512),zf=new Uint8Array(256);(function(){let e=1;for(let n=0;n<255;n++)Mc[n]=e,zf[e]=n,e<<=1,e&256&&(e^=285);for(let n=255;n<512;n++)Mc[n]=Mc[n-255]})();Yp.log=function(e){if(e<1)throw new Error("log("+e+")");return zf[e]};Yp.exp=function(e){return Mc[e]};Yp.mul=function(e,n){return e===0||n===0?0:Mc[zf[e]+zf[n]]};(function(t){const e=Yp;t.mul=function(r,i){const s=new Uint8Array(r.length+i.length-1);for(let o=0;o<r.length;o++)for(let a=0;a<i.length;a++)s[o+a]^=e.mul(r[o],i[a]);return s},t.mod=function(r,i){let s=new Uint8Array(r);for(;s.length-i.length>=0;){const o=s[0];for(let l=0;l<i.length;l++)s[l]^=e.mul(i[l],o);let a=0;for(;a<s.length&&s[a]===0;)a++;s=s.slice(a)}return s},t.generateECPolynomial=function(r){let i=new Uint8Array([1]);for(let s=0;s<r;s++)i=t.mul(i,new Uint8Array([1,e.exp(s)]));return i}})(Zx);const Xx=Zx;function pw(t){this.genPoly=void 0,this.degree=t,this.degree&&this.initialize(this.degree)}pw.prototype.initialize=function(e){this.degree=e,this.genPoly=Xx.generateECPolynomial(this.degree)};pw.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");const n=new Uint8Array(e.length+this.degree);n.set(e);const r=Xx.mod(n,this.genPoly),i=this.degree-r.length;if(i>0){const s=new Uint8Array(this.degree);return s.set(r,i),s}return r};var zU=pw,eb={},no={},mw={};mw.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40};var ei={};const tb="[0-9]+",$U="[A-Z $%*+\\-./:]+";let gu="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";gu=gu.replace(/u/g,"\\u");const QU="(?:(?![A-Z0-9 $%*+\\-./:]|"+gu+`)(?:.|[\r
]))+`;ei.KANJI=new RegExp(gu,"g");ei.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");ei.BYTE=new RegExp(QU,"g");ei.NUMERIC=new RegExp(tb,"g");ei.ALPHANUMERIC=new RegExp($U,"g");const YU=new RegExp("^"+gu+"$"),WU=new RegExp("^"+tb+"$"),KU=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");ei.testKanji=function(e){return YU.test(e)};ei.testNumeric=function(e){return WU.test(e)};ei.testAlphanumeric=function(e){return KU.test(e)};(function(t){const e=mw,n=ei;t.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},t.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},t.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},t.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},t.MIXED={bit:-1},t.getCharCountIndicator=function(s,o){if(!s.ccBits)throw new Error("Invalid mode: "+s);if(!e.isValid(o))throw new Error("Invalid version: "+o);return o>=1&&o<10?s.ccBits[0]:o<27?s.ccBits[1]:s.ccBits[2]},t.getBestModeForData=function(s){return n.testNumeric(s)?t.NUMERIC:n.testAlphanumeric(s)?t.ALPHANUMERIC:n.testKanji(s)?t.KANJI:t.BYTE},t.toString=function(s){if(s&&s.id)return s.id;throw new Error("Invalid mode")},t.isValid=function(s){return s&&s.bit&&s.ccBits};function r(i){if(typeof i!="string")throw new Error("Param is not a string");switch(i.toLowerCase()){case"numeric":return t.NUMERIC;case"alphanumeric":return t.ALPHANUMERIC;case"kanji":return t.KANJI;case"byte":return t.BYTE;default:throw new Error("Unknown mode: "+i)}}t.from=function(s,o){if(t.isValid(s))return s;try{return r(s)}catch{return o}}})(no);(function(t){const e=Jn,n=Qp,r=$p,i=no,s=mw,o=7973,a=e.getBCHDigit(o);function l(h,g,E){for(let _=1;_<=40;_++)if(g<=t.getCapacity(_,E,h))return _}function u(h,g){return i.getCharCountIndicator(h,g)+4}function d(h,g){let E=0;return h.forEach(function(_){const I=u(_.mode,g);E+=I+_.getBitsLength()}),E}function f(h,g){for(let E=1;E<=40;E++)if(d(h,E)<=t.getCapacity(E,g,i.MIXED))return E}t.from=function(g,E){return s.isValid(g)?parseInt(g,10):E},t.getCapacity=function(g,E,_){if(!s.isValid(g))throw new Error("Invalid QR Code version");typeof _>"u"&&(_=i.BYTE);const I=e.getSymbolTotalCodewords(g),T=n.getTotalCodewordsCount(g,E),w=(I-T)*8;if(_===i.MIXED)return w;const A=w-u(_,g);switch(_){case i.NUMERIC:return Math.floor(A/10*3);case i.ALPHANUMERIC:return Math.floor(A/11*2);case i.KANJI:return Math.floor(A/13);case i.BYTE:default:return Math.floor(A/8)}},t.getBestVersionForData=function(g,E){let _;const I=r.from(E,r.M);if(Array.isArray(g)){if(g.length>1)return f(g,I);if(g.length===0)return 1;_=g[0]}else _=g;return l(_.mode,_.getLength(),I)},t.getEncodedBits=function(g){if(!s.isValid(g)||g<7)throw new Error("Invalid QR Code version");let E=g<<12;for(;e.getBCHDigit(E)-a>=0;)E^=o<<e.getBCHDigit(E)-a;return g<<12|E}})(eb);var nb={};const zy=Jn,rb=1335,HU=21522,J_=zy.getBCHDigit(rb);nb.getEncodedBits=function(e,n){const r=e.bit<<3|n;let i=r<<10;for(;zy.getBCHDigit(i)-J_>=0;)i^=rb<<zy.getBCHDigit(i)-J_;return(r<<10|i)^HU};var ib={};const JU=no;function vl(t){this.mode=JU.NUMERIC,this.data=t.toString()}vl.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)};vl.prototype.getLength=function(){return this.data.length};vl.prototype.getBitsLength=function(){return vl.getBitsLength(this.data.length)};vl.prototype.write=function(e){let n,r,i;for(n=0;n+3<=this.data.length;n+=3)r=this.data.substr(n,3),i=parseInt(r,10),e.put(i,10);const s=this.data.length-n;s>0&&(r=this.data.substr(n),i=parseInt(r,10),e.put(i,s*3+1))};var ZU=vl;const XU=no,rg=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function wl(t){this.mode=XU.ALPHANUMERIC,this.data=t}wl.getBitsLength=function(e){return 11*Math.floor(e/2)+6*(e%2)};wl.prototype.getLength=function(){return this.data.length};wl.prototype.getBitsLength=function(){return wl.getBitsLength(this.data.length)};wl.prototype.write=function(e){let n;for(n=0;n+2<=this.data.length;n+=2){let r=rg.indexOf(this.data[n])*45;r+=rg.indexOf(this.data[n+1]),e.put(r,11)}this.data.length%2&&e.put(rg.indexOf(this.data[n]),6)};var e8=wl;const t8=no;function El(t){this.mode=t8.BYTE,typeof t=="string"?this.data=new TextEncoder().encode(t):this.data=new Uint8Array(t)}El.getBitsLength=function(e){return e*8};El.prototype.getLength=function(){return this.data.length};El.prototype.getBitsLength=function(){return El.getBitsLength(this.data.length)};El.prototype.write=function(t){for(let e=0,n=this.data.length;e<n;e++)t.put(this.data[e],8)};var n8=El;const r8=no,i8=Jn;function _l(t){this.mode=r8.KANJI,this.data=t}_l.getBitsLength=function(e){return e*13};_l.prototype.getLength=function(){return this.data.length};_l.prototype.getBitsLength=function(){return _l.getBitsLength(this.data.length)};_l.prototype.write=function(t){let e;for(e=0;e<this.data.length;e++){let n=i8.toSJIS(this.data[e]);if(n>=33088&&n<=40956)n-=33088;else if(n>=57408&&n<=60351)n-=49472;else throw new Error("Invalid SJIS character: "+this.data[e]+`
Make sure your charset is UTF-8`);n=(n>>>8&255)*192+(n&255),t.put(n,13)}};var s8=_l,sb={exports:{}};(function(t){var e={single_source_shortest_paths:function(n,r,i){var s={},o={};o[r]=0;var a=e.PriorityQueue.make();a.push(r,0);for(var l,u,d,f,h,g,E,_,I;!a.empty();){l=a.pop(),u=l.value,f=l.cost,h=n[u]||{};for(d in h)h.hasOwnProperty(d)&&(g=h[d],E=f+g,_=o[d],I=typeof o[d]>"u",(I||_>E)&&(o[d]=E,a.push(d,E),s[d]=u))}if(typeof i<"u"&&typeof o[i]>"u"){var T=["Could not find a path from ",r," to ",i,"."].join("");throw new Error(T)}return s},extract_shortest_path_from_predecessor_list:function(n,r){for(var i=[],s=r;s;)i.push(s),n[s],s=n[s];return i.reverse(),i},find_path:function(n,r,i){var s=e.single_source_shortest_paths(n,r,i);return e.extract_shortest_path_from_predecessor_list(s,i)},PriorityQueue:{make:function(n){var r=e.PriorityQueue,i={},s;n=n||{};for(s in r)r.hasOwnProperty(s)&&(i[s]=r[s]);return i.queue=[],i.sorter=n.sorter||r.default_sorter,i},default_sorter:function(n,r){return n.cost-r.cost},push:function(n,r){var i={value:n,cost:r};this.queue.push(i),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};t.exports=e})(sb);var o8=sb.exports;(function(t){const e=no,n=ZU,r=e8,i=n8,s=s8,o=ei,a=Jn,l=o8;function u(T){return unescape(encodeURIComponent(T)).length}function d(T,w,A){const N=[];let F;for(;(F=T.exec(A))!==null;)N.push({data:F[0],index:F.index,mode:w,length:F[0].length});return N}function f(T){const w=d(o.NUMERIC,e.NUMERIC,T),A=d(o.ALPHANUMERIC,e.ALPHANUMERIC,T);let N,F;return a.isKanjiModeEnabled()?(N=d(o.BYTE,e.BYTE,T),F=d(o.KANJI,e.KANJI,T)):(N=d(o.BYTE_KANJI,e.BYTE,T),F=[]),w.concat(A,N,F).sort(function(S,C){return S.index-C.index}).map(function(S){return{data:S.data,mode:S.mode,length:S.length}})}function h(T,w){switch(w){case e.NUMERIC:return n.getBitsLength(T);case e.ALPHANUMERIC:return r.getBitsLength(T);case e.KANJI:return s.getBitsLength(T);case e.BYTE:return i.getBitsLength(T)}}function g(T){return T.reduce(function(w,A){const N=w.length-1>=0?w[w.length-1]:null;return N&&N.mode===A.mode?(w[w.length-1].data+=A.data,w):(w.push(A),w)},[])}function E(T){const w=[];for(let A=0;A<T.length;A++){const N=T[A];switch(N.mode){case e.NUMERIC:w.push([N,{data:N.data,mode:e.ALPHANUMERIC,length:N.length},{data:N.data,mode:e.BYTE,length:N.length}]);break;case e.ALPHANUMERIC:w.push([N,{data:N.data,mode:e.BYTE,length:N.length}]);break;case e.KANJI:w.push([N,{data:N.data,mode:e.BYTE,length:u(N.data)}]);break;case e.BYTE:w.push([{data:N.data,mode:e.BYTE,length:u(N.data)}])}}return w}function _(T,w){const A={},N={start:{}};let F=["start"];for(let j=0;j<T.length;j++){const S=T[j],C=[];for(let P=0;P<S.length;P++){const D=S[P],V=""+j+P;C.push(V),A[V]={node:D,lastCount:0},N[V]={};for(let L=0;L<F.length;L++){const M=F[L];A[M]&&A[M].node.mode===D.mode?(N[M][V]=h(A[M].lastCount+D.length,D.mode)-h(A[M].lastCount,D.mode),A[M].lastCount+=D.length):(A[M]&&(A[M].lastCount=D.length),N[M][V]=h(D.length,D.mode)+4+e.getCharCountIndicator(D.mode,w))}}F=C}for(let j=0;j<F.length;j++)N[F[j]].end=0;return{map:N,table:A}}function I(T,w){let A;const N=e.getBestModeForData(T);if(A=e.from(w,N),A!==e.BYTE&&A.bit<N.bit)throw new Error('"'+T+'" cannot be encoded with mode '+e.toString(A)+`.
 Suggested mode is: `+e.toString(N));switch(A===e.KANJI&&!a.isKanjiModeEnabled()&&(A=e.BYTE),A){case e.NUMERIC:return new n(T);case e.ALPHANUMERIC:return new r(T);case e.KANJI:return new s(T);case e.BYTE:return new i(T)}}t.fromArray=function(w){return w.reduce(function(A,N){return typeof N=="string"?A.push(I(N,null)):N.data&&A.push(I(N.data,N.mode)),A},[])},t.fromString=function(w,A){const N=f(w,a.isKanjiModeEnabled()),F=E(N),j=_(F,A),S=l.find_path(j.map,"start","end"),C=[];for(let P=1;P<S.length-1;P++)C.push(j.table[S[P]].node);return t.fromArray(g(C))},t.rawSplit=function(w){return t.fromArray(f(w,a.isKanjiModeEnabled()))}})(ib);const Wp=Jn,ig=$p,a8=jU,l8=qU,c8=Kx,u8=Hx,$y=Jx,Qy=Qp,d8=zU,$f=eb,h8=nb,f8=no,sg=ib;function p8(t,e){const n=t.size,r=u8.getPositions(e);for(let i=0;i<r.length;i++){const s=r[i][0],o=r[i][1];for(let a=-1;a<=7;a++)if(!(s+a<=-1||n<=s+a))for(let l=-1;l<=7;l++)o+l<=-1||n<=o+l||(a>=0&&a<=6&&(l===0||l===6)||l>=0&&l<=6&&(a===0||a===6)||a>=2&&a<=4&&l>=2&&l<=4?t.set(s+a,o+l,!0,!0):t.set(s+a,o+l,!1,!0))}}function m8(t){const e=t.size;for(let n=8;n<e-8;n++){const r=n%2===0;t.set(n,6,r,!0),t.set(6,n,r,!0)}}function g8(t,e){const n=c8.getPositions(e);for(let r=0;r<n.length;r++){const i=n[r][0],s=n[r][1];for(let o=-2;o<=2;o++)for(let a=-2;a<=2;a++)o===-2||o===2||a===-2||a===2||o===0&&a===0?t.set(i+o,s+a,!0,!0):t.set(i+o,s+a,!1,!0)}}function y8(t,e){const n=t.size,r=$f.getEncodedBits(e);let i,s,o;for(let a=0;a<18;a++)i=Math.floor(a/3),s=a%3+n-8-3,o=(r>>a&1)===1,t.set(i,s,o,!0),t.set(s,i,o,!0)}function og(t,e,n){const r=t.size,i=h8.getEncodedBits(e,n);let s,o;for(s=0;s<15;s++)o=(i>>s&1)===1,s<6?t.set(s,8,o,!0):s<8?t.set(s+1,8,o,!0):t.set(r-15+s,8,o,!0),s<8?t.set(8,r-s-1,o,!0):s<9?t.set(8,15-s-1+1,o,!0):t.set(8,15-s-1,o,!0);t.set(r-8,8,1,!0)}function v8(t,e){const n=t.size;let r=-1,i=n-1,s=7,o=0;for(let a=n-1;a>0;a-=2)for(a===6&&a--;;){for(let l=0;l<2;l++)if(!t.isReserved(i,a-l)){let u=!1;o<e.length&&(u=(e[o]>>>s&1)===1),t.set(i,a-l,u),s--,s===-1&&(o++,s=7)}if(i+=r,i<0||n<=i){i-=r,r=-r;break}}}function w8(t,e,n){const r=new a8;n.forEach(function(l){r.put(l.mode.bit,4),r.put(l.getLength(),f8.getCharCountIndicator(l.mode,t)),l.write(r)});const i=Wp.getSymbolTotalCodewords(t),s=Qy.getTotalCodewordsCount(t,e),o=(i-s)*8;for(r.getLengthInBits()+4<=o&&r.put(0,4);r.getLengthInBits()%8!==0;)r.putBit(0);const a=(o-r.getLengthInBits())/8;for(let l=0;l<a;l++)r.put(l%2?17:236,8);return E8(r,t,e)}function E8(t,e,n){const r=Wp.getSymbolTotalCodewords(e),i=Qy.getTotalCodewordsCount(e,n),s=r-i,o=Qy.getBlocksCount(e,n),a=r%o,l=o-a,u=Math.floor(r/o),d=Math.floor(s/o),f=d+1,h=u-d,g=new d8(h);let E=0;const _=new Array(o),I=new Array(o);let T=0;const w=new Uint8Array(t.buffer);for(let S=0;S<o;S++){const C=S<l?d:f;_[S]=w.slice(E,E+C),I[S]=g.encode(_[S]),E+=C,T=Math.max(T,C)}const A=new Uint8Array(r);let N=0,F,j;for(F=0;F<T;F++)for(j=0;j<o;j++)F<_[j].length&&(A[N++]=_[j][F]);for(F=0;F<h;F++)for(j=0;j<o;j++)A[N++]=I[j][F];return A}function _8(t,e,n,r){let i;if(Array.isArray(t))i=sg.fromArray(t);else if(typeof t=="string"){let u=e;if(!u){const d=sg.rawSplit(t);u=$f.getBestVersionForData(d,n)}i=sg.fromString(t,u||40)}else throw new Error("Invalid data");const s=$f.getBestVersionForData(i,n);if(!s)throw new Error("The amount of data is too big to be stored in a QR Code");if(!e)e=s;else if(e<s)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+s+`.
`);const o=w8(e,n,i),a=Wp.getSymbolSize(e),l=new l8(a);return p8(l,e),m8(l),g8(l,e),og(l,n,0),e>=7&&y8(l,e),v8(l,o),isNaN(r)&&(r=$y.getBestMask(l,og.bind(null,l,n))),$y.applyMask(r,l),og(l,n,r),{modules:l,version:e,errorCorrectionLevel:n,maskPattern:r,segments:i}}Yx.create=function(e,n){if(typeof e>"u"||e==="")throw new Error("No input text");let r=ig.M,i,s;return typeof n<"u"&&(r=ig.from(n.errorCorrectionLevel,ig.M),i=$f.from(n.version),s=$y.from(n.maskPattern),n.toSJISFunc&&Wp.setToSJISFunction(n.toSJISFunc)),_8(e,i,r,s)};var ob={},gw={};(function(t){function e(n){if(typeof n=="number"&&(n=n.toString()),typeof n!="string")throw new Error("Color should be defined as hex string");let r=n.slice().replace("#","").split("");if(r.length<3||r.length===5||r.length>8)throw new Error("Invalid hex color: "+n);(r.length===3||r.length===4)&&(r=Array.prototype.concat.apply([],r.map(function(s){return[s,s]}))),r.length===6&&r.push("F","F");const i=parseInt(r.join(""),16);return{r:i>>24&255,g:i>>16&255,b:i>>8&255,a:i&255,hex:"#"+r.slice(0,6).join("")}}t.getOptions=function(r){r||(r={}),r.color||(r.color={});const i=typeof r.margin>"u"||r.margin===null||r.margin<0?4:r.margin,s=r.width&&r.width>=21?r.width:void 0,o=r.scale||4;return{width:s,scale:s?4:o,margin:i,color:{dark:e(r.color.dark||"#000000ff"),light:e(r.color.light||"#ffffffff")},type:r.type,rendererOpts:r.rendererOpts||{}}},t.getScale=function(r,i){return i.width&&i.width>=r+i.margin*2?i.width/(r+i.margin*2):i.scale},t.getImageWidth=function(r,i){const s=t.getScale(r,i);return Math.floor((r+i.margin*2)*s)},t.qrToImageData=function(r,i,s){const o=i.modules.size,a=i.modules.data,l=t.getScale(o,s),u=Math.floor((o+s.margin*2)*l),d=s.margin*l,f=[s.color.light,s.color.dark];for(let h=0;h<u;h++)for(let g=0;g<u;g++){let E=(h*u+g)*4,_=s.color.light;if(h>=d&&g>=d&&h<u-d&&g<u-d){const I=Math.floor((h-d)/l),T=Math.floor((g-d)/l);_=f[a[I*o+T]?1:0]}r[E++]=_.r,r[E++]=_.g,r[E++]=_.b,r[E]=_.a}}})(gw);(function(t){const e=gw;function n(i,s,o){i.clearRect(0,0,s.width,s.height),s.style||(s.style={}),s.height=o,s.width=o,s.style.height=o+"px",s.style.width=o+"px"}function r(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}t.render=function(s,o,a){let l=a,u=o;typeof l>"u"&&(!o||!o.getContext)&&(l=o,o=void 0),o||(u=r()),l=e.getOptions(l);const d=e.getImageWidth(s.modules.size,l),f=u.getContext("2d"),h=f.createImageData(d,d);return e.qrToImageData(h.data,s,l),n(f,u,d),f.putImageData(h,0,0),u},t.renderToDataURL=function(s,o,a){let l=a;typeof l>"u"&&(!o||!o.getContext)&&(l=o,o=void 0),l||(l={});const u=t.render(s,o,l),d=l.type||"image/png",f=l.rendererOpts||{};return u.toDataURL(d,f.quality)}})(ob);var ab={};const T8=gw;function Z_(t,e){const n=t.a/255,r=e+'="'+t.hex+'"';return n<1?r+" "+e+'-opacity="'+n.toFixed(2).slice(1)+'"':r}function ag(t,e,n){let r=t+e;return typeof n<"u"&&(r+=" "+n),r}function C8(t,e,n){let r="",i=0,s=!1,o=0;for(let a=0;a<t.length;a++){const l=Math.floor(a%e),u=Math.floor(a/e);!l&&!s&&(s=!0),t[a]?(o++,a>0&&l>0&&t[a-1]||(r+=s?ag("M",l+n,.5+u+n):ag("m",i,0),i=0,s=!1),l+1<e&&t[a+1]||(r+=ag("h",o),o=0)):i++}return r}ab.render=function(e,n,r){const i=T8.getOptions(n),s=e.modules.size,o=e.modules.data,a=s+i.margin*2,l=i.color.light.a?"<path "+Z_(i.color.light,"fill")+' d="M0 0h'+a+"v"+a+'H0z"/>':"",u="<path "+Z_(i.color.dark,"stroke")+' d="'+C8(o,s,i.margin)+'"/>',d='viewBox="0 0 '+a+" "+a+'"',h='<svg xmlns="http://www.w3.org/2000/svg" '+(i.width?'width="'+i.width+'" height="'+i.width+'" ':"")+d+' shape-rendering="crispEdges">'+l+u+`</svg>
`;return typeof r=="function"&&r(null,h),h};const A8=BU,Yy=Yx,lb=ob,I8=ab;function yw(t,e,n,r,i){const s=[].slice.call(arguments,1),o=s.length,a=typeof s[o-1]=="function";if(!a&&!A8())throw new Error("Callback required as last argument");if(a){if(o<2)throw new Error("Too few arguments provided");o===2?(i=n,n=e,e=r=void 0):o===3&&(e.getContext&&typeof i>"u"?(i=r,r=void 0):(i=r,r=n,n=e,e=void 0))}else{if(o<1)throw new Error("Too few arguments provided");return o===1?(n=e,e=r=void 0):o===2&&!e.getContext&&(r=n,n=e,e=void 0),new Promise(function(l,u){try{const d=Yy.create(n,r);l(t(d,e,r))}catch(d){u(d)}})}try{const l=Yy.create(n,r);i(null,t(l,e,r))}catch(l){i(l)}}Qu.create=Yy.create;Qu.toCanvas=yw.bind(null,lb.render);Qu.toDataURL=yw.bind(null,lb.renderToDataURL);Qu.toString=yw.bind(null,function(t,e,n){return I8.render(t,n)});const R8=({value:t,size:e=200,className:n=""})=>{const r=b.useRef(null);return b.useEffect(()=>{r.current&&Qu.toCanvas(r.current,t,{width:e,margin:2,color:{dark:"#000000",light:"#FFFFFF"}})},[t,e]),k.jsx("div",{className:`flex justify-center ${n}`,children:k.jsx("canvas",{ref:r,className:"border-4 border-white rounded-lg shadow-lg"})})};var Lh={linear:function(t,e,n,r){var i=n-e;return i*t/r+e},easeInQuad:function(t,e,n,r){var i=n-e;return i*(t/=r)*t+e},easeOutQuad:function(t,e,n,r){var i=n-e;return-i*(t/=r)*(t-2)+e},easeInOutQuad:function(t,e,n,r){var i=n-e;return(t/=r/2)<1?i/2*t*t+e:-i/2*(--t*(t-2)-1)+e},easeInCubic:function(t,e,n,r){var i=n-e;return i*(t/=r)*t*t+e},easeOutCubic:function(t,e,n,r){var i=n-e;return i*((t=t/r-1)*t*t+1)+e},easeInOutCubic:function(t,e,n,r){var i=n-e;return(t/=r/2)<1?i/2*t*t*t+e:i/2*((t-=2)*t*t+2)+e},easeInQuart:function(t,e,n,r){var i=n-e;return i*(t/=r)*t*t*t+e},easeOutQuart:function(t,e,n,r){var i=n-e;return-i*((t=t/r-1)*t*t*t-1)+e},easeInOutQuart:function(t,e,n,r){var i=n-e;return(t/=r/2)<1?i/2*t*t*t*t+e:-i/2*((t-=2)*t*t*t-2)+e},easeInQuint:function(t,e,n,r){var i=n-e;return i*(t/=r)*t*t*t*t+e},easeOutQuint:function(t,e,n,r){var i=n-e;return i*((t=t/r-1)*t*t*t*t+1)+e},easeInOutQuint:function(t,e,n,r){var i=n-e;return(t/=r/2)<1?i/2*t*t*t*t*t+e:i/2*((t-=2)*t*t*t*t+2)+e},easeInSine:function(t,e,n,r){var i=n-e;return-i*Math.cos(t/r*(Math.PI/2))+i+e},easeOutSine:function(t,e,n,r){var i=n-e;return i*Math.sin(t/r*(Math.PI/2))+e},easeInOutSine:function(t,e,n,r){var i=n-e;return-i/2*(Math.cos(Math.PI*t/r)-1)+e},easeInExpo:function(t,e,n,r){var i=n-e;return t==0?e:i*Math.pow(2,10*(t/r-1))+e},easeOutExpo:function(t,e,n,r){var i=n-e;return t==r?e+i:i*(-Math.pow(2,-10*t/r)+1)+e},easeInOutExpo:function(t,e,n,r){var i=n-e;return t===0?e:t===r?e+i:(t/=r/2)<1?i/2*Math.pow(2,10*(t-1))+e:i/2*(-Math.pow(2,-10*--t)+2)+e},easeInCirc:function(t,e,n,r){var i=n-e;return-i*(Math.sqrt(1-(t/=r)*t)-1)+e},easeOutCirc:function(t,e,n,r){var i=n-e;return i*Math.sqrt(1-(t=t/r-1)*t)+e},easeInOutCirc:function(t,e,n,r){var i=n-e;return(t/=r/2)<1?-i/2*(Math.sqrt(1-t*t)-1)+e:i/2*(Math.sqrt(1-(t-=2)*t)+1)+e},easeInElastic:function(t,e,n,r){var i=n-e,s,o,a;return a=1.70158,o=0,s=i,t===0?e:(t/=r)===1?e+i:(o||(o=r*.3),s<Math.abs(i)?(s=i,a=o/4):a=o/(2*Math.PI)*Math.asin(i/s),-(s*Math.pow(2,10*(t-=1))*Math.sin((t*r-a)*(2*Math.PI)/o))+e)},easeOutElastic:function(t,e,n,r){var i=n-e,s,o,a;return a=1.70158,o=0,s=i,t===0?e:(t/=r)===1?e+i:(o||(o=r*.3),s<Math.abs(i)?(s=i,a=o/4):a=o/(2*Math.PI)*Math.asin(i/s),s*Math.pow(2,-10*t)*Math.sin((t*r-a)*(2*Math.PI)/o)+i+e)},easeInOutElastic:function(t,e,n,r){var i=n-e,s,o,a;return a=1.70158,o=0,s=i,t===0?e:(t/=r/2)===2?e+i:(o||(o=r*(.3*1.5)),s<Math.abs(i)?(s=i,a=o/4):a=o/(2*Math.PI)*Math.asin(i/s),t<1?-.5*(s*Math.pow(2,10*(t-=1))*Math.sin((t*r-a)*(2*Math.PI)/o))+e:s*Math.pow(2,-10*(t-=1))*Math.sin((t*r-a)*(2*Math.PI)/o)*.5+i+e)},easeInBack:function(t,e,n,r,i){var s=n-e;return i===void 0&&(i=1.70158),s*(t/=r)*t*((i+1)*t-i)+e},easeOutBack:function(t,e,n,r,i){var s=n-e;return i===void 0&&(i=1.70158),s*((t=t/r-1)*t*((i+1)*t+i)+1)+e},easeInOutBack:function(t,e,n,r,i){var s=n-e;return i===void 0&&(i=1.70158),(t/=r/2)<1?s/2*(t*t*(((i*=1.525)+1)*t-i))+e:s/2*((t-=2)*t*(((i*=1.525)+1)*t+i)+2)+e},easeInBounce:function(t,e,n,r){var i=n-e,s;return s=Lh.easeOutBounce(r-t,0,i,r),i-s+e},easeOutBounce:function(t,e,n,r){var i=n-e;return(t/=r)<1/2.75?i*(7.5625*t*t)+e:t<2/2.75?i*(7.5625*(t-=1.5/2.75)*t+.75)+e:t<2.5/2.75?i*(7.5625*(t-=2.25/2.75)*t+.9375)+e:i*(7.5625*(t-=2.625/2.75)*t+.984375)+e},easeInOutBounce:function(t,e,n,r){var i=n-e,s;return t<r/2?(s=Lh.easeInBounce(t*2,0,i,r),s*.5+e):(s=Lh.easeOutBounce(t*2-r,0,i,r),s*.5+i*.5+e)}},S8=Lh;function x8(t){return t*Math.PI/180}function Vn(t,e){return t+Math.random()*(e-t)}function b8(t,e){return Math.floor(t+Math.random()*(e-t+1))}var Oc;(function(t){t[t.Circle=0]="Circle",t[t.Square=1]="Square",t[t.Strip=2]="Strip"})(Oc||(Oc={}));var rs;(function(t){t[t.Positive=1]="Positive",t[t.Negative=-1]="Negative"})(rs||(rs={}));const P8=1e3/60;class k8{constructor(e,n,r,i){this.getOptions=n;const{colors:s,initialVelocityX:o,initialVelocityY:a}=this.getOptions();this.context=e,this.x=r,this.y=i,this.w=Vn(5,20),this.h=Vn(5,20),this.radius=Vn(5,10),this.vx=typeof o=="number"?Vn(-o,o):Vn(o.min,o.max),this.vy=typeof a=="number"?Vn(-a,0):Vn(a.min,a.max),this.shape=b8(0,2),this.angle=x8(Vn(0,360)),this.angularSpin=Vn(-.2,.2),this.color=s[Math.floor(Math.random()*s.length)],this.rotateY=Vn(0,1),this.rotationDirection=Vn(0,1)?rs.Positive:rs.Negative}update(e){const{gravity:n,wind:r,friction:i,opacity:s,drawShape:o}=this.getOptions(),a=e/P8;this.x+=this.vx*a,this.y+=this.vy*a,this.vy+=n*a,this.vx+=r*a,this.vx*=i**a,this.vy*=i**a,this.rotateY>=1&&this.rotationDirection===rs.Positive?this.rotationDirection=rs.Negative:this.rotateY<=-1&&this.rotationDirection===rs.Negative&&(this.rotationDirection=rs.Positive);const l=.1*this.rotationDirection*a;if(this.rotateY+=l,this.angle+=this.angularSpin,this.context.save(),this.context.translate(this.x,this.y),this.context.rotate(this.angle),this.context.scale(1,this.rotateY),this.context.rotate(this.angle),this.context.beginPath(),this.context.fillStyle=this.color,this.context.strokeStyle=this.color,this.context.globalAlpha=s,this.context.lineCap="round",this.context.lineWidth=2,o&&typeof o=="function")o.call(this,this.context);else switch(this.shape){case Oc.Circle:{this.context.beginPath(),this.context.arc(0,0,this.radius,0,2*Math.PI),this.context.fill();break}case Oc.Square:{this.context.fillRect(-this.w/2,-this.h/2,this.w,this.h);break}case Oc.Strip:{this.context.fillRect(-this.w/6,-this.h/2,this.w/3,this.h);break}}this.context.closePath(),this.context.restore()}}class N8{constructor(e,n){this.x=0,this.y=0,this.w=0,this.h=0,this.lastNumberOfPieces=0,this.tweenProgress=0,this.tweenFrom=0,this.particles=[],this.particlesGenerated=0,this.removeParticleAt=i=>{this.particles.splice(i,1)},this.getParticle=()=>{const i=Vn(this.x,this.w+this.x),s=Vn(this.y,this.h+this.y);return new k8(this.context,this.getOptions,i,s)},this.animate=i=>{const{canvas:s,context:o,particlesGenerated:a,lastNumberOfPieces:l}=this,{run:u,recycle:d,numberOfPieces:f,debug:h,tweenFunction:g,tweenDuration:E}=this.getOptions();if(!u)return!1;const _=this.particles.length,I=d?_:a;if(I<f){l!==f&&(this.tweenProgress=0,this.tweenFrom=I,this.lastNumberOfPieces=f),this.tweenProgress=Math.min(E,Math.max(0,this.tweenProgress+i));const T=g(this.tweenProgress,this.tweenFrom,f,E),w=Math.round(T-I);for(let A=0;A<w;A++)this.particles.push(this.getParticle());this.particlesGenerated+=w}h&&(o.font="12px sans-serif",o.fillStyle="#333",o.textAlign="right",o.fillText(`Particles: ${_}`,s.width-10,s.height-20));for(let T=this.particles.length-1;T>=0;T--){const w=this.particles[T];w.update(i),(w.y>s.height||w.y<-100||w.x>s.width+100||w.x<-100)&&(d&&I<=f?this.particles[T]=this.getParticle():this.removeParticleAt(T))}return _>0||I<f},this.canvas=e;const r=this.canvas.getContext("2d");if(!r)throw new Error("Could not get canvas context");this.context=r,this.getOptions=n}}const vw={width:typeof window<"u"?window.innerWidth:300,height:typeof window<"u"?window.innerHeight:200,numberOfPieces:200,friction:.99,wind:0,gravity:.1,initialVelocityX:4,initialVelocityY:10,colors:["#f44336","#e91e63","#9c27b0","#673ab7","#3f51b5","#2196f3","#03a9f4","#00bcd4","#009688","#4CAF50","#8BC34A","#CDDC39","#FFEB3B","#FFC107","#FF9800","#FF5722","#795548"],opacity:1,debug:!1,tweenFunction:S8.easeInOutQuad,tweenDuration:5e3,recycle:!0,run:!0};class D8{constructor(e,n){this.lastFrameTime=0,this.setOptionsWithDefaults=i=>{const s={confettiSource:{x:0,y:0,w:this.canvas.width,h:0}};this._options={...s,...vw,...i},Object.assign(this,i.confettiSource)},this.update=(i=0)=>{const{options:{run:s,onConfettiComplete:o,frameRate:a},canvas:l,context:u}=this,d=Math.min(i-this.lastFrameTime,50);if(a&&d<1e3/a){this.rafId=requestAnimationFrame(this.update);return}this.lastFrameTime=i-(a?d%a:0),s&&(u.fillStyle="white",u.clearRect(0,0,l.width,l.height)),this.generator.animate(d)?this.rafId=requestAnimationFrame(this.update):(o&&typeof o=="function"&&this.generator.particlesGenerated>0&&o.call(this,this),this._options.run=!1)},this.reset=()=>{this.generator&&this.generator.particlesGenerated>0&&(this.generator.particlesGenerated=0,this.generator.particles=[],this.generator.lastNumberOfPieces=0)},this.stop=()=>{this.options={run:!1},this.rafId&&(cancelAnimationFrame(this.rafId),this.rafId=void 0)},this.canvas=e;const r=this.canvas.getContext("2d");if(!r)throw new Error("Could not get canvas context");this.context=r,this.generator=new N8(this.canvas,()=>this.options),this.options=n,this.update()}get options(){return this._options}set options(e){var i,s;const n=(i=this._options)==null?void 0:i.run,r=(s=this._options)==null?void 0:s.recycle;this.setOptionsWithDefaults(e),this.generator&&(Object.assign(this.generator,this.options.confettiSource),typeof e.recycle=="boolean"&&e.recycle&&r===!1&&(this.generator.lastNumberOfPieces=this.generator.particles.length)),typeof e.run=="boolean"&&e.run&&n===!1&&this.update()}}const M8=Y.createRef();class ww extends Y.Component{constructor(e){super(e),this.canvas=Y.createRef(),this.canvas=e.canvasRef||M8}componentDidMount(){if(this.canvas.current){const e=lg(this.props)[0];this.confetti=new D8(this.canvas.current,e)}}componentDidUpdate(){const e=lg(this.props)[0];this.confetti&&(this.confetti.options=e)}componentWillUnmount(){this.confetti&&this.confetti.stop(),this.confetti=void 0}render(){const[e,n]=lg(this.props),r={zIndex:2,position:"absolute",pointerEvents:"none",top:0,left:0,bottom:0,right:0,...n.style};return k.jsx("canvas",{width:e.width,height:e.height,ref:this.canvas,...n,style:r})}}ww.defaultProps={...vw};ww.displayName="ReactConfetti";function lg(t){const e={},n={},r={},i=[...Object.keys(vw),"confettiSource","drawShape","onConfettiComplete","frameRate"],s=["canvasRef"];for(const o in t){const a=t[o];i.includes(o)?e[o]=a:s.includes(o)?s[o]=a:r[o]=a}return[e,r,n]}const Qf=Y.forwardRef((t,e)=>k.jsx(ww,{canvasRef:e,...t})),O8=({value:t,max:e})=>{const n=Math.min(100,Math.max(0,t/e*100)),r=48,i=8,s=r-i/2,o=2*Math.PI*s,a=o-n/100*o;return k.jsx("div",{className:"flex flex-col items-center justify-center",children:k.jsxs("div",{className:"relative group w-28 h-28",children:[k.jsxs("svg",{width:r*2,height:r*2,className:"block",children:[k.jsx("circle",{cx:r,cy:r,r:s,fill:"none",stroke:"#18181b",strokeWidth:i}),k.jsx("circle",{cx:r,cy:r,r:s,fill:"none",stroke:"#ef4444",strokeWidth:i,strokeDasharray:o,strokeDashoffset:a,strokeLinecap:"round",className:"transition-all duration-700 ease-in-out",style:{filter:"drop-shadow(0 0 8px #ef4444cc)"}})]}),k.jsx("div",{className:"absolute inset-0 flex flex-col items-center justify-center select-none",children:k.jsxs("span",{className:"text-xl font-bold text-white drop-shadow-sm",children:[t," of ",e]})}),k.jsx("div",{className:"absolute inset-0 rounded-full group-hover:scale-105 group-hover:shadow-[0_0_16px_4px_#ef4444cc] transition-transform transition-shadow duration-300"})]})})},V8=()=>{const{user:t,addPurchase:e,logout:n}=zp(),r=$u(),[i,s]=b.useState(!1),o=Y.useRef(null),[a,l]=b.useState(!1),[u,d]=b.useState(0),[f,h]=b.useState(null);if(b.useEffect(()=>{t||r("/login")},[t,r]),b.useEffect(()=>{t&&(h(new Date),o.current!==null&&o.current!==t.purchases&&t.purchases-o.current>0&&(cn({title:"Purchase Updated! ",description:`Your purchase count was updated via QR scan. New total: ${t.purchases}/5`}),l(!0),d(T=>T+1),setTimeout(()=>l(!1),2500),t.isRewardReady&&o.current<5&&setTimeout(()=>{cn({title:"Reward Unlocked! ",description:"You've earned a reward! Check your rewards page."}),setTimeout(()=>r("/rewards"),1500)},1e3)),o.current===0&&t.purchases===1&&(s(!0),setTimeout(()=>s(!1),3e3)),o.current=t.purchases)},[t==null?void 0:t.purchases,t==null?void 0:t.isRewardReady,r]),!t)return null;t.purchases/5*100;const g=Math.max(0,5-t.purchases),E=()=>{t.purchases>=5||(e(),l(!0),d(I=>I+1),setTimeout(()=>l(!1),2500),t.purchases+1>=5?(cn({title:"Reward Unlocked! ",description:"You've earned a reward! Check your rewards page."}),setTimeout(()=>r("/rewards"),1500)):cn({title:"Purchase Added!",description:`${4-t.purchases} more purchases until your next reward!`}))},_=()=>{n(),cn({title:"Logged Out",description:"Thanks for visiting Vape Master!"}),r("/")};return k.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-black via-gray-900 to-red-950 relative overflow-hidden",children:[i&&k.jsx(Qf,{width:window.innerWidth,height:window.innerHeight,numberOfPieces:250,recycle:!1,colors:["#ef4444","#fff"],style:{position:"fixed",left:0,top:0,zIndex:50}}),a&&k.jsx(Qf,{width:window.innerWidth,height:window.innerHeight,numberOfPieces:250,recycle:!1,colors:["#ef4444","#fff","#facc15","#22d3ee","#a3e635"],style:{position:"fixed",left:0,top:0,zIndex:50}},u),k.jsxs("div",{className:"absolute inset-0 opacity-10",children:[k.jsx("div",{className:"absolute top-20 right-10 w-40 h-40 bg-red-500 rounded-full blur-3xl animate-pulse"}),k.jsx("div",{className:"absolute bottom-32 left-10 w-32 h-32 bg-red-600 rounded-full blur-3xl animate-pulse delay-1000"})]}),k.jsxs("div",{className:"relative z-10 min-h-screen flex flex-col",children:[k.jsxs("div",{className:"p-6 flex items-center justify-between",children:[k.jsxs("div",{className:"flex items-center",children:[k.jsx(Oi,{to:"/",className:"text-red-400 hover:text-red-300 transition-colors",children:k.jsx(fp,{className:"w-6 h-6"})}),k.jsx("h1",{className:"ml-4 text-2xl font-bold text-white",children:"Dashboard"})]}),k.jsx(Ai,{onClick:_,variant:"outline",className:"border-red-500 text-red-400 hover:bg-red-500 hover:text-white",children:"Logout"})]}),k.jsx("div",{className:"flex-1 px-6 pb-6",children:k.jsxs("div",{className:"max-w-md mx-auto space-y-6",children:[k.jsxs("div",{className:"bg-gray-900/80 backdrop-blur-sm border border-red-900/30 rounded-2xl p-6 text-center",children:[k.jsxs("h2",{className:"text-2xl font-bold text-white mb-2",children:["Welcome, ",t.name,"!"]}),k.jsx("p",{className:"text-gray-400",children:"Your loyalty card is ready to use"}),f&&k.jsxs("div",{className:"mt-2 flex items-center justify-center text-xs text-gray-500",children:[k.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mr-2 animate-pulse"}),"Last updated: ",f.toLocaleTimeString()]})]}),k.jsxs("div",{className:"bg-gray-900/80 backdrop-blur-sm border border-red-900/30 rounded-2xl p-6",children:[k.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"Your Progress"}),k.jsxs("div",{className:"space-y-4",children:[k.jsxs("div",{className:"flex justify-between items-center text-white",children:[k.jsx("span",{className:"font-medium",children:"Purchases"}),k.jsxs("span",{className:"text-red-400 font-bold",children:[t.purchases," of 5"]})]}),k.jsx(O8,{value:t.purchases,max:5}),g>0?k.jsxs("p",{className:"text-gray-400 text-sm text-center",children:[g," more purchase",g!==1?"s":""," until your next reward!"]}):k.jsx("p",{className:"text-red-400 font-semibold text-center",children:" Reward Ready! Visit the rewards page."})]})]}),k.jsxs("div",{className:"bg-gray-900/80 backdrop-blur-sm border border-red-900/30 rounded-2xl p-6",children:[k.jsx("h3",{className:"text-xl font-semibold text-white mb-4 text-center",children:"Your Loyalty Card"}),k.jsx(R8,{value:`LOYALTY:${t.email}:${t.id}`,size:200}),k.jsx("p",{className:"text-gray-400 text-sm text-center mt-4",children:"Show this QR code at checkout"})]}),k.jsxs("div",{className:"space-y-4",children:[k.jsx(Ai,{onClick:E,className:`w-full py-4 text-lg font-semibold bg-gradient-to-r from-red-600 to-red-700 hover:from-red-700 hover:to-red-800 text-white border-none shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105 ${t.purchases>=5?"opacity-50 cursor-not-allowed grayscale":""}`,disabled:t.purchases>=5,children:"Add Purchase"}),t.isRewardReady&&k.jsx(Oi,{to:"/rewards",className:"block",children:k.jsx(Ai,{variant:"outline",className:"w-full py-4 text-lg font-semibold border-2 border-red-500 text-red-400 hover:bg-red-500 hover:text-white transition-all duration-300 transform hover:scale-105",children:"View Reward "})})]})]})})]})]})},L8=()=>{const{user:t,useReward:e}=zp(),n=$u(),[r,i]=b.useState(!1),[s,o]=b.useState(!1),[a,l]=b.useState(!1),[u,d]=b.useState(30),[f,h]=b.useState(!1),[g,E]=b.useState(!1),[_,I]=b.useState(!0),T=b.useRef(null);return b.useEffect(()=>(t?t.isRewardReady?(E(!0),setTimeout(()=>E(!1),3e3),T.current=setInterval(()=>{I(!1),setTimeout(()=>I(!0),100)},3500)):n("/dashboard"):n("/login"),()=>{T.current&&clearInterval(T.current)}),[t,n]),b.useEffect(()=>{if(!(!t||r||f))if(t.isRewardReady&&u>0){const w=setInterval(()=>{d(A=>A-1)},1e3);return()=>clearInterval(w)}else u===0&&t.isRewardReady&&(h(!0),setTimeout(()=>{e(),n("/dashboard")},2e3))},[t,u,r,f,e,n]),b.useEffect(()=>{let w;return a&&(w=setTimeout(()=>l(!1),2500)),()=>clearTimeout(w)},[a]),b.useEffect(()=>{let w;return s&&(w=setTimeout(()=>o(!1),2500)),()=>clearTimeout(w)},[s]),!t||!t.isRewardReady?null:f?k.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gradient-to-br from-black via-gray-900 to-red-950",children:k.jsxs("div",{className:"bg-gradient-to-r from-red-700/80 to-black/80 rounded-2xl p-10 shadow-2xl text-center",children:[k.jsx("div",{className:"text-6xl mb-4",children:""}),k.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:"Reward expired"}),k.jsx("p",{className:"text-red-200 text-lg",children:"Start collecting again."})]})}):r?k.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-black via-gray-900 to-red-950 flex flex-col items-center justify-center relative overflow-hidden",children:[s&&k.jsx(Qf,{width:window.innerWidth,height:window.innerHeight,numberOfPieces:400,recycle:!1}),k.jsxs("div",{className:"bg-gradient-to-r from-green-600/80 to-green-400/80 backdrop-blur-sm border border-green-900/30 rounded-2xl p-10 shadow-2xl text-center",children:[k.jsx("div",{className:"text-6xl mb-4",children:""}),k.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:"Reward Redeemed!"}),k.jsx("p",{className:"text-green-200 text-lg",children:"Your reward has been used."}),k.jsx("p",{className:"text-white/80 mt-2",children:"Your scan count has been reset. Start earning your next reward!"}),k.jsx("button",{className:"mt-8 px-6 py-3 bg-gradient-to-r from-red-600 to-red-700 text-white font-semibold rounded-lg shadow-lg hover:from-red-700 hover:to-red-800 transition-all duration-300",onClick:()=>n("/dashboard"),children:"Back to Dashboard"})]})]}):k.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center relative overflow-hidden bg-gradient-to-br from-black via-red-900 to-orange-900 animate-shimmer",children:[k.jsx("style",{children:`
        @keyframes shimmer {
          0% { background-position: 0% 50%; }
          100% { background-position: 100% 50%; }
        }
        .animate-shimmer {
          background-size: 200% 200%;
          animation: shimmer 8s linear infinite;
        }
        @keyframes fire {
          0% { transform: scaleY(1) translateY(0); opacity: 1; }
          50% { transform: scaleY(1.1) translateY(-10px); opacity: 0.85; }
          100% { transform: scaleY(1) translateY(0); opacity: 1; }
        }
        .fire-flame {
          animation: fire 1.2s infinite alternate cubic-bezier(0.4,0,0.2,1);
        }
        @keyframes lightning {
          0%, 97%, 100% { opacity: 0; }
          98% { opacity: 1; }
          99% { opacity: 0.5; }
        }
        .lightning {
          animation: lightning 4s infinite;
        }
      `}),_&&k.jsx(Qf,{width:window.innerWidth,height:window.innerHeight,numberOfPieces:180,recycle:!1,colors:["#ef4444","#fff","#facc15","#ff9800","#a3e635"],style:{position:"fixed",left:0,top:0,zIndex:40}}),k.jsxs("div",{className:"pointer-events-none",children:[k.jsx("div",{className:"absolute top-0 left-0 w-24 h-24 lightning",style:{boxShadow:"0 0 60px 20px #fff8"}}),k.jsx("div",{className:"absolute top-0 right-0 w-24 h-24 lightning",style:{boxShadow:"0 0 60px 20px #fff8"}}),k.jsx("div",{className:"absolute bottom-0 left-0 w-24 h-24 lightning",style:{boxShadow:"0 0 60px 20px #fff8"}}),k.jsx("div",{className:"absolute bottom-0 right-0 w-24 h-24 lightning",style:{boxShadow:"0 0 60px 20px #fff8"}})]}),k.jsx("div",{className:"absolute bottom-0 left-0 w-full flex justify-center items-end z-30 pointer-events-none",children:[...Array(12)].map((w,A)=>k.jsx("div",{className:"fire-flame",style:{width:`${16+Math.random()*16}px`,height:`${40+Math.random()*32}px`,marginLeft:4,marginRight:4,borderRadius:"50% 50% 40% 40%",background:"radial-gradient(circle at 50% 30%, #ff9800 60%, #ef4444 100%)",opacity:.7+Math.random()*.3,filter:"blur(1.5px)",animationDelay:`${Math.random()}s`}},A))}),k.jsxs("div",{className:"relative z-20 bg-gradient-to-r from-red-700/80 to-black/80 rounded-2xl p-10 shadow-2xl text-center animate-bounceIn",children:[k.jsx("div",{className:"text-6xl mb-4 animate-bounce",children:""}),k.jsx("h2",{className:"text-3xl font-extrabold text-white mb-2 animate-pulse drop-shadow-[0_0_16px_#ff9800]",children:"You Got 20% OFF! "}),k.jsx("p",{className:"text-red-200 text-lg mb-6 animate-fadeIn",children:"Show this at checkout to redeem your reward."}),k.jsx("button",{className:"mt-8 px-6 py-3 bg-gradient-to-r from-red-600 to-red-700 text-white font-semibold rounded-lg shadow-lg hover:from-red-700 hover:to-red-800 transition-all duration-300",onClick:()=>{e(),n("/dashboard")},children:"Back to Dashboard"})]})]})},F8=()=>{const t=zu();return b.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),k.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:k.jsxs("div",{className:"text-center",children:[k.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),k.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),k.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})};let cb=!0,ub=!0;function mc(t,e,n){const r=t.match(e);return r&&r.length>=n&&parseFloat(r[n],10)}function Ho(t,e,n){if(!t.RTCPeerConnection)return;const r=t.RTCPeerConnection.prototype,i=r.addEventListener;r.addEventListener=function(o,a){if(o!==e)return i.apply(this,arguments);const l=u=>{const d=n(u);d&&(a.handleEvent?a.handleEvent(d):a(d))};return this._eventMap=this._eventMap||{},this._eventMap[e]||(this._eventMap[e]=new Map),this._eventMap[e].set(a,l),i.apply(this,[o,l])};const s=r.removeEventListener;r.removeEventListener=function(o,a){if(o!==e||!this._eventMap||!this._eventMap[e])return s.apply(this,arguments);if(!this._eventMap[e].has(a))return s.apply(this,arguments);const l=this._eventMap[e].get(a);return this._eventMap[e].delete(a),this._eventMap[e].size===0&&delete this._eventMap[e],Object.keys(this._eventMap).length===0&&delete this._eventMap,s.apply(this,[o,l])},Object.defineProperty(r,"on"+e,{get(){return this["_on"+e]},set(o){this["_on"+e]&&(this.removeEventListener(e,this["_on"+e]),delete this["_on"+e]),o&&this.addEventListener(e,this["_on"+e]=o)},enumerable:!0,configurable:!0})}function B8(t){return typeof t!="boolean"?new Error("Argument type: "+typeof t+". Please use a boolean."):(cb=t,t?"adapter.js logging disabled":"adapter.js logging enabled")}function U8(t){return typeof t!="boolean"?new Error("Argument type: "+typeof t+". Please use a boolean."):(ub=!t,"adapter.js deprecation warnings "+(t?"disabled":"enabled"))}function db(){if(typeof window=="object"){if(cb)return;typeof console<"u"&&typeof console.log=="function"&&console.log.apply(console,arguments)}}function Ew(t,e){ub&&console.warn(t+" is deprecated, please use "+e+" instead.")}function j8(t){const e={browser:null,version:null};if(typeof t>"u"||!t.navigator||!t.navigator.userAgent)return e.browser="Not a browser.",e;const{navigator:n}=t;if(n.userAgentData&&n.userAgentData.brands){const r=n.userAgentData.brands.find(i=>i.brand==="Chromium");if(r)return{browser:"chrome",version:parseInt(r.version,10)}}if(n.mozGetUserMedia)e.browser="firefox",e.version=parseInt(mc(n.userAgent,/Firefox\/(\d+)\./,1));else if(n.webkitGetUserMedia||t.isSecureContext===!1&&t.webkitRTCPeerConnection)e.browser="chrome",e.version=parseInt(mc(n.userAgent,/Chrom(e|ium)\/(\d+)\./,2));else if(t.RTCPeerConnection&&n.userAgent.match(/AppleWebKit\/(\d+)\./))e.browser="safari",e.version=parseInt(mc(n.userAgent,/AppleWebKit\/(\d+)\./,1)),e.supportsUnifiedPlan=t.RTCRtpTransceiver&&"currentDirection"in t.RTCRtpTransceiver.prototype,e._safariVersion=mc(n.userAgent,/Version\/(\d+(\.?\d+))/,1);else return e.browser="Not a supported browser.",e;return e}function X_(t){return Object.prototype.toString.call(t)==="[object Object]"}function hb(t){return X_(t)?Object.keys(t).reduce(function(e,n){const r=X_(t[n]),i=r?hb(t[n]):t[n],s=r&&!Object.keys(i).length;return i===void 0||s?e:Object.assign(e,{[n]:i})},{}):t}function Wy(t,e,n){!e||n.has(e.id)||(n.set(e.id,e),Object.keys(e).forEach(r=>{r.endsWith("Id")?Wy(t,t.get(e[r]),n):r.endsWith("Ids")&&e[r].forEach(i=>{Wy(t,t.get(i),n)})}))}function eT(t,e,n){const r=n?"outbound-rtp":"inbound-rtp",i=new Map;if(e===null)return i;const s=[];return t.forEach(o=>{o.type==="track"&&o.trackIdentifier===e.id&&s.push(o)}),s.forEach(o=>{t.forEach(a=>{a.type===r&&a.trackId===o.id&&Wy(t,a,i)})}),i}const tT=db;function fb(t,e){const n=t&&t.navigator;if(!n.mediaDevices)return;const r=function(a){if(typeof a!="object"||a.mandatory||a.optional)return a;const l={};return Object.keys(a).forEach(u=>{if(u==="require"||u==="advanced"||u==="mediaSource")return;const d=typeof a[u]=="object"?a[u]:{ideal:a[u]};d.exact!==void 0&&typeof d.exact=="number"&&(d.min=d.max=d.exact);const f=function(h,g){return h?h+g.charAt(0).toUpperCase()+g.slice(1):g==="deviceId"?"sourceId":g};if(d.ideal!==void 0){l.optional=l.optional||[];let h={};typeof d.ideal=="number"?(h[f("min",u)]=d.ideal,l.optional.push(h),h={},h[f("max",u)]=d.ideal,l.optional.push(h)):(h[f("",u)]=d.ideal,l.optional.push(h))}d.exact!==void 0&&typeof d.exact!="number"?(l.mandatory=l.mandatory||{},l.mandatory[f("",u)]=d.exact):["min","max"].forEach(h=>{d[h]!==void 0&&(l.mandatory=l.mandatory||{},l.mandatory[f(h,u)]=d[h])})}),a.advanced&&(l.optional=(l.optional||[]).concat(a.advanced)),l},i=function(a,l){if(e.version>=61)return l(a);if(a=JSON.parse(JSON.stringify(a)),a&&typeof a.audio=="object"){const u=function(d,f,h){f in d&&!(h in d)&&(d[h]=d[f],delete d[f])};a=JSON.parse(JSON.stringify(a)),u(a.audio,"autoGainControl","googAutoGainControl"),u(a.audio,"noiseSuppression","googNoiseSuppression"),a.audio=r(a.audio)}if(a&&typeof a.video=="object"){let u=a.video.facingMode;u=u&&(typeof u=="object"?u:{ideal:u});const d=e.version<66;if(u&&(u.exact==="user"||u.exact==="environment"||u.ideal==="user"||u.ideal==="environment")&&!(n.mediaDevices.getSupportedConstraints&&n.mediaDevices.getSupportedConstraints().facingMode&&!d)){delete a.video.facingMode;let f;if(u.exact==="environment"||u.ideal==="environment"?f=["back","rear"]:(u.exact==="user"||u.ideal==="user")&&(f=["front"]),f)return n.mediaDevices.enumerateDevices().then(h=>{h=h.filter(E=>E.kind==="videoinput");let g=h.find(E=>f.some(_=>E.label.toLowerCase().includes(_)));return!g&&h.length&&f.includes("back")&&(g=h[h.length-1]),g&&(a.video.deviceId=u.exact?{exact:g.deviceId}:{ideal:g.deviceId}),a.video=r(a.video),tT("chrome: "+JSON.stringify(a)),l(a)})}a.video=r(a.video)}return tT("chrome: "+JSON.stringify(a)),l(a)},s=function(a){return e.version>=64?a:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[a.name]||a.name,message:a.message,constraint:a.constraint||a.constraintName,toString(){return this.name+(this.message&&": ")+this.message}}},o=function(a,l,u){i(a,d=>{n.webkitGetUserMedia(d,l,f=>{u&&u(s(f))})})};if(n.getUserMedia=o.bind(n),n.mediaDevices.getUserMedia){const a=n.mediaDevices.getUserMedia.bind(n.mediaDevices);n.mediaDevices.getUserMedia=function(l){return i(l,u=>a(u).then(d=>{if(u.audio&&!d.getAudioTracks().length||u.video&&!d.getVideoTracks().length)throw d.getTracks().forEach(f=>{f.stop()}),new DOMException("","NotFoundError");return d},d=>Promise.reject(s(d))))}}}function pb(t){t.MediaStream=t.MediaStream||t.webkitMediaStream}function mb(t){if(typeof t=="object"&&t.RTCPeerConnection&&!("ontrack"in t.RTCPeerConnection.prototype)){Object.defineProperty(t.RTCPeerConnection.prototype,"ontrack",{get(){return this._ontrack},set(n){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=n)},enumerable:!0,configurable:!0});const e=t.RTCPeerConnection.prototype.setRemoteDescription;t.RTCPeerConnection.prototype.setRemoteDescription=function(){return this._ontrackpoly||(this._ontrackpoly=r=>{r.stream.addEventListener("addtrack",i=>{let s;t.RTCPeerConnection.prototype.getReceivers?s=this.getReceivers().find(a=>a.track&&a.track.id===i.track.id):s={track:i.track};const o=new Event("track");o.track=i.track,o.receiver=s,o.transceiver={receiver:s},o.streams=[r.stream],this.dispatchEvent(o)}),r.stream.getTracks().forEach(i=>{let s;t.RTCPeerConnection.prototype.getReceivers?s=this.getReceivers().find(a=>a.track&&a.track.id===i.id):s={track:i};const o=new Event("track");o.track=i,o.receiver=s,o.transceiver={receiver:s},o.streams=[r.stream],this.dispatchEvent(o)})},this.addEventListener("addstream",this._ontrackpoly)),e.apply(this,arguments)}}else Ho(t,"track",e=>(e.transceiver||Object.defineProperty(e,"transceiver",{value:{receiver:e.receiver}}),e))}function gb(t){if(typeof t=="object"&&t.RTCPeerConnection&&!("getSenders"in t.RTCPeerConnection.prototype)&&"createDTMFSender"in t.RTCPeerConnection.prototype){const e=function(i,s){return{track:s,get dtmf(){return this._dtmf===void 0&&(s.kind==="audio"?this._dtmf=i.createDTMFSender(s):this._dtmf=null),this._dtmf},_pc:i}};if(!t.RTCPeerConnection.prototype.getSenders){t.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};const i=t.RTCPeerConnection.prototype.addTrack;t.RTCPeerConnection.prototype.addTrack=function(a,l){let u=i.apply(this,arguments);return u||(u=e(this,a),this._senders.push(u)),u};const s=t.RTCPeerConnection.prototype.removeTrack;t.RTCPeerConnection.prototype.removeTrack=function(a){s.apply(this,arguments);const l=this._senders.indexOf(a);l!==-1&&this._senders.splice(l,1)}}const n=t.RTCPeerConnection.prototype.addStream;t.RTCPeerConnection.prototype.addStream=function(s){this._senders=this._senders||[],n.apply(this,[s]),s.getTracks().forEach(o=>{this._senders.push(e(this,o))})};const r=t.RTCPeerConnection.prototype.removeStream;t.RTCPeerConnection.prototype.removeStream=function(s){this._senders=this._senders||[],r.apply(this,[s]),s.getTracks().forEach(o=>{const a=this._senders.find(l=>l.track===o);a&&this._senders.splice(this._senders.indexOf(a),1)})}}else if(typeof t=="object"&&t.RTCPeerConnection&&"getSenders"in t.RTCPeerConnection.prototype&&"createDTMFSender"in t.RTCPeerConnection.prototype&&t.RTCRtpSender&&!("dtmf"in t.RTCRtpSender.prototype)){const e=t.RTCPeerConnection.prototype.getSenders;t.RTCPeerConnection.prototype.getSenders=function(){const r=e.apply(this,[]);return r.forEach(i=>i._pc=this),r},Object.defineProperty(t.RTCRtpSender.prototype,"dtmf",{get(){return this._dtmf===void 0&&(this.track.kind==="audio"?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}})}}function yb(t){if(!(typeof t=="object"&&t.RTCPeerConnection&&t.RTCRtpSender&&t.RTCRtpReceiver))return;if(!("getStats"in t.RTCRtpSender.prototype)){const n=t.RTCPeerConnection.prototype.getSenders;n&&(t.RTCPeerConnection.prototype.getSenders=function(){const s=n.apply(this,[]);return s.forEach(o=>o._pc=this),s});const r=t.RTCPeerConnection.prototype.addTrack;r&&(t.RTCPeerConnection.prototype.addTrack=function(){const s=r.apply(this,arguments);return s._pc=this,s}),t.RTCRtpSender.prototype.getStats=function(){const s=this;return this._pc.getStats().then(o=>eT(o,s.track,!0))}}if(!("getStats"in t.RTCRtpReceiver.prototype)){const n=t.RTCPeerConnection.prototype.getReceivers;n&&(t.RTCPeerConnection.prototype.getReceivers=function(){const i=n.apply(this,[]);return i.forEach(s=>s._pc=this),i}),Ho(t,"track",r=>(r.receiver._pc=r.srcElement,r)),t.RTCRtpReceiver.prototype.getStats=function(){const i=this;return this._pc.getStats().then(s=>eT(s,i.track,!1))}}if(!("getStats"in t.RTCRtpSender.prototype&&"getStats"in t.RTCRtpReceiver.prototype))return;const e=t.RTCPeerConnection.prototype.getStats;t.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof t.MediaStreamTrack){const r=arguments[0];let i,s,o;return this.getSenders().forEach(a=>{a.track===r&&(i?o=!0:i=a)}),this.getReceivers().forEach(a=>(a.track===r&&(s?o=!0:s=a),a.track===r)),o||i&&s?Promise.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):i?i.getStats():s?s.getStats():Promise.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return e.apply(this,arguments)}}function vb(t){t.RTCPeerConnection.prototype.getLocalStreams=function(){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map(o=>this._shimmedLocalStreams[o][0])};const e=t.RTCPeerConnection.prototype.addTrack;t.RTCPeerConnection.prototype.addTrack=function(o,a){if(!a)return e.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};const l=e.apply(this,arguments);return this._shimmedLocalStreams[a.id]?this._shimmedLocalStreams[a.id].indexOf(l)===-1&&this._shimmedLocalStreams[a.id].push(l):this._shimmedLocalStreams[a.id]=[a,l],l};const n=t.RTCPeerConnection.prototype.addStream;t.RTCPeerConnection.prototype.addStream=function(o){this._shimmedLocalStreams=this._shimmedLocalStreams||{},o.getTracks().forEach(u=>{if(this.getSenders().find(f=>f.track===u))throw new DOMException("Track already exists.","InvalidAccessError")});const a=this.getSenders();n.apply(this,arguments);const l=this.getSenders().filter(u=>a.indexOf(u)===-1);this._shimmedLocalStreams[o.id]=[o].concat(l)};const r=t.RTCPeerConnection.prototype.removeStream;t.RTCPeerConnection.prototype.removeStream=function(o){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[o.id],r.apply(this,arguments)};const i=t.RTCPeerConnection.prototype.removeTrack;t.RTCPeerConnection.prototype.removeTrack=function(o){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},o&&Object.keys(this._shimmedLocalStreams).forEach(a=>{const l=this._shimmedLocalStreams[a].indexOf(o);l!==-1&&this._shimmedLocalStreams[a].splice(l,1),this._shimmedLocalStreams[a].length===1&&delete this._shimmedLocalStreams[a]}),i.apply(this,arguments)}}function wb(t,e){if(!t.RTCPeerConnection)return;if(t.RTCPeerConnection.prototype.addTrack&&e.version>=65)return vb(t);const n=t.RTCPeerConnection.prototype.getLocalStreams;t.RTCPeerConnection.prototype.getLocalStreams=function(){const d=n.apply(this);return this._reverseStreams=this._reverseStreams||{},d.map(f=>this._reverseStreams[f.id])};const r=t.RTCPeerConnection.prototype.addStream;t.RTCPeerConnection.prototype.addStream=function(d){if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},d.getTracks().forEach(f=>{if(this.getSenders().find(g=>g.track===f))throw new DOMException("Track already exists.","InvalidAccessError")}),!this._reverseStreams[d.id]){const f=new t.MediaStream(d.getTracks());this._streams[d.id]=f,this._reverseStreams[f.id]=d,d=f}r.apply(this,[d])};const i=t.RTCPeerConnection.prototype.removeStream;t.RTCPeerConnection.prototype.removeStream=function(d){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},i.apply(this,[this._streams[d.id]||d]),delete this._reverseStreams[this._streams[d.id]?this._streams[d.id].id:d.id],delete this._streams[d.id]},t.RTCPeerConnection.prototype.addTrack=function(d,f){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");const h=[].slice.call(arguments,1);if(h.length!==1||!h[0].getTracks().find(_=>_===d))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");if(this.getSenders().find(_=>_.track===d))throw new DOMException("Track already exists.","InvalidAccessError");this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};const E=this._streams[f.id];if(E)E.addTrack(d),Promise.resolve().then(()=>{this.dispatchEvent(new Event("negotiationneeded"))});else{const _=new t.MediaStream([d]);this._streams[f.id]=_,this._reverseStreams[_.id]=f,this.addStream(_)}return this.getSenders().find(_=>_.track===d)};function s(u,d){let f=d.sdp;return Object.keys(u._reverseStreams||[]).forEach(h=>{const g=u._reverseStreams[h],E=u._streams[g.id];f=f.replace(new RegExp(E.id,"g"),g.id)}),new RTCSessionDescription({type:d.type,sdp:f})}function o(u,d){let f=d.sdp;return Object.keys(u._reverseStreams||[]).forEach(h=>{const g=u._reverseStreams[h],E=u._streams[g.id];f=f.replace(new RegExp(g.id,"g"),E.id)}),new RTCSessionDescription({type:d.type,sdp:f})}["createOffer","createAnswer"].forEach(function(u){const d=t.RTCPeerConnection.prototype[u],f={[u](){const h=arguments;return arguments.length&&typeof arguments[0]=="function"?d.apply(this,[E=>{const _=s(this,E);h[0].apply(null,[_])},E=>{h[1]&&h[1].apply(null,E)},arguments[2]]):d.apply(this,arguments).then(E=>s(this,E))}};t.RTCPeerConnection.prototype[u]=f[u]});const a=t.RTCPeerConnection.prototype.setLocalDescription;t.RTCPeerConnection.prototype.setLocalDescription=function(){return!arguments.length||!arguments[0].type?a.apply(this,arguments):(arguments[0]=o(this,arguments[0]),a.apply(this,arguments))};const l=Object.getOwnPropertyDescriptor(t.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(t.RTCPeerConnection.prototype,"localDescription",{get(){const u=l.get.apply(this);return u.type===""?u:s(this,u)}}),t.RTCPeerConnection.prototype.removeTrack=function(d){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!d._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(!(d._pc===this))throw new DOMException("Sender was not created by this connection.","InvalidAccessError");this._streams=this._streams||{};let h;Object.keys(this._streams).forEach(g=>{this._streams[g].getTracks().find(_=>d.track===_)&&(h=this._streams[g])}),h&&(h.getTracks().length===1?this.removeStream(this._reverseStreams[h.id]):h.removeTrack(d.track),this.dispatchEvent(new Event("negotiationneeded")))}}function Ky(t,e){!t.RTCPeerConnection&&t.webkitRTCPeerConnection&&(t.RTCPeerConnection=t.webkitRTCPeerConnection),t.RTCPeerConnection&&e.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(n){const r=t.RTCPeerConnection.prototype[n],i={[n](){return arguments[0]=new(n==="addIceCandidate"?t.RTCIceCandidate:t.RTCSessionDescription)(arguments[0]),r.apply(this,arguments)}};t.RTCPeerConnection.prototype[n]=i[n]})}function Eb(t,e){Ho(t,"negotiationneeded",n=>{const r=n.target;if(!((e.version<72||r.getConfiguration&&r.getConfiguration().sdpSemantics==="plan-b")&&r.signalingState!=="stable"))return n})}const nT=Object.freeze(Object.defineProperty({__proto__:null,fixNegotiationNeeded:Eb,shimAddTrackRemoveTrack:wb,shimAddTrackRemoveTrackWithNative:vb,shimGetSendersWithDtmf:gb,shimGetUserMedia:fb,shimMediaStream:pb,shimOnTrack:mb,shimPeerConnection:Ky,shimSenderReceiverGetStats:yb},Symbol.toStringTag,{value:"Module"}));function _b(t,e){const n=t&&t.navigator,r=t&&t.MediaStreamTrack;if(n.getUserMedia=function(i,s,o){Ew("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),n.mediaDevices.getUserMedia(i).then(s,o)},!(e.version>55&&"autoGainControl"in n.mediaDevices.getSupportedConstraints())){const i=function(o,a,l){a in o&&!(l in o)&&(o[l]=o[a],delete o[a])},s=n.mediaDevices.getUserMedia.bind(n.mediaDevices);if(n.mediaDevices.getUserMedia=function(o){return typeof o=="object"&&typeof o.audio=="object"&&(o=JSON.parse(JSON.stringify(o)),i(o.audio,"autoGainControl","mozAutoGainControl"),i(o.audio,"noiseSuppression","mozNoiseSuppression")),s(o)},r&&r.prototype.getSettings){const o=r.prototype.getSettings;r.prototype.getSettings=function(){const a=o.apply(this,arguments);return i(a,"mozAutoGainControl","autoGainControl"),i(a,"mozNoiseSuppression","noiseSuppression"),a}}if(r&&r.prototype.applyConstraints){const o=r.prototype.applyConstraints;r.prototype.applyConstraints=function(a){return this.kind==="audio"&&typeof a=="object"&&(a=JSON.parse(JSON.stringify(a)),i(a,"autoGainControl","mozAutoGainControl"),i(a,"noiseSuppression","mozNoiseSuppression")),o.apply(this,[a])}}}}function q8(t,e){t.navigator.mediaDevices&&"getDisplayMedia"in t.navigator.mediaDevices||t.navigator.mediaDevices&&(t.navigator.mediaDevices.getDisplayMedia=function(r){if(!(r&&r.video)){const i=new DOMException("getDisplayMedia without video constraints is undefined");return i.name="NotFoundError",i.code=8,Promise.reject(i)}return r.video===!0?r.video={mediaSource:e}:r.video.mediaSource=e,t.navigator.mediaDevices.getUserMedia(r)})}function Tb(t){typeof t=="object"&&t.RTCTrackEvent&&"receiver"in t.RTCTrackEvent.prototype&&!("transceiver"in t.RTCTrackEvent.prototype)&&Object.defineProperty(t.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function Hy(t,e){if(typeof t!="object"||!(t.RTCPeerConnection||t.mozRTCPeerConnection))return;!t.RTCPeerConnection&&t.mozRTCPeerConnection&&(t.RTCPeerConnection=t.mozRTCPeerConnection),e.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(i){const s=t.RTCPeerConnection.prototype[i],o={[i](){return arguments[0]=new(i==="addIceCandidate"?t.RTCIceCandidate:t.RTCSessionDescription)(arguments[0]),s.apply(this,arguments)}};t.RTCPeerConnection.prototype[i]=o[i]});const n={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},r=t.RTCPeerConnection.prototype.getStats;t.RTCPeerConnection.prototype.getStats=function(){const[s,o,a]=arguments;return r.apply(this,[s||null]).then(l=>{if(e.version<53&&!o)try{l.forEach(u=>{u.type=n[u.type]||u.type})}catch(u){if(u.name!=="TypeError")throw u;l.forEach((d,f)=>{l.set(f,Object.assign({},d,{type:n[d.type]||d.type}))})}return l}).then(o,a)}}function Cb(t){if(!(typeof t=="object"&&t.RTCPeerConnection&&t.RTCRtpSender)||t.RTCRtpSender&&"getStats"in t.RTCRtpSender.prototype)return;const e=t.RTCPeerConnection.prototype.getSenders;e&&(t.RTCPeerConnection.prototype.getSenders=function(){const i=e.apply(this,[]);return i.forEach(s=>s._pc=this),i});const n=t.RTCPeerConnection.prototype.addTrack;n&&(t.RTCPeerConnection.prototype.addTrack=function(){const i=n.apply(this,arguments);return i._pc=this,i}),t.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):Promise.resolve(new Map)}}function Ab(t){if(!(typeof t=="object"&&t.RTCPeerConnection&&t.RTCRtpSender)||t.RTCRtpSender&&"getStats"in t.RTCRtpReceiver.prototype)return;const e=t.RTCPeerConnection.prototype.getReceivers;e&&(t.RTCPeerConnection.prototype.getReceivers=function(){const r=e.apply(this,[]);return r.forEach(i=>i._pc=this),r}),Ho(t,"track",n=>(n.receiver._pc=n.srcElement,n)),t.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}function Ib(t){!t.RTCPeerConnection||"removeStream"in t.RTCPeerConnection.prototype||(t.RTCPeerConnection.prototype.removeStream=function(n){Ew("removeStream","removeTrack"),this.getSenders().forEach(r=>{r.track&&n.getTracks().includes(r.track)&&this.removeTrack(r)})})}function Rb(t){t.DataChannel&&!t.RTCDataChannel&&(t.RTCDataChannel=t.DataChannel)}function Sb(t){if(!(typeof t=="object"&&t.RTCPeerConnection))return;const e=t.RTCPeerConnection.prototype.addTransceiver;e&&(t.RTCPeerConnection.prototype.addTransceiver=function(){this.setParametersPromises=[];let r=arguments[1]&&arguments[1].sendEncodings;r===void 0&&(r=[]),r=[...r];const i=r.length>0;i&&r.forEach(o=>{if("rid"in o&&!/^[a-z0-9]{0,16}$/i.test(o.rid))throw new TypeError("Invalid RID value provided.");if("scaleResolutionDownBy"in o&&!(parseFloat(o.scaleResolutionDownBy)>=1))throw new RangeError("scale_resolution_down_by must be >= 1.0");if("maxFramerate"in o&&!(parseFloat(o.maxFramerate)>=0))throw new RangeError("max_framerate must be >= 0.0")});const s=e.apply(this,arguments);if(i){const{sender:o}=s,a=o.getParameters();(!("encodings"in a)||a.encodings.length===1&&Object.keys(a.encodings[0]).length===0)&&(a.encodings=r,o.sendEncodings=r,this.setParametersPromises.push(o.setParameters(a).then(()=>{delete o.sendEncodings}).catch(()=>{delete o.sendEncodings})))}return s})}function xb(t){if(!(typeof t=="object"&&t.RTCRtpSender))return;const e=t.RTCRtpSender.prototype.getParameters;e&&(t.RTCRtpSender.prototype.getParameters=function(){const r=e.apply(this,arguments);return"encodings"in r||(r.encodings=[].concat(this.sendEncodings||[{}])),r})}function bb(t){if(!(typeof t=="object"&&t.RTCPeerConnection))return;const e=t.RTCPeerConnection.prototype.createOffer;t.RTCPeerConnection.prototype.createOffer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>e.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):e.apply(this,arguments)}}function Pb(t){if(!(typeof t=="object"&&t.RTCPeerConnection))return;const e=t.RTCPeerConnection.prototype.createAnswer;t.RTCPeerConnection.prototype.createAnswer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>e.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):e.apply(this,arguments)}}const rT=Object.freeze(Object.defineProperty({__proto__:null,shimAddTransceiver:Sb,shimCreateAnswer:Pb,shimCreateOffer:bb,shimGetDisplayMedia:q8,shimGetParameters:xb,shimGetUserMedia:_b,shimOnTrack:Tb,shimPeerConnection:Hy,shimRTCDataChannel:Rb,shimReceiverGetStats:Ab,shimRemoveStream:Ib,shimSenderGetStats:Cb},Symbol.toStringTag,{value:"Module"}));function kb(t){if(!(typeof t!="object"||!t.RTCPeerConnection)){if("getLocalStreams"in t.RTCPeerConnection.prototype||(t.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in t.RTCPeerConnection.prototype)){const e=t.RTCPeerConnection.prototype.addTrack;t.RTCPeerConnection.prototype.addStream=function(r){this._localStreams||(this._localStreams=[]),this._localStreams.includes(r)||this._localStreams.push(r),r.getAudioTracks().forEach(i=>e.call(this,i,r)),r.getVideoTracks().forEach(i=>e.call(this,i,r))},t.RTCPeerConnection.prototype.addTrack=function(r,...i){return i&&i.forEach(s=>{this._localStreams?this._localStreams.includes(s)||this._localStreams.push(s):this._localStreams=[s]}),e.apply(this,arguments)}}"removeStream"in t.RTCPeerConnection.prototype||(t.RTCPeerConnection.prototype.removeStream=function(n){this._localStreams||(this._localStreams=[]);const r=this._localStreams.indexOf(n);if(r===-1)return;this._localStreams.splice(r,1);const i=n.getTracks();this.getSenders().forEach(s=>{i.includes(s.track)&&this.removeTrack(s)})})}}function Nb(t){if(!(typeof t!="object"||!t.RTCPeerConnection)&&("getRemoteStreams"in t.RTCPeerConnection.prototype||(t.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in t.RTCPeerConnection.prototype))){Object.defineProperty(t.RTCPeerConnection.prototype,"onaddstream",{get(){return this._onaddstream},set(n){this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=n),this.addEventListener("track",this._onaddstreampoly=r=>{r.streams.forEach(i=>{if(this._remoteStreams||(this._remoteStreams=[]),this._remoteStreams.includes(i))return;this._remoteStreams.push(i);const s=new Event("addstream");s.stream=i,this.dispatchEvent(s)})})}});const e=t.RTCPeerConnection.prototype.setRemoteDescription;t.RTCPeerConnection.prototype.setRemoteDescription=function(){const r=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(i){i.streams.forEach(s=>{if(r._remoteStreams||(r._remoteStreams=[]),r._remoteStreams.indexOf(s)>=0)return;r._remoteStreams.push(s);const o=new Event("addstream");o.stream=s,r.dispatchEvent(o)})}),e.apply(r,arguments)}}}function Db(t){if(typeof t!="object"||!t.RTCPeerConnection)return;const e=t.RTCPeerConnection.prototype,n=e.createOffer,r=e.createAnswer,i=e.setLocalDescription,s=e.setRemoteDescription,o=e.addIceCandidate;e.createOffer=function(u,d){const f=arguments.length>=2?arguments[2]:arguments[0],h=n.apply(this,[f]);return d?(h.then(u,d),Promise.resolve()):h},e.createAnswer=function(u,d){const f=arguments.length>=2?arguments[2]:arguments[0],h=r.apply(this,[f]);return d?(h.then(u,d),Promise.resolve()):h};let a=function(l,u,d){const f=i.apply(this,[l]);return d?(f.then(u,d),Promise.resolve()):f};e.setLocalDescription=a,a=function(l,u,d){const f=s.apply(this,[l]);return d?(f.then(u,d),Promise.resolve()):f},e.setRemoteDescription=a,a=function(l,u,d){const f=o.apply(this,[l]);return d?(f.then(u,d),Promise.resolve()):f},e.addIceCandidate=a}function Mb(t){const e=t&&t.navigator;if(e.mediaDevices&&e.mediaDevices.getUserMedia){const n=e.mediaDevices,r=n.getUserMedia.bind(n);e.mediaDevices.getUserMedia=i=>r(Ob(i))}!e.getUserMedia&&e.mediaDevices&&e.mediaDevices.getUserMedia&&(e.getUserMedia=(function(r,i,s){e.mediaDevices.getUserMedia(r).then(i,s)}).bind(e))}function Ob(t){return t&&t.video!==void 0?Object.assign({},t,{video:hb(t.video)}):t}function Vb(t){if(!t.RTCPeerConnection)return;const e=t.RTCPeerConnection;t.RTCPeerConnection=function(r,i){if(r&&r.iceServers){const s=[];for(let o=0;o<r.iceServers.length;o++){let a=r.iceServers[o];a.urls===void 0&&a.url?(Ew("RTCIceServer.url","RTCIceServer.urls"),a=JSON.parse(JSON.stringify(a)),a.urls=a.url,delete a.url,s.push(a)):s.push(r.iceServers[o])}r.iceServers=s}return new e(r,i)},t.RTCPeerConnection.prototype=e.prototype,"generateCertificate"in e&&Object.defineProperty(t.RTCPeerConnection,"generateCertificate",{get(){return e.generateCertificate}})}function Lb(t){typeof t=="object"&&t.RTCTrackEvent&&"receiver"in t.RTCTrackEvent.prototype&&!("transceiver"in t.RTCTrackEvent.prototype)&&Object.defineProperty(t.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function Fb(t){const e=t.RTCPeerConnection.prototype.createOffer;t.RTCPeerConnection.prototype.createOffer=function(r){if(r){typeof r.offerToReceiveAudio<"u"&&(r.offerToReceiveAudio=!!r.offerToReceiveAudio);const i=this.getTransceivers().find(o=>o.receiver.track.kind==="audio");r.offerToReceiveAudio===!1&&i?i.direction==="sendrecv"?i.setDirection?i.setDirection("sendonly"):i.direction="sendonly":i.direction==="recvonly"&&(i.setDirection?i.setDirection("inactive"):i.direction="inactive"):r.offerToReceiveAudio===!0&&!i&&this.addTransceiver("audio",{direction:"recvonly"}),typeof r.offerToReceiveVideo<"u"&&(r.offerToReceiveVideo=!!r.offerToReceiveVideo);const s=this.getTransceivers().find(o=>o.receiver.track.kind==="video");r.offerToReceiveVideo===!1&&s?s.direction==="sendrecv"?s.setDirection?s.setDirection("sendonly"):s.direction="sendonly":s.direction==="recvonly"&&(s.setDirection?s.setDirection("inactive"):s.direction="inactive"):r.offerToReceiveVideo===!0&&!s&&this.addTransceiver("video",{direction:"recvonly"})}return e.apply(this,arguments)}}function Bb(t){typeof t!="object"||t.AudioContext||(t.AudioContext=t.webkitAudioContext)}const iT=Object.freeze(Object.defineProperty({__proto__:null,shimAudioContext:Bb,shimCallbacksAPI:Db,shimConstraints:Ob,shimCreateOfferLegacy:Fb,shimGetUserMedia:Mb,shimLocalStreamsAPI:kb,shimRTCIceServerUrls:Vb,shimRemoteStreamsAPI:Nb,shimTrackEventTransceiver:Lb},Symbol.toStringTag,{value:"Module"}));var Ub={exports:{}};(function(t){const e={};e.generateIdentifier=function(){return Math.random().toString(36).substring(2,12)},e.localCName=e.generateIdentifier(),e.splitLines=function(n){return n.trim().split(`
`).map(r=>r.trim())},e.splitSections=function(n){return n.split(`
m=`).map((i,s)=>(s>0?"m="+i:i).trim()+`\r
`)},e.getDescription=function(n){const r=e.splitSections(n);return r&&r[0]},e.getMediaSections=function(n){const r=e.splitSections(n);return r.shift(),r},e.matchPrefix=function(n,r){return e.splitLines(n).filter(i=>i.indexOf(r)===0)},e.parseCandidate=function(n){let r;n.indexOf("a=candidate:")===0?r=n.substring(12).split(" "):r=n.substring(10).split(" ");const i={foundation:r[0],component:{1:"rtp",2:"rtcp"}[r[1]]||r[1],protocol:r[2].toLowerCase(),priority:parseInt(r[3],10),ip:r[4],address:r[4],port:parseInt(r[5],10),type:r[7]};for(let s=8;s<r.length;s+=2)switch(r[s]){case"raddr":i.relatedAddress=r[s+1];break;case"rport":i.relatedPort=parseInt(r[s+1],10);break;case"tcptype":i.tcpType=r[s+1];break;case"ufrag":i.ufrag=r[s+1],i.usernameFragment=r[s+1];break;default:i[r[s]]===void 0&&(i[r[s]]=r[s+1]);break}return i},e.writeCandidate=function(n){const r=[];r.push(n.foundation);const i=n.component;i==="rtp"?r.push(1):i==="rtcp"?r.push(2):r.push(i),r.push(n.protocol.toUpperCase()),r.push(n.priority),r.push(n.address||n.ip),r.push(n.port);const s=n.type;return r.push("typ"),r.push(s),s!=="host"&&n.relatedAddress&&n.relatedPort&&(r.push("raddr"),r.push(n.relatedAddress),r.push("rport"),r.push(n.relatedPort)),n.tcpType&&n.protocol.toLowerCase()==="tcp"&&(r.push("tcptype"),r.push(n.tcpType)),(n.usernameFragment||n.ufrag)&&(r.push("ufrag"),r.push(n.usernameFragment||n.ufrag)),"candidate:"+r.join(" ")},e.parseIceOptions=function(n){return n.substring(14).split(" ")},e.parseRtpMap=function(n){let r=n.substring(9).split(" ");const i={payloadType:parseInt(r.shift(),10)};return r=r[0].split("/"),i.name=r[0],i.clockRate=parseInt(r[1],10),i.channels=r.length===3?parseInt(r[2],10):1,i.numChannels=i.channels,i},e.writeRtpMap=function(n){let r=n.payloadType;n.preferredPayloadType!==void 0&&(r=n.preferredPayloadType);const i=n.channels||n.numChannels||1;return"a=rtpmap:"+r+" "+n.name+"/"+n.clockRate+(i!==1?"/"+i:"")+`\r
`},e.parseExtmap=function(n){const r=n.substring(9).split(" ");return{id:parseInt(r[0],10),direction:r[0].indexOf("/")>0?r[0].split("/")[1]:"sendrecv",uri:r[1],attributes:r.slice(2).join(" ")}},e.writeExtmap=function(n){return"a=extmap:"+(n.id||n.preferredId)+(n.direction&&n.direction!=="sendrecv"?"/"+n.direction:"")+" "+n.uri+(n.attributes?" "+n.attributes:"")+`\r
`},e.parseFmtp=function(n){const r={};let i;const s=n.substring(n.indexOf(" ")+1).split(";");for(let o=0;o<s.length;o++)i=s[o].trim().split("="),r[i[0].trim()]=i[1];return r},e.writeFmtp=function(n){let r="",i=n.payloadType;if(n.preferredPayloadType!==void 0&&(i=n.preferredPayloadType),n.parameters&&Object.keys(n.parameters).length){const s=[];Object.keys(n.parameters).forEach(o=>{n.parameters[o]!==void 0?s.push(o+"="+n.parameters[o]):s.push(o)}),r+="a=fmtp:"+i+" "+s.join(";")+`\r
`}return r},e.parseRtcpFb=function(n){const r=n.substring(n.indexOf(" ")+1).split(" ");return{type:r.shift(),parameter:r.join(" ")}},e.writeRtcpFb=function(n){let r="",i=n.payloadType;return n.preferredPayloadType!==void 0&&(i=n.preferredPayloadType),n.rtcpFeedback&&n.rtcpFeedback.length&&n.rtcpFeedback.forEach(s=>{r+="a=rtcp-fb:"+i+" "+s.type+(s.parameter&&s.parameter.length?" "+s.parameter:"")+`\r
`}),r},e.parseSsrcMedia=function(n){const r=n.indexOf(" "),i={ssrc:parseInt(n.substring(7,r),10)},s=n.indexOf(":",r);return s>-1?(i.attribute=n.substring(r+1,s),i.value=n.substring(s+1)):i.attribute=n.substring(r+1),i},e.parseSsrcGroup=function(n){const r=n.substring(13).split(" ");return{semantics:r.shift(),ssrcs:r.map(i=>parseInt(i,10))}},e.getMid=function(n){const r=e.matchPrefix(n,"a=mid:")[0];if(r)return r.substring(6)},e.parseFingerprint=function(n){const r=n.substring(14).split(" ");return{algorithm:r[0].toLowerCase(),value:r[1].toUpperCase()}},e.getDtlsParameters=function(n,r){return{role:"auto",fingerprints:e.matchPrefix(n+r,"a=fingerprint:").map(e.parseFingerprint)}},e.writeDtlsParameters=function(n,r){let i="a=setup:"+r+`\r
`;return n.fingerprints.forEach(s=>{i+="a=fingerprint:"+s.algorithm+" "+s.value+`\r
`}),i},e.parseCryptoLine=function(n){const r=n.substring(9).split(" ");return{tag:parseInt(r[0],10),cryptoSuite:r[1],keyParams:r[2],sessionParams:r.slice(3)}},e.writeCryptoLine=function(n){return"a=crypto:"+n.tag+" "+n.cryptoSuite+" "+(typeof n.keyParams=="object"?e.writeCryptoKeyParams(n.keyParams):n.keyParams)+(n.sessionParams?" "+n.sessionParams.join(" "):"")+`\r
`},e.parseCryptoKeyParams=function(n){if(n.indexOf("inline:")!==0)return null;const r=n.substring(7).split("|");return{keyMethod:"inline",keySalt:r[0],lifeTime:r[1],mkiValue:r[2]?r[2].split(":")[0]:void 0,mkiLength:r[2]?r[2].split(":")[1]:void 0}},e.writeCryptoKeyParams=function(n){return n.keyMethod+":"+n.keySalt+(n.lifeTime?"|"+n.lifeTime:"")+(n.mkiValue&&n.mkiLength?"|"+n.mkiValue+":"+n.mkiLength:"")},e.getCryptoParameters=function(n,r){return e.matchPrefix(n+r,"a=crypto:").map(e.parseCryptoLine)},e.getIceParameters=function(n,r){const i=e.matchPrefix(n+r,"a=ice-ufrag:")[0],s=e.matchPrefix(n+r,"a=ice-pwd:")[0];return i&&s?{usernameFragment:i.substring(12),password:s.substring(10)}:null},e.writeIceParameters=function(n){let r="a=ice-ufrag:"+n.usernameFragment+`\r
a=ice-pwd:`+n.password+`\r
`;return n.iceLite&&(r+=`a=ice-lite\r
`),r},e.parseRtpParameters=function(n){const r={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},s=e.splitLines(n)[0].split(" ");r.profile=s[2];for(let a=3;a<s.length;a++){const l=s[a],u=e.matchPrefix(n,"a=rtpmap:"+l+" ")[0];if(u){const d=e.parseRtpMap(u),f=e.matchPrefix(n,"a=fmtp:"+l+" ");switch(d.parameters=f.length?e.parseFmtp(f[0]):{},d.rtcpFeedback=e.matchPrefix(n,"a=rtcp-fb:"+l+" ").map(e.parseRtcpFb),r.codecs.push(d),d.name.toUpperCase()){case"RED":case"ULPFEC":r.fecMechanisms.push(d.name.toUpperCase());break}}}e.matchPrefix(n,"a=extmap:").forEach(a=>{r.headerExtensions.push(e.parseExtmap(a))});const o=e.matchPrefix(n,"a=rtcp-fb:* ").map(e.parseRtcpFb);return r.codecs.forEach(a=>{o.forEach(l=>{a.rtcpFeedback.find(d=>d.type===l.type&&d.parameter===l.parameter)||a.rtcpFeedback.push(l)})}),r},e.writeRtpDescription=function(n,r){let i="";i+="m="+n+" ",i+=r.codecs.length>0?"9":"0",i+=" "+(r.profile||"UDP/TLS/RTP/SAVPF")+" ",i+=r.codecs.map(o=>o.preferredPayloadType!==void 0?o.preferredPayloadType:o.payloadType).join(" ")+`\r
`,i+=`c=IN IP4 0.0.0.0\r
`,i+=`a=rtcp:9 IN IP4 0.0.0.0\r
`,r.codecs.forEach(o=>{i+=e.writeRtpMap(o),i+=e.writeFmtp(o),i+=e.writeRtcpFb(o)});let s=0;return r.codecs.forEach(o=>{o.maxptime>s&&(s=o.maxptime)}),s>0&&(i+="a=maxptime:"+s+`\r
`),r.headerExtensions&&r.headerExtensions.forEach(o=>{i+=e.writeExtmap(o)}),i},e.parseRtpEncodingParameters=function(n){const r=[],i=e.parseRtpParameters(n),s=i.fecMechanisms.indexOf("RED")!==-1,o=i.fecMechanisms.indexOf("ULPFEC")!==-1,a=e.matchPrefix(n,"a=ssrc:").map(h=>e.parseSsrcMedia(h)).filter(h=>h.attribute==="cname"),l=a.length>0&&a[0].ssrc;let u;const d=e.matchPrefix(n,"a=ssrc-group:FID").map(h=>h.substring(17).split(" ").map(E=>parseInt(E,10)));d.length>0&&d[0].length>1&&d[0][0]===l&&(u=d[0][1]),i.codecs.forEach(h=>{if(h.name.toUpperCase()==="RTX"&&h.parameters.apt){let g={ssrc:l,codecPayloadType:parseInt(h.parameters.apt,10)};l&&u&&(g.rtx={ssrc:u}),r.push(g),s&&(g=JSON.parse(JSON.stringify(g)),g.fec={ssrc:l,mechanism:o?"red+ulpfec":"red"},r.push(g))}}),r.length===0&&l&&r.push({ssrc:l});let f=e.matchPrefix(n,"b=");return f.length&&(f[0].indexOf("b=TIAS:")===0?f=parseInt(f[0].substring(7),10):f[0].indexOf("b=AS:")===0?f=parseInt(f[0].substring(5),10)*1e3*.95-50*40*8:f=void 0,r.forEach(h=>{h.maxBitrate=f})),r},e.parseRtcpParameters=function(n){const r={},i=e.matchPrefix(n,"a=ssrc:").map(a=>e.parseSsrcMedia(a)).filter(a=>a.attribute==="cname")[0];i&&(r.cname=i.value,r.ssrc=i.ssrc);const s=e.matchPrefix(n,"a=rtcp-rsize");r.reducedSize=s.length>0,r.compound=s.length===0;const o=e.matchPrefix(n,"a=rtcp-mux");return r.mux=o.length>0,r},e.writeRtcpParameters=function(n){let r="";return n.reducedSize&&(r+=`a=rtcp-rsize\r
`),n.mux&&(r+=`a=rtcp-mux\r
`),n.ssrc!==void 0&&n.cname&&(r+="a=ssrc:"+n.ssrc+" cname:"+n.cname+`\r
`),r},e.parseMsid=function(n){let r;const i=e.matchPrefix(n,"a=msid:");if(i.length===1)return r=i[0].substring(7).split(" "),{stream:r[0],track:r[1]};const s=e.matchPrefix(n,"a=ssrc:").map(o=>e.parseSsrcMedia(o)).filter(o=>o.attribute==="msid");if(s.length>0)return r=s[0].value.split(" "),{stream:r[0],track:r[1]}},e.parseSctpDescription=function(n){const r=e.parseMLine(n),i=e.matchPrefix(n,"a=max-message-size:");let s;i.length>0&&(s=parseInt(i[0].substring(19),10)),isNaN(s)&&(s=65536);const o=e.matchPrefix(n,"a=sctp-port:");if(o.length>0)return{port:parseInt(o[0].substring(12),10),protocol:r.fmt,maxMessageSize:s};const a=e.matchPrefix(n,"a=sctpmap:");if(a.length>0){const l=a[0].substring(10).split(" ");return{port:parseInt(l[0],10),protocol:l[1],maxMessageSize:s}}},e.writeSctpDescription=function(n,r){let i=[];return n.protocol!=="DTLS/SCTP"?i=["m="+n.kind+" 9 "+n.protocol+" "+r.protocol+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctp-port:"+r.port+`\r
`]:i=["m="+n.kind+" 9 "+n.protocol+" "+r.port+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctpmap:"+r.port+" "+r.protocol+` 65535\r
`],r.maxMessageSize!==void 0&&i.push("a=max-message-size:"+r.maxMessageSize+`\r
`),i.join("")},e.generateSessionId=function(){return Math.random().toString().substr(2,22)},e.writeSessionBoilerplate=function(n,r,i){let s;const o=r!==void 0?r:2;return n?s=n:s=e.generateSessionId(),`v=0\r
o=`+(i||"thisisadapterortc")+" "+s+" "+o+` IN IP4 127.0.0.1\r
s=-\r
t=0 0\r
`},e.getDirection=function(n,r){const i=e.splitLines(n);for(let s=0;s<i.length;s++)switch(i[s]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return i[s].substring(2)}return r?e.getDirection(r):"sendrecv"},e.getKind=function(n){return e.splitLines(n)[0].split(" ")[0].substring(2)},e.isRejected=function(n){return n.split(" ",2)[1]==="0"},e.parseMLine=function(n){const i=e.splitLines(n)[0].substring(2).split(" ");return{kind:i[0],port:parseInt(i[1],10),protocol:i[2],fmt:i.slice(3).join(" ")}},e.parseOLine=function(n){const i=e.matchPrefix(n,"o=")[0].substring(2).split(" ");return{username:i[0],sessionId:i[1],sessionVersion:parseInt(i[2],10),netType:i[3],addressType:i[4],address:i[5]}},e.isValidSDP=function(n){if(typeof n!="string"||n.length===0)return!1;const r=e.splitLines(n);for(let i=0;i<r.length;i++)if(r[i].length<2||r[i].charAt(1)!=="=")return!1;return!0},t.exports=e})(Ub);var jb=Ub.exports;const Ya=rv(jb),G8=vT({__proto__:null,default:Ya},[jb]);function Fh(t){if(!t.RTCIceCandidate||t.RTCIceCandidate&&"foundation"in t.RTCIceCandidate.prototype)return;const e=t.RTCIceCandidate;t.RTCIceCandidate=function(r){if(typeof r=="object"&&r.candidate&&r.candidate.indexOf("a=")===0&&(r=JSON.parse(JSON.stringify(r)),r.candidate=r.candidate.substring(2)),r.candidate&&r.candidate.length){const i=new e(r),s=Ya.parseCandidate(r.candidate);for(const o in s)o in i||Object.defineProperty(i,o,{value:s[o]});return i.toJSON=function(){return{candidate:i.candidate,sdpMid:i.sdpMid,sdpMLineIndex:i.sdpMLineIndex,usernameFragment:i.usernameFragment}},i}return new e(r)},t.RTCIceCandidate.prototype=e.prototype,Ho(t,"icecandidate",n=>(n.candidate&&Object.defineProperty(n,"candidate",{value:new t.RTCIceCandidate(n.candidate),writable:"false"}),n))}function Jy(t){!t.RTCIceCandidate||t.RTCIceCandidate&&"relayProtocol"in t.RTCIceCandidate.prototype||Ho(t,"icecandidate",e=>{if(e.candidate){const n=Ya.parseCandidate(e.candidate.candidate);n.type==="relay"&&(e.candidate.relayProtocol={0:"tls",1:"tcp",2:"udp"}[n.priority>>24])}return e})}function Bh(t,e){if(!t.RTCPeerConnection)return;"sctp"in t.RTCPeerConnection.prototype||Object.defineProperty(t.RTCPeerConnection.prototype,"sctp",{get(){return typeof this._sctp>"u"?null:this._sctp}});const n=function(a){if(!a||!a.sdp)return!1;const l=Ya.splitSections(a.sdp);return l.shift(),l.some(u=>{const d=Ya.parseMLine(u);return d&&d.kind==="application"&&d.protocol.indexOf("SCTP")!==-1})},r=function(a){const l=a.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(l===null||l.length<2)return-1;const u=parseInt(l[1],10);return u!==u?-1:u},i=function(a){let l=65536;return e.browser==="firefox"&&(e.version<57?a===-1?l=16384:l=2147483637:e.version<60?l=e.version===57?65535:65536:l=2147483637),l},s=function(a,l){let u=65536;e.browser==="firefox"&&e.version===57&&(u=65535);const d=Ya.matchPrefix(a.sdp,"a=max-message-size:");return d.length>0?u=parseInt(d[0].substring(19),10):e.browser==="firefox"&&l!==-1&&(u=2147483637),u},o=t.RTCPeerConnection.prototype.setRemoteDescription;t.RTCPeerConnection.prototype.setRemoteDescription=function(){if(this._sctp=null,e.browser==="chrome"&&e.version>=76){const{sdpSemantics:l}=this.getConfiguration();l==="plan-b"&&Object.defineProperty(this,"sctp",{get(){return typeof this._sctp>"u"?null:this._sctp},enumerable:!0,configurable:!0})}if(n(arguments[0])){const l=r(arguments[0]),u=i(l),d=s(arguments[0],l);let f;u===0&&d===0?f=Number.POSITIVE_INFINITY:u===0||d===0?f=Math.max(u,d):f=Math.min(u,d);const h={};Object.defineProperty(h,"maxMessageSize",{get(){return f}}),this._sctp=h}return o.apply(this,arguments)}}function Uh(t){if(!(t.RTCPeerConnection&&"createDataChannel"in t.RTCPeerConnection.prototype))return;function e(r,i){const s=r.send;r.send=function(){const a=arguments[0],l=a.length||a.size||a.byteLength;if(r.readyState==="open"&&i.sctp&&l>i.sctp.maxMessageSize)throw new TypeError("Message too large (can send a maximum of "+i.sctp.maxMessageSize+" bytes)");return s.apply(r,arguments)}}const n=t.RTCPeerConnection.prototype.createDataChannel;t.RTCPeerConnection.prototype.createDataChannel=function(){const i=n.apply(this,arguments);return e(i,this),i},Ho(t,"datachannel",r=>(e(r.channel,r.target),r))}function Zy(t){if(!t.RTCPeerConnection||"connectionState"in t.RTCPeerConnection.prototype)return;const e=t.RTCPeerConnection.prototype;Object.defineProperty(e,"connectionState",{get(){return{completed:"connected",checking:"connecting"}[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(e,"onconnectionstatechange",{get(){return this._onconnectionstatechange||null},set(n){this._onconnectionstatechange&&(this.removeEventListener("connectionstatechange",this._onconnectionstatechange),delete this._onconnectionstatechange),n&&this.addEventListener("connectionstatechange",this._onconnectionstatechange=n)},enumerable:!0,configurable:!0}),["setLocalDescription","setRemoteDescription"].forEach(n=>{const r=e[n];e[n]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=i=>{const s=i.target;if(s._lastConnectionState!==s.connectionState){s._lastConnectionState=s.connectionState;const o=new Event("connectionstatechange",i);s.dispatchEvent(o)}return i},this.addEventListener("iceconnectionstatechange",this._connectionstatechangepoly)),r.apply(this,arguments)}})}function Xy(t,e){if(!t.RTCPeerConnection||e.browser==="chrome"&&e.version>=71||e.browser==="safari"&&e._safariVersion>=13.1)return;const n=t.RTCPeerConnection.prototype.setRemoteDescription;t.RTCPeerConnection.prototype.setRemoteDescription=function(i){if(i&&i.sdp&&i.sdp.indexOf(`
a=extmap-allow-mixed`)!==-1){const s=i.sdp.split(`
`).filter(o=>o.trim()!=="a=extmap-allow-mixed").join(`
`);t.RTCSessionDescription&&i instanceof t.RTCSessionDescription?arguments[0]=new t.RTCSessionDescription({type:i.type,sdp:s}):i.sdp=s}return n.apply(this,arguments)}}function jh(t,e){if(!(t.RTCPeerConnection&&t.RTCPeerConnection.prototype))return;const n=t.RTCPeerConnection.prototype.addIceCandidate;!n||n.length===0||(t.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?(e.browser==="chrome"&&e.version<78||e.browser==="firefox"&&e.version<68||e.browser==="safari")&&arguments[0]&&arguments[0].candidate===""?Promise.resolve():n.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())})}function qh(t,e){if(!(t.RTCPeerConnection&&t.RTCPeerConnection.prototype))return;const n=t.RTCPeerConnection.prototype.setLocalDescription;!n||n.length===0||(t.RTCPeerConnection.prototype.setLocalDescription=function(){let i=arguments[0]||{};if(typeof i!="object"||i.type&&i.sdp)return n.apply(this,arguments);if(i={type:i.type,sdp:i.sdp},!i.type)switch(this.signalingState){case"stable":case"have-local-offer":case"have-remote-pranswer":i.type="offer";break;default:i.type="answer";break}return i.sdp||i.type!=="offer"&&i.type!=="answer"?n.apply(this,[i]):(i.type==="offer"?this.createOffer:this.createAnswer).apply(this).then(o=>n.apply(this,[o]))})}const z8=Object.freeze(Object.defineProperty({__proto__:null,removeExtmapAllowMixed:Xy,shimAddIceCandidateNullOrEmpty:jh,shimConnectionState:Zy,shimMaxMessageSize:Bh,shimParameterlessSetLocalDescription:qh,shimRTCIceCandidate:Fh,shimRTCIceCandidateRelayProtocol:Jy,shimSendThrowTypeError:Uh},Symbol.toStringTag,{value:"Module"}));function $8({window:t}={},e={shimChrome:!0,shimFirefox:!0,shimSafari:!0}){const n=db,r=j8(t),i={browserDetails:r,commonShim:z8,extractVersion:mc,disableLog:B8,disableWarnings:U8,sdp:G8};switch(r.browser){case"chrome":if(!nT||!Ky||!e.shimChrome)return n("Chrome shim is not included in this adapter release."),i;if(r.version===null)return n("Chrome shim can not determine version, not shimming."),i;n("adapter.js shimming chrome."),i.browserShim=nT,jh(t,r),qh(t),fb(t,r),pb(t),Ky(t,r),mb(t),wb(t,r),gb(t),yb(t),Eb(t,r),Fh(t),Jy(t),Zy(t),Bh(t,r),Uh(t),Xy(t,r);break;case"firefox":if(!rT||!Hy||!e.shimFirefox)return n("Firefox shim is not included in this adapter release."),i;n("adapter.js shimming firefox."),i.browserShim=rT,jh(t,r),qh(t),_b(t,r),Hy(t,r),Tb(t),Ib(t),Cb(t),Ab(t),Rb(t),Sb(t),xb(t),bb(t),Pb(t),Fh(t),Zy(t),Bh(t,r),Uh(t);break;case"safari":if(!iT||!e.shimSafari)return n("Safari shim is not included in this adapter release."),i;n("adapter.js shimming safari."),i.browserShim=iT,jh(t,r),qh(t),Vb(t),Fb(t),Db(t),kb(t),Nb(t),Lb(t),Mb(t),Bb(t),Fh(t),Jy(t),Bh(t,r),Uh(t),Xy(t,r);break;default:n("Unsupported browser!");break}return i}$8({window:typeof window>"u"?void 0:window});var qb=t=>{throw TypeError(t)},Gb=(t,e,n)=>e.has(t)||qb("Cannot "+n),Q8=(t,e,n)=>(Gb(t,e,"read from private field"),n?n.call(t):e.get(t)),Y8=(t,e,n)=>e.has(t)?qb("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),W8=(t,e,n,r)=>(Gb(t,e,"write to private field"),e.set(t,n),n);const Kp=[["Aztec","M"],["Codabar","L"],["Code39","L"],["Code93","L"],["Code128","L"],["DataBar","L"],["DataBarExpanded","L"],["DataMatrix","M"],["EAN-8","L"],["EAN-13","L"],["ITF","L"],["MaxiCode","M"],["PDF417","M"],["QRCode","M"],["UPC-A","L"],["UPC-E","L"],["MicroQRCode","M"],["rMQRCode","M"],["DXFilmEdge","L"],["DataBarLimited","L"]],Hp=Kp.map(([t])=>t),K8=Hp.filter((t,e)=>Kp[e][1]==="L"),H8=Hp.filter((t,e)=>Kp[e][1]==="M");function ev(t){switch(t){case"Linear-Codes":return K8.reduce((e,n)=>e|ev(n),0);case"Matrix-Codes":return H8.reduce((e,n)=>e|ev(n),0);case"Any":return(1<<Kp.length)-1;case"None":return 0;default:return 1<<Hp.indexOf(t)}}function J8(t){if(t===0)return"None";const e=31-Math.clz32(t);return Hp[e]}function Z8(t){return t.reduce((e,n)=>e|ev(n),0)}const X8=["LocalAverage","GlobalHistogram","FixedThreshold","BoolCast"];function ej(t){return X8.indexOf(t)}const sT=["Unknown","ASCII","ISO8859_1","ISO8859_2","ISO8859_3","ISO8859_4","ISO8859_5","ISO8859_6","ISO8859_7","ISO8859_8","ISO8859_9","ISO8859_10","ISO8859_11","ISO8859_13","ISO8859_14","ISO8859_15","ISO8859_16","Cp437","Cp1250","Cp1251","Cp1252","Cp1256","Shift_JIS","Big5","GB2312","GB18030","EUC_JP","EUC_KR","UTF16BE","UTF16BE","UTF8","UTF16LE","UTF32BE","UTF32LE","BINARY"];function tj(t){return t==="UnicodeBig"?sT.indexOf("UTF16BE"):sT.indexOf(t)}const nj=["Text","Binary","Mixed","GS1","ISO15434","UnknownECI"];function rj(t){return nj[t]}const ij=["Ignore","Read","Require"];function sj(t){return ij.indexOf(t)}const oj=["Plain","ECI","HRI","Hex","Escaped"];function aj(t){return oj.indexOf(t)}const Yf={formats:[],tryHarder:!0,tryRotate:!0,tryInvert:!0,tryDownscale:!0,tryDenoise:!1,binarizer:"LocalAverage",isPure:!1,downscaleFactor:3,downscaleThreshold:500,minLineCount:2,maxNumberOfSymbols:255,tryCode39ExtendedMode:!0,returnErrors:!1,eanAddOnSymbol:"Ignore",textMode:"HRI",characterSet:"Unknown"};function oT(t){return{...t,formats:Z8(t.formats),binarizer:ej(t.binarizer),eanAddOnSymbol:sj(t.eanAddOnSymbol),textMode:aj(t.textMode),characterSet:tj(t.characterSet)}}function lj(t){return{...t,format:J8(t.format),contentType:rj(t.contentType),eccLevel:t.ecLevel}}const cj={locateFile:(t,e)=>{const n=t.match(/_(.+?)\.wasm$/);return n?`https://fastly.jsdelivr.net/npm/zxing-wasm@2.1.2/dist/${n[1]}/${t}`:e+t}},cg=new WeakMap;function uj(t,e){return Object.is(t,e)||Object.keys(t).length===Object.keys(e).length&&Object.keys(t).every(n=>Object.prototype.hasOwnProperty.call(e,n)&&t[n]===e[n])}function zb(t,{overrides:e,equalityFn:n=uj,fireImmediately:r=!1}={}){var i;const[s,o]=(i=cg.get(t))!=null?i:[cj],a=e??s;let l;if(r){if(o&&(l=n(s,a)))return o;const u=t({...a});return cg.set(t,[a,u]),u}(l??n(s,a))||cg.set(t,[a])}async function dj(t,e,n=Yf){const r={...Yf,...n},i=await zb(t,{fireImmediately:!0});let s,o;if("width"in e&&"height"in e&&"data"in e){const{data:l,data:{byteLength:u},width:d,height:f}=e;o=i._malloc(u),i.HEAPU8.set(l,o),s=i.readBarcodesFromPixmap(o,d,f,oT(r))}else{let l,u;if("buffer"in e)[l,u]=[e.byteLength,e];else if("byteLength"in e)[l,u]=[e.byteLength,new Uint8Array(e)];else if("size"in e)[l,u]=[e.size,new Uint8Array(await e.arrayBuffer())];else throw new TypeError("Invalid input type");o=i._malloc(l),i.HEAPU8.set(u,o),s=i.readBarcodesFromImage(o,l,oT(r))}i._free(o);const a=[];for(let l=0;l<s.size();++l)a.push(lj(s.get(l)));return a}({...Yf,formats:[...Yf.formats]});var $b=async function(t={}){var e,n=t,r,i,s=new Promise((y,m)=>{r=y,i=m}),o=typeof window=="object",a=typeof Bun<"u",l=typeof WorkerGlobalScope<"u";typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string"&&process.type!="renderer";var u="./this.program",d="";function f(y){return n.locateFile?n.locateFile(y,d):d+y}var h,g;(o||l||a)&&(l?d=self.location.href:typeof document<"u"&&document.currentScript&&(d=document.currentScript.src),d.startsWith("blob:")?d="":d=d.slice(0,d.replace(/[?#].*/,"").lastIndexOf("/")+1),l&&(g=y=>{var m=new XMLHttpRequest;return m.open("GET",y,!1),m.responseType="arraybuffer",m.send(null),new Uint8Array(m.response)}),h=async y=>{var m=await fetch(y,{credentials:"same-origin"});if(m.ok)return m.arrayBuffer();throw new Error(m.status+" : "+m.url)});var E=console.log.bind(console),_=console.error.bind(console),I,T,w=!1,A,N,F,j,S,C,P,D;function V(){var y=T.buffer;A=new Int8Array(y),F=new Int16Array(y),n.HEAPU8=N=new Uint8Array(y),j=new Uint16Array(y),S=new Int32Array(y),C=new Uint32Array(y),P=new Float32Array(y),D=new Float64Array(y)}function L(){if(n.preRun)for(typeof n.preRun=="function"&&(n.preRun=[n.preRun]);n.preRun.length;)Xe(n.preRun.shift());Ie(st)}function M(){p.ya()}function ne(){if(n.postRun)for(typeof n.postRun=="function"&&(n.postRun=[n.postRun]);n.postRun.length;)Ye(n.postRun.shift());Ie(Oe)}var ie=0,le=null;function pe(y){var m;ie++,(m=n.monitorRunDependencies)===null||m===void 0||m.call(n,ie)}function z(y){var m;if(ie--,(m=n.monitorRunDependencies)===null||m===void 0||m.call(n,ie),ie==0&&le){var R=le;le=null,R()}}function X(y){var m;(m=n.onAbort)===null||m===void 0||m.call(n,y),y="Aborted("+y+")",_(y),w=!0,y+=". Build with -sASSERTIONS for more info.";var R=new WebAssembly.RuntimeError(y);throw i(R),R}var se;function te(){return f("zxing_reader.wasm")}function ce(y){if(y==se&&I)return new Uint8Array(I);if(g)return g(y);throw"both async and sync fetching of the wasm failed"}async function de(y){if(!I)try{var m=await h(y);return new Uint8Array(m)}catch{}return ce(y)}async function ke(y,m){try{var R=await de(y),O=await WebAssembly.instantiate(R,m);return O}catch(B){_(`failed to asynchronously prepare wasm: ${B}`),X(B)}}async function Le(y,m,R){if(!y&&typeof WebAssembly.instantiateStreaming=="function")try{var O=fetch(m,{credentials:"same-origin"}),B=await WebAssembly.instantiateStreaming(O,R);return B}catch(U){_(`wasm streaming compile failed: ${U}`),_("falling back to ArrayBuffer instantiation")}return ke(m,R)}function Ae(){return{a:c}}async function ve(){function y(U,$){return p=U.exports,T=p.xa,V(),na=p.Ba,z(),p}pe();function m(U){return y(U.instance)}var R=Ae();if(n.instantiateWasm)return new Promise((U,$)=>{n.instantiateWasm(R,(G,Z)=>{U(y(G))})});se!=null||(se=te());try{var O=await Le(I,se,R),B=m(O);return B}catch(U){return i(U),Promise.reject(U)}}var Ie=y=>{for(;y.length>0;)y.shift()(n)},Oe=[],Ye=y=>Oe.push(y),st=[],Xe=y=>st.push(y),he=y=>Pt(y),ge=()=>Fe(),Ct=[],dt=0,Jt=y=>{var m=new Zt(y);return m.get_caught()||(m.set_caught(!0),dt--),m.set_rethrown(!1),Ct.push(m),Ft(y),Q(y)},$e=0,ot=()=>{K(0,0);var y=Ct.pop();Lt(y.excPtr),$e=0};class Zt{constructor(m){this.excPtr=m,this.ptr=m-24}set_type(m){C[this.ptr+4>>2]=m}get_type(){return C[this.ptr+4>>2]}set_destructor(m){C[this.ptr+8>>2]=m}get_destructor(){return C[this.ptr+8>>2]}set_caught(m){m=m?1:0,A[this.ptr+12]=m}get_caught(){return A[this.ptr+12]!=0}set_rethrown(m){m=m?1:0,A[this.ptr+13]=m}get_rethrown(){return A[this.ptr+13]!=0}init(m,R){this.set_adjusted_ptr(0),this.set_type(m),this.set_destructor(R)}set_adjusted_ptr(m){C[this.ptr+16>>2]=m}get_adjusted_ptr(){return C[this.ptr+16>>2]}}var ur=y=>We(y),ti=y=>{var m=$e;if(!m)return ur(0),0;var R=new Zt(m);R.set_adjusted_ptr(m);var O=R.get_type();if(!O)return ur(0),m;for(var B of y){if(B===0||B===O)break;var U=R.ptr+16;if(Yi(B,O,U))return ur(B),m}return ur(O),m},Zn=()=>ti([]),ni=y=>ti([y]),ro=(y,m)=>ti([y,m]),yt=()=>{var y=Ct.pop();y||X("no exception to throw");var m=y.excPtr;throw y.get_rethrown()||(Ct.push(y),y.set_rethrown(!0),y.set_caught(!1),dt++),$e=m,$e},at=(y,m,R)=>{var O=new Zt(y);throw O.init(m,R),$e=y,dt++,$e},ri=()=>dt,dr=y=>{throw $e||($e=y),$e},io=()=>X(""),Fi={},Xn=y=>{for(;y.length;){var m=y.pop(),R=y.pop();R(m)}};function hr(y){return this.fromWireType(C[y>>2])}var fr={},hn={},fn={},Vl=n.InternalError=class extends Error{constructor(y){super(y),this.name="InternalError"}},Ee=y=>{throw new Vl(y)},Ne=(y,m,R)=>{y.forEach(G=>fn[G]=m);function O(G){var Z=R(G);Z.length!==y.length&&Ee("Mismatched type converter count");for(var re=0;re<y.length;++re)en(y[re],Z[re])}var B=new Array(m.length),U=[],$=0;m.forEach((G,Z)=>{hn.hasOwnProperty(G)?B[Z]=hn[G]:(U.push(G),fr.hasOwnProperty(G)||(fr[G]=[]),fr[G].push(()=>{B[Z]=hn[G],++$,$===U.length&&O(B)}))}),U.length===0&&O(B)},Ge=y=>{var m=Fi[y];delete Fi[y];var R=m.rawConstructor,O=m.rawDestructor,B=m.fields,U=B.map($=>$.getterReturnType).concat(B.map($=>$.setterArgumentType));Ne([y],U,$=>{var G={};return B.forEach((Z,re)=>{var oe=Z.fieldName,we=$[re],je=$[re].optional,ze=Z.getter,ct=Z.getterContext,kt=$[re+B.length],At=Z.setter,Bt=Z.setterContext;G[oe]={read:hi=>we.fromWireType(ze(ct,hi)),write:(hi,Rn)=>{var tr=[];At(Bt,hi,kt.toWireType(tr,Rn)),Xn(tr)},optional:je}}),[{name:m.name,fromWireType:Z=>{var re={};for(var oe in G)re[oe]=G[oe].read(Z);return O(Z),re},toWireType:(Z,re)=>{for(var oe in G)if(!(oe in re)&&!G[oe].optional)throw new TypeError(`Missing field: "${oe}"`);var we=R();for(oe in G)G[oe].write(we,re[oe]);return Z!==null&&Z.push(O,we),we},argPackAdvance:er,readValueFromPointer:hr,destructorFunction:O}]})},Vt=(y,m,R,O,B)=>{},Xt=()=>{for(var y=new Array(256),m=0;m<256;++m)y[m]=String.fromCharCode(m);pr=y},pr,tt=y=>{for(var m="",R=y;N[R];)m+=pr[N[R++]];return m},Bi=n.BindingError=class extends Error{constructor(y){super(y),this.name="BindingError"}},Ve=y=>{throw new Bi(y)};function Wu(y,m){let R=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};var O=m.name;if(y||Ve(`type "${O}" must have a positive integer typeid pointer`),hn.hasOwnProperty(y)){if(R.ignoreDuplicateRegistrations)return;Ve(`Cannot register type '${O}' twice`)}if(hn[y]=m,delete fn[y],fr.hasOwnProperty(y)){var B=fr[y];delete fr[y],B.forEach(U=>U())}}function en(y,m){let R=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Wu(y,m,R)}var er=8,zt=(y,m,R,O)=>{m=tt(m),en(y,{name:m,fromWireType:function(B){return!!B},toWireType:function(B,U){return U?R:O},argPackAdvance:er,readValueFromPointer:function(B){return this.fromWireType(N[B])},destructorFunction:null})},Ku=y=>({count:y.count,deleteScheduled:y.deleteScheduled,preservePointerOnDelete:y.preservePointerOnDelete,ptr:y.ptr,ptrType:y.ptrType,smartPtr:y.smartPtr,smartPtrType:y.smartPtrType}),ii=y=>{function m(R){return R.$$.ptrType.registeredClass.name}Ve(m(y)+" instance already deleted")},si=!1,Hu=y=>{},Jp=y=>{y.smartPtr?y.smartPtrType.rawDestructor(y.smartPtr):y.ptrType.registeredClass.rawDestructor(y.ptr)},oi=y=>{y.count.value-=1;var m=y.count.value===0;m&&Jp(y)},so=y=>typeof FinalizationRegistry>"u"?(so=m=>m,y):(si=new FinalizationRegistry(m=>{oi(m.$$)}),so=m=>{var R=m.$$,O=!!R.smartPtr;if(O){var B={$$:R};si.register(m,B,m)}return m},Hu=m=>si.unregister(m),so(y)),Zp=()=>{let y=ai.prototype;Object.assign(y,{isAliasOf(R){if(!(this instanceof ai)||!(R instanceof ai))return!1;var O=this.$$.ptrType.registeredClass,B=this.$$.ptr;R.$$=R.$$;for(var U=R.$$.ptrType.registeredClass,$=R.$$.ptr;O.baseClass;)B=O.upcast(B),O=O.baseClass;for(;U.baseClass;)$=U.upcast($),U=U.baseClass;return O===U&&B===$},clone(){if(this.$$.ptr||ii(this),this.$$.preservePointerOnDelete)return this.$$.count.value+=1,this;var R=so(Object.create(Object.getPrototypeOf(this),{$$:{value:Ku(this.$$)}}));return R.$$.count.value+=1,R.$$.deleteScheduled=!1,R},delete(){this.$$.ptr||ii(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&Ve("Object already scheduled for deletion"),Hu(this),oi(this.$$),this.$$.preservePointerOnDelete||(this.$$.smartPtr=void 0,this.$$.ptr=void 0)},isDeleted(){return!this.$$.ptr},deleteLater(){return this.$$.ptr||ii(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&Ve("Object already scheduled for deletion"),this.$$.deleteScheduled=!0,this}});const m=Symbol.dispose;m&&(y[m]=y.delete)};function ai(){}var Jo=(y,m)=>Object.defineProperty(m,"name",{value:y}),Zo={},oo=(y,m,R)=>{if(y[m].overloadTable===void 0){var O=y[m];y[m]=function(){for(var B=arguments.length,U=new Array(B),$=0;$<B;$++)U[$]=arguments[$];return y[m].overloadTable.hasOwnProperty(U.length)||Ve(`Function '${R}' called with an invalid number of arguments (${U.length}) - expects one of (${y[m].overloadTable})!`),y[m].overloadTable[U.length].apply(this,U)},y[m].overloadTable=[],y[m].overloadTable[O.argCount]=O}},mr=(y,m,R)=>{n.hasOwnProperty(y)?((R===void 0||n[y].overloadTable!==void 0&&n[y].overloadTable[R]!==void 0)&&Ve(`Cannot register public name '${y}' twice`),oo(n,y,y),n[y].overloadTable.hasOwnProperty(R)&&Ve(`Cannot register multiple overloads of a function with the same number of arguments (${R})!`),n[y].overloadTable[R]=m):(n[y]=m,n[y].argCount=R)},Ju=48,Zu=57,Ll=y=>{y=y.replace(/[^a-zA-Z0-9_]/g,"$");var m=y.charCodeAt(0);return m>=Ju&&m<=Zu?`_${y}`:y};function Fl(y,m,R,O,B,U,$,G){this.name=y,this.constructor=m,this.instancePrototype=R,this.rawDestructor=O,this.baseClass=B,this.getActualType=U,this.upcast=$,this.downcast=G,this.pureVirtualFunctions=[]}var Xo=(y,m,R)=>{for(;m!==R;)m.upcast||Ve(`Expected null or instance of ${R.name}, got an instance of ${m.name}`),y=m.upcast(y),m=m.baseClass;return y};function Xu(y,m){if(m===null)return this.isReference&&Ve(`null is not a valid ${this.name}`),0;m.$$||Ve(`Cannot pass "${embindRepr(m)}" as a ${this.name}`),m.$$.ptr||Ve(`Cannot pass deleted object as a pointer of type ${this.name}`);var R=m.$$.ptrType.registeredClass,O=Xo(m.$$.ptr,R,this.registeredClass);return O}function Xp(y,m){var R;if(m===null)return this.isReference&&Ve(`null is not a valid ${this.name}`),this.isSmartPointer?(R=this.rawConstructor(),y!==null&&y.push(this.rawDestructor,R),R):0;(!m||!m.$$)&&Ve(`Cannot pass "${embindRepr(m)}" as a ${this.name}`),m.$$.ptr||Ve(`Cannot pass deleted object as a pointer of type ${this.name}`),!this.isConst&&m.$$.ptrType.isConst&&Ve(`Cannot convert argument of type ${m.$$.smartPtrType?m.$$.smartPtrType.name:m.$$.ptrType.name} to parameter type ${this.name}`);var O=m.$$.ptrType.registeredClass;if(R=Xo(m.$$.ptr,O,this.registeredClass),this.isSmartPointer)switch(m.$$.smartPtr===void 0&&Ve("Passing raw pointer to smart pointer is illegal"),this.sharingPolicy){case 0:m.$$.smartPtrType===this?R=m.$$.smartPtr:Ve(`Cannot convert argument of type ${m.$$.smartPtrType?m.$$.smartPtrType.name:m.$$.ptrType.name} to parameter type ${this.name}`);break;case 1:R=m.$$.smartPtr;break;case 2:if(m.$$.smartPtrType===this)R=m.$$.smartPtr;else{var B=m.clone();R=this.rawShare(R,gr.toHandle(()=>B.delete())),y!==null&&y.push(this.rawDestructor,R)}break;default:Ve("Unsupporting sharing policy")}return R}function ea(y,m){if(m===null)return this.isReference&&Ve(`null is not a valid ${this.name}`),0;m.$$||Ve(`Cannot pass "${embindRepr(m)}" as a ${this.name}`),m.$$.ptr||Ve(`Cannot pass deleted object as a pointer of type ${this.name}`),m.$$.ptrType.isConst&&Ve(`Cannot convert argument of type ${m.$$.ptrType.name} to parameter type ${this.name}`);var R=m.$$.ptrType.registeredClass,O=Xo(m.$$.ptr,R,this.registeredClass);return O}var Bl=(y,m,R)=>{if(m===R)return y;if(R.baseClass===void 0)return null;var O=Bl(y,m,R.baseClass);return O===null?null:R.downcast(O)},Ul={},ao=(y,m)=>{for(m===void 0&&Ve("ptr should not be undefined");y.baseClass;)m=y.upcast(m),y=y.baseClass;return m},li=(y,m)=>(m=ao(y,m),Ul[m]),Ui=(y,m)=>{(!m.ptrType||!m.ptr)&&Ee("makeClassHandle requires ptr and ptrType");var R=!!m.smartPtrType,O=!!m.smartPtr;return R!==O&&Ee("Both smartPtrType and smartPtr must be specified"),m.count={value:1},so(Object.create(y,{$$:{value:m,writable:!0}}))};function em(y){var m=this.getPointee(y);if(!m)return this.destructor(y),null;var R=li(this.registeredClass,m);if(R!==void 0){if(R.$$.count.value===0)return R.$$.ptr=m,R.$$.smartPtr=y,R.clone();var O=R.clone();return this.destructor(y),O}function B(){return this.isSmartPointer?Ui(this.registeredClass.instancePrototype,{ptrType:this.pointeeType,ptr:m,smartPtrType:this,smartPtr:y}):Ui(this.registeredClass.instancePrototype,{ptrType:this,ptr:y})}var U=this.registeredClass.getActualType(m),$=Zo[U];if(!$)return B.call(this);var G;this.isConst?G=$.constPointerType:G=$.pointerType;var Z=Bl(m,this.registeredClass,G.registeredClass);return Z===null?B.call(this):this.isSmartPointer?Ui(G.registeredClass.instancePrototype,{ptrType:G,ptr:Z,smartPtrType:this,smartPtr:y}):Ui(G.registeredClass.instancePrototype,{ptrType:G,ptr:Z})}var ed=()=>{Object.assign(lo.prototype,{getPointee(y){return this.rawGetPointee&&(y=this.rawGetPointee(y)),y},destructor(y){var m;(m=this.rawDestructor)===null||m===void 0||m.call(this,y)},argPackAdvance:er,readValueFromPointer:hr,fromWireType:em})};function lo(y,m,R,O,B,U,$,G,Z,re,oe){this.name=y,this.registeredClass=m,this.isReference=R,this.isConst=O,this.isSmartPointer=B,this.pointeeType=U,this.sharingPolicy=$,this.rawGetPointee=G,this.rawConstructor=Z,this.rawShare=re,this.rawDestructor=oe,!B&&m.baseClass===void 0?O?(this.toWireType=Xu,this.destructorFunction=null):(this.toWireType=ea,this.destructorFunction=null):this.toWireType=Xp}var jl=(y,m,R)=>{n.hasOwnProperty(y)||Ee("Replacing nonexistent public symbol"),n[y].overloadTable!==void 0&&R!==void 0?n[y].overloadTable[R]=m:(n[y]=m,n[y].argCount=R)},ta=[],na,be=y=>{var m=ta[y];return m||(ta[y]=m=na.get(y)),m},td=function(y,m){let R=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];if(y.includes("j"))return dynCallLegacy(y,m,R);var O=be(m),B=O(...R);return B},tm=function(y,m){let R=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return function(){for(var O=arguments.length,B=new Array(O),U=0;U<O;U++)B[U]=arguments[U];return td(y,m,B,R)}},Dn=function(y,m){y=tt(y);function R(){if(y.includes("j"))return tm(y,m);var B=be(m);return B}var O=R();return typeof O!="function"&&Ve(`unknown function pointer with signature ${y}: ${m}`),O};class nd extends Error{}var ql=y=>{var m=v(y),R=tt(m);return x(m),R},ra=(y,m)=>{var R=[],O={};function B(U){if(!O[U]&&!hn[U]){if(fn[U]){fn[U].forEach(B);return}R.push(U),O[U]=!0}}throw m.forEach(B),new nd(`${y}: `+R.map(ql).join([", "]))},ci=(y,m,R,O,B,U,$,G,Z,re,oe,we,je)=>{oe=tt(oe),U=Dn(B,U),G&&(G=Dn($,G)),re&&(re=Dn(Z,re)),je=Dn(we,je);var ze=Ll(oe);mr(ze,function(){ra(`Cannot construct ${oe} due to unbound types`,[O])}),Ne([y,m,R],O?[O]:[],ct=>{ct=ct[0];var kt,At;O?(kt=ct.registeredClass,At=kt.instancePrototype):At=ai.prototype;var Bt=Jo(oe,function(){if(Object.getPrototypeOf(this)!==hi)throw new Bi(`Use 'new' to construct ${oe}`);if(Rn.constructor_body===void 0)throw new Bi(`${oe} has no accessible constructor`);for(var Cw=arguments.length,Pd=new Array(Cw),kd=0;kd<Cw;kd++)Pd[kd]=arguments[kd];var Aw=Rn.constructor_body[Pd.length];if(Aw===void 0)throw new Bi(`Tried to invoke ctor of ${oe} with invalid number of parameters (${Pd.length}) - expected (${Object.keys(Rn.constructor_body).toString()}) parameters instead!`);return Aw.apply(this,Pd)}),hi=Object.create(At,{constructor:{value:Bt}});Bt.prototype=hi;var Rn=new Fl(oe,Bt,hi,je,kt,U,G,re);if(Rn.baseClass){var tr,bd;(bd=(tr=Rn.baseClass).__derivedClasses)!==null&&bd!==void 0||(tr.__derivedClasses=[]),Rn.baseClass.__derivedClasses.push(Rn)}var BP=new lo(oe,Rn,!0,!1,!1),_w=new lo(oe+"*",Rn,!1,!1,!1),Tw=new lo(oe+" const*",Rn,!1,!0,!1);return Zo[y]={pointerType:_w,constPointerType:Tw},jl(ze,Bt),[BP,_w,Tw]})},Mn=(y,m)=>{for(var R=[],O=0;O<y;O++)R.push(C[m+O*4>>2]);return R};function ia(y){for(var m=1;m<y.length;++m)if(y[m]!==null&&y[m].destructorFunction===void 0)return!0;return!1}function ji(y,m,R,O,B,U){var $=m.length;$<2&&Ve("argTypes array size mismatch! Must at least get return value and 'this' types!");var G=m[1]!==null&&R!==null,Z=ia(m),re=m[0].name!=="void",oe=$-2,we=new Array(oe),je=[],ze=[],ct=function(){ze.length=0;var kt;je.length=G?2:1,je[0]=B,G&&(kt=m[1].toWireType(ze,this),je[1]=kt);for(var At=0;At<oe;++At)we[At]=m[At+2].toWireType(ze,At<0||arguments.length<=At?void 0:arguments[At]),je.push(we[At]);var Bt=O(...je);function hi(Rn){if(Z)Xn(ze);else for(var tr=G?1:2;tr<m.length;tr++){var bd=tr===1?kt:we[tr-2];m[tr].destructorFunction!==null&&m[tr].destructorFunction(bd)}if(re)return m[0].fromWireType(Rn)}return hi(Bt)};return Jo(y,ct)}var rd=(y,m,R,O,B,U)=>{var $=Mn(m,R);B=Dn(O,B),Ne([],[y],G=>{G=G[0];var Z=`constructor ${G.name}`;if(G.registeredClass.constructor_body===void 0&&(G.registeredClass.constructor_body=[]),G.registeredClass.constructor_body[m-1]!==void 0)throw new Bi(`Cannot register multiple constructors with identical number of parameters (${m-1}) for class '${G.name}'! Overload resolution is currently only performed using the parameter count, not actual type info!`);return G.registeredClass.constructor_body[m-1]=()=>{ra(`Cannot construct ${G.name} due to unbound types`,$)},Ne([],$,re=>(re.splice(1,0,null),G.registeredClass.constructor_body[m-1]=ji(Z,re,null,B,U),[])),[]})},He=y=>{y=y.trim();const m=y.indexOf("(");return m===-1?y:y.slice(0,m)},sa=(y,m,R,O,B,U,$,G,Z,re)=>{var oe=Mn(R,O);m=tt(m),m=He(m),U=Dn(B,U),Ne([],[y],we=>{we=we[0];var je=`${we.name}.${m}`;m.startsWith("@@")&&(m=Symbol[m.substring(2)]),G&&we.registeredClass.pureVirtualFunctions.push(m);function ze(){ra(`Cannot call ${je} due to unbound types`,oe)}var ct=we.registeredClass.instancePrototype,kt=ct[m];return kt===void 0||kt.overloadTable===void 0&&kt.className!==we.name&&kt.argCount===R-2?(ze.argCount=R-2,ze.className=we.name,ct[m]=ze):(oo(ct,m,je),ct[m].overloadTable[R-2]=ze),Ne([],oe,At=>{var Bt=ji(je,At,we,U,$);return ct[m].overloadTable===void 0?(Bt.argCount=R-2,ct[m]=Bt):ct[m].overloadTable[R-2]=Bt,[]}),[]})},ui=[],pn=[],Gl=y=>{y>9&&--pn[y+1]===0&&(pn[y]=void 0,ui.push(y))},id=()=>pn.length/2-5-ui.length,nm=()=>{pn.push(0,1,void 0,1,null,1,!0,1,!1,1),n.count_emval_handles=id},gr={toValue:y=>(y||Ve(`Cannot use deleted val. handle = ${y}`),pn[y]),toHandle:y=>{switch(y){case void 0:return 2;case null:return 4;case!0:return 6;case!1:return 8;default:{const m=ui.pop()||pn.length;return pn[m]=y,pn[m+1]=1,m}}}},sd={name:"emscripten::val",fromWireType:y=>{var m=gr.toValue(y);return Gl(y),m},toWireType:(y,m)=>gr.toHandle(m),argPackAdvance:er,readValueFromPointer:hr,destructorFunction:null},rm=y=>en(y,sd),co=(y,m)=>{switch(m){case 4:return function(R){return this.fromWireType(P[R>>2])};case 8:return function(R){return this.fromWireType(D[R>>3])};default:throw new TypeError(`invalid float width (${m}): ${y}`)}},Mr=(y,m,R)=>{m=tt(m),en(y,{name:m,fromWireType:O=>O,toWireType:(O,B)=>B,argPackAdvance:er,readValueFromPointer:co(m,R),destructorFunction:null})},od=(y,m,R,O,B,U,$,G)=>{var Z=Mn(m,R);y=tt(y),y=He(y),B=Dn(O,B),mr(y,function(){ra(`Cannot call ${y} due to unbound types`,Z)},m-1),Ne([],Z,re=>{var oe=[re[0],null].concat(re.slice(1));return jl(y,ji(y,oe,null,B,U),m-1),[]})},ad=(y,m,R)=>{switch(m){case 1:return R?O=>A[O]:O=>N[O];case 2:return R?O=>F[O>>1]:O=>j[O>>1];case 4:return R?O=>S[O>>2]:O=>C[O>>2];default:throw new TypeError(`invalid integer width (${m}): ${y}`)}},ld=(y,m,R,O,B)=>{m=tt(m);var U=oe=>oe;if(O===0){var $=32-8*R;U=oe=>oe<<$>>>$}var G=m.includes("unsigned"),Z=(oe,we)=>{},re;G?re=function(oe,we){return Z(we,this.name),we>>>0}:re=function(oe,we){return Z(we,this.name),we},en(y,{name:m,fromWireType:U,toWireType:re,argPackAdvance:er,readValueFromPointer:ad(m,R,O!==0),destructorFunction:null})},qi=(y,m,R)=>{var O=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],B=O[m];function U($){var G=C[$>>2],Z=C[$+4>>2];return new B(A.buffer,Z,G)}R=tt(R),en(y,{name:R,fromWireType:U,argPackAdvance:er,readValueFromPointer:U},{ignoreDuplicateRegistrations:!0})},im=Object.assign({optional:!0},sd),sm=(y,m)=>{en(y,im)},om=(y,m,R,O)=>{if(!(O>0))return 0;for(var B=R,U=R+O-1,$=0;$<y.length;++$){var G=y.charCodeAt($);if(G>=55296&&G<=57343){var Z=y.charCodeAt(++$);G=65536+((G&1023)<<10)|Z&1023}if(G<=127){if(R>=U)break;m[R++]=G}else if(G<=2047){if(R+1>=U)break;m[R++]=192|G>>6,m[R++]=128|G&63}else if(G<=65535){if(R+2>=U)break;m[R++]=224|G>>12,m[R++]=128|G>>6&63,m[R++]=128|G&63}else{if(R+3>=U)break;m[R++]=240|G>>18,m[R++]=128|G>>12&63,m[R++]=128|G>>6&63,m[R++]=128|G&63}}return m[R]=0,R-B},mn=(y,m,R)=>om(y,N,m,R),cd=y=>{for(var m=0,R=0;R<y.length;++R){var O=y.charCodeAt(R);O<=127?m++:O<=2047?m+=2:O>=55296&&O<=57343?(m+=4,++R):m+=3}return m},ud=typeof TextDecoder<"u"?new TextDecoder:void 0,uo=function(y){let m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,R=arguments.length>2&&arguments[2]!==void 0?arguments[2]:NaN;for(var O=m+R,B=m;y[B]&&!(B>=O);)++B;if(B-m>16&&y.buffer&&ud)return ud.decode(y.subarray(m,B));for(var U="";m<B;){var $=y[m++];if(!($&128)){U+=String.fromCharCode($);continue}var G=y[m++]&63;if(($&224)==192){U+=String.fromCharCode(($&31)<<6|G);continue}var Z=y[m++]&63;if(($&240)==224?$=($&15)<<12|G<<6|Z:$=($&7)<<18|G<<12|Z<<6|y[m++]&63,$<65536)U+=String.fromCharCode($);else{var re=$-65536;U+=String.fromCharCode(55296|re>>10,56320|re&1023)}}return U},oa=(y,m)=>y?uo(N,y,m):"",dd=(y,m)=>{m=tt(m),en(y,{name:m,fromWireType(R){for(var O=C[R>>2],B=R+4,U,G,$=B,G=0;G<=O;++G){var Z=B+G;if(G==O||N[Z]==0){var re=Z-$,oe=oa($,re);U===void 0?U=oe:(U+="\0",U+=oe),$=Z+1}}return x(R),U},toWireType(R,O){O instanceof ArrayBuffer&&(O=new Uint8Array(O));var B,U=typeof O=="string";U||ArrayBuffer.isView(O)&&O.BYTES_PER_ELEMENT==1||Ve("Cannot pass non-string to std::string"),U?B=cd(O):B=O.length;var $=q(4+B+1),G=$+4;return C[$>>2]=B,U?mn(O,G,B+1):N.set(O,G),R!==null&&R.push(x,$),$},argPackAdvance:er,readValueFromPointer:hr,destructorFunction(R){x(R)}})},Gi=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0,ho=(y,m)=>{for(var R=y,O=R>>1,B=O+m/2;!(O>=B)&&j[O];)++O;if(R=O<<1,R-y>32&&Gi)return Gi.decode(N.subarray(y,R));for(var U="",$=0;!($>=m/2);++$){var G=F[y+$*2>>1];if(G==0)break;U+=String.fromCharCode(G)}return U},hd=(y,m,R)=>{if(R!=null||(R=2147483647),R<2)return 0;R-=2;for(var O=m,B=R<y.length*2?R/2:y.length,U=0;U<B;++U){var $=y.charCodeAt(U);F[m>>1]=$,m+=2}return F[m>>1]=0,m-O},zl=y=>y.length*2,lt=(y,m)=>{for(var R=0,O="";!(R>=m/4);){var B=S[y+R*4>>2];if(B==0)break;if(++R,B>=65536){var U=B-65536;O+=String.fromCharCode(55296|U>>10,56320|U&1023)}else O+=String.fromCharCode(B)}return O},am=(y,m,R)=>{if(R!=null||(R=2147483647),R<4)return 0;for(var O=m,B=O+R-4,U=0;U<y.length;++U){var $=y.charCodeAt(U);if($>=55296&&$<=57343){var G=y.charCodeAt(++U);$=65536+(($&1023)<<10)|G&1023}if(S[m>>2]=$,m+=4,m+4>B)break}return S[m>>2]=0,m-O},lm=y=>{for(var m=0,R=0;R<y.length;++R){var O=y.charCodeAt(R);O>=55296&&O<=57343&&++R,m+=4}return m},fd=(y,m,R)=>{R=tt(R);var O,B,U,$;m===2?(O=ho,B=hd,$=zl,U=G=>j[G>>1]):m===4&&(O=lt,B=am,$=lm,U=G=>C[G>>2]),en(y,{name:R,fromWireType:G=>{for(var Z=C[G>>2],re,oe=G+4,we=0;we<=Z;++we){var je=G+4+we*m;if(we==Z||U(je)==0){var ze=je-oe,ct=O(oe,ze);re===void 0?re=ct:(re+="\0",re+=ct),oe=je+m}}return x(G),re},toWireType:(G,Z)=>{typeof Z!="string"&&Ve(`Cannot pass non-string to C++ string type ${R}`);var re=$(Z),oe=q(4+re+m);return C[oe>>2]=re/m,B(Z,oe+4,re+m),G!==null&&G.push(x,oe),oe},argPackAdvance:er,readValueFromPointer:hr,destructorFunction(G){x(G)}})},pd=(y,m,R,O,B,U)=>{Fi[y]={name:tt(m),rawConstructor:Dn(R,O),rawDestructor:Dn(B,U),fields:[]}},md=(y,m,R,O,B,U,$,G,Z,re)=>{Fi[y].fields.push({fieldName:tt(m),getterReturnType:R,getter:Dn(O,B),getterContext:U,setterArgumentType:$,setter:Dn(G,Z),setterContext:re})},aa=(y,m)=>{m=tt(m),en(y,{isVoid:!0,name:m,argPackAdvance:0,fromWireType:()=>{},toWireType:(R,O)=>{}})},la=[],yr=(y,m,R,O)=>(y=la[y],m=gr.toValue(m),y(null,m,R,O)),gd={},cm=y=>{var m=gd[y];return m===void 0?tt(y):m},zi=()=>{if(typeof globalThis=="object")return globalThis;function y(m){m.$$$embind_global$$$=m;var R=typeof $$$embind_global$$$=="object"&&m.$$$embind_global$$$==m;return R||delete m.$$$embind_global$$$,R}if(typeof $$$embind_global$$$=="object"||(typeof global=="object"&&y(global)?$$$embind_global$$$=global:typeof self=="object"&&y(self)&&($$$embind_global$$$=self),typeof $$$embind_global$$$=="object"))return $$$embind_global$$$;throw Error("unable to get global object.")},yd=y=>y===0?gr.toHandle(zi()):(y=cm(y),gr.toHandle(zi()[y])),$l=y=>{var m=la.length;return la.push(y),m},fo=(y,m)=>{var R=hn[y];return R===void 0&&Ve(`${m} has unknown type ${ql(y)}`),R},vd=(y,m)=>{for(var R=new Array(y),O=0;O<y;++O)R[O]=fo(C[m+O*4>>2],`parameter ${O}`);return R},ca=(y,m,R)=>{var O=[],B=y.toWireType(O,R);return O.length&&(C[m>>2]=gr.toHandle(O)),B},um=Reflect.construct,wd=(y,m,R)=>{var O=vd(y,m),B=O.shift();y--;var U=new Array(y),$=(Z,re,oe,we)=>{for(var je=0,ze=0;ze<y;++ze)U[ze]=O[ze].readValueFromPointer(we+je),je+=O[ze].argPackAdvance;var ct=R===1?um(re,U):re.apply(Z,U);return ca(B,oe,ct)},G=`methodCaller<(${O.map(Z=>Z.name).join(", ")}) => ${B.name}>`;return $l(Jo(G,$))},po=y=>{y>9&&(pn[y+1]+=1)},Ed=y=>{var m=gr.toValue(y);Xn(m),Gl(y)},_d=(y,m)=>{y=fo(y,"_emval_take_value");var R=y.readValueFromPointer(m);return gr.toHandle(R)},Ql=(y,m,R,O)=>{var B=new Date().getFullYear(),U=new Date(B,0,1),$=new Date(B,6,1),G=U.getTimezoneOffset(),Z=$.getTimezoneOffset(),re=Math.max(G,Z);C[y>>2]=re*60,S[m>>2]=+(G!=Z);var oe=ze=>{var ct=ze>=0?"-":"+",kt=Math.abs(ze),At=String(Math.floor(kt/60)).padStart(2,"0"),Bt=String(kt%60).padStart(2,"0");return`UTC${ct}${At}${Bt}`},we=oe(G),je=oe(Z);Z<G?(mn(we,R,17),mn(je,O,17)):(mn(we,O,17),mn(je,R,17))},Yl=()=>2147483648,Td=(y,m)=>Math.ceil(y/m)*m,ua=y=>{var m=T.buffer,R=(y-m.byteLength+65535)/65536|0;try{return T.grow(R),V(),1}catch{}},Cd=y=>{var m=N.length;y>>>=0;var R=Yl();if(y>R)return!1;for(var O=1;O<=4;O*=2){var B=m*(1+.2/O);B=Math.min(B,y+100663296);var U=Math.min(R,Td(Math.max(y,B),65536)),$=ua(U);if($)return!0}return!1},da={},di=()=>u||"./this.program",$i=()=>{if(!$i.strings){var y=(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",m={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:y,_:di()};for(var R in da)da[R]===void 0?delete m[R]:m[R]=da[R];var O=[];for(var R in m)O.push(`${R}=${m[R]}`);$i.strings=O}return $i.strings},Ad=(y,m)=>{var R=0,O=0;for(var B of $i()){var U=m+R;C[y+O>>2]=U,R+=mn(B,U,1/0)+1,O+=4}return 0},Id=(y,m)=>{var R=$i();C[y>>2]=R.length;var O=0;for(var B of R)O+=cd(B)+1;return C[m>>2]=O,0},Rd=y=>52;function ha(y,m,R,O,B){return 70}var gn=[null,[],[]],Sd=(y,m)=>{var R=gn[y];m===0||m===10?((y===1?E:_)(uo(R)),R.length=0):R.push(m)},xd=(y,m,R,O)=>{for(var B=0,U=0;U<R;U++){var $=C[m>>2],G=C[m+4>>2];m+=8;for(var Z=0;Z<G;Z++)Sd(y,N[$+Z]);B+=G}return C[O>>2]=B,0},Qi=y=>y;Xt(),Zp(),ed(),nm(),n.noExitRuntime&&n.noExitRuntime,n.print&&(E=n.print),n.printErr&&(_=n.printErr),n.wasmBinary&&(I=n.wasmBinary),n.arguments&&n.arguments,n.thisProgram&&(u=n.thisProgram);var c={s:Jt,w:ot,a:Zn,j:ni,m:ro,N:yt,p:at,da:ri,d:dr,_:io,sa:Ge,Z:Vt,na:zt,qa:ci,pa:rd,F:sa,la:rm,R:Mr,S:od,y:ld,t:qi,ra:sm,ma:dd,O:fd,K:pd,ta:md,oa:aa,V:yr,ua:Gl,wa:yd,$:wd,T:po,va:Ed,ka:_d,aa:Ql,ea:Cd,ba:Ad,ca:Id,fa:Rd,X:ha,Q:xd,I:AP,C:RP,U:lP,P:DP,q:EP,b:iP,D:CP,ia:xP,c:oP,ha:bP,h:aP,i:fP,r:mP,M:TP,v:yP,E:wP,J:_P,A:SP,H:MP,W:LP,k:uP,f:cP,e:sP,g:Wl,L:NP,l:hP,ja:IP,o:gP,x:pP,u:vP,ga:kP,B:PP,n:dP,G:OP,Y:VP,z:Qi},p=await ve();p.ya;var v=p.za,x=n._free=p.Aa,q=n._malloc=p.Ca,Q=p.Da,K=p.Ea,We=p.Fa,Pt=p.Ga,Fe=p.Ha,Lt=p.Ia,Ft=p.Ja,Yi=p.Ka;n.dynCall_viijii=p.La;var On=n.dynCall_vij=p.Ma;n.dynCall_jiji=p.Na;var fa=n.dynCall_jiiii=p.Oa;n.dynCall_iiiiij=p.Pa,n.dynCall_iiiiijj=p.Qa,n.dynCall_iiiiiijj=p.Ra;function Wl(y,m,R,O){var B=ge();try{be(y)(m,R,O)}catch(U){if(he(B),U!==U+0)throw U;K(1,0)}}function iP(y,m){var R=ge();try{return be(y)(m)}catch(O){if(he(R),O!==O+0)throw O;K(1,0)}}function sP(y,m,R){var O=ge();try{be(y)(m,R)}catch(B){if(he(O),B!==B+0)throw B;K(1,0)}}function oP(y,m,R){var O=ge();try{return be(y)(m,R)}catch(B){if(he(O),B!==B+0)throw B;K(1,0)}}function aP(y,m,R,O){var B=ge();try{return be(y)(m,R,O)}catch(U){if(he(B),U!==U+0)throw U;K(1,0)}}function lP(y,m,R,O,B){var U=ge();try{return be(y)(m,R,O,B)}catch($){if(he(U),$!==$+0)throw $;K(1,0)}}function cP(y,m){var R=ge();try{be(y)(m)}catch(O){if(he(R),O!==O+0)throw O;K(1,0)}}function uP(y){var m=ge();try{be(y)()}catch(R){if(he(m),R!==R+0)throw R;K(1,0)}}function dP(y,m,R,O,B,U,$,G,Z,re,oe){var we=ge();try{be(y)(m,R,O,B,U,$,G,Z,re,oe)}catch(je){if(he(we),je!==je+0)throw je;K(1,0)}}function hP(y,m,R,O,B){var U=ge();try{be(y)(m,R,O,B)}catch($){if(he(U),$!==$+0)throw $;K(1,0)}}function fP(y,m,R,O,B){var U=ge();try{return be(y)(m,R,O,B)}catch($){if(he(U),$!==$+0)throw $;K(1,0)}}function pP(y,m,R,O,B,U,$){var G=ge();try{be(y)(m,R,O,B,U,$)}catch(Z){if(he(G),Z!==Z+0)throw Z;K(1,0)}}function mP(y,m,R,O,B,U){var $=ge();try{return be(y)(m,R,O,B,U)}catch(G){if(he($),G!==G+0)throw G;K(1,0)}}function gP(y,m,R,O,B,U){var $=ge();try{be(y)(m,R,O,B,U)}catch(G){if(he($),G!==G+0)throw G;K(1,0)}}function yP(y,m,R,O,B,U,$){var G=ge();try{return be(y)(m,R,O,B,U,$)}catch(Z){if(he(G),Z!==Z+0)throw Z;K(1,0)}}function vP(y,m,R,O,B,U,$,G){var Z=ge();try{be(y)(m,R,O,B,U,$,G)}catch(re){if(he(Z),re!==re+0)throw re;K(1,0)}}function wP(y,m,R,O,B,U,$,G){var Z=ge();try{return be(y)(m,R,O,B,U,$,G)}catch(re){if(he(Z),re!==re+0)throw re;K(1,0)}}function EP(y){var m=ge();try{return be(y)()}catch(R){if(he(m),R!==R+0)throw R;K(1,0)}}function _P(y,m,R,O,B,U,$,G,Z){var re=ge();try{return be(y)(m,R,O,B,U,$,G,Z)}catch(oe){if(he(re),oe!==oe+0)throw oe;K(1,0)}}function TP(y,m,R,O,B,U,$){var G=ge();try{return be(y)(m,R,O,B,U,$)}catch(Z){if(he(G),Z!==Z+0)throw Z;K(1,0)}}function CP(y,m,R,O){var B=ge();try{return be(y)(m,R,O)}catch(U){if(he(B),U!==U+0)throw U;K(1,0)}}function AP(y,m,R,O){var B=ge();try{return be(y)(m,R,O)}catch(U){if(he(B),U!==U+0)throw U;K(1,0)}}function IP(y,m,R,O,B,U,$,G){var Z=ge();try{be(y)(m,R,O,B,U,$,G)}catch(re){if(he(Z),re!==re+0)throw re;K(1,0)}}function RP(y,m,R,O,B,U){var $=ge();try{return be(y)(m,R,O,B,U)}catch(G){if(he($),G!==G+0)throw G;K(1,0)}}function SP(y,m,R,O,B,U,$,G,Z,re){var oe=ge();try{return be(y)(m,R,O,B,U,$,G,Z,re)}catch(we){if(he(oe),we!==we+0)throw we;K(1,0)}}function xP(y,m,R){var O=ge();try{return be(y)(m,R)}catch(B){if(he(O),B!==B+0)throw B;K(1,0)}}function bP(y,m,R,O,B){var U=ge();try{return be(y)(m,R,O,B)}catch($){if(he(U),$!==$+0)throw $;K(1,0)}}function PP(y,m,R,O,B,U,$,G,Z,re){var oe=ge();try{be(y)(m,R,O,B,U,$,G,Z,re)}catch(we){if(he(oe),we!==we+0)throw we;K(1,0)}}function kP(y,m,R,O,B,U,$,G,Z){var re=ge();try{be(y)(m,R,O,B,U,$,G,Z)}catch(oe){if(he(re),oe!==oe+0)throw oe;K(1,0)}}function NP(y,m,R,O,B,U,$){var G=ge();try{be(y)(m,R,O,B,U,$)}catch(Z){if(he(G),Z!==Z+0)throw Z;K(1,0)}}function DP(y,m,R,O){var B=ge();try{return be(y)(m,R,O)}catch(U){if(he(B),U!==U+0)throw U;K(1,0)}}function MP(y,m,R,O,B,U,$,G,Z,re,oe,we){var je=ge();try{return be(y)(m,R,O,B,U,$,G,Z,re,oe,we)}catch(ze){if(he(je),ze!==ze+0)throw ze;K(1,0)}}function OP(y,m,R,O,B,U,$,G,Z,re,oe,we,je,ze,ct,kt){var At=ge();try{be(y)(m,R,O,B,U,$,G,Z,re,oe,we,je,ze,ct,kt)}catch(Bt){if(he(At),Bt!==Bt+0)throw Bt;K(1,0)}}function VP(y,m,R,O){var B=ge();try{On(y,m,R,O)}catch(U){if(he(B),U!==U+0)throw U;K(1,0)}}function LP(y,m,R,O,B){var U=ge();try{return fa(y,m,R,O,B)}catch($){if(he(U),$!==$+0)throw $;K(1,0)}}function dm(){if(ie>0){le=dm;return}if(L(),ie>0){le=dm;return}function y(){var m;n.calledRun=!0,!w&&(M(),r(n),(m=n.onRuntimeInitialized)===null||m===void 0||m.call(n),ne())}n.setStatus?(n.setStatus("Running..."),setTimeout(()=>{setTimeout(()=>n.setStatus(""),1),y()},1)):y()}function FP(){if(n.preInit)for(typeof n.preInit=="function"&&(n.preInit=[n.preInit]);n.preInit.length>0;)n.preInit.shift()()}return FP(),dm(),e=s,e};function hj(t){return zb($b,t)}async function fj(t,e){return dj($b,t,e)}const Qb=[["aztec","Aztec"],["code_128","Code128"],["code_39","Code39"],["code_93","Code93"],["codabar","Codabar"],["databar","DataBar"],["databar_expanded","DataBarExpanded"],["databar_limited","DataBarLimited"],["data_matrix","DataMatrix"],["dx_film_edge","DXFilmEdge"],["ean_13","EAN-13"],["ean_8","EAN-8"],["itf","ITF"],["maxi_code","MaxiCode"],["micro_qr_code","MicroQRCode"],["pdf417","PDF417"],["qr_code","QRCode"],["rm_qr_code","rMQRCode"],["upc_a","UPC-A"],["upc_e","UPC-E"],["linear_codes","Linear-Codes"],["matrix_codes","Matrix-Codes"],["any","Any"]],pj=[...Qb,["unknown"]].map(t=>t[0]),tv=new Map(Qb);function mj(t){for(const[e,n]of tv)if(t===n)return e;return"unknown"}function gj(t){if(Yb(t))return{width:t.naturalWidth,height:t.naturalHeight};if(Wb(t))return{width:t.width.baseVal.value,height:t.height.baseVal.value};if(Kb(t))return{width:t.videoWidth,height:t.videoHeight};if(Jb(t))return{width:t.width,height:t.height};if(Xb(t))return{width:t.displayWidth,height:t.displayHeight};if(Hb(t))return{width:t.width,height:t.height};if(Zb(t))return{width:t.width,height:t.height};throw new TypeError("The provided value is not of type '(Blob or HTMLCanvasElement or HTMLImageElement or HTMLVideoElement or ImageBitmap or ImageData or OffscreenCanvas or SVGImageElement or VideoFrame)'.")}function Yb(t){var e,n;try{return t instanceof((n=(e=t==null?void 0:t.ownerDocument)==null?void 0:e.defaultView)==null?void 0:n.HTMLImageElement)}catch{return!1}}function Wb(t){var e,n;try{return t instanceof((n=(e=t==null?void 0:t.ownerDocument)==null?void 0:e.defaultView)==null?void 0:n.SVGImageElement)}catch{return!1}}function Kb(t){var e,n;try{return t instanceof((n=(e=t==null?void 0:t.ownerDocument)==null?void 0:e.defaultView)==null?void 0:n.HTMLVideoElement)}catch{return!1}}function Hb(t){var e,n;try{return t instanceof((n=(e=t==null?void 0:t.ownerDocument)==null?void 0:e.defaultView)==null?void 0:n.HTMLCanvasElement)}catch{return!1}}function Jb(t){try{return t instanceof ImageBitmap||Object.prototype.toString.call(t)==="[object ImageBitmap]"}catch{return!1}}function Zb(t){try{return t instanceof OffscreenCanvas||Object.prototype.toString.call(t)==="[object OffscreenCanvas]"}catch{return!1}}function Xb(t){try{return t instanceof VideoFrame||Object.prototype.toString.call(t)==="[object VideoFrame]"}catch{return!1}}function yj(t){try{return t instanceof Blob||Object.prototype.toString.call(t)==="[object Blob]"}catch{return!1}}function vj(t){try{return t instanceof ImageData||Object.prototype.toString.call(t)==="[object ImageData]"}catch{return!1}}function wj(t,e){try{const n=new OffscreenCanvas(t,e);if(n.getContext("2d")instanceof OffscreenCanvasRenderingContext2D)return n;throw void 0}catch{const n=document.createElement("canvas");return n.width=t,n.height=e,n}}async function eP(t){if(Yb(t)&&!await Cj(t))throw new DOMException("Failed to load or decode HTMLImageElement.","InvalidStateError");if(Wb(t)&&!await Aj(t))throw new DOMException("Failed to load or decode SVGImageElement.","InvalidStateError");if(Xb(t)&&Ij(t))throw new DOMException("VideoFrame is closed.","InvalidStateError");if(Kb(t)&&(t.readyState===0||t.readyState===1))throw new DOMException("Invalid element or state.","InvalidStateError");if(Jb(t)&&Sj(t))throw new DOMException("The image source is detached.","InvalidStateError");const{width:e,height:n}=gj(t);if(e===0||n===0)return null;const r=wj(e,n).getContext("2d");r.drawImage(t,0,0);try{return r.getImageData(0,0,e,n)}catch{throw new DOMException("Source would taint origin.","SecurityError")}}async function Ej(t){let e;try{e=await createImageBitmap(t)}catch{try{if(globalThis.Image){e=new Image;let n="";try{n=URL.createObjectURL(t),e.src=n,await e.decode()}finally{URL.revokeObjectURL(n)}}else return t}catch{throw new DOMException("Failed to load or decode Blob.","InvalidStateError")}}return await eP(e)}function _j(t){const{width:e,height:n}=t;if(e===0||n===0)return null;const r=t.getContext("2d");try{return r.getImageData(0,0,e,n)}catch{throw new DOMException("Source would taint origin.","SecurityError")}}async function Tj(t){if(yj(t))return await Ej(t);if(vj(t)){if(Rj(t))throw new DOMException("The image data has been detached.","InvalidStateError");return t}return Hb(t)||Zb(t)?_j(t):await eP(t)}async function Cj(t){try{return await t.decode(),!0}catch{return!1}}async function Aj(t){var e;try{return await((e=t.decode)==null?void 0:e.call(t)),!0}catch{return!1}}function Ij(t){return t.format===null}function Rj(t){return t.data.buffer.byteLength===0}function Sj(t){return t.width===0&&t.height===0}function aT(t,e){return xj(t)?new DOMException(`${e}: ${t.message}`,t.name):bj(t)?new t.constructor(`${e}: ${t.message}`):new Error(`${e}: ${t}`)}function xj(t){return t instanceof DOMException||Object.prototype.toString.call(t)==="[object DOMException]"}function bj(t){return t instanceof Error||Object.prototype.toString.call(t)==="[object Error]"}var Gh;class nv{constructor(e={}){Y8(this,Gh);var n;try{const r=(n=e==null?void 0:e.formats)==null?void 0:n.filter(i=>i!=="unknown");if((r==null?void 0:r.length)===0)throw new TypeError("Hint option provided, but is empty.");for(const i of r??[])if(!tv.has(i))throw new TypeError(`Failed to read the 'formats' property from 'BarcodeDetectorOptions': The provided value '${i}' is not a valid enum value of type BarcodeFormat.`);W8(this,Gh,r??[]),hj({fireImmediately:!0}).catch(()=>{})}catch(r){throw aT(r,"Failed to construct 'BarcodeDetector'")}}static async getSupportedFormats(){return pj.filter(e=>e!=="unknown")}async detect(e){try{const n=await Tj(e);if(n===null)return[];let r;const i={tryCode39ExtendedMode:!1,textMode:"Plain",formats:Q8(this,Gh).map(s=>tv.get(s))};try{r=await fj(n,i)}catch(s){throw console.error(s),new DOMException("Barcode detection service unavailable.","NotSupportedError")}return r.map(s=>{const{topLeft:{x:o,y:a},topRight:{x:l,y:u},bottomLeft:{x:d,y:f},bottomRight:{x:h,y:g}}=s.position,E=Math.min(o,l,d,h),_=Math.min(a,u,f,g),I=Math.max(o,l,d,h),T=Math.max(a,u,f,g);return{boundingBox:new DOMRectReadOnly(E,_,I-E,T-_),rawValue:s.text,format:mj(s.format),cornerPoints:[{x:o,y:a},{x:l,y:u},{x:h,y:g},{x:d,y:f}]}})}catch(n){throw aT(n,"Failed to execute 'detect' on 'BarcodeDetector'")}}}Gh=new WeakMap;globalThis.BarcodeDetector!=null||(globalThis.BarcodeDetector=nv);function Pj(t){const{onClick:e,disabled:n,className:r}=t,i={cursor:n?"default":"pointer",stroke:n?"grey":"yellow",strokeLineJoin:"round",strokeLineCap:"round",strokeWidth:1.5,...t.style};return Y.createElement("svg",{onClick:n?void 0:e,className:r,style:i,width:"28px",height:"28px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Y.createElement("path",{d:"M3 3L6.00007 6.00007M21 21L19.8455 19.8221M9.74194 4.06811C9.83646 4.04279 9.93334 4.02428 10.0319 4.01299C10.1453 4 10.2683 4 10.5141 4H13.5327C13.7786 4 13.9015 4 14.015 4.01299C14.6068 4.08078 15.1375 4.40882 15.4628 4.90782C15.5252 5.00345 15.5802 5.11345 15.6901 5.33333C15.7451 5.44329 15.7726 5.49827 15.8037 5.54609C15.9664 5.79559 16.2318 5.95961 16.5277 5.9935C16.5844 6 16.6459 6 16.7688 6H17.8234C18.9435 6 19.5036 6 19.9314 6.21799C20.3077 6.40973 20.6137 6.71569 20.8055 7.09202C21.0234 7.51984 21.0234 8.0799 21.0234 9.2V15.3496M19.8455 19.8221C19.4278 20 18.8702 20 17.8234 20H6.22344C5.10333 20 4.54328 20 4.11546 19.782C3.73913 19.5903 3.43317 19.2843 3.24142 18.908C3.02344 18.4802 3.02344 17.9201 3.02344 16.8V9.2C3.02344 8.0799 3.02344 7.51984 3.24142 7.09202C3.43317 6.71569 3.73913 6.40973 4.11546 6.21799C4.51385 6.015 5.0269 6.00103 6.00007 6.00007M19.8455 19.8221L14.5619 14.5619M14.5619 14.5619C14.0349 15.4243 13.0847 16 12 16C10.3431 16 9 14.6569 9 13C9 11.9153 9.57566 10.9651 10.4381 10.4381M14.5619 14.5619L10.4381 10.4381M10.4381 10.4381L6.00007 6.00007"}))}function kj(t){const{onClick:e,disabled:n,className:r}=t,i={cursor:n?"default":"pointer",stroke:n?"grey":"yellow",strokeLineJoin:"round",strokeLineCap:"round",strokeWidth:1.5,...t.style};return Y.createElement("svg",{onClick:n?void 0:e,className:r,style:i,width:"28px",height:"28px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Y.createElement("path",{d:"M12 16C13.6569 16 15 14.6569 15 13C15 11.3431 13.6569 10 12 10C10.3431 10 9 11.3431 9 13C9 14.6569 10.3431 16 12 16Z"}),Y.createElement("path",{d:"M3 16.8V9.2C3 8.0799 3 7.51984 3.21799 7.09202C3.40973 6.71569 3.71569 6.40973 4.09202 6.21799C4.51984 6 5.0799 6 6.2 6H7.25464C7.37758 6 7.43905 6 7.49576 5.9935C7.79166 5.95961 8.05705 5.79559 8.21969 5.54609C8.25086 5.49827 8.27836 5.44328 8.33333 5.33333C8.44329 5.11342 8.49827 5.00346 8.56062 4.90782C8.8859 4.40882 9.41668 4.08078 10.0085 4.01299C10.1219 4 10.2448 4 10.4907 4H13.5093C13.7552 4 13.8781 4 13.9915 4.01299C14.5833 4.08078 15.1141 4.40882 15.4394 4.90782C15.5017 5.00345 15.5567 5.11345 15.6667 5.33333C15.7216 5.44329 15.7491 5.49827 15.7803 5.54609C15.943 5.79559 16.2083 5.95961 16.5042 5.9935C16.561 6 16.6224 6 16.7454 6H17.8C18.9201 6 19.4802 6 19.908 6.21799C20.2843 6.40973 20.5903 6.71569 20.782 7.09202C21 7.51984 21 8.0799 21 9.2V16.8C21 17.9201 21 18.4802 20.782 18.908C20.5903 19.2843 20.2843 19.5903 19.908 19.782C19.4802 20 18.9201 20 17.8 20H6.2C5.0799 20 4.51984 20 4.09202 19.782C3.71569 19.5903 3.40973 19.2843 3.21799 18.908C3 18.4802 3 17.9201 3 16.8Z"}))}function Nj(t){const{scanning:e,startScanning:n,stopScanning:r}=t,[i,s]=b.useState(!1);function o(){s(!0),e?r():n(),setTimeout(()=>s(!1),1e3)}return Y.createElement("div",{style:{bottom:85,right:8,position:"absolute",zIndex:2,cursor:i?"default":"pointer"}},e?Y.createElement(Pj,{disabled:i,onClick:o}):Y.createElement(kj,{disabled:i,onClick:o}))}function Dj(t){const{onClick:e,className:n,style:r}=t;return Y.createElement("svg",{onClick:e,width:"30px",height:"30px",viewBox:"0 0 24 24",className:n,style:r,xmlns:"http://www.w3.org/2000/svg"},Y.createElement("path",{strokeWidth:.2,stroke:"yellow",fill:"yellow",d:"M13.225 9l5.025-7h-7.972l-3.3 11h5.359l-2.452 8.648.75.364L20.374 9zm.438 3H8.322l2.7-9H16.3l-5.025 7h7.101l-6.7 8.953z"}))}function Mj(t){const{onClick:e,className:n,style:r}=t;return Y.createElement("svg",{onClick:e,width:"30px",height:"30px",viewBox:"0 0 24 24",className:n,style:r,xmlns:"http://www.w3.org/2000/svg"},Y.createElement("path",{strokeWidth:.2,stroke:"yellow",fill:"yellow",d:"M14.516 15.158l.714.714-4.595 6.14-.75-.364L12.337 13H6.978L8.22 8.861l.803.803L8.322 12h3.036l1.793 1.792-1.475 5.16zm5.984 4.05L4.793 3.5l.707-.707 3.492 3.492L10.278 2h7.972l-5.025 7h7.149l-3.71 4.957 4.543 4.543zM12.707 10l3.243 3.243L18.376 10zM9.795 7.088l2.079 2.079L16.3 3h-5.278z"}))}function Oj(t){const{status:e,scanning:n,torchToggle:r}=t;function i(s){r(s)}return n&&r?Y.createElement("div",{style:{bottom:35,right:8,position:"absolute",zIndex:2,cursor:"pointer"}},e?Y.createElement(Mj,{onClick:()=>i(!1)}):Y.createElement(Dj,{onClick:()=>i(!0)})):null}function Vj(t){const{onClick:e,className:n,disabled:r=!1}=t,i={cursor:r?"default":"pointer",stroke:r?"grey":"yellow",fill:r?"grey":"yellow",...t.style};return Y.createElement("svg",{onClick:r?void 0:e,width:"30px",height:"30px",viewBox:"0 0 24 24",className:n,style:i,xmlns:"http://www.w3.org/2000/svg"},Y.createElement("path",{strokeWidth:.3,d:"M16.279,17.039c-1.396,1.209 -3.216,1.941 -5.206,1.941c-4.393,0 -7.96,-3.567 -7.96,-7.96c-0,-4.393 3.567,-7.96 7.96,-7.96c4.393,0 7.96,3.567 7.96,7.96c-0,2.044 -0.772,3.909 -2.04,5.319l0.165,0.165c1.194,1.194 2.388,2.388 3.583,3.582c0.455,0.456 -0.252,1.163 -0.707,0.708l-3.755,-3.755Zm1.754,-6.019c-0,-3.841 -3.119,-6.96 -6.96,-6.96c-3.842,0 -6.96,3.119 -6.96,6.96c-0,3.841 3.118,6.96 6.96,6.96c3.841,0 6.96,-3.119 6.96,-6.96Zm-7.46,0.5l-1.5,0c-0.645,0 -0.643,-1 -0,-1l1.5,0l-0,-1.5c-0,-0.645 1,-0.643 1,0l-0,1.5l1.5,0c0.645,0 0.643,1 -0,1l-1.5,0l-0,1.5c-0,0.645 -1,0.643 -1,0l-0,-1.5Z"}))}function Lj(t){const{onClick:e,className:n,disabled:r=!1}=t,i={cursor:r?"default":"pointer",stroke:r?"grey":"yellow",fill:r?"grey":"yellow",...t.style};return Y.createElement("svg",{onClick:r?void 0:e,width:"30px",height:"30px",viewBox:"0 0 24 24",className:n,style:i,xmlns:"http://www.w3.org/2000/svg"},Y.createElement("path",{strokeWidth:.3,d:"M16.279,17.039c-1.396,1.209 -3.216,1.941 -5.206,1.941c-4.393,0 -7.96,-3.567 -7.96,-7.96c-0,-4.393 3.567,-7.96 7.96,-7.96c4.393,0 7.96,3.567 7.96,7.96c-0,2.044 -0.772,3.909 -2.04,5.319l0.165,0.165c1.194,1.194 2.388,2.388 3.583,3.582c0.455,0.456 -0.252,1.163 -0.707,0.708l-3.755,-3.755Zm1.754,-6.019c-0,-3.841 -3.119,-6.96 -6.96,-6.96c-3.842,0 -6.96,3.119 -6.96,6.96c-0,3.841 3.118,6.96 6.96,6.96c3.841,0 6.96,-3.119 6.96,-6.96Zm-4.96,-0.5c0.645,0 0.643,1 -0,1l-4,0c-0.645,0 -0.643,-1 -0,-1l4,0Z"}))}function Fj(t){const{scanning:e,capabilities:n,onZoom:r,value:i}=t;if(!e||!r)return null;const s=(n.max-n.min)/3;return Y.createElement(b.Fragment,null,Y.createElement("div",{style:{bottom:130,right:8,position:"absolute",zIndex:2,cursor:"pointer"}},Y.createElement(Lj,{disabled:i<=n.min,onClick:function(){r(Math.max(i-s,n.min))}})),Y.createElement("div",{style:{bottom:180,right:8,position:"absolute",zIndex:2,cursor:"pointer"}},Y.createElement(Vj,{disabled:i>=n.max,onClick:function(){r(Math.min(i+s,n.max))}})))}const Zi={fullContainer:{width:"100%",height:"100%",position:"relative",display:"flex",alignItems:"center",justifyContent:"center",overflow:"hidden"},innerContainer:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",position:"relative"},overlay:{position:"absolute",top:0,right:0,bottom:0,left:0,pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},borderBox:{position:"relative",width:"70%",aspectRatio:"1 / 1",border:"2px dashed rgba(239, 68, 68, 0.4)",borderRadius:"0.5rem"},cornerTopLeft:{position:"absolute",width:"15%",height:"15%",border:"4px solid #ef4444",top:0,left:0,borderBottomColor:"transparent",borderRightColor:"transparent",borderTopLeftRadius:"0.5rem"},cornerTopRight:{position:"absolute",width:"15%",height:"15%",border:"4px solid #ef4444",top:0,right:0,borderBottomColor:"transparent",borderLeftColor:"transparent",borderTopRightRadius:"0.5rem"},cornerBottomLeft:{position:"absolute",width:"15%",height:"15%",border:"4px solid #ef4444",bottom:0,left:0,borderTopColor:"transparent",borderRightColor:"transparent",borderBottomLeftRadius:"0.5rem"},cornerBottomRight:{position:"absolute",width:"15%",height:"15%",border:"4px solid #ef4444",bottom:0,right:0,borderTopColor:"transparent",borderLeftColor:"transparent",borderBottomRightRadius:"0.5rem"}};function Bj(t){const{scanning:e,capabilities:n,onOff:r,torch:i,zoom:s,startScanning:o,stopScanning:a}=t;return Y.createElement("div",{style:Zi.fullContainer},Y.createElement("div",{style:Zi.innerContainer},Y.createElement("div",{style:Zi.overlay},Y.createElement("div",{style:Zi.borderBox},Y.createElement("div",{style:Zi.cornerTopLeft}),Y.createElement("div",{style:Zi.cornerTopRight}),Y.createElement("div",{style:Zi.cornerBottomLeft}),Y.createElement("div",{style:Zi.cornerBottomRight}))),r&&Y.createElement(Nj,{scanning:e,startScanning:o,stopScanning:a}),i&&n.torch&&Y.createElement(Oj,{scanning:e,status:i.status,torchToggle:i.toggle}),s&&n.zoom&&Y.createElement(Fj,{scanning:e,capabilities:n.zoom,value:s.value,onZoom:s.onChange})))}const Uj="data:audio/mp3;base64,//PkZAAhghE0AKToAJra/n0FQygAAAGIkYJgmCYXBMAAGCTJz3zhCEM//z//1hz//8MMMMN08ssV6e5DDWIQreAgCvFKy8bXgIKMkUDDBgzJwIBtkRMQAocxIFdxghQGKDoEziAzQxOBOdH92i/iGi+zDCAEIX46a73HrSybZw1x3JZjXp7dSNy/P68rjcbt7p7fakMP5LVMyzCaj1pjvejYYAIDgDGzECjEAk1Jl3559HIon8hzlfPVTCvGJZzfcKSxXfyMWM88//9VKSxXdtnb9vomOuuRyiWVYbf+X8zp6fKGHIdycuWMMMMMMKSnp+6wsYc/9f/7z7rPPWHN556p6fP8MMMP///PPP/7+GHK9PT6p7f/unldP2np7YeHjweiYA4GLNAgAiI7u57n5//oc5/yfk6znOcPhwOBwggHCMpA4HA4KEyHOc5znO+hPIc5//+fqJh8XQPh90JU5xQinOf//87/zvP+ggAYuhCKHxdA+Hxd0EA4KKHA4ciB3kOXfXB/gmf8p/B96lAMKAgAADU+BujARHgwdisgHMfAUHAiceBg4ASBgZBiBIBH4ZaHOJsLhf8R+HYEciIgYSwj/+Bi7EqBh+AcBn5P6Bh4TuBmrAMBiZH7gaLEWgew//PkZFMlyek60MpYAShzqqZhm6gCUWeEUWAewEWYGN4X4GDEPwGE8S4GDoOIGAYKgIQOkz//gGARAUB+CwGxTwMAACAEgyAwdAlAxKhzAxXiZ///AxcEwAwJjDAziCAAwQgdAwRgdAsJQDAmAcGzYDwAhZIAKAcIQB4GT9TQMJ9/4Gi1Fv/AcAYUqKBAwGgNAwVBAAwGhwAwdBlAxFg1AwlgzAwNBuAkJQDBgEEDEqGECgChFgBgL//CIswYYH//+HKCpk4K0C9AaKKCAOBeMcR4X9C44BwABCgGAsGYCgTwHAcAwXAiAwSAQV///CJP9lwMBQAwAAAWGo5lVLCcaeneVhJAVGai3//ioaUEf//gaTAYGCj8BnEwfrIqDcsIQb/vmhU/8fAs0G8YGGwKST8Igj4GCATipksVzY8p//90FWJwh45AkX//4fCF9wMEgkL3uQc+gbGJ8t4MBAMBP/hEXf9FRuWBcAfIFjYzQdoLCBwh7IWVlxaX/w8oMCP/+EQT5poGB1Ir90DhiV6af/jFYBpT2BgoQyyt2M0ToBdEaZyzt8nTo3xdNDCTSd//o6F06CjooxRr4jVF/0bOKD6OMUNDRxiMUVFR0FFQPhGXRjDpr4MAEA4wIQUhYOIw//PkZE4nrg08sOx4ACQ0CopD2aAAlwTTBxQeMcwd8w8gZTAgABXwGABOkzpI0wAQAExnWfP4x8ZjKunWdZ1o1Qe6lFGKCNULORQCELAAPnRUf/GIx/0FHGfo3SdZ0qP2cukXKLlRtBKFgAQwCkwJgFRYBEEATmDsLSY2QiQYCEnEra+UZo6F1aKMRr6GhoaP/+j//ov+i+hjLqBgMkYoqChoo1GqCjoY06TpRqjjLOYzRRmMuizmgdKhdF8kjTAAAPMCwGswzglgwAJfzqxmioKH/////////////+ijLOAwFmN0f/////////Q///8ZjP/9DGYyFwIDBeB3MA4AlBWidKM5spykAUAQOCakK+udGqN8VDYjTRuN//0bVX//6Kio4xQFv//nf//kKOoAEIB6SY6hcxenp85///4/DEPf/84Xvl4vF4dwtxfEJgCYQHMSgKCROp4+fn////L4tQf0unz89OecLxeL0ul09y6enzp4dIhKAQFA5hKfLu1nU7/Wr71rRKJUBQSUVt////l08GUPVWgAAYAeNKsxbQNAAhQx3/oKGMM6dZ1Yy6sajMbfKio7lNcv0sScZ47lNcw32ekVFMP9fp/f+mklI6at6u/dBMQuW6y+C5BcgwAA//PkZEomGg1HYGe0riWsCqbEwiY0BJFJMxrCcxGgQ2VK8xxCF1wsABgQBBgQBAYAFCkYCgALkK4fJ00E5ctJN1Uxy5au3XoGcM4dSN0EYZwzhW0WCh1PZwzhnFFQxtnbO2d0Kt6CdXbruggkTEX5Rs4TEQUVsdVXaCcuWXIBQUGmwmgoAGcJiM4dSioHQdBnEY+hjcbov//jcb/43G43G/jCRibfxugdBnDqULO2duvQumztncbo4xGKKNxugooxGIxQULoOgFgUMTA/jbrxiMDmETL+eLhcPThzOeeOZfL5fIcBYuXD/OHv8t//LJFxjxQYHHKDGFkZMtlmKM0RgQfbVtxFIHbQBDRuzRguEI1c9XZ/rWmrZfVU3Oc/9utNNygRQkCoHlAYstNN6DJ1IINpoINppv+WG/+g2mmnUmmmpBAoJIJhnwB5xkymn606Df/t000xhU03UXC5Ol8uFyXy+Xy/l8v5w4cLk4XAvwAYUvl/QL5fTdlKZkEEEEGumaKaX00zIOemf6CH///ywI3LKpiQ2Ef4xYWMSDyI0XwzikpL0ajVHZ3j9DGIjeuXcNfjn96/S/TUz/X/vX////5K/r+v7Jn+LlAoGZOIQIwMKBQM/yppKYURmhGZkR2b//PkZE0mHg1HEG8wyiD7mlwAyDU8nJHi5htakZmZGNiRcpkJhBmUmZYQcM1VDEEBggNDV/ASEZRYKFZIhkXKLlKmk7IVTKmZNJ5KhiqVUqpX+k7+qlVKyV/ZIqZDFDWTJlFyi5TJpKhiXKBQyZzIS5JhBoayV/AQWVpGWkcYTV5O/rIVSv8/0nkr+v6/vyR/X9f1/ZN8kf5/n99/n+f5/lTKmf9/mRP8yFUqpWSv4yJUqpX9kj/MmZNJ5K/z/P9J5P/v6yFUz/CEoywgUMqZkz/FssECIsVq0aPRrRRatFFFykQZJ2Ukl///5KjmksOaA7ALROJLDnEsLbq3GTMVrwb/0dGzmM0DlfBlHQOmrdR0MYi92TX6b/cmDHLclyUVYO/4O8sFTKFTKFf8yhUyhUyhXzKlDKlCsr/+ZUoVlSsr/+ZQqZUoZUoceMfcoZUoZUoVlfOPGcmDHKcpynKg9yXJcr3JclyXJclyYO+DXJclyfgxFZVb3KcqD/g2MxzsY72L9LubPR0dCyf5K5NNd+Tv9GXRdV0XJclyfcl/n+k8kf6SX/iVynvXf///4Mg/1OkxguYzmM5jMcLHMxwwGhgNCwXMLAcwMXTLi1MD7w7tmTdBvMmE0xQFzCwHMDAd//PkZGMpigkmAGOUvCfTgcgAuC+ITswMFzC4oMLhYMByn0xvU+p9Tr0xUxf/0xv///1PBYDhgNTFTFTGTGTGTGTGTGTGTGC4GTFMDAcLAdMVMVMULAcMBpgYDhcDGFwsYXFBikLGFwMGA4MBxgcDKfTEMUoAx2BisD+mKp5Tv1OkxkxkxkxkxkxkxkxlO0xVPJi/6nv////U7CwHTFTFTGTGTGTGU+p71PpjJipihYDpipi/6n1Ov//C4GC4GTGTGTGTFU8WBSZdLhWB//yKlotyLZFiLf8tyyRUipFSKkVGRBZQMiWC3yx//wxUGKsSvDFQGHUAL3QMsHDFIYpCYy2Bmagy6BjLgy6Bh3od58DCLAizBgRb+EQiyEQiwGBFuDAi3/////20QqSBJf/qcumv/////wMZdGXAYMu1gYy6MuBEZdBgy4BjLgy6BjLgy6BjLgy6BjLQy6DBlz2cJDLgRGXAMZdGXAYMuhMZcCIy6sJGaoGMuppwNRl3WBjLgy63wiEWAwIt/+EQi0IhFsDCLAi0GBFkGBFgMJCqaqYAgAYIhBBvwf7kwcqRq7V3IctacvlN6NxqgooxRRuNRiijEZjMGRuMvz9FGozQ+1X2qe1T1S//+VhaWAtKwtML//PkZEIkbgcaAHc1xCJrjeAAtfuUAtLAWf///mWePH95ZFgsyssvM88+jzO6K+z7OM48sH+WDiweZx5YOK+zxWLGJWsa6xadAv02fTZLSpsFpvLSga0tMgWgUgWmwgUmyWl8tMgWWmLSoFJsoFlpSwsmyBg4HhEdgwHAYPBwGDgeBg8HwMHg4DB4PBgOAwcOwMHLwDn5lAwcDgiDgYDwMHA/4MB3//+EQeDAdwiDwYLPhEWQYLODBYERZBgt8Ii34GLBaB5pfAZ0FvEAQ/UfwxULlx+IXx+8f5CELH8fxKhAIDFoHBEDRc3////gwHgaRXgMHYMB2EU/gwZ/gYbw3gY3QbgYNgbgYiAbgwN3/+EQbBEG4MBuDAbAwG4RBtAwbg2////+B9B6F//////////hEdD//////////8DRahEQGCInMNg3LBElgNjDciCwG/lgNiwGxWG///mG4bf/+WA3Kw3KyIMNw2Kw3MNg3MNg3MNiIMiQ2OK0xMiA3KyJLAEZgRARmBEDEYFwBBgEgEeomowol5YAJKwCDAIAJ8sAE+gGBgCJYAQUZ/13LubMu5dyiYOAhKwEFGf9AOoz/g4CFAIol/lgAjysAgsAElYBP////lgJksBM//lgRUxF//PkZGApggsIAHt2wiNLoggAqCz8RFSwIqYioipkjEjHCCSN/+WJg5iYOYmPK5krmTmZk5mZ8sTJYmf8yJiNiIisi/ywRmRkZkZGZGRmRERkREZERGRERkREZERGxEf///hETIMEyBiZEyBiZEzwiJgDEwU4DV2gQGFOBgmP8GAiAwRAiBgIgYCIGAi/4MBHAwRgjAwRgjwMEQIgMcgY8DBGCMDBGCMDEyJn///+BiYQIBlObj4eYLIwsjAOBGFkYBoEQ84eULIw88LIA88PKHnw8sPKFkeHlANAiAaFUDAiMYPIHmDzBZBhZB///8GBOA1sH/Awni7AwnhPCITwYE/CKzBgt8Ig8GA4Ig6EQdww4Yb+F1sIgtwYCwGAsAwWAsBgLAYCwDBYCwDBaHUDF+VEDKgC2BgtBaDAWgYLQW////gYLAWQMFgLAMFoLcGAt////4RMABmBSj4NgwMOGHBsHhdcLrwbB4XXC6+F14YcLrww4Ng8MOGHBsHww4Ng8AUC4AoMQMC4fgw3wutV4QIsAgFYIBWCCVgHeVgHeWABCwAIVgH+YBwB5aRAstKgV6Ba1oMg9avtUVN/qdLWciD/cqD3Jg6DFPuTB/////lYAn//mC8C+YLwL5gvgvGC//PkZFEpLgMKYXt2xB5LogAArbdc+C8VgvlYL/mC8C+YLwL5YBfMNgNkwXixDWoHPMc4VUxVA2TBeDZPYXzXl815fK14sLxYXvK1//NeXzXl815fMtdDLSw3UsMtLCstMtLDLSwsFhWWlgt//8sFhW6f/////+WF7zXl8sL5ry+Vrxry+WF/wMLwX4MC+EQv/AwvBfAxsjYAyqpKA0lpLAwvBfBgXv///4RA2DANAYGgNgYGgNgYGwN+EQvf/BgXwYF//8DC+F4Dd6NgGBf4AgFwbB0MMF1wuuDYMBsGwusDYOBsHA2Dvg2DQuuDYOhdcMMF14YYDGYDEGwfhhgbB0MN///4RBaEQWgZByoYRWYMFvwiDsGwaF1gbB34GDwdC64XW/w1aKxDVgatir4YcLrQbBwNg7////////////+ESfgZPyff/////////4MFmBvvMAERZ8CC5adNj02E2S0qbCBSBZaYtN///oFlpU2QMXIFAYuQK9AtAo7IxLTpsIFJs/5aZRxQawaxGfIg9CsrI+PUqkWdOHp7ODsOl6cOHZ4dsulfLI9/8BAAgMBACsBLACVgBjoAWAE5OTM6WDAR0zodMdHCsJLASWAjzCQgsBJhASWAjysI8wkJMICU//PkZFkeqgcaYDd1th6DogAAqCuIxQwtDA5MdMULgyY6YqnXqdep5TpMdMVRNRL/UT9AN6jCiSjKAZRNRhAMomgFQDfCIJwYCQiCAiCMGAkGAgDBJUA3eVAMEgj////8SrDFIYqh5g8kPMHkDzB5OFkYeYPJ+HlDzB5+AYVQDibCyIPLLEZIsjIliWS0WywWyyWuWCyWJaLZbLJYDHgLAItFvy3///4eYPKBlQTh5QYEODBb//hhoNg7/C62DYPFUKwKsVgNWBq8VkVcVkVUVYrH//hGff/8Iz8GT7//////wiX4ML3gwvgwvf4ML3gZeqoHVGyBl4vgZfL2F1oNg4Lrg2DcLrg2DQw0Lrhh8Lr4YcMNBsGhdcGBcMOGGAFGAGMQsF1guuGG4XXV/4uQXOLmF1kL/8lCXkuSk4O8/FzHzuP0hIucf/CIFAMCgFPgYFAKAwCgGBQCgGHYO4GBVM4GgQI4RCMEQKQOtQjUI1CNcI14MqDKwDIAGQDzh5wsjDyw8uHmDzYeUPN+DEYRRhFEIowYgDQgIhWDApgwKAwKQYFAYFQMKkYDOxHAzsRgMKBUGBX/h5v+Hm4ecPNh5A8wBwjhZHhZAHlDzBZAFkAeQPKHnCyILIAsih5QsgDz//PkZLQgIgsMAFp1xCGLogAAA2rkB5w8oeYLIQ8kPMHkCyGHnAMKoGmAgFkUPMHmDYAtfHPHNkr/JYl8c8lCWHPHMkqSo5onMAkBDnfJX//8IgDBgBhEdAaxSQMHUGAEIgAV4risCcipBOMVRVBO////hEvAxsAwvf////8MPDDww4XWC64XXDDww4YcMPC6wYb/wYGgiGwMplMDYhTCIaCIaBga/////8GA+EQdgYPB4MB4GDwdhEH8Ig8Ig8GA6EQcEQf8DBxlBjoAweDuFwgCQXiL//iLiKCKCL4XCiKRFwEgoRT4iqpMQU1FMy4xMDCqqqqqqqr////xuDd8fv/DVwrArEIg6EQdhEHAYPBwMB+ERYBi0WAwWAZ0FoGLYOB+JfgZ0FoGdBaDBYbn+WHm9xW7/Nzzc83PLDzc8reWlA7S0oHamx//6BflpU2C0qbBaf/8yk/ysn+VkMhTKQrKVk8yE8rIVkKyYsAn/5WC+YICmCApWCGTkxtKMcVWlgFMEBTBAX////0C0C0C/////////LTFpvTZLTlpv/0Ci0xaYtOgWmymyWkAxcWmTZTYTY8tMmygUWmLTIFpsFpv9NnywLmLCx2RgWmQKTZ98UjnzZ1/++D4M6/////3//PkZOgjIg8IAFcbxCaTogAAoCuIzfJ8vfJ8Wcs5fBnD5//++L5f////////6nCKv//+o0o0FUYwqDNGCwgUMKC0VVGkVv//4Yf8LrxVCriqDVoasDVuKsNWw1bisBqwVkVkVX//gy/4YYMMGGhhgwwNg4LrhdcLrAYWGAA0zBsH4Ng3C6/////4MAoGBQIDAKBgUCAwCgYEAsDAoEAwKBAYBYMAoGBQIBgUCYGBQIBgUCwiBAYBYMAoRAgRAoGBBMBooCAYFAkIgTEUxFv/EWxFxFhFoi0LhQuFiLCL/EWqTEFNRTMuMTAwqqqq//////8TWJriV/hERAwRgYiEYGIhGBmIRgYiEYMEQMEcDMSiA1GYwMR+UDMTkA7KIgMRGIGGM0SIrRGjRlhEV4jxov8rR/5YRFhEdQSViCsR5iRJWIKxPlgQYgSViSsR5WJMQJLC78IiKERF4REeERGEREERHwMRGOBmIRhERhERAwRAYiEQGIhGBmIRAajkgG5TEEREDBHwYIwYI4REXCIV/4MCmDArgwKAYUO/gYVCkGBUGBTgYUCsGBUIhUDCoUCIVBgVBgVBgUhEKQMKhUDCoUBgVAwoFAYFcGBQDI6oA5+qQiFAMjBUGBXCyEPIFkOH//PkZPMj6gr6AFdVwifkBdwAoC2Ilh5/8PPh5Qsih5IeUA0TAZrE8PP////wMRiIIqID8piAxEIwMxCMDEQjCIj//BiIDRo8Iogii/4MKwYVhEoESkDEiIGJEgYlfBgmDBIMEAYgSBiBIREAwSERH/8I7wPfuCO4I7v/8GBvAw3Bv/////gwN34RBuBg2BuBg2BuBg2BuEQbhEG+EQbAwG4MBtwiDaDAbhEGwMBuDAbAwG4GDYG8DBsDcDBuNwDRWDcIg2AwbA34RBv///CINvCINgMRIN/////wiG4DDeG+TEFNRTMuMTAwqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq/zB4OLAP8rBxWDisHlYOKxb5WLTFgsMWiw18LDOnjPxZoxadDOgsLAtLAbKymVhsrDZWG/LAb8w2GywGysNlgNFgNGFwuBQuWnTZLToFFpisLJsFp0Cy0voFAQLFZkMCAQwIBCsC/5WBCwBCwBCwBCsCeVgUwIBCwBDEwEMCAQrAhgUClgCFgTlgCGJgJ5gQTGJwKWAKYFApgQTGBQL5kY0HMjQYnAhWJvKwIWAIVgQrApYAhWBPBgECIEBgE/8IgXhECQiBAMCkcDEwEwMCAQGAQIhoIhsGBsIhvgwN//PkZN4irgr2AAOVqiUThegAnCtMgwNwiG/8IhuDA1hENhENgYbKYHb2IBhoNhENAwN////8IhsDKZS////8IhuBhspgc0KQRDWEQ3///CNf4GAIMDAwgAwAAwhAwAwYAIgwiHBgAMAYGAAGHv///CIBqBqESDEIgRYGoGHBiDEIgGoGgMAYgxgwgxCIETwYFYMCoMCuDApBgU8DCoU//gY3G//wYFOBhUKBEKQYFfBgV8IhSEQoBkYK8IhT/wMKhXBgUCIU4RCoRCvgYVCsDCp3A1SqAYFAiFP////gY3G1TEFNRTMuMTAwVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVgwCAwCBEC///////8IgUIgWEQIBgUCAwTQMCAQDAoEhECAYFIwGaRMBotWAasdwH/KqBmhFgaKI4GRgKVpjCBTCBPMJHNMFMIFKwnlgJ5hUxhUwGWlpAMuMuWLTFpvQKQLQKLTIFJsoFIFFZb/8woQwoT///MIF8rC+WAphAphAppgpYClgsmwBC6bHoFFpUCi0wGXFguWCwFLgUsgX6BZaVNj0Ci03//+EQKEQKEQLCIFAxMBcDAgFAwIBQYBODAKBgUCAYEAuDAKBgUCAYFAgRAngwCgwCwiBIRAmE//PkZN4iogj2AFdVxiUrhewAhOkwQIBgQ0gbOI4GRhOBiYCgYEAv////CIFAyMBQYBf///CIF8IgUDAgFBgEAwIRwMCCcDEwFAwIBf///CIEQGMDGEXCKBpCIDCEQDCAsYInDFQMMAuYSoTQMVfBlf//+DKfBgAiGDAQMIMIgCIQYADAEGAgwP////8ItgNu2/8DAAAiABgHhECBgQGEQARA8GAeEQIMABECEQIMAwYBBgCDAARA4GAAgYACDAARAwiAgwDhED4RABEBCIGBgDoH2dgZwCBgAP//BhX/+DCiTEFNRTMuMTAwqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqF1ww////////hdeGGDDBhwjeF102E2fTYAowMLjE0zTDfyyMYjEDJTwMLSwFi0/gQLoFIFpsegWmyBQsWlQL9ApNgtIWn8tMgX6BaBX+WmQL9Nn02f9NktIgUgWmwWl9Avy06bCBSbJaUtImyWkQKLTIFgYWoFFpAKFwMLzZgwAwvLTIFlpU2fQLQK///4Yf4YaF1sLrg2DAuuDYNDDQw4NgwLrhh4XXC64Ng3C60MNwbB4XWC64YcMODYPCJYDlMQBlwRLg2DOF1v/////PkZM0eKgz0AE+UuCnLFfAAk3Fsg2DAYX/ww//4YaGGDDhdbDDACFwMuXA2DADlygusDYOBsGhhv//wNU/CKQusF1oXX+F1wuuGGC6wXWDDBdbC6wXXhHv//4AHIFgC0BZAA4Ba4FkADwFsC3AtQAOcC0BYAtgAcAA9+BYAsgW4FvgWOABwC1oq+it4RT0VVG0VFGkVywo1/RWU4U59TlFb1GvRX////QK9Nj/9AtNn02fTY9NhNlAr/QK//TYTZLSJsIFemx///oF/5aZNj02U2C0yBaBfoFAS6bKBfoFVTEFNRTMuMTAwVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVQiA8GAO/4RAf//////wYA4GAO+EQHAwB4GDoB4GA4HQRB0BhlDIBpEAcBgPDIBgPAeDAHIFAYuLTpspsJsFpi0haRApAtAstIYKClgF/ysF/ysE/ysF//LAJ6plTlYC1ZUypmqtWVK1VqyplSFgBaqqcwAAVIqcrEBAAKmMBERCQhwD5iICIQEyABMAABBVGXF4gIA4DLAAWAEQgLVSsBaq1ZUv+YKClgELAJ////5YBP//LAL5WC+Vgn+WAX/LT+gW//PkZMIhLgrsAFt1yiD7FiB6A9qwmwViybCbCbCBSBabCBSBabPpsegWmwWn9ApApApNgCGBmEwWlLSpsf////hEHgYOB3////4GDkiBxMHhEdgYOB4GDwcBg4HW23gooFYHd/+BnAz8O8Vv//FaBm4rBWh38es2zbAtD1m2PVBqBrBqBrAF7AF3/5el84MkuHTgyy+dL0dRnEajMIyOn8RsZ5HGG/kbIpHIkYUiD0y2WctlZaWSwrKx6FZbxnL54ul04eLhw9Ol84dl86cOHT3Ipb5Z8qKpVx6/j0EkLctVTEFNRTMuMTAwgWQLQAHgLf/////4Fn+EQESEcIgInCIRW9TkrCzH0YIjjWtI+YeCD0woLCBQwsKRWUaRVCBZFZRtRtFRTlTlThRtAr0C0C//02E2fTZQK/0Ck2f9TlFRTlTlFT/9TlFVFRFb/9ThThynIQbWkAREue5S11rKdlkDEVABh61ExYPU+tOD4MQgcn4iwigivxFRFoXDcRQLhoiwioXCeAkFBcNiL8RURQBIKEVEWiLBcKIqIpEXC4QReIoIpCIKAQMxFAFAsIuIr/4YYLr//ww4XWBgwC64XX/hhgw3hhwuv8MNhhguvhdcAUYgaYTAAoWDDg2DQbBg//PkZPYe6gzuADd1uDKsBhBAe89cYYdGjtDT2hDmlD2leaOv9oX0OX/0NNLplNf8ewakNWGrTfTRpphNJtfaeh7T1/tStdtTpqN532lpX/1/kmQ5eaf2hoaV9paGleJAvd0rer2pWu1ar2vk56vVrV5Hj1Nop+/lfv5Zpkem5kX/2vtata2rq783nbvtbW6VjW6a2rq13+rO6VysV58K7tbp0ru6Vrtqa1a67tr6sau1ulYrnfa2v927Vrt21NSuN5X927/D4diAQANh4gEIfxB+IQG/D/4gDw/iGIRD+HRATEFNRTMuMTAwqqqqqqqqqqqqqqqqqiIEK/ititFX///8VcVuK38VsVhXBOQTpq/qm8QCAcBmIxgdfFZCHECpxFBFAuFEUC4cLhsRTEVEUDVoDQD+KrFYirFX+KwKoVgVUVUVeKwGrhWRWBViqFYDV4rMViKyGroauBg/A0YThVgNAEVQqw1fisis4quKxxWYrAatxWIqoqg1dFYxVxWIrAavAaAArIrAqoqhWYrIqvxWMVYrARCADhcKoVYavDVgqhV4qorIrHFWKuKxFViscVUVYasAaAfFY/4YcMNhdfwuuGGC64YfDDA2DwusANygbBwAxhAECwNg8MOF1hD4//PkZOkc4g7yBjd1sDNkDhgqYwtcYoUyiQ0NCkxQ0NCQkSIbGKIyRGEo5mUaNEhGKEHMmaGhI0UokORvMmZmZSZSiMZQkRnKKZkzRoSNCQpQ0NEZoaNFJkhh3KOUJEhIcoSJCQkIzlDlEjMDMyMpQ0JCQzNCRGaNCRISEZoZihoaIwlEHKNGiMzFEjRmSIwlHMyZmcyiGyMxRyhIkIxRSZokSEYGBkiRojAPESNGjQxvKHMmMoSKTJCQkIwlFKLDYWGhoZhYWAAUGBsAwsMDYUAcK4XDPhQVwwLAH/DfgHC6TEFNRaqqBgjwYI//wYI/8GCL///+DBFhERgwRcIiPAzGYgMRKIDcskBgjAxEIwYI4GiRwNEjhFH4MRwYjA0aOEUf8Io/BiLgxGEUYRRQij/BiKDEYMR+DBGBiMRQiIgYIwiIwYIgiIgMRGIDUSjhEReEREBiIRAwR/wYI/8IiP4MEcGCIIiOERH8GCIIiMIiIIiODBHBgjBgjwiIoREcIiOEREDBFCKiAxHJcIiMGCMGCLwYI8IiPhERgwRAwRAYjEUIiIGCP/AxGIgiIsGCL//4REYMEXhERBERhExhExAzyAZiEWDBGERGeKsVsVRVFcVwTnFcVxVgnYqipFUV//PkZPkcfgzeAFaVxDgUBgAgatvIYrgnYqgnQJyK4riqK4rwTsVor4rQAjABAgnQritFSKoqQTsE5C1haxfF7F4XQtULSFqC1i4LwWkXIWkXRdF+LwqAnME4iqCdwToVuK+HAERWAkAlgJB0OB3Doc8OYc8VCsVgIB3DuHAERUAkAkHMOBwOAIisO4dwEAEAEg6AkAl4CeHA4AkKhXioBIOiv8OB3F+LgWkXxeF8XouxcF0XBeF8XBdF8XhdAdouC8AEsXYWsXOKsVBU/FaKmK/FTxXFbFUVPiv/8VfxXitVTEFNRTMuMTAwVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVAXX/8MN/wwwYf//DDBh4Yf/+DYODDfCIFAwKBQiaANFgUDAgFAwIBcADwFuBY/At8C1wLfgAdAtwLGBawLcC3AsgWeBYwLX4XW8LrBhgiFgMlhYLrhh4XWhdb8MOGGhdcMP4YaF1gw8LrwuvhhoYYLrYXWDDBdcGwfC60MN/ww8GwZ4XXC64GZQsF1wbBnDD4XXg2DcLrBdaDYPhhgusF1uGGC64YfhhoNg0LrQwwYcMNC62F1/g2DYXW4XXC6+GH8DTIW4YeB/wR/wjwR+DP/y06bJaRAtAtAtAs//PkZNwY2grqBFW1xDhTRegABLBstL6BRaVAstN5aYtN/psIFf5aQtIgWgUWk8tImyWkQL9Avy0qbKbKbJaf02f/0CkCy05adAsC3K7+mx5aVAv0C/TZ8tOmymwB2pspsFpPLSlpy0qbCBSBXlpk2E2E2C0paUtP6Bfpslp0CkCy0ibJaZAosWQLLTJsemwgUmz6BZaYtOgUWmLTpsJsoFJslpPLT+mwmz//6Bfpsf6BSBSbCBXoFeWk9NhNhAr0Cy0/+WnTZ8tJ/oFf6bP+myWn//8tMmz/lpf//////8sPTEFNRTMuMTAwVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVBgJwiCYMBP//gwE//////wiCAMEgkIggIqIDKpUCIIgwE8IzA4j+EYhGAZMIyDJA5gGRhGcIyDIhEQiIGAgwIRDwiAGAAwYMHBghGAZMGRCMhGYRgGRA5gIyDIwZPBk/wZIRmEY/gyOBxIMgIzCMgcTgwRBgjwYJBgngwTwYJhEQBiBGERMIrwOouAxAgGCQYIhERhEQDBGDBAREgwTCIgGCQYJgwSDBHwiI4MEAwSBiRHCIkGCYGJEQiI/Bgn4REYREeBiBIH6XhERhETwogoy04mpZibFmJuWYmx8n//PkZN4ZrgrkAFZUyDcjofgAA9qc0HafZ8HwNrjaG3xtjaDtJwTo+D55Ow7fxNRNSyLPlqJsAr/lmA/FmWYm5acTQVgTkVQTnBOQTgVxVBOBVFWK4J3FUE7gBABOwToVQTsVhUFcVRXBOhUBORWiuKkVYrCqK+KoqgnQrAnEV+K8E7FQE5xWBOQToVQTsVRW8V4qRUFYVgTsVhXioKgrCqKwqAnYqCtBOhUioK+CcisK8VRUFSKnirFQVBVFcE6FcVoJwKoqCrFXFUE7gnAqiuCcQTsE7xU8VP8VYrgnYrCuTEFNRTMuMTAwqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqn3/l/J/8vHL5f/BhwCETgGpIDOATgEIOFoDcHzgEIDgC+pG7eve1S/6tat7rXupDXSStWoIpGS4TSMQNIySMwpIyAaRkkZ8GJGdBtbwYkZ63tCKRkoIpGWDEjLCKRmEkjOvsEUjJOsIpGa6bOrgxIzsEkjIGJGYUkZVKCKRmqoDkgEjMJJGSYMSMAikZJ3qhp0dq9ru3X1I36FujPbXuxwKbr//waABfg0AC6DUDUDXBqBoAmQawJiGrhqDUGoN//PkZL8USgKcAAblrroTgfQAbhtQAag1QawaYNIAuQa12Lv9si7F2NnXa2Vsi7i/DZl2tlL9l+vL8tlUTUTUTUYQDIBlGUAyifqJKJqJ+p5Mf/U7TETEU7CxkxVO1PKdqeU8u4vq2ddnrsbM2Zs/tl9s67V2NlbIu5sgaA1Q14ExAmAaA0BrDVDXhpgTPDQGuBMA0gTKGgCYgTHDQGrDUGgNcNQaw1hoAmcNIaRIAtALVEgC1gteI8FpBaBIAtcRwkAWgFpBaILVBaIkAWgRwjhIiPEeDXwa/4NUGr+DRwaKBgX/8IhP//wiF8GBMGBP/wYEhEKEQmEQuDAoGFTAwLgwLhG/4MvCM8GSDJCNwZQOXg2DwbB8MPDDhhuGGBsHhh8Lrf4MCQYFCIUGJgiE8GBQMIFhELDDhdaGHhdYGwaGGDDhhuDYMBsHg2D8MMGHBsH8GwYDYMhEKEQgMCeDAsIhAiFBgQIhAYFhEKDAkGBMIhYGEC4GFCBELgYUKDAuEQsGBQMKEwiEBgUGBcIhQYFwYFAwgWDAoRC8GBAYE4RCgwKEQvhEJgYUIBhQkIhAiECIUGBIMC4RCgwJCIUGBAiFgaYLwiEA5cGXCNhGBGwZAw4Ng0MPBkqNqcoqorlh//PkZP8cygrkAFI0wjo7lfAAjhq4SnPor//psoFemygWmwWm/0C0Ci05adApNn/TZQLU5RU9FRFVFdTn1OFG1Gywv/UbUa9Ff0VoFgCwBbAtQLUCzAtgAchHAN8ImAbgBvwDd4RwjQDeAN8I0ImEQEQAbwRgiQjBHhHAN0A3vgG6Ab/CIhEgG5AN6EQESAbmEYI4RABvYRoRABuYRgDehEQiAiIRABvcA3QiQDfwjwDfCICPCJCJCJ4RwiYRwjBEwDehEYRgDfCNCOEQEQEcI+BagAd4FrAscCxAswLfwLAFgC1wLNVMQU1FMy4xMDBVVVVVVVVVBlBkwO3wZAZMIz//////+DJwO0IwI0DsA7cGUI34Rn4RgMuEZgywZQjAZP/hGAcmDKEYDIB28GQGQGXhGgcgRoMgRoHYBywZAZYMmBygyQYFCIUDChQYE4MCgaYJ/gwKEQsGBAiEBgXAwgQLrhdcGwcGHBsGA2Dgw4YYGwZC6/hdYMMF14YcLrYYcMPDDhdYGweF1oYb4MCwYEwYEgwJBgTCIQGBIRC/BgQDCBcIhAMKFhEKDAsGBQYFAwgTgwKDAoMCQiEgwIBhAnCIUGBQiFwiEBicIhAiFhEIgIoBooGieDPA+4GeDPCP//PkZOobXgrkAEY0jjazieQgBKKIBGgyBGhGhGgyAdoMmEaDIB2gyhGwZYMsI0GSDIEaDKB2QOWEaDKB2hGgygcoHYBygdkDtgygcngyAyhG4MgMgRgRmDJCNBkA7QjAZIRoRoMuByhGgyAyAyhGwZYHKByAcgMgRoHIEbCNCNA7fCNA7AZAO0GSEYEaDLA7cDthGgyAyAyQjAOwGUIyDKEYEaEYEYEaEbA5AZQZAZAZIMgRkGXBlBkCMgyAyQZYMngcmEb8GUGQIyDIBywZAZOEZhGBGwO2EbwjcI3hGYMqTEFNRTMuMTAwqqqqqqqqqqqqqqqqqqqqquDqz8GMDQIvBj///+DGDEGAMAifBj8IuEThFCIEQGPCLwiQYBFCKESDCETBhhGAZGEZ4MjgcSEY4GoRQigxCIEQGPCKBiBrgxwiBEwMIRAY4MQNMIkImDEGIRYMIRYRAYhFBjwYwNQYgwBgBh4GAMQiwYgxA0gahFBgBjgYBFhFhFCKEWBgEWEUGEIgMQYQMYRAMQigxhFBh4GkIgRIRYRAY4RIMQYgYhFA18IoMQYQihFhEgwhFCIDEGIRQieBiEUIoRQYhEwYDAFwGrBog0waAaQawacGsGiDQp9MZMVT3piJjJjK//PkZOYZBgjoaUJQ0DprofQgbhq0dep71PqeU69TpMdMVT6n1OlPKdJjpiKdFZkxlPKdJiJj+mKp/0xFPBoAmYaw0BpwJhDSBMQ1BqAmIEzDSGgNXDRDRhp+GsNMNAEyAmYagJkBMA1BpDXAmECZhoDXhqAmYawJjgTICZBrDSGsNAExDVDQGqGgNHDWBMIaQ0BrAmcCYgTHAmIEzDWGgNYaOBMw0BqDSBMYaA04aA1hqwJhw0ATKGqBM8NYEz4aQJkGoNMNIag1+GsCY+BMQJlDVw0cCYfDXw1ho4aQ0gTCTEFNRTMuMTAwqqoD37wjuhHf/////hGf////hHf/gycEZwRn4MnYMncIzsGTwOdOA507A507hGeEZ8GTuDJ4Rn4HPn4Mn4RnhGcDJwM3YM3gzdBm6DNwR3QjvA927Bm//Bm7Bm/Bm8GbgZvBm4GboR3gzeEd+DN8GbvBm6EZ+Bzp4Mn4HOnBGfA588IzsDnTgZPCM8Iz+EZ/CM4DnTgOdPBk8Iz4RJwGTidBi7AycTgiT4RJ8GE6ESdhEngZPJwGTieDCcESfwYToMJ3AycTwiTsDJ5OhEnwibwYb+ETdwibwibvCJuwYb/4RN/Btf/jYGyNv8bHLUtSzE0/LQBW//PkZPQcHgjQAFKVrjfDmgAge1eMLITcshNy1LX8si0LUTQtCyLQTUteWQmvLItSz4mgmnTJops0umEymDSPsnR9HwfB8k7Pvn0fAvwtcLXF/F+L4vQtQWuFoC0BaReF7AeBfwtcXBdF4XheFwXAtAui9C1haRdi6LwvirgnUE6FcVBVisKgrCvioK+KoqiqAhh3AQFXhwVYrFYCWHMOioVAI4dFWHPDgCAdDgdDmHcBIBEO+HRWAiKsBMO4dFQCAdATw6HBWHBWAgHBUHMOf/gICsOCoV4qw7+KxWHA6KhVTEFNRTMuMTAwVVVVVVVVVVVVVVVVVVVVC11Fz1+NP+/Xkqpr9OfuhQ6lZNWf+XsZc/si+KNoOj/Ntai9j7IISgZAklTqQhjToNTeQoreRdaSDODWvYAVFaWWkQmVuZPP8bRUzq896vc+XS6mm5gnnW7JLnV4z9N5XnW4k86x+uyHyxnWkmdborzraff2SvOtvljOtjd/5XRW8MivOsry/K3gUzrFPS1eFTOttTsul1+lLGdbV3c53h51mdbK7xPOr1SpnWlM63kedZnV4XPK86onnW7myrnWTmRTOqascoabXd/L+yuzS95dv1efjhl92ntYyTuIb6wuWRZFmWRa//PkZOcb/gqMACDf1LTLofggA9qc/gKRZiblqWYm3E24moSQnR9BJj6JwfBaFqWZZFoWvLUshNPxNuWn6bTZHgozRTSaNAY5oGjFQVgTkE6FUVorioK8VBXBO8VRUioAhxVioK4qAnIrYrCqKsVRVBORXBORVFcVcVwTgVBUBORUisK4rCoKwrxXFYE4FYVATjFcVhX4rcVBVFQV4rxVFSKwqCpFcV+K8VhXFYV4qivFUE4FaCdivBORUBOfBOgToE6FUVYqisKgqCtxWFbFQVxXisKgqRU4qioKuKwqCvxVBkH/4Mgf4Rg4RgfgxZBizhFYEVuDFvhFbBi3CKyEVsGLf/4MgAxaDFoGsWYMWgaxYBrFngxaDFnCKwIrAYswNas+DFgRWYGtWYMWBFZgxbgaxbgxZCKwGLIRWgxZCK2EVmDFmDFgMW4GtW8IrAYtBi3Bi0GLAYsCK0IrQit4MWeEVgRW+DFsI9cDW9AYtgxZhFaBrVgMWgxaDFvCKwIrIGtWhFaBrFuEVvBi3hFZA1i0IrYMWYMWAxaEVkGLAisCKzBizCK0DWrIRg+EYIRgQjABkHwODABkDhGDwODBgyAEYIRoRvww4YcKILYKILfhRg5htjY4OQbQ2hNAH8su//PkZP8cRgjWAFAUYjwDofQAi9pcJry1E1LUsuWvE2E0LQTcB+E2LMTctQFEEcWnFYVwTkAI4rRWFYE6BOhWwToBBAQgnIrisETANwIiAb/COEQEbgG+EcA38A3wjhGCMEeEaEeKoJwK4J2KoARBVBOIJ1FWKoJ0CcCuCdRWFcV4rioK4rAnYJ2K0V8VYr8E4xWFUVBVFQE6FXBORWFSKorxVFcVwToE5wTvBOoqwToVIJziuKwJxAQgnUVBUgnAqQCaCdxWirFaKwrRWFcE7FfFeK4rgnIrAnYrCoKoqgnAqCrip4qgnCr/////8Iu8BjvP4Ry5/8Izggc4Zw4RnD/hGcP8GThBk4eDJwgycIMnDwjOD4MnBA3eu9hF3kGO8gx3vBjvAN3jvMGO8CLvAY72DHeAbvXe+DHehF3kGO8gbvHeBF3oG713gG713vgx3oMd5BjvAi7wGO9A3eu8BjvMDd470Iu9wN3jvQY7wGO9wN3jvIRd4Bu9d6Bu9d6DHeAbvHewi7yEXecGO9BjvQN3rvIG7zykGO9A3eO9CLvYMd6EXegx3gG7x3kDd470Dd472DHewY7yDHeAKomwmhZFkAof8tCy4m5aCbcTUswFYsy0/LQTX9NBqBgJgYaY//PkZPcaTdCuAFgWlkI0DfQAe9r8Jxz6CShr8++JsArgjxNBNC0LQsyyLMsgRxallyyLIsi0LUTUtS0AVwFPia8si0LMTXiacsxNizLMTYTcsi1LMsy0E2LUsuJqJvxNyy/E1LMteWgm4mpZlkJuWRZFmWnLQTfgncVATkVcVQTsVIqQToVxWFeK4rwTmATCsCcAnQJyKoriqKwrxWiqKoqwToVRWBORWBOBVFSKgq4qAnAqAnArRVgnIJ3FYVQAgCriqK4qYqivBOsVoJwKgJ3FYVBWFfBOIqCoCcivipxUFSCd4qRV4rCvFaCc/BOhW8VxWFUVhX4r1eX/+DHgaYMOEX/CJgwwYQY8GODH/wYf4RAiQiAxCKBj4GAMYRQiwYcGEGMIoMfhECIBgEXAwCJhEA1BjhF+BhCIDEGARYGoRAYgxCLwYeESEUGMDEIoGAMAiAwBiBrCJ8GMGGEWEUGIRYMAYAxCKBiBgBqDDA1wiBEBiDAIsGIMANANMIoMAYhEBh4GMGMGARfAxBj8GAMANYRAYBFAwCIBhgYhEwNQMYGIRAMAiwNYRQi4RQYwYgahEBiBqBgESEUIqa6Z6bTBpGkmUwmkwaZpJlNCkifmkaaaBymgm0wmRPxSDTTa//PkZOYYTgboZUAQIkCEFgAAe898YTZpJtMJhNilphNdMJhMGgmemDSNJNmkaX6aNJN9MJhMc0E2mzSNJMpg0umU2mDS5oJlNJtNJnpg0DSTBoml0wmzTE8TRpGgm00mkzzRNNMJg0jQTSb/NFNdNGl02KTzRTfTPTSbTKZNLphNJpNmgmUymkwaaaTKZ/TSYTBoJr/ifptMpr9MJlNptMpg0kymumEwmf+mEwmOmkymTT5ppv80eaHTCYTHTSaNBNJtN80/0yaBoJo0k2aPTPNA0OaSaTJoplMJv9MgBAB4MBUGwbwVwUBkFAYDAU4NBoMBqhAELk//h/y1/vz6/6zMnEglwqnIsVSHBzAMMIqXiLgxS8ucoLCKl7VwipeupwYpeAxS8Z22hSl4U+qE1L2goKUva1GUJqXqwkpeAxS81IQpS8smBqXql6E1LyEVLxdEJqXoSUvAmpeJhFS8rpH3CKl6EVLxPWFKXgDUvVL1LCal4kuDFL2EVLxFlPClLyEVL2FKXhdwYpeswGpeqXkGKXqLAxS8wYpeqWk8KUvATUvQYpehJS9Bil6yoUpegipeZT2x1vN5NR2X3KrRuXjFmaS0AUCyE1BHflmWZacTYsvy05ZgAIs+WQCqJoWZ//PkZOwZ+gaYBgbm6EQMAfQAe9r8ZCbiaFkWv5ZibialoArlryyDtCSnyfR8hrE7PpNmiaIxDTGKafTJalqJoJoWQm4mnLUtSzE1LUsxNyy4mpZlqJpy14mgD8WpagKvLIEcJuWnLItBNhNhNxNgH8tSyLMTflmA/iaCaFqJqWf4mxZFmCdCvFWKwqivgnQJzFfwToAIwqgnOKgqCoK4J2KwqisKwJwKwqCqKgJwK4rYqirgnIJ2K8VhVwTmKorYrioK4JwKwrRWFQE5FUE6BOwTgV4qYqiuCdAnYqAnMVBVFUVATkVBVirioKoqCviuK8VwTjxWFfivFUVxXBOcVuKvFaKoqiuCdeEW3Bjb/gxvhFvCLYGN8GNwi3CLf8DbtuEW//CM7+DG+EW+DG8DbNgi3CLfA2zYItwY3gbZuDG8GT/Bk+DJ+DJ/hGdCM+EZwMnQZP8GT8GToRngc6dBk4IzwZOBk8GTvhGdBk+DG8Dbt8DbtgY2CLbBjYGNwi2A2zYDbN4RbhFtA2zcDbNwNu3CLaEW4RbeEW2DG8DbNwY3BjYDbNgY3A2zYItwi3CLbgbdvA27YGN/CLaDG4RbgxsDG4Rb8ItsI7oR3cGb00m0wmTT6aTZoJgUpMc0kwaa//PkZNcYqeLUAAAUHjw8DgQAe88cYTXTXNBpXiQdfLVpLJoaCSJs0TQNAbRpJpDWleaGlDmlfQ9fQ7tBZoa0IeOw3Ccq44TcHgrufDVzQNA0Om0wmDTNE0EymkymumU2mU0aSY6ZE8NFMmiaaYNDptMGn+aJpdNptNps0OmU0J50wNtMGmmEz/zQTJpppNplMJlM9M8FAYCoKAAApgqDIMACwAQbBsAMGQAQaCkGg0GgyCkGeCgNABwAAUgrwA+CoAQNAeHCAOAeAyIQHBwgDg4QYDAGgMEEOEAeA0Q4DxAHh0PEMGYMBsFQYDPgoDMGQV4NBqryAZfhGfwjMDl4Rv/wjcGT/4R/CPBH//hH4H3gzv4M7A+/gzoR4GdBnAf+DPBnwj4M7BnwivA1QIpCKcIpgaqDFgaqBogMWBqgGqgxQinA0XBi8IqEUCKBFcD7/CPwj0I+DPA/8GfBnQZ8I+EeCPwZ4R6EfhGcI0GSDIDJCNCMBkgdsIwGQDkBk4HIEZgy4RoHZwZQjcDtCMgcoRgRoRgHKDJBl4RgHIDKDIEYEaEZgyYMoRsIwGQGQIwGUGUI3A5AZMI2EaDLBlwjQZQjAjAZQoqIqqN+pypx/qNIqoqqNKNKcqchwGrCAPqN//PkZOsaCgjiBUZRnkhEBfAgw9tw+iu1RUqp2qNUNalOVG1GkV/U58sLU48sLLCiwFU4hAYA+qQQgasVhVIYQNWKwmAKpvasNoHIDm4OQHIDlGwNgbH4D+JuWQm4mhZFoJsWgm4I4TcbA2xtA5ODnGyNoHJ+NgHKDl/LMBXLUtS04mvLQteAqCaCbFoWQmha8bQ2Acg2ht8bI2RsjaGyNrjYGwNvjbByja/GxFYE4ipBOIrwTiK4J2KuK8BAK4rAnAJwKkE4FYE7FUVgEIqgIRVBO4qRXFQVBVBOMVwCcE5itBOoqAnQqCpBOIrxVBOoJ0KwJxgnQrCuKsVBXioCcCqCdAnYJyKsVYqipBOgjwiAj/8InhH4RMIkIioAC4RiJCMRP////CNk//Blkv4M6F8I9C/8GWT/8I2SwjZOEbJQZZIGWShGyYMsnwj0P///CPQ/hGyQRsn8I2SCNkgOyVkoMsnhGyQMslCNkoMsl4MsnhGyXCNk4MsmEbJ/wZZP8I2SA7JWTgyyQMiKDIieEYiAcRIihGIkIxFwZEUIxEA4iREgcRYihGIoHESIkDiJEUIxFwjEQIxEwZEWDIihGIoRiKEYiHcYJRIr9kzDmO5cIaApXE/NA0TTTKZGym/0//PkZMQWjdCsAwAWCsQ8Cfwoe89cyaXTKZACgKxsmybQFQCyPQPUbRtA9x6QAoegHKmRtClpk0RSkwaCYE/GyaaZ6ZFJTaaTCbTabTBomgmk2mxS0x0waSaTI2gcgOcT0T5MiedM9M9NCfCeGgNhMJlNJoT1MdNJhMjaNPptNGkmhtpnmgmv+KQmRSE0aaY6ZTKZTRoJg0U0aBopg0emU1/xPzTTaa5o80DRTZoJs0TRNEUhMikJs0P0x0wmkwmUymkwaKb5pppNJg0OaInhpGgmeaSbTBp9N/ptNJo0DTNAbOCkGAwGABgA4NgwAAAMAPBgAQKAyDAZgoCkFINAABWAEDAUBTAABgMBTgqACDcGAAQYDAUqLUlVt///+Bj4MIRcGH/hE//hEwY/wi8GPBj8GH8IgRcIv4RYMQi+DAIsIsIn8GHCLCJCJ/BhBgBpgwwifhFhEhF/gwCIDAGIMIMAMQYBFhFBgDH4GAMQiQNAYAwwYBECIAMIAMAAiHBgAMIAiAIg4MABgABhADAhEAGAARCBhCEQhEIMABh6EQAwIMABgCEQwMAQYD4MDCIcGACIQiHwYGDAhEOEQ4MAENB8hJD7PsnXJ0fZ98+D6LItQR3PgnZHmgPYYRopk0xj//PkZMkU/gLsKkITrkL0CfzIetvgJtNdNGkmkwCPLITf8s+WpaFmApAjgFUsyz49jSTCaGMmkyaRZlkJsWpaiagKBZlmWomh8c+CdcnROj4Pk+Akh9E6DsJ0fJ8c+OTs+idk4J2Tg+j7Pr8nB9nwfAa59k7598+D74Sk+eEkFQdDmKsOhwBEVYCeAiAmAiHcBEV4CYCIWmCHF6FqC0haRcF4XYvxfF2LwvC+FqC0xcC0C/FwLSFoF0XBfi7C0xei8LwvcLQLoWoXheC0BaIWoXBdiNiMY6cZ8RkZxnjqOojAz4zx0HUdBGozjoMw6iMjpxdi+L4uC5F/xd/haIui/bZ/+DGBp4RYMQYgw8Ivgw/CJ4RfBh/hECKBgEUGODH8InhFwY4GoMcIgRIMcInCIBrBhCIESESBp+DEGARfhEA1gxBjBj4RAYQYgxgYwiYRcIgMAiAwBjCJgYAawYYRQMQMAYhFgagYhEA0AxA1A1CJBhBgEXwMQNAihFhFAxwYAwgaYMPCJA1hEBiBrwYQiwYwiBFwYhFgxgawihFCLA0gYAwCKESBoBpCJ4MIRcGOEVB9ALR8BJj7/PonB9HyEoJwfZ9E4Dt5OeTnlqJtxNAH7nwfHPonJ8E759E6PoJI//PkZOAWKgjoZUAQYka0Ffgge9VcfZOCdE7J0To+Cc8JWTo+D7J0EqPoO0+T5PsJSfJ9n0TkJUfJOeTknPPo+z6J2Ts+ycE759/k7Pg+z5J2TonBOeTkJUTg+T5DtJ0Tvk5Pjk5DXPg+idH2HYfR9E6PgnR9k5JyfZ9cnR9cNYJSfROidE6Ps+Cdn0fB8E6DtPs+CdHwfH5OAlR8nyfB98+SdE4J0ff5OidH2TknfPkJMfYSg+Cd8+D6PsnP/JwTk++fYSQO0+D5J0fZ8HwTjn2AWDgdAL8ApALQCkO8GACwMgyAVBiAVhzwY4BeDIMgFMOh0ArDgc4BeAV4cgFsOhz/wP225HGw7wCsO4M8AqHP/+DEGQ7/8OgzgFoM4Bf4MhwO4BT4cDmHcGfDnw78GcVhUFTFXFeKoqYJ3isKuKkVgTsVoqCsKwrCoKsVQTqKorYWoXhfxeF/xdi58XOL4WmLnFYVQToE4FXiuK0VwTnFQVRVFcVhU4JzFfDgdhzBnDuHfALgyDAMQZBgGQCgBUAoDAMh3BkAsDMGcGAYgxBn+HAC0ArwCwMAS5adAry0yBSBfoFBVaKqKwVUVrRXUa9FUOEqVUjV3ySPLkvkzlNlNn02E2S06pvVKWACECpW//PkZN8VDgj+zymq5krb1ewAxJvkqe1XysDVFSqlVIo2o0ispyFVoqKNIrKcqNKcKcFhSjaKiKyKhYWiv6nCnCKijajSnPorKNKcKcqcIrqNoqKNqcKNoqKNKNqNKcIqKN//orf6BSbKbKBSBXlp0CvQKTYTZ/0C/LTxFxFoigioigCLC4cRYRWItEXC4cRcI0IoFwwXCiKwjQXC8LhRFcRcRQRSFwoikRcLhxFRFguHiKRF8E7FYVhVBOgCYVRUACKKgqgE0E6ACJFYVoJ0CcgnQrAnMVwTgE6ioKoRwDdhHhG4RARgDcCMEaEYIiAbwRIRuESEcIwRwiYRwjQjBEgWoFuBa4FngWkIQQigwhEwigx/CL/4RfCKEQGP/wYiEUwYHwYGDAwYAGA4RCEQBEGB0rCNcGU4RrBlcIsGGDCESBiEWDCBhCIEWBiDAGHCKEUGEGEGMIgMAiwigxCIDADQGIRfCIEQDXgYYRfBgBoESEXwY/CJCKEQIsGIRODEGIRQYgw8IgRYMMGAGGDEDGDAIoMcDQIkGMGGBrgwCKDAIsIkDUDWDGDDA1hE4RQMQYgwBhhFBhBh4MAMYRMIoRAiAxBjhF4mhZFpxNBNy0LQTUTXhKglR9FqWpaAP5Zi//PkZNYXkgTkGEJwlkXcDfQAe9r8bCa/k5JwTriacsizBHE6CSH1w7efHLPgjuJqWnLITYTX8tRNAH/ialqJuJuWZaFkCO4m5aE7J2TonB8E559nyEnJyfB8FmJrxNxNhNS1E3LT8sxNC0E0LTlqJuWQm3E15ZiaFqWRZiaCagP5aCblkKoqCsCdioKoqwToE6FcVwAhRWBOIrCpFbgnEVRVFUVIJ2K4rAnIqioKgrcV4riuK0E4FcVQTsVxUBOoJ3FUE7itFYE7FYVRXFUVwTkVoqAnYJxBO4rReF4XYWsLWLoui4LwuC9AdsLQL0LQA9C8Lgvi6LguBahfFwXAtIvQQ4vCqKwrxX/8E5xXit4JwKzBnwj+DF+F1guvBiQYkDRIR8I/gz8Gd4R/wYsGLBi8I8DPBneDPBnwZ/8I8DP8I8B/0Gd+DPA+8I/+Ef+DOgzvwj4R/hHoM+Ee4M4D74M+Ef/A/7gfcDPBn4R7BnfCPgz4M7Bngf8DPwjwR6B/3CPwj0Gfgz+EfBnhH8GfwioRQGIBqgRUDVAYoGiBFcIoBqoMWEUA1UDRYRUIqEUA1WBooGiAaqBogRUGJwigM8I/gz+DOCPwj/Bnwj3BnBHgZ4M4I+DOhHhNCz5aiaCb//PkZM0YugrgAAASBEUEBfQAe9rclmWompZ8shNyzLMsy1LMBUAfhNxNicBJCcE5J0JpyyLMTcBVLXloCO5aCagKACiAqflqWYmvE3E3BHlmArFnxNRNC1LUBS5aFoWhZFmWR8k5CTnxz4PonZ8E5Pg+j4LUshNQH4TYtSzLMshNBNhNSyAViyE0FQE4FYVoJ0CcRUgnYqisKoJxFWAhiuKgrCtFUE7FQE5iqKgqRVFWKorwTsVxVFYE7FTFTBOxVgnAqRXBOPisK4BOK0VoriuK0E5BOxUivFcE5FYE5FQVBXFQE6FQVBVFYVxWioCcCoLovi4LoWiL0LSL+LouBaIvBahdi6LoWgEMFoC1hacXxdC14uipiqKn8VPFbiqKsVb//Bm/+EXgx4RdhFb///hE1/8GLP//CKwIrQjoGa/wPewZqEdYM1wZqDNAetgzWEd8GagzYM2DN4M1wjoI7Bm+DNhHcD3rA9awZuEdwZvCOwjsGaA964M1A978I7hHQR0DNge98I6hHYR1wZrBmwPWgPWwZsI7wjqB63COvgzQR3BmwZsGaget8D3rCOgZoGa4R1gzYM0EdwZsI6CO+DN4R1wZsD3oGaBmwjqEdAzXCO/4R0DNAzYR0WgI8TQT//PkZL4XFgTcAE6Tekf8EfQAe9t8YTXiagKwCsJuWXLMTUtC1LMTT8TYTUJP+fAdomomoD8JuWoCgWoI7iaFkJqJqfZ8hrk4CSE5Pk+Cdk5PgnBOT7JwTg+uWZaiaCbcsgFAsy0LPlmJsWYmom5ZFmWpaibiaAjy15ZFkWQm5Zll+JsJqJvy1E0CThJz65OQlJ8H2TknZOT759k6J3z4PgTQTcsy0LITflmWfLUsiyLITYTcTT8syzLQsi0LMEcWZa8tSyE1LTibibFqWYI/8shNCyE1LQsy1LUTUBTLLloWXLUsiyLUtBN+JqJvy1E05Z8TcsxNeWn/LTnxydHwfZ9n1ydk4PsnHJyfR9E4JwTgnB8k4588nB9cnR8c+D7PjxV4q4r8VsVgTgE4/itFShX/xV4rirxVFWKoq4qfxX8E6xVxUBOYrCtwTvwTj/xV8E5/irBOsVuKwqRXFTFQVorCrFf/xWioKwrCtioCcxUFUVAToE4FUVxWFQVhUBO4rgnUVIJyKkVgToE4ipFUVoq4qisKsE64qCoCdxUFUVxXFUE78VxWFQV4qiuKgqiuK4CCK2KoqirBOATsE4FWK4qxVFUVhVFYE4gnIriuCcQTiK4rCoCdCtirBORUiqK2//PkZLAWsgzuADQNNkZj/fjIe9r8K/FXFUVwSE5aiaAKgmhaFpxNQkp8n3z5PsJOGsffLQsyyE1LItS1E1Af+CPLMTUTfibFmJoWQmxanzydHwTsnASknBaCalqWom5ZcsxNyc8nASsnHDt59BrhJgkpOicBKg7D7JyfZ8E5Pk+Cd8EeWXE0LQsiyLQtSyLIsi0LUTYsy0E3LITQshNiyLUsiy4I78shNy0LMVcE6ipgnArRVgncE4wTsVIrCqCcCtBOYrwTgE7iuKwqCoKwrcE7BOQTqKgqiqFpBEC1gPYD3F0X4WoLTF0Xxei6FqC0BaAtQWgXxdwtWFqC0haBW/FQVRUBOBUFcE6ioCcAnEVRX4rYrxWFUVBViuLsXgtAuC6FoBDBaYvi7F8XxexdF8XhcFyI//gx//CJBhgxhEwY/+EXwYgx8ImDH8GPhE8GPhEwigwhFwNQNQNfhE+DGDAGHCIBrhEhEBh4RQMAY/gYBFBhhEAxCIDCEUDEDHBiEUIoRQY+DCBp4McGEIgGgMcGIGMGIGIGgRQYgxCKBiBjBgDGESDADWBgEUDEIuDADWBpBiEUDEDDgYgwBgDEDQDUGIGgRAYQYAxCKBhCKEThEBgBiEUGIRQMQiQiwNAY//PkZKwWNgjoZUAQREakFfQAe9t8YMfwi4GBaFoJsWpaFlyyBHctCzE25ZiaFoAocsy1E24Sk+idk6LMTYTYTQsyyLUtCyLQTUswFYJMGuTg+CdHwErPotAFAsuJtxNCz4m4mvBHiafloWZZ8YppBqzTNI0jTNBMpg0jTTZZFqWfE3Af/xNf+WomhZ8suWZZCb8tC1LQtS14m/LQtBNhNOfR8hKCc8nHJ2EqCUE5CSHxydk6Pg+D7Ps+Sdk6LUTQTcTcTctSz4mwmha8TXlmJvyy5ZiaFl+WpZFoWZa8TQshNCz4mhalmJsWfLQsuWRactBNRNC1E1LLlly0E2PgJWfR8h2H2fJOSdnx+fXPs+T5PgNbnzz6Po+T7JwTk+z4PonROglJ84qCvxXxUirFX4q4qeCd1f8InCI/4R/CP//4RMI/CMEYI4RAR8I8IjCJ4REI/gG8ESEfCOERCP4R/+EaERCPCNCNCI4BvQjYRMHINobIOfjZBzDZG3xtja42gcw2PwcvG2Nng5+NgbY2wcn42htDYGwNrjYGwNsbX42vxscbI2gc3Bzg5Qcg2uNvjaGwNgbI2+Dl4OUbI2Qc42RsjbBy//g5eAboR4RwjQDeCP+EcI8IwBuwjwjBEBEA//PkZKoZMgrqADXt9EV8FfQAe9scG+EThEBGCMESESEbhEQjwjwjwjBHCIwiQDcCNCI/hHE0/LQBSLITf/lqWoSvk7LT8BWLMtRNAk58E7Po+CyLQTcsyyLUsi0Afi1LUTUTUtBNS05aFkWpZHzwkoSgnB9HwfQSsTYsizLQtRNRNgFf/8NcJWEmAWCdn0To+T4CUHyGtxNiyLT/lmJqJqJqWgmpZFqJsWgmwmwmwmv5ZiaibiactBNv/yyLTiaFkWZagKgCmJqWQmgmom3E0LTibAKfE0LLiuKgrYqipBO4JzFUE5BORXBOhVioKwqRWBOYJyKkE6BOIrYqCqCcxVxVFUV8E4FSCdcVgAgCuKkLTBDC6CHi+LwuRfha4uC+FpF8XQtAWgB2wtAWoXBchaBfwtQWnFSCdxVxXFUVhUFYV4rgnOK3wTiKir//1eDCsf//7/+wOYd///ei/f6lmiqGXpyOlCSRm+yP3UtDhFIzqBhwCFHAGFHABYGcAnAAMOAAYcAAw4BYKOAIROANgicAQYcABE4AAzgE4B+1wmcAwYcAK+sDOADgFLCJwAlWBnABwABnABwDWraETgEDOADgDBiRkgoJpGaP+64RSMoRSMGBiRkkwMSMlq7AxIy4//PkZJUYEgieBFw3fkL8FgAied8AROAAicA8DOATgAGHAAROAFwM4BOAGBhwADDgAGHANQUcAgicAYROAfgw4AIkbPNNNpo0TSNBNJgUs0l7lomEwmRSOaRp80zQFK4nvTInnTEGgwGwAwYmOmkyaInppJpMJg0k1+KUaaaTCb42U0mBsGiaSaNNNpo0OaKZNE0jTTSY5oGmaZpJrphM9MGkmDQTCZBzpg0OKR+mBtdMJobfTSbTfG2KSaBpGgaZomiaBomn02mOmkwmjSNPpjmmaKZNA0zSNFNCeClJkT40DTTCY5oJk0kyaJpdMppMdMdN80TR6ZTXTfNJNmimumem+aKZTKaTaaTRops0kwaZppk0+aSa6ZTKYTfTfTPTHTKa5omgmEyaJo9NmkaRp/pnmmaf6aNNMplMplMdMpv8TxMJlNplNJn9MdM1OM6hWa/EjiRiRiO/xIcSP+GgCZQ1+GvDRDV//4aP///4I8EwTwTBLwS/4AHgnBHBHgiwR4JgAgS4IwAYPA8ADg+AAAAFwfB4L4WADC2AGAGFwsFwuD2FgAcAPC+F/B8L4X/B7B4L4WwuD+AGDwXACAAC2D2AEFgfCwAAAAXB8LhcLeDwXCwPYPA+ACACD+AH4XwA//PkZJMVIgb2ejVLxkBMEgTIe898vwv4X/ACB/C4WwtgBg/gA4PA9gBeFhLRTXTRomkmP0yJ6J+mPy0NA0OvibNDQmfzTNNMjaFKNATxMiemiaRoGkmE2mkwmTRTHNBMGiaCZTSZTZomh0PaV9fX2hoX14kzSmOaCY5pJr80U0aPTfNFMps0jSNJMmiaSaTKb6aTKYNLphMpg0eaJoGkJ8aBoppMppMJg00xzTTabNFNJpNJpNpnpg0DT6bTRoppoJMWrSh/690NQ5paV5D2le/LND2hoQxDF/rzR1/r/aWhfaWleQxfXmheaevNDS0tLQ0ryGoch/X15D+vLy+0oc0ry/19DUOXuvIc0oav9oXkNX1/r3X18QCGHQGQHB8PiAPAaHgPDsBgcH+Hqv//+DJ0GNuEW4MbQY2wZO4Rn///4R34R3Qjv//8Gbv//8GbgZuwZvCO4GbsD37+Ed3A586DJ4Rn8DnToRn8GTsGT8GToRn4HOngyf4HOnBGeDJ0IzgjOCM8DnTwjOgydwOdP4RnYMncDbtwY2A27cItgNs3CLeDGwMbwY3CLaEWwRbQi3A27eDG0GN4G2bBFvA2zcItgY3A27YGN4G2bAxtA58/gc6eDJwHOnAyfCM7A588//PkZLMYngTSAFAUhEYcDfggw9V8DnzwOdOBk8IzuEZ4MnAyfgychsy7F3oE13Nl9sy7myrsL6qqOU5anCqkHqNDI3KVUTEU8GNU7U6gxyHKchyVV/Xa2Zspfds3rubK2VsjZmztk9djZi/TZV2NnXYu0vsm0yaBoDZNEbA2k0aKZNjmwbH/Nvm2bRtGyBVArD1G0bQPUevg9h6/+PRzZNkCrzZNgesegesermyPQPXzbHpNvm0PQPUPSbJs82TaHqAtj082h6DaNn8eo2DbHrHpNjj1m1zYHqNo2jYNnmwbPNgek2ja5sj0D1m0bJs80xtJlMdMCeps0U0meaaa6b5p/mmmU3zRTfNFN/pgHPzQNPmkaaaTXTKbTRoJk0zS6b/NBNdNJlNGj02aH6Z4IgAEEYJ4I+CMEQJcEUEXBOpHDX/w1Q0Q1Q1cNWGvw0Q0/hp/AmIaA0cCYhow0w1/w0hoDRhpw1w1BrgTLDXw1BrhrDQGgNQEzAmOGuGiGgNfgTHDQGoCZw1w0BrDWBMIEzDVDTDUGgNfAFwGjBrg1A1YNcGsAXAaQaABcBqg1g1QagaINYaoEyw1Bow1YaA1hoDSBMw1gTICYQJkGrDQGoNGGmGsNcNQawJkGuBM4aIa//PkZKAYngTsATQNQkKMFgDifh7AYagJkGsCZ+GkNWGiGsNAaYaOGgCYgTENQaw0Yaw1Q1Q0/hqw1BkAfmkaCb6ZTCY6bNBNLwmqGA5fzSTCb/lgwXOmMmMmTQ5pmkmUwmkymfzRTaZFJ6aNM002NrppMpg0kwKQmE2m0yKUaKaE95o9MJj9N9NJk0UymOaSaE/TabNNNmmmk2mU2aHTKZTCaNDjaTJoGimkyNvpk0TRTHTf6bTRopg001+mU0aXNBMjYNA0k2mjR5pfps0U100mUz0ym02mDRTHTaaTRpplMc0kz0ySA000mDSTKbNI002mzQTHTaYTf//NA0zQTBodNJk0UyKSaaZNJMprmkaP5oGmKUmEymUyaCbTHNBMJlN80DRNBMmkm/00mUwaZpprplNpvmiaJo80+aSa//TaY/6ZaH//wY4ReEX4RIMfwiAxBh/BhCJ/+ESDDwYcIn+EQIoMAiQYAw8IsGIGGETBj4MP4MQiAxhEAwAxAxBjBiEUIgMIMcDCDAGIMcGMDEGGBgEUDTwNfAx4MAiwiQYgwBgEUIgMIRAiQYhFwYAwBhA1CKDEIoGoGgMQi4MeDADGEQIkIgGMDCDAIoMAiQiAYwYYMQNQigwCJBiDEGAR//PkZJwV+gzoZUAQRkZsCfQAe9tcQYgx8GEGIMQiwMAY4MANAMcIoMSyE1E1/LMTUtCz5OD5PkJJz5Pk+uA/FqWRaib8TUTUTQtC05alqWYm4momgI8TYsxNCzE3LUtQFEsgFM+z6J0fB8nz+TsNcnB9BK+Tk+g7CdhJT6LTiaFqWYI7lqWoCvy05ZlnxNy0/LUshNBNvwR4moCj+Wv5ZlkJqWpalkCOE1E1LQsiyLITUBULLlqWZZlmJsWhZcsi1/4CiWpalkJqJuWvLXlkJsJpyy4mwm5ZlmJuWXLUTQteWgmgmwCsJoWfE3LMsiyLP8TTlkJuAolqJryzE1LTibCbloJuWhZFoWYmxZ8TcXIvxeC0i+FrF0B2i4L8LSL4uBaIDyCHF8XRfF6FqgiwtIuYWoXIrYqAncVvxVip8VIqCvUxPqtFbFf/4q/8V/8V/iririr8VATjxXipxWgnYq+KwqfFTFQVoq+KsVBW8VhUisKuK0VRXivFYE4FTBOhVFcVRV4riuCdCuCdCtwTiCcCqCcgnYqxWFcVIJwKsVxWisK8VxVgnArYqRWFeK0V4qgnQrgnYrfBOoqAnAq4J0CciqKviuK3BOoJyKsE4FUVoqisK2KwrAnArgBAFSK4//PkZJ0VagjyJgGtbkOkFfwAbh4AqRViuK4J0KgrCrFUVxVjOEeDQgjlcT4T40xtjaNI0uaI2QciGNJIl4kJZtCGIaSckIm6GL3TQ2zRTY2UwmjSNE0fxS02aY2BsJs0/+mzSE8TQpHTKZTaaG0aQpApZp/mmm+aHTfTCZGwNgUk0E0aRp/ilJlNJgT5MmkJ9zQNA0TQTH6ZG2mk0mk0mk3zQTKY/G3zQTHTabTBpGgmU0aKaTJpJpNJtMphNjYTfNE0emkymE2mEyaCbNBNfmkaJpdNJnpg0k0mDTTCbTaZTBp80k2aCbTfNE00yaCb6bTZoplMmmaKZTKaTJpmiaHTXNJNdMDbTab6Y6Z6ZNNMJhMJhN9NJrmim02m0ymU300aPTSa6Y//5pJpNdN/9NppxWxU4Jx/xWxU/xU4qcV/ipiuKwqxWFbioK/8VIqivFTwTkVgTkVor4JxFXxX8VcVxUFQE4FaCcwTvBOIqwToVuKwqCtFUVYqxXxWFeK0E7FQVYrwTnwTsV4rCqCcfFaCcRVFQE5gnAr4JyK4r4Jz4J0Koqip4rCvisKoJ3xWBOME7iuKgriuKgrAnAqgnArxXiqCcgnYJzFQVQTmAEIVYrwToAIYrwTiKkVQTkE5//PkZK4XGgzsADQNAkIcCfwAe898FXFTFYVxXxUFQVkzzS5oilg5TTTY2kyaJpJtNGgJ8aKaTQ2k2aCaNI0eaSYNJM/tKHEiQxfJG09MmgaSYTRppg0TRNNMJlMptMCfppNprmiaA2jQNLmmaRppk0jRFLNP9NJhMGmaQpZpJhNCkGkmE0J+mxSk0m0x02mjRTKbTCZ42EwaQpJpptNprmgaRpmim00J4mzSNM0kymkyKWmE0muaKYGwNjmgafTPNE0U0mUwJ7+mem01+J8mhSk2mjRTSb6aTCbNBM9MpjpjppMpk0E2mE2mE2mjSTfTaZ6YNFMcT1MpnprptNmim0wmE100aSaTRo9MGjzTTHTaaTfTSaNLpoFMAAFYNBQGwAvwAYM4NgqqkjaAN3d3d3etERNK5CZ/3Ctf8AaiAc/u7vaIn/+8XPv//+GDKv8W1/+AC8K4Yw+94xe940jgceOBwOcRaxGwH4EuNIjBfxazB8HhkwVjIAII/vDkjG/wAcJPeF5e98hNgSYLWMFvhZ73pX06aoehpmh01hMJtM9K3TKY9E10x+memvlIpZM9MUTCbShbUrtM+n5ophNZuXK+0wmemumMCemkmvc0Uwm/lJJlLe5oJZI0SyW6R0mE//PkZLcXlgrzECFvrEmMEfgAfh7k2aORpbTYUo9SBNsekGYNVKgqg6hrUXK4Q42DOwPWbILEzBSumEgkWJPU8S72G5wUuGDwguEKa1Q0UykS3Bn7FJNgg5qoEgpsGabBtGabZt7NrKCNgLYes1idmabBtm2bZsBRm0PQbF9mwPSPUBbMwzB6QojYM42ePTzbMwzR6TaNs1eBVNv81yDUJ2QYhJtD0m0PVe+x6T2M8HsbFwsh6B6D7HpugT2uZhO6HqZhmE7ISZhhkFNcghtmybBnnsD1Ho49ZtG2bZs5PVBc2EEepCaEHNjj1EJHq5smabZtmwbNEEPR+bJse9z2PY2T1SN0rdNJq6yXI06COvNJj9MGmkkGmUj7pI0TToNGlEsNEnCW10ymi5FtNFKpvps0kz0uW3aaTF00mTSzdNJu0KFYz1KjaGAhyoQCFGM//zFARgIUZ/oZpdCttay6M5drW1joSj6Ekk1b7J7R7aoQNlPrWBKLTTzOsGT5yYxLrtHTy2iUxEkES0HIBVD066VjGj31odPkkSjJtbWs6OIjKmlXHR9K5MTv5pdZolE10kk2lly74TFx5KTXeTGLrS6ExiucvJSSDUdXZm3NLn1rtYBCUEoRj77WOhCPc+g5//PkZJ8XPgzoAABMTrz8BfQyY9ONGxJULutaa1TE5LHxWEo+XecmMa3p0kqBCR6qOFaFUGpNJIIjqVi0ylBqJIkiSJIkmJj605EkSRJPetWAyVacmodBUVhGfrAZPF0AUrgRLNiqDU4VHo8h6HRObJJNdqlRBMFT0qdNE0WZhmay2tCuOY6oieWieianCnVSbzjd7SGhrLi6eUSeLcZTWqdML5PM50uOGJms9VqtYU6hrgrm4V0frUzTvYsiegR2FOkqUxSKdVCpmRCSkIAUZ4VPhqEKgFDU2VhUiIhUaIg0RAkTBYEjYBUbBMuCJgLAkCUBUinABgBE3/9EQqFRM0s0qzktk9ZFqqFC6RULE11JVDkd8Y1vVFOx9oUIpZ8Vnq5klkxBTUUzLjEwMKqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq";var gc=t=>t instanceof Date,tP=t=>t==null;const nP=t=>typeof t=="object";var lT=t=>!tP(t)&&!Array.isArray(t)&&nP(t)&&!gc(t),cT=t=>tP(t)||!nP(t);function rP(t,e){if(cT(t)||cT(e))return t===e;if(gc(t)&&gc(e))return t.getTime()===e.getTime();const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(const i of n){const s=t[i];if(!r.includes(i))return!1;if(i!=="ref"){const o=e[i];if(gc(s)&&gc(o)||lT(s)&&lT(o)||Array.isArray(s)&&Array.isArray(o)?!rP(s,o):s!==o)return!1}}return!0}const jj={facingMode:"environment",width:{min:640,ideal:720,max:1920},height:{min:640,ideal:720,max:1080}},qj={finder:!0,torch:!0,tracker:void 0,onOff:!1,zoom:!1},Gj={width:"100%",height:"100%",position:"relative",display:"flex",alignItems:"center",justifyContent:"center",overflow:"hidden",aspectRatio:"1/1"},zj={width:"100%",height:"100%",objectFit:"cover",overflow:"hidden"};function dh(t){if(t===null)throw new Error("Canvas should always be defined when component is mounted.");const e=t.getContext("2d");if(e===null)throw new Error("Canvas 2D context should be non-null");e.clearRect(0,0,t.width,t.height)}function $j(t){var e;const{onScan:n,constraints:r,formats:i=["qr_code"],paused:s=!1,components:o,children:a,styles:l,classNames:u,allowMultiple:d,scanDelay:f,onError:h,sound:g}=t,E=b.useRef(null),_=b.useRef(null),I=b.useRef(null),T=b.useMemo(()=>({...jj,...r}),[r]),w=b.useMemo(()=>({...qj,...o}),[o]),[A,N]=b.useState(!1),[F,j]=b.useState(!0),[S,C]=b.useState(T),P=function(){const ie=b.useRef(Promise.resolve({type:"stop",data:{}})),le=b.useRef(null),pe=b.useRef(null),[z,X]=b.useState({}),[se,te]=b.useState({}),ce=b.useCallback(async(ve,Ie)=>{var Oe,Ye,st;if(!window.isSecureContext)throw new Error("camera access is only permitted in secure context. Use HTTPS or localhost rather than HTTP.");if(((Oe=navigator==null?void 0:navigator.mediaDevices)===null||Oe===void 0?void 0:Oe.getUserMedia)===void 0)throw new Error("this browser has no Stream API support");const Xe=await navigator.mediaDevices.getUserMedia({audio:!1,video:Ie});ve.srcObject!==void 0?ve.srcObject=Xe:ve.mozSrcObject!==void 0?ve.mozSrcObject=Xe:window.URL.createObjectURL?ve.src=window.URL.createObjectURL(Xe):window.webkitURL?ve.src=window.webkitURL.createObjectURL(Xe):ve.src=Xe.id,await Promise.race([ve.play(),new Promise(ge=>setTimeout(ge,3e3)).then(()=>{throw new Error("Loading camera stream timed out after 3 seconds.")})]),await new Promise(ge=>setTimeout(ge,500));const[he]=Xe.getVideoTracks();return te(he.getSettings()),X((st=(Ye=he==null?void 0:he.getCapabilities)===null||Ye===void 0?void 0:Ye.call(he))!==null&&st!==void 0?st:{}),le.current=Xe,pe.current=he,{type:"start",data:{videoEl:ve,stream:Xe,constraints:Ie}}},[]),de=b.useCallback(async(ve,Ie)=>{ve.src="",ve.srcObject=null,ve.load();for(const Oe of Ie.getTracks())Ie.removeTrack(Oe),Oe.stop();return le.current=null,pe.current=null,te({}),{type:"stop",data:{}}},[]),ke=b.useCallback(async(ve,{constraints:Ie,restart:Oe=!1})=>{if(ie.current=ie.current.then(Ye=>{if(Ye.type==="start"){const{data:{videoEl:st,stream:Xe,constraints:he}}=Ye;return Oe||ve!==st||Ie!==he?de(st,Xe).then(()=>ce(ve,Ie)):Ye}return ce(ve,Ie)}),(await ie.current).type==="stop")throw new Error("Something went wrong with the camera task queue (start task).")},[ce,de]),Le=b.useCallback(async()=>{if(ie.current=ie.current.then(ve=>{if(ve.type==="stop")return ve;const{data:{videoEl:Ie,stream:Oe}}=ve;return de(Ie,Oe)}),(await ie.current).type==="start")throw new Error("Something went wrong with the camera task queue (stop task).")},[de]),Ae=b.useCallback(async ve=>{const Ie=pe.current;if(!Ie)throw new Error("No active video track found.");{ve.advanced&&ve.advanced[0].zoom&&Ie.getCapabilities().torch&&await Ie.applyConstraints({advanced:[{torch:!1}]}),await Ie.applyConstraints(ve);const Oe=Ie.getCapabilities(),Ye=Ie.getSettings();X(Oe),te(Ye)}},[]);return b.useEffect(()=>()=>{(async()=>await Le())()},[Le]),{capabilities:z,settings:se,startCamera:ke,stopCamera:Le,updateConstraints:Ae}}(),{startScanning:D,stopScanning:V}=function(ie){const{videoElementRef:le,onScan:pe,onFound:z,retryDelay:X=100,scanDelay:se=0,formats:te=[],allowMultiple:ce=!1,sound:de=!0}=ie,ke=b.useRef(new nv({formats:te})),Le=b.useRef(null),Ae=b.useRef(null);b.useEffect(()=>{ke.current=new nv({formats:te})},[te]),b.useEffect(()=>{typeof window<"u"&&de&&(Le.current=new Audio(typeof de=="string"?de:Uj))},[de]);const ve=b.useCallback(Ie=>async Oe=>{if(le.current!==null&&le.current.readyState>1){const{lastScan:Ye,contentBefore:st,lastScanHadContent:Xe}=Ie;if(Oe-Ye<X)Ae.current=window.requestAnimationFrame(ve(Ie));else{const he=await ke.current.detect(le.current),ge=he.some($e=>!st.includes($e.rawValue)),Ct=he.length>0;let dt=Ie.lastOnScan;(ge||ce&&Ct&&Oe-dt>=se)&&(de&&Le.current&&Le.current.paused&&Le.current.play().catch($e=>console.error("Error playing the sound",$e)),dt=Oe,pe(he)),Ct&&z(he),!Ct&&Xe&&z(he);const Jt={lastScan:Oe,lastOnScan:dt,lastScanHadContent:Ct,contentBefore:ge?he.map($e=>$e.rawValue):st};Ae.current=window.requestAnimationFrame(ve(Jt))}}},[le.current,pe,z,X]);return{startScanning:b.useCallback(()=>{const Ie=performance.now(),Oe={lastScan:Ie,lastOnScan:Ie,contentBefore:[],lastScanHadContent:!1};Ae.current=window.requestAnimationFrame(ve(Oe))},[ve]),stopScanning:b.useCallback(()=>{Ae.current!==null&&(window.cancelAnimationFrame(Ae.current),Ae.current=null)},[])}}({videoElementRef:E,onScan:n,onFound:ie=>function(le,pe,z,X){const se=z;if(se==null)throw new Error("onFound handler should only be called when component is mounted. Thus tracking canvas is always defined.");const te=pe;if(te==null)throw new Error("onFound handler should only be called when component is mounted. Thus video element is always defined.");if(le.length===0||X===void 0)dh(se);else{const ce=te.offsetWidth,de=te.offsetHeight,ke=te.videoWidth,Le=te.videoHeight,Ae=Math.max(ce/ke,de/Le),ve=ke*Ae,Ie=Le*Ae,Oe=ve/ke,Ye=Ie/Le,st=(ce-ve)/2,Xe=(de-Ie)/2,he=({x:Jt,y:$e})=>({x:Math.floor(Jt*Oe),y:Math.floor($e*Ye)}),ge=({x:Jt,y:$e})=>({x:Math.floor(Jt+st),y:Math.floor($e+Xe)}),Ct=le.map(Jt=>{const{boundingBox:$e,cornerPoints:ot}=Jt,{x:Zt,y:ur}=ge(he({x:$e.x,y:$e.y})),{x:ti,y:Zn}=he({x:$e.width,y:$e.height});return{...Jt,cornerPoints:ot.map(ni=>ge(he(ni))),boundingBox:DOMRectReadOnly.fromRect({x:Zt,y:ur,width:ti,height:Zn})}});se.width=te.offsetWidth,se.height=te.offsetHeight;const dt=se.getContext("2d");if(dt===null)throw new Error("onFound handler should only be called when component is mounted. Thus tracking canvas 2D context is always defined.");X(Ct,dt)}}(ie,E.current,I.current,w.tracker),formats:i,retryDelay:w.tracker===void 0?500:10,scanDelay:f,allowMultiple:d,sound:g});b.useEffect(()=>(N(!0),()=>{N(!1)}),[]),b.useEffect(()=>{A&&(V(),D())},[o==null?void 0:o.tracker]),b.useEffect(()=>{if(!rP(T,S)){const ie=T;r!=null&&r.deviceId&&delete ie.facingMode,C(ie)}},[r]);const L=b.useMemo(()=>({constraints:S,shouldStream:A&&!s}),[S,A,s]),M=async()=>{const ie=E.current;if(ie==null)throw new Error("Video should be defined when component is mounted.");const le=_.current;if(le==null)throw new Error("Canvas should be defined when component is mounted.");const pe=le.getContext("2d");if(pe==null)throw new Error("Canvas should be defined when component is mounted.");if(L.shouldStream){await P.stopCamera(),j(!1);try{await P.startCamera(ie,L),ie?j(!0):await P.stopCamera()}catch(z){h==null||h(z),console.error("error",z)}}else le.width=ie.videoWidth,le.height=ie.videoHeight,pe.drawImage(ie,0,0,ie.videoWidth,ie.videoHeight),await P.stopCamera(),j(!1)};b.useEffect(()=>{(async()=>await M())()},[L]);const ne=b.useMemo(()=>L.shouldStream&&F,[L.shouldStream,F]);return b.useEffect(()=>{if(ne){if(_.current===void 0)throw new Error("shouldScan effect should only be triggered when component is mounted. Thus pause frame canvas is defined");if(dh(_.current),I.current===void 0)throw new Error("shouldScan effect should only be triggered when component is mounted. Thus tracking canvas is defined");if(dh(I.current),E.current==null)throw new Error("shouldScan effect should only be triggered when component is mounted. Thus video element is defined");D()}},[ne]),Y.createElement("div",{style:{...Gj,...l==null?void 0:l.container},className:u==null?void 0:u.container},Y.createElement("video",{ref:E,style:{...zj,...l==null?void 0:l.video,visibility:s?"hidden":"visible"},className:u==null?void 0:u.video,autoPlay:!0,muted:!0,playsInline:!0}),Y.createElement("canvas",{ref:_,style:{display:s?"block":"none",position:"absolute",width:"100%",height:"100%"}}),Y.createElement("canvas",{ref:I,style:{position:"absolute",width:"100%",height:"100%"}}),Y.createElement("div",{style:{position:"absolute",width:"100%",height:"100%"}},w.finder&&Y.createElement(Bj,{scanning:F,capabilities:P.capabilities,onOff:w.onOff,zoom:w.zoom&&P.settings.zoom?{value:P.settings.zoom,onChange:async ie=>{const le={...S,advanced:[{zoom:ie}]};await P.updateConstraints(le)}}:void 0,torch:w.torch?{status:(e=P.settings.torch)!==null&&e!==void 0&&e,toggle:async ie=>{const le={...S,advanced:[{torch:ie}]};await P.updateConstraints(le)}}:void 0,startScanning:async()=>await M(),stopScanning:async()=>{await P.stopCamera(),dh(I.current),j(!1)}}),a))}const Qj=()=>{const[t,e]=b.useState(""),[n,r]=b.useState(null),[i,s]=b.useState(null),[o,a]=b.useState(!1),l=async f=>{if(!o){e(JSON.stringify(f)),a(!0),r(null),s(null);try{if(!Array.isArray(f)||!f[0]||typeof f[0].rawValue!="string")throw new Error("Invalid QR scan result format");const h=f[0].rawValue;console.log("QR Code scanned rawValue:",h);const g=h.split(":");if(g.length<3||g[0]!=="LOYALTY")throw new Error("Invalid QR code format - must be LOYALTY:email:uid");const E=g[1],_=g[2];if(!_)throw new Error("No user ID found in QR code");const I=wa(yi,"users",_),T=await r_(e_(K1(yi,"users"),rh("email","==",E),rh("id","==",_)));if(T.empty)throw new Error("No user found for this QR code");const A=T.docs[0].data();console.log("Current user data:",{name:A.name,email:A.email,currentPurchases:A.purchases||0}),await BL(yi,async C=>{const P=await C.get(I);if(!P.exists())throw new Error("User not found");const L=(P.data().purchases||0)+1,M=L>=5;C.update(I,{purchases:L,isRewardReady:M,lastScanAt:new Date})}),s(E),r(!0);const F=(await r_(e_(K1(yi,"users"),rh("email","==",E),rh("id","==",_)))).docs[0].data(),j=(F==null?void 0:F.purchases)||0;let S=`Loyalty point added! Total purchases: ${j}`;if(j>=5)S+=" - Reward ready! ";else{const C=5-j;S+=` - ${C} more to earn reward`}cn({title:"Success",description:S})}catch(h){console.error("Error processing QR scan:",h);let g="Failed to process loyalty point";h instanceof Error&&(g=h.message),r(!1),cn({title:"Error",description:g,variant:"destructive"})}finally{a(!1)}}},u=f=>{console.error("Scanner error:",f),e("Error scanning QR code"),r(!1),cn({title:"Scanner Error",description:"Camera error - please check permissions",variant:"destructive"})},d=()=>{e(""),r(null),s(null),a(!1)};return k.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-black via-gray-900 to-red-950 relative overflow-hidden",children:[k.jsxs("div",{className:"absolute inset-0 opacity-10",children:[k.jsx("div",{className:"absolute top-20 right-10 w-40 h-40 bg-red-500 rounded-full blur-3xl animate-pulse"}),k.jsx("div",{className:"absolute bottom-32 left-10 w-32 h-32 bg-red-600 rounded-full blur-3xl animate-pulse delay-1000"})]}),k.jsxs("div",{className:"relative z-10 min-h-screen flex flex-col",children:[k.jsxs("div",{className:"p-6 flex items-center",children:[k.jsx(Oi,{to:"/",className:"text-red-400 hover:text-red-300 transition-colors",children:k.jsx(fp,{className:"w-6 h-6"})}),k.jsx("h1",{className:"ml-4 text-2xl font-bold text-white",children:"Scan Loyalty QR"})]}),k.jsx("div",{className:"flex-1 flex flex-col items-center justify-center px-6",children:k.jsxs("div",{className:"w-full max-w-md bg-gray-900/80 backdrop-blur-sm border border-red-900/30 rounded-2xl p-8 shadow-2xl flex flex-col items-center",children:[k.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Scan a User's QR Code"}),k.jsxs("div",{className:"relative w-full flex flex-col items-center",children:[k.jsx("div",{style:{width:300,height:300,margin:"20px auto"},children:k.jsx($j,{onScan:l,onError:u})}),o&&k.jsx("div",{className:"absolute top-2 left-2 bg-blue-500 text-white text-xs px-2 py-1 rounded-full",children:"Processing..."})]}),t&&k.jsx("div",{className:"mt-4 p-3 bg-gray-800/50 border border-gray-700 rounded-lg text-white",children:k.jsxs("div",{className:"text-center",children:[k.jsx("div",{className:"text-sm text-gray-300 mb-2",children:"Scanned:"}),k.jsx("div",{className:"text-xs font-mono text-gray-400 break-all",children:t})]})}),n===!0&&k.jsx("div",{className:"mt-4 p-3 bg-green-900/50 border border-green-700 rounded-lg text-green-400 font-semibold",children:k.jsxs("div",{className:"text-center",children:[k.jsx("div",{className:"text-lg mb-1",children:" QR Code Verified & Updated!"}),k.jsx("div",{className:"text-sm text-green-300",children:"Loyalty point added for user"}),i&&k.jsx("div",{className:"text-xs text-green-400 mt-1 font-mono",children:i})]})}),n===!1&&k.jsx("div",{className:"mt-4 p-3 bg-red-900/50 border border-red-700 rounded-lg text-red-400 font-semibold",children:k.jsxs("div",{className:"text-center",children:[k.jsx("div",{className:"text-lg mb-1",children:" QR Code Not Recognized"}),k.jsx("div",{className:"text-sm text-red-300",children:"No user found for this QR code"})]})}),k.jsx("div",{className:"mt-6 flex gap-3",children:k.jsx(Ai,{onClick:d,disabled:!t&&!n,variant:"outline",className:"border-red-500 text-red-400 hover:bg-red-500/20",children:"Reset Scanner"})})]})})]})]})},Yj=new k6,Wj=()=>k.jsx(D6,{client:Yj,children:k.jsx(l6,{children:k.jsxs(NU,{children:[k.jsx(o5,{}),k.jsx(O5,{}),k.jsx(xU,{basename:"/vaporwave-loyalty-club",children:k.jsxs(_U,{children:[k.jsx(es,{path:"/",element:k.jsx(MU,{})}),k.jsx(es,{path:"/register",element:k.jsx(LU,{})}),k.jsx(es,{path:"/login",element:k.jsx(FU,{})}),k.jsx(es,{path:"/dashboard",element:k.jsx(V8,{})}),k.jsx(es,{path:"/rewards",element:k.jsx(L8,{})}),k.jsx(es,{path:"/scan",element:k.jsx(Qj,{})}),k.jsx(es,{path:"*",element:k.jsx(F8,{})})]})})]})})});NA(document.getElementById("root")).render(k.jsx(Wj,{}));
